(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[8803],{17052:function(J){J.exports={main:"main___2kx2N",password:"password___2JDrd",getCaptcha:"getCaptcha___1oboe",submit:"submit___34wM2",login:"login___1qBuj",success:"success___3hl98",warning:"warning___2i2r2",error:"error___3JfQo","progress-pass":"progress-pass___BM1Xu",progress:"progress___2s68u"}},90434:function(J,$,s){"use strict";s.r($),s.d($,{default:function(){return w}});var Z=s(13062),V=s(71230),d=s(57663),A=s(71577),N=s(89032),R=s(15746),Q=s(20136),_=s(55241),ie=s(34669),T=s(54458),Y=s(34792),L=s(48086),f=s(2824),ee=s(47673),g=s(4107),b=s(43358),k=s(34041),oe=s(9715),B=s(22712),m=s(67294),M=s(64805),re=s(73727),se=s(3182),r=s(94043),t=s.n(r);function i(F){return o.apply(this,arguments)}function o(){return o=(0,se.Z)(t().mark(function F(C){return t().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",(0,M.WY)("/api/register",{method:"POST",data:C}));case 1:case"end":return p.stop()}},F)})),o.apply(this,arguments)}var u=s(17052),n=s.n(u),e=s(85893),l=B.Z.Item,h=k.Z.Option,c=g.Z.Group,y={ok:(0,e.jsx)("div",{className:n().success,children:(0,e.jsx)("span",{children:"\u5F3A\u5EA6\uFF1A\u5F3A"})}),pass:(0,e.jsx)("div",{className:n().warning,children:(0,e.jsx)("span",{children:"\u5F3A\u5EA6\uFF1A\u4E2D"})}),poor:(0,e.jsx)("div",{className:n().error,children:(0,e.jsx)("span",{children:"\u5F3A\u5EA6\uFF1A\u592A\u77ED"})})},O={ok:"success",pass:"normal",poor:"exception"},j=function(){var C=(0,m.useState)(0),I=(0,f.Z)(C,2),p=I[0],E=I[1],G=(0,m.useState)(!1),K=(0,f.Z)(G,2),S=K[0],z=K[1],U=(0,m.useState)("86"),H=(0,f.Z)(U,2),q=H[0],W=H[1],ue=(0,m.useState)(!1),te=(0,f.Z)(ue,2),le=te[0],ce=te[1],ve=!1,X,de=B.Z.useForm(),fe=(0,f.Z)(de,1),P=fe[0];(0,m.useEffect)(function(){return function(){clearInterval(X)}},[X]);var he=function(){var a=59;E(a),X=window.setInterval(function(){a-=1,E(a),a===0&&clearInterval(X)},1e3)},ae=function(){var a=P.getFieldValue("password");return a&&a.length>9?"ok":a&&a.length>5?"pass":"poor"},ne=(0,M.QT)(i,{manual:!0,onSuccess:function(a,v){a.status==="ok"&&(L.default.success("\u6CE8\u518C\u6210\u529F\uFF01"),M.m8.push({pathname:"/user/register-result",state:{account:v.email}}))}}),pe=ne.loading,me=ne.run,ge=function(a){me(a)},ye=function(a,v){var D=Promise;return v&&v!==P.getFieldValue("password")?D.reject("\u4E24\u6B21\u8F93\u5165\u7684\u5BC6\u7801\u4E0D\u5339\u914D!"):D.resolve()},Ce=function(a,v){var D=Promise;return v?(S||z(!!v),ce(!le),v.length<6?D.reject(""):(v&&ve&&P.validateFields(["confirm"]),D.resolve())):(z(!!v),D.reject("\u8BF7\u8F93\u5165\u5BC6\u7801!"))},xe=function(a){W(a)},je=function(){var a=P.getFieldValue("password"),v=ae();return a&&a.length?(0,e.jsx)("div",{className:n()["progress-".concat(v)],children:(0,e.jsx)(T.Z,{status:O[v],className:n().progress,strokeWidth:6,percent:a.length*10>100?100:a.length*10,showInfo:!1})}):null};return(0,e.jsxs)("div",{className:n().main,children:[(0,e.jsx)("h3",{children:"\u6CE8\u518C"}),(0,e.jsxs)(B.Z,{form:P,name:"UserRegister",onFinish:ge,children:[(0,e.jsx)(l,{name:"mail",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u90AE\u7BB1\u5730\u5740!"},{type:"email",message:"\u90AE\u7BB1\u5730\u5740\u683C\u5F0F\u9519\u8BEF!"}],children:(0,e.jsx)(g.Z,{size:"large",placeholder:"\u90AE\u7BB1"})}),(0,e.jsx)(_.Z,{getPopupContainer:function(a){return a&&a.parentNode?a.parentNode:a},content:S&&(0,e.jsxs)("div",{style:{padding:"4px 0"},children:[y[ae()],je(),(0,e.jsx)("div",{style:{marginTop:10},children:(0,e.jsx)("span",{children:"\u8BF7\u81F3\u5C11\u8F93\u5165 6 \u4E2A\u5B57\u7B26\u3002\u8BF7\u4E0D\u8981\u4F7F\u7528\u5BB9\u6613\u88AB\u731C\u5230\u7684\u5BC6\u7801\u3002"})})]}),overlayStyle:{width:240},placement:"right",visible:S,children:(0,e.jsx)(l,{name:"password",className:P.getFieldValue("password")&&P.getFieldValue("password").length>0&&n().password,rules:[{validator:Ce}],children:(0,e.jsx)(g.Z,{size:"large",type:"password",placeholder:"\u81F3\u5C116\u4F4D\u5BC6\u7801\uFF0C\u533A\u5206\u5927\u5C0F\u5199"})})}),(0,e.jsx)(l,{name:"confirm",rules:[{required:!0,message:"\u786E\u8BA4\u5BC6\u7801"},{validator:ye}],children:(0,e.jsx)(g.Z,{size:"large",type:"password",placeholder:"\u786E\u8BA4\u5BC6\u7801"})}),(0,e.jsxs)(c,{compact:!0,children:[(0,e.jsxs)(k.Z,{size:"large",value:q,onChange:xe,style:{width:"20%"},children:[(0,e.jsx)(h,{value:"86",children:"+86"}),(0,e.jsx)(h,{value:"87",children:"+87"})]}),(0,e.jsx)(l,{style:{width:"80%"},name:"mobile",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7!"},{pattern:/^\d{11}$/,message:"\u624B\u673A\u53F7\u683C\u5F0F\u9519\u8BEF!"}],children:(0,e.jsx)(g.Z,{size:"large",placeholder:"\u624B\u673A\u53F7"})})]}),(0,e.jsxs)(V.Z,{gutter:8,children:[(0,e.jsx)(R.Z,{span:16,children:(0,e.jsx)(l,{name:"captcha",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801!"}],children:(0,e.jsx)(g.Z,{size:"large",placeholder:"\u9A8C\u8BC1\u7801"})})}),(0,e.jsx)(R.Z,{span:8,children:(0,e.jsx)(A.Z,{size:"large",disabled:!!p,className:n().getCaptcha,onClick:he,children:p?"".concat(p," s"):"\u83B7\u53D6\u9A8C\u8BC1\u7801"})})]}),(0,e.jsxs)(l,{children:[(0,e.jsx)(A.Z,{size:"large",loading:pe,className:n().submit,type:"primary",htmlType:"submit",children:(0,e.jsx)("span",{children:"\u6CE8\u518C"})}),(0,e.jsx)(re.rU,{className:n().login,to:"/user/login",children:(0,e.jsx)("span",{children:"\u4F7F\u7528\u5DF2\u6709\u8D26\u6237\u767B\u5F55"})})]})]})]})},w=j},73727:function(J,$,s){"use strict";s.d($,{rU:function(){return b}});var Z=s(19630),V=s(41788),d=s(67294),A=s(97175),N=s(22122),R=s(19756),Q=s(2177),_=function(r){(0,V.Z)(t,r);function t(){for(var o,u=arguments.length,n=new Array(u),e=0;e<u;e++)n[e]=arguments[e];return o=r.call.apply(r,[this].concat(n))||this,o.history=(0,A.lX)(o.props),o}var i=t.prototype;return i.render=function(){return d.createElement(Z.F0,{history:this.history,children:this.props.children})},t}(d.Component),ie=function(r){(0,V.Z)(t,r);function t(){for(var o,u=arguments.length,n=new Array(u),e=0;e<u;e++)n[e]=arguments[e];return o=r.call.apply(r,[this].concat(n))||this,o.history=(0,A.q_)(o.props),o}var i=t.prototype;return i.render=function(){return d.createElement(Z.F0,{history:this.history,children:this.props.children})},t}(d.Component),T=function(t,i){return typeof t=="function"?t(i):t},Y=function(t,i){return typeof t=="string"?(0,A.ob)(t,null,null,i):t},L=function(t){return t},f=d.forwardRef;typeof f=="undefined"&&(f=L);function ee(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}var g=f(function(r,t){var i=r.innerRef,o=r.navigate,u=r.onClick,n=(0,R.Z)(r,["innerRef","navigate","onClick"]),e=n.target,l=(0,N.Z)({},n,{onClick:function(c){try{u&&u(c)}catch(y){throw c.preventDefault(),y}!c.defaultPrevented&&c.button===0&&(!e||e==="_self")&&!ee(c)&&(c.preventDefault(),o())}});return L!==f?l.ref=t||i:l.ref=i,d.createElement("a",l)}),b=f(function(r,t){var i=r.component,o=i===void 0?g:i,u=r.replace,n=r.to,e=r.innerRef,l=(0,R.Z)(r,["component","replace","to","innerRef"]);return d.createElement(Z.s6.Consumer,null,function(h){h||(0,Q.Z)(!1);var c=h.history,y=Y(T(n,h.location),h.location),O=y?c.createHref(y):"",j=(0,N.Z)({},l,{href:O,navigate:function(){var F=T(n,h.location),C=u?c.replace:c.push;C(F)}});return L!==f?j.ref=t||e:j.innerRef=e,d.createElement(o,j)})});if(!1)var k,oe;var B=function(t){return t},m=d.forwardRef;typeof m=="undefined"&&(m=B);function M(){for(var r=arguments.length,t=new Array(r),i=0;i<r;i++)t[i]=arguments[i];return t.filter(function(o){return o}).join(" ")}var re=m(function(r,t){var i=r["aria-current"],o=i===void 0?"page":i,u=r.activeClassName,n=u===void 0?"active":u,e=r.activeStyle,l=r.className,h=r.exact,c=r.isActive,y=r.location,O=r.sensitive,j=r.strict,w=r.style,F=r.to,C=r.innerRef,I=(0,R.Z)(r,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return d.createElement(Z.s6.Consumer,null,function(p){p||(0,Q.Z)(!1);var E=y||p.location,G=Y(T(F,E),E),K=G.pathname,S=K&&K.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),z=S?(0,Z.LX)(E.pathname,{path:S,exact:h,sensitive:O,strict:j}):null,U=!!(c?c(z,E):z),H=U?M(l,n):l,q=U?(0,N.Z)({},w,{},e):w,W=(0,N.Z)({"aria-current":U&&o||null,className:H,style:q,to:G},I);return B!==m?W.ref=t||C:W.innerRef=C,d.createElement(b,W)})});if(!1)var se}}]);
