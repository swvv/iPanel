(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[7420],{72178:function(mt,C,d){"use strict";d.d(C,{sg:function(){return z0},yi:function(){return W0},aC:function(){return K0},x1:function(){return nm},Kj:function(){return am},Ex:function(){return cm},Fk:function(){return dm},TZ:function(){return mm},m:function(){return Pm},cQ:function(){return Lm},kB:function(){return Bm}});var S={};d.r(S),d.d(S,{Base:function(){return Oa},Circle:function(){return uw},Ellipse:function(){return hw},Image:function(){return vw},Line:function(){return pw},Marker:function(){return mw},Path:function(){return Tf},Polygon:function(){return _w},Polyline:function(){return Ow},Rect:function(){return Dw},Text:function(){return Rw}});var O={};d.r(O),d.d(O,{Canvas:function(){return wv},Event:function(){return fr.Event},Group:function(){return Mf},Shape:function(){return S},__esModule:function(){return Nw.X},version:function(){return Vw}});var D={};d.r(D),d.d(D,{Base:function(){return Ma},Circle:function(){return Kw},Dom:function(){return Qw},Ellipse:function(){return qw},Image:function(){return eS},Line:function(){return nS},Marker:function(){return aS},Path:function(){return sS},Polygon:function(){return uS},Polyline:function(){return hS},Rect:function(){return gS},Text:function(){return SS}});var k={};d.r(k),d.d(k,{Canvas:function(){return Lv},Event:function(){return fr.Event},Group:function(){return _f},Shape:function(){return D},version:function(){return HS}});var I={};d.r(I),d.d(I,{Chart:function(){return hl},ComponentController:function(){return ro},DIRECTION:function(){return Ct},Event:function(){return Pr},Facet:function(){return Lr},Geometry:function(){return ao},GeometryLabel:function(){return yl},Interaction:function(){return fa},InteractionAction:function(){return tn},LAYER:function(){return xt},Types:function(){return Gb},Util:function(){return yd},VERSION:function(){return zb},View:function(){return $o},getActionClass:function(){return _i},getAnimation:function(){return df},getEngine:function(){return ut},getFacet:function(){return jr},getGeometryLabel:function(){return Wc},getGeometryLabelLayout:function(){return jc},getInteraction:function(){return wa},getShapeFactory:function(){return gf},getTheme:function(){return R},registerAction:function(){return Tr},registerAnimation:function(){return ui},registerComponentController:function(){return sr},registerEngine:function(){return at},registerFacet:function(){return Hr},registerGeometry:function(){return ya},registerGeometryLabel:function(){return Es},registerGeometryLabelLayout:function(){return Io},registerInteraction:function(){return an},registerShape:function(){return vn},registerShapeFactory:function(){return yo},registerTheme:function(){return W}});var _={};d.r(_),d.d(_,{EVENT_MAP:function(){return on},onEvent:function(){return ii}});var P={};d.r(P),d.d(P,{EVENT_MAP:function(){return on},onEvent:function(){return ii}});var T={};d.r(T),d.d(T,{EVENT_MAP:function(){return on},onEvent:function(){return ii}});var p={};d.r(p),d.d(p,{EVENT_MAP:function(){return on},onEvent:function(){return ii}});var w={};d.r(w),d.d(w,{EVENT_MAP:function(){return on},onEvent:function(){return ii}});var m={};d.r(m),d.d(m,{EVENT_MAP:function(){return on},onEvent:function(){return ii}});var b={};d.r(b),d.d(b,{EVENT_MAP:function(){return on},onEvent:function(){return ii}});var y={};d.r(y),d.d(y,{EVENT_MAP:function(){return on},onEvent:function(){return ii}});var A={};d.r(A),d.d(A,{EVENT_MAP:function(){return on},onEvent:function(){return ii}});var B={};d.r(B),d.d(B,{EVENT_MAP:function(){return on},onEvent:function(){return ii}});var N={};d.r(N),d.d(N,{EVENT_MAP:function(){return on},onEvent:function(){return ii}});var G={};d.r(G),d.d(G,{EVENT_MAP:function(){return on},onEvent:function(){return ii}});var j={};d.r(j),d.d(j,{EVENT_MAP:function(){return on},onEvent:function(){return ii}});var J={};d.r(J),d.d(J,{EVENT_MAP:function(){return on},onEvent:function(){return ii}});var H={};d.r(H),d.d(H,{EVENT_MAP:function(){return on},onEvent:function(){return ii}});var K={};d.r(K),d.d(K,{EVENT_MAP:function(){return on},onEvent:function(){return ii}});var st={};d.r(st),d.d(st,{EVENT_MAP:function(){return on},onEvent:function(){return ii}});var nt={};d.r(nt),d.d(nt,{EVENT_MAP:function(){return on},onEvent:function(){return ii}});var wt={};d.r(wt),d.d(wt,{EVENT_MAP:function(){return on},onEvent:function(){return ii}});var gt={};d.r(gt),d.d(gt,{EVENT_MAP:function(){return on},onEvent:function(){return ii}});var At={};d.r(At),d.d(At,{EVENT_MAP:function(){return on},onEvent:function(){return ii}});var X={};d.r(X),d.d(X,{calculationItemsBBox:function(){return Rm},cloneEvent:function(){return pu},formatPadding:function(){return $h},isNaN:function(){return co},isViewportChanged:function(){return Fm},processParallelEdges:function(){return PR}});var Z={};d.r(Z),d.d(Z,{getColorsWithSubjectColor:function(){return Wm},mixColor:function(){return Ha}});var tt={};d.r(tt),d.d(tt,{Line:function(){return Vo},applyMatrix:function(){return Hs},distance:function(){return Ws},floydWarshall:function(){return ec},fractionToLine:function(){return ac},getAdjMatrix:function(){return rc},getBBoxBoundLine:function(){return ic},getCircleCenterByPoints:function(){return tc},getCircleIntersectByPoint:function(){return ax},getDegree:function(){return bu},getEllipseIntersectByPoint:function(){return ox},getLineIntersect:function(){return Vs},getPointsCenter:function(){return vx},getRectIntersectByPoint:function(){return ix},intersectBBox:function(){return hx},invertMatrix:function(){return sx},isPointInPolygon:function(){return js},isPointsOverlap:function(){return oc},isPolygonsIntersect:function(){return nc},itemIntersectByLine:function(){return cx},move:function(){return fx},pointLineSquareDist:function(){return dx},pointRectSquareDist:function(){return px},rotate:function(){return l3},scale:function(){return s3},scaleMatrix:function(){return lx},squareDist:function(){return wu},translate:function(){return ux}});var Q={};d.r(Q),d.d(Q,{getClosedSpline:function(){return sc},getControlPoint:function(){return Su},getSpline:function(){return gx},paddedHull:function(){return Sx},pathToPoints:function(){return Cu},pointsToPolygon:function(){return yx},roundedHull:function(){return wx}});var vt={};d.r(vt),d.d(vt,{getBBox:function(){return Eu},getChartRegion:function(){return k3},getComboBBox:function(){return cc},getLabelPosition:function(){return Au},getLetterWidth:function(){return Dx},getLoopCfgs:function(){return Ix},getTextSize:function(){return Fx},plainCombosToTrees:function(){return fc},radialLayout:function(){return Bx},reconstructTree:function(){return hc},traverseTree:function(){return Zi},traverseTreeUp:function(){return Aa}});var lt={};d.r(lt),d.d(lt,{adjMatrix:function(){return Wu},breadthFirstSearch:function(){return E9},degree:function(){return w1},depthFirstSearch:function(){return eb},detectAllCycles:function(){return P9},detectAllDirectedCycle:function(){return ab},detectAllUndirectedCycle:function(){return ib},detectDirectedCycle:function(){return _9},findAllPath:function(){return B9},findShortestPath:function(){return k9},floydWarshall:function(){return E1},getConnectedComponents:function(){return nb},getPageRank:function(){return V9},minimumSpanningTree:function(){return z9}});var rt=d(67294),U=d(67984),$=d(80123),f=d(49242),xt;(function(i){i.FORE="fore",i.MID="mid",i.BG="bg"})(xt||(xt={}));var Ct;(function(i){i.TOP="top",i.TOP_LEFT="top-left",i.TOP_RIGHT="top-right",i.RIGHT="right",i.RIGHT_TOP="right-top",i.RIGHT_BOTTOM="right-bottom",i.LEFT="left",i.LEFT_TOP="left-top",i.LEFT_BOTTOM="left-bottom",i.BOTTOM="bottom",i.BOTTOM_LEFT="bottom-left",i.BOTTOM_RIGHT="bottom-right",i.RADIUS="radius",i.CIRCLE="circle",i.NONE="none"})(Ct||(Ct={}));var Bt;(function(i){i.AXIS="axis",i.GRID="grid",i.LEGEND="legend",i.TOOLTIP="tooltip",i.ANNOTATION="annotation",i.OTHER="other"})(Bt||(Bt={}));var qt={FORE:3,MID:2,BG:1},Gt;(function(i){i.BEFORE_RENDER="beforerender",i.AFTER_RENDER="afterrender",i.BEFORE_PAINT="beforepaint",i.AFTER_PAINT="afterpaint",i.BEFORE_CHANGE_DATA="beforechangedata",i.AFTER_CHANGE_DATA="afterchangedata",i.BEFORE_CLEAR="beforeclear",i.AFTER_CLEAR="afterclear",i.BEFORE_DESTROY="beforedestroy"})(Gt||(Gt={}));var Jt;(function(i){i.MOUSE_ENTER="plot:mouseenter",i.MOUSE_DOWN="plot:mousedown",i.MOUSE_MOVE="plot:mousemove",i.MOUSE_UP="plot:mouseup",i.MOUSE_LEAVE="plot:mouseleave",i.TOUCH_START="plot:touchstart",i.TOUCH_MOVE="plot:touchmove",i.TOUCH_END="plot:touchend",i.TOUCH_CANCEL="plot:touchcancel",i.CLICK="plot:click",i.DBLCLICK="plot:dblclick",i.CONTEXTMENU="plot:contextmenu",i.LEAVE="plot:leave",i.ENTER="plot:enter"})(Jt||(Jt={}));var ie;(function(i){i.ACTIVE="active",i.INACTIVE="inactive",i.SELECTED="selected",i.DEFAULT="default"})(ie||(ie={}));var se=["color","shape","size"],Kt="_origin",kt=1,Mt=1,pt=.25,Pt={};function ut(i){var r=Pt[i];if(!r)throw new Error("G engine '"+i+"' is not exist, please register it at first.");return r}function at(i,r){Pt[i]=r}var St=d(6056),Ot=d(45442);function Ut(i){var r=getComputedStyle(i);return{width:(i.clientWidth||parseInt(r.width,10))-parseInt(r.paddingLeft,10)-parseInt(r.paddingRight,10),height:(i.clientHeight||parseInt(r.height,10))-parseInt(r.paddingTop,10)-parseInt(r.paddingBottom,10)}}function oe(i){return typeof i=="number"&&!isNaN(i)}function we(i,r,t,e){var n=t,a=e;if(r){var o=Ut(i);n=o.width?o.width:n,a=o.height?o.height:a}return{width:Math.max(oe(n)?n:kt,kt),height:Math.max(oe(a)?a:Mt,Mt)}}function Ie(i){var r=i.parentNode;r&&r.removeChild(i)}var Be=d(90494),ur=function(i){(0,$.__extends)(r,i);function r(t){var e=i.call(this)||this;e.destroyed=!1;var n=t.visible,a=n===void 0?!0:n;return e.visible=a,e}return r.prototype.show=function(){var t=this.visible;t||this.changeVisible(!0)},r.prototype.hide=function(){var t=this.visible;t&&this.changeVisible(!1)},r.prototype.destroy=function(){this.off(),this.destroyed=!0},r.prototype.changeVisible=function(t){this.visible!==t&&(this.visible=t)},r}(Be.default),vr=ur,fr=d(65722),Ar=d(68060),or=d(25228),Gr=d(58368),ln=d(13541),Nr=d(72469),nn=d(51441),fi=nn.Axis.Line,hi=nn.Axis.Circle,Si=nn.Grid.Line,Ci=nn.Grid.Circle,Vt=nn.Legend.Category,$t=nn.Legend.Continuous,ae=nn.Tooltip.Html,he=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function me(i){var r="linear";return he.test(i)?r="time":(0,f.isString)(i)&&(r="cat"),r}function Se(i,r,t){var e=r||[];if((0,f.isNumber)(i)||(0,f.isNil)((0,f.firstValue)(e,i))&&(0,f.isEmpty)(t)){var n=(0,Nr.getScale)("identity");return new n({field:i.toString(),values:[i]})}var a=(0,f.valuesOfKey)(e,i),o=(0,f.get)(t,"type",me(a[0])),s=(0,Nr.getScale)(o);return new s((0,$.__assign)({field:i,values:a},t))}function Ce(i,r){if(i.type!=="identity"&&r.type!=="identity"){var t={};for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e]);i.change(t)}}function Pe(i){return i.alias||i.field}var pe=d(31437);function Ve(i){var r,t;switch(i){case Ct.TOP:r={x:0,y:1},t={x:1,y:1};break;case Ct.RIGHT:r={x:1,y:0},t={x:1,y:1};break;case Ct.BOTTOM:r={x:0,y:0},t={x:1,y:0};break;case Ct.LEFT:r={x:0,y:0},t={x:0,y:1};break;default:r=t={x:0,y:0}}return{start:r,end:t}}function Ne(i){var r,t;return i.isTransposed?(r={x:0,y:0},t={x:1,y:0}):(r={x:0,y:0},t={x:0,y:1}),{start:r,end:t}}function er(i,r){var t={start:{x:0,y:0},end:{x:0,y:0}};i.isRect?t=Ve(r):i.isPolar&&(t=Ne(i));var e=t.start,n=t.end;return{start:i.convert(e),end:i.convert(n)}}function hr(i,r){if(i.isRect)return i.isTransposed?[DIRECTION.RIGHT,DIRECTION.BOTTOM].includes(r)?1:-1:[DIRECTION.BOTTOM,DIRECTION.RIGHT].includes(r)?-1:1;if(i.isPolar){var t=i.x.start;return t<0?-1:1}return 1}function rr(i){var r=i.start,t=i.end;return r.x===t.x}function ar(i,r){var t=i.start,e=i.end,n=rr(i);return n?(t.y-e.y)*(r.x-t.x)>0?1:-1:(e.x-t.x)*(t.y-r.y)>0?-1:1}function lr(i,r){return(0,f.get)(i,["components","axis",r],{})}function yr(i){var r=i.x,t=i.y,e=i.circleCenter,n=t.start>t.end,a=i.isTransposed?i.convert({x:n?0:1,y:0}):i.convert({x:0,y:n?0:1}),o=[a.x-e.x,a.y-e.y],s=[1,0],l=a.y>e.y?pe.angle(o,s):pe.angle(o,s)*-1,u=l+(r.end-r.start),h=Math.sqrt(Math.pow(a.x-e.x,2)+Math.pow(a.y-e.y,2));return{center:e,radius:h,startAngle:l,endAngle:u}}function Ke(i,r){return(0,f.isBoolean)(i)?i===!1?!1:{}:(0,f.get)(i,[r])}function Er(i,r){return(0,f.get)(i,"position",r)}function Ir(i,r){return(0,f.get)(r,["title","text"],Pe(i))}var Lr=function(){function i(r,t){this.destroyed=!1,this.facets=[],this.view=r,this.cfg=(0,f.deepMix)({},this.getDefaultCfg(),t)}return i.prototype.init=function(){this.container||(this.container=this.createContainer());var r=this.view.getData();this.facets=this.generateFacets(r)},i.prototype.render=function(){this.renderViews()},i.prototype.update=function(){},i.prototype.clear=function(){this.clearFacetViews()},i.prototype.destroy=function(){this.clear(),this.container&&(this.container.remove(!0),this.container=void 0),this.destroyed=!0,this.view=void 0,this.facets=[]},i.prototype.facetToView=function(r){var t=r.region,e=r.data,n=r.padding,a=n===void 0?this.cfg.padding:n,o=this.view.createView({region:t,padding:a});o.data(e||[]),r.view=o,this.beforeEachView(o,r);var s=this.cfg.eachView;return s&&s(o,r),this.afterEachView(o,r),o},i.prototype.createContainer=function(){var r=this.view.getLayer(xt.FORE);return r.addGroup()},i.prototype.renderViews=function(){this.createFacetViews()},i.prototype.createFacetViews=function(){var r=this;return this.facets.map(function(t){return r.facetToView(t)})},i.prototype.clearFacetViews=function(){var r=this;(0,f.each)(this.facets,function(t){t.view&&(r.view.removeView(t.view),t.view=void 0)})},i.prototype.getFieldValues=function(r,t){var e=[],n={};return(0,f.each)(r,function(a){var o=a[t];!(0,f.isNil)(o)&&!n[o]&&(e.push(o),n[o]=!0)}),e},i.prototype.getRegion=function(r,t,e,n){var a=1/(t===0?1:t),o=1/(r===0?1:r),s={x:a*e,y:o*n},l={x:a*(e+1),y:o*(n+1)};return{start:s,end:l}},i.prototype.getDefaultCfg=function(){return{eachView:void 0,showTitle:!0,padding:10,fields:[]}},i.prototype.getDefaultTitleCfg=function(){var r=this.view.getTheme().fontFamily;return{style:{fontSize:14,fill:"#666",fontFamily:r}}},i.prototype.processAxis=function(r,t){var e=r.getOptions(),n=e.coordinate,a=r.geometries,o=(0,f.get)(n,"type","rect");if(o==="rect"&&a.length){(0,f.isNil)(e.axes)&&(e.axes={});var s=e.axes,l=a[0].getXYFields(),u=l[0],h=l[1],c=Ke(s,u),v=Ke(s,h);c!==!1&&(e.axes[u]=this.getXAxisOption(u,s,c,t)),v!==!1&&(e.axes[h]=this.getYAxisOption(h,s,v,t))}},i.prototype.getFacetDataFilter=function(r){return function(t){return(0,f.every)(r,function(e){var n=e.field,a=e.value;return!(0,f.isNil)(a)&&n?t[n]===a:!0})}},i}(),Br={},jr=function(i){return Br[(0,f.lowerCase)(i)]},Hr=function(i,r){Br[(0,f.lowerCase)(i)]=r},kn=function(){function i(r,t){this.context=r,this.cfg=t,r.addAction(this)}return i.prototype.applyCfg=function(r){(0,f.assign)(this,r)},i.prototype.init=function(){this.applyCfg(this.cfg)},i.prototype.destroy=function(){this.context.removeAction(this),this.context=null},i}(),tn=kn,Yn=function(i){(0,$.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.execute=function(){this.callback&&this.callback(this.context)},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.callback=null},r}(tn),ti=Yn,jn={};function yi(i,r){var t=jn[i],e=null;if(t){var n=t.ActionClass,a=t.cfg;e=new n(r,a),e.name=i,e.init()}return e}function _i(i){var r=jn[i];return(0,f.get)(r,"ActionClass")}function Tr(i,r,t){jn[i]={ActionClass:r,cfg:t}}function mi(i){delete jn[i]}function ci(i,r){var t=new ti(r);return t.callback=i,t.name="callback",t}function ei(i){if((0,f.isEmpty)(i))return null;var r=i[0].x,t=i[0].x,e=i[0].y,n=i[0].y;return(0,f.each)(i,function(a){r=r>a.x?a.x:r,t=t<a.x?a.x:t,e=e>a.y?a.y:e,n=n<a.y?a.y:n}),{minX:r,maxX:t,minY:e,maxY:n,centerX:(r+t)/2,centerY:(e+n)/2}}function xn(i,r,t,e){return{x:i+t*Math.cos(e),y:r+t*Math.sin(e)}}function ai(i,r,t,e,n,a){a===void 0&&(a=0);var o=xn(i,r,t,e),s=xn(i,r,t,n),l=xn(i,r,a,e),u=xn(i,r,a,n);if(n-e==Math.PI*2){var h=xn(i,r,t,e+Math.PI),c=xn(i,r,a,e+Math.PI),v=[["M",o.x,o.y],["A",t,t,0,1,1,h.x,h.y],["A",t,t,0,1,1,s.x,s.y],["M",l.x,l.y]];return a&&(v.push(["A",a,a,0,1,0,c.x,c.y]),v.push(["A",a,a,0,1,0,u.x,u.y])),v.push(["M",o.x,o.y]),v.push(["Z"]),v}var g=n-e<=Math.PI?0:1,M=[["M",o.x,o.y],["A",t,t,0,g,1,s.x,s.y],["L",u.x,u.y]];return a&&M.push(["A",a,a,0,g,0,l.x,l.y]),M.push(["L",o.x,o.y]),M.push(["Z"]),M}function oi(i,r,t,e,n){var a=xn(i,r,t,e),o=xn(i,r,t,n);if((0,f.isNumberEqual)(n-e,Math.PI*2)){var s=xn(i,r,t,e+Math.PI);return[["M",a.x,a.y],["A",t,t,0,1,1,s.x,s.y],["A",t,t,0,1,1,a.x,a.y],["A",t,t,0,1,0,s.x,s.y],["A",t,t,0,1,0,a.x,a.y],["Z"]]}var l=n-e<=Math.PI?0:1;return[["M",a.x,a.y],["A",t,t,0,l,1,o.x,o.y]]}function ri(i,r){var t=i.points,e=ei(t),n,a,o=r.startAngle,s=r.endAngle,l=s-o;return r.isTransposed?(n=e.maxY*l,a=e.minY*l):(n=e.maxX*l,a=e.minX*l),n+=o,a+=o,{startAngle:a,endAngle:n}}function si(i,r){if((0,f.isNumber)(i)&&(0,f.isNumber)(r))return[i,r];for(var t=-1,e=0,n=0,a,o=i.length-1,s,l=0;++t<i.length;)a=o,o=t,l+=s=i[a]*r[o]-i[o]*r[a],e+=(i[a]+i[o])*s,n+=(r[a]+r[o])*s;return l*=3,[e/l,n/l]}function Vn(i,r){var t=i.attr(),e=r.attr();return(0,f.each)(t,function(n,a){e[a]===void 0&&(e[a]=void 0)}),e}function Li(i,r,t){var e=Math.min(r,t),n=Math.max(r,t);return i>=e&&i<=n}function Ni(i,r,t){if((0,f.isString)(i))return i.padEnd(r,t);if((0,f.isArray)(i)){var e=i.length;if(e<r)for(var n=r-e,a=0;a<n;a++)i.push(t)}return i}function Tn(i,r){return r.forEach(function(t){delete i[t]}),i}function Gn(i,r,t){r===void 0&&(r=[]),t===void 0&&(t={});for(var e=0,n=i;e<n.length;e++){var a=n[e];t[a]||(r.push(a),t[a]=!0)}return r}function li(i){if(i.isPolar&&!i.isTransposed)return(i.endAngle-i.startAngle)*i.getRadius();var r=i.convert({x:0,y:0}),t=i.convert({x:1,y:0});return Math.sqrt(Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2))}function Oi(i){if(i.isPolar){var r=i.startAngle,t=i.endAngle;return t-r==Math.PI*2}return!1}function xi(i,r){var t=i.getCenter();return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))}function oa(i,r){var t=!1;if(i)if(i.type==="theta"){var e=i.start,n=i.end;t=Li(r.x,e.x,n.x)&&Li(r.y,e.y,n.y)}else{var a=i.invert(r);t=Li(a.x,0,1)&&Li(a.y,0,1)}return t}function vi(i,r){var t=i.getCenter();return Math.atan2(r.y-t.y,r.x-t.x)}function sa(i,r){r===void 0&&(r=0);var t=i.start,e=i.end,n=i.getWidth(),a=i.getHeight();if(i.isPolar){var o=i.startAngle,s=i.endAngle,l=i.getCenter(),u=i.getRadius();return{type:"path",startState:{path:ai(l.x,l.y,u+r,o,o)},endState:function(c){var v=(s-o)*c+o,g=ai(l.x,l.y,u+r,o,v);return{path:g}},attrs:{path:ai(l.x,l.y,u+r,o,s)}}}var h;return i.isTransposed?h={height:a+r*2}:h={width:n+r*2},{type:"rect",startState:{x:t.x-r,y:e.y-r,width:i.isTransposed?n+r*2:0,height:i.isTransposed?0:a+r*2},endState:h,attrs:{x:t.x-r,y:e.y-r,width:n+r*2,height:a+r*2}}}function $i(i,r){var t=[];if(i.length){t.push(["M",i[0].x,i[0].y]);for(var e=1,n=i.length;e<n;e+=1){var a=i[e];t.push(["L",a.x,a.y])}r&&t.push(["Z"])}return t}function la(i,r){for(var t=[i[0]],e=1,n=i.length;e<n;e=e+2){var a=r.convert({x:i[e],y:i[e+1]});t.push(a.x,a.y)}return t}function ba(i,r,t){var e=t.isTransposed,n=t.startAngle,a=t.endAngle,o={x:i[1],y:i[2]},s={x:r[1],y:r[2]},l=[],u=e?"y":"x",h=Math.abs(s[u]-o[u])*(a-n),c=s[u]>=o[u]?1:0,v=h>Math.PI?1:0,g=t.convert(s),M=xi(t,g);if(M>=.5)if(h===Math.PI*2){var F={x:(s.x+o.x)/2,y:(s.y+o.y)/2},Y=t.convert(F);l.push(["A",M,M,0,v,c,Y.x,Y.y]),l.push(["A",M,M,0,v,c,g.x,g.y])}else l.push(["A",M,M,0,v,c,g.x,g.y]);return l}function Dt(i){(0,f.each)(i,function(r,t){var e=r;if(e[0].toLowerCase()==="a"){var n=i[t-1],a=i[t+1];a&&a[0].toLowerCase()==="a"?n&&n[0].toLowerCase()==="l"&&(n[0]="M"):n&&n[0].toLowerCase()==="a"&&a&&a[0].toLowerCase()==="l"&&(a[0]="M")}})}var Zt=function(i,r,t,e){var n=[],a,o,s=!!e,l,u;if(s){l=[Infinity,Infinity],u=[-Infinity,-Infinity];for(var h=0,c=i.length;h<c;h++){var v=i[h];l=pe.min([0,0],l,v),u=pe.max([0,0],u,v)}l=pe.min([0,0],l,e[0]),u=pe.max([0,0],u,e[1])}for(var h=0,g=i.length;h<g;h++){var v=i[h];if(t)a=i[h?h-1:g-1],o=i[(h+1)%g];else if(h===0||h===g-1){n.push(v);continue}else a=i[h-1],o=i[h+1];var M=[0,0];M=pe.sub(M,o,a),M=pe.scale(M,M,r);var F=pe.distance(v,a),Y=pe.distance(v,o),V=F+Y;V!==0&&(F/=V,Y/=V);var z=pe.scale([0,0],M,-F),it=pe.scale([0,0],M,Y),ot=pe.add([0,0],v,z),yt=pe.add([0,0],v,it);s&&(ot=pe.max([0,0],ot,l),ot=pe.min([0,0],ot,u),yt=pe.max([0,0],yt,l),yt=pe.min([0,0],yt,u)),n.push(ot),n.push(yt)}return t&&n.push(n.shift()),n};function ee(i,r,t){for(var e=!!r,n=[],a=0,o=i.length;a<o;a+=2)n.push([i[a],i[a+1]]);for(var s=Zt(n,.4,e,t),l=n.length,u=[],h,c,v,a=0;a<l-1;a++)h=s[a*2],c=s[a*2+1],v=n[a+1],u.push(["C",h[0],h[1],c[0],c[1],v[0],v[1]]);return e&&(h=s[l],c=s[l+1],v=n[0],u.push(["C",h[0],h[1],c[0],c[1],v[0],v[1]])),u}function ge(i,r){return $i(i,r)}function ye(i,r,t){var e=[],n=i[0],a=null;if(i.length<=2)return ge(i,r);for(var o=0,s=i.length;o<s;o++){var l=i[o];(!a||!(a.x===l.x&&a.y===l.y))&&(e.push(l.x),e.push(l.y),a=l)}var u=t||[[0,0],[1,1]],h=ee(e,r,u);return h.unshift(["M",n.x,n.y]),h}function Ee(i,r){var t=[];return(0,f.each)(r,function(e){var n=e[0];switch(n.toLowerCase()){case"m":case"l":case"c":t.push(la(e,i));break;case"z":default:t.push(e);break}}),t}function We(i,r){var t=[],e,n,a,o;return(0,f.each)(r,function(s,l){var u=s[0];switch(u.toLowerCase()){case"m":case"c":case"q":t.push(la(s,i));break;case"l":e=r[l-1],n=s,a=i.isTransposed,o=a?e[e.length-2]===n[1]:e[e.length-1]===n[2],o?t=t.concat(ba(e,n,i)):t.push(la(s,i));break;case"z":default:t.push(s);break}}),Dt(t),t}var Ue=function(){function i(r,t,e,n){r===void 0&&(r=0),t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0),this.x=r,this.y=t,this.height=n,this.width=e}return i.fromRange=function(r,t,e,n){return new i(r,t,e-r,n-t)},Object.defineProperty(i.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(r){return this.x===r.x&&this.y===r.y&&this.width===r.width&&this.height===r.height},i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height)},i.prototype.add=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=this.clone();return(0,f.each)(r,function(n){e.x=Math.min(n.x,e.x),e.y=Math.min(n.y,e.y),e.width=Math.max(n.maxX,e.maxX)-e.x,e.height=Math.max(n.maxY,e.maxY)-e.y}),e},i.prototype.merge=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=this.clone();return(0,f.each)(r,function(n){e.x=Math.max(n.x,e.x),e.y=Math.max(n.y,e.y),e.width=Math.min(n.maxX,e.maxX)-e.x,e.height=Math.min(n.maxY,e.maxY)-e.y}),e},i.prototype.cut=function(r,t){var e=r.width,n=r.height;switch(t){case Ct.TOP:case Ct.TOP_LEFT:case Ct.TOP_RIGHT:return i.fromRange(this.minX,this.minY+n,this.maxX,this.maxY);case Ct.RIGHT:case Ct.RIGHT_TOP:case Ct.RIGHT_BOTTOM:return i.fromRange(this.minX,this.minY,this.maxX-e,this.maxY);case Ct.BOTTOM:case Ct.BOTTOM_LEFT:case Ct.BOTTOM_RIGHT:return i.fromRange(this.minX,this.minY,this.maxX,this.maxY-n);case Ct.LEFT:case Ct.LEFT_TOP:case Ct.LEFT_BOTTOM:return i.fromRange(this.minX+e,this.minY,this.maxX,this.maxY);default:return this}},i.prototype.shrink=function(r){var t=r[0],e=r[1],n=r[2],a=r[3];return new i(this.x+a,this.y+t,this.width-a-e,this.height-t-n)},i.prototype.exceed=function(r){return[Math.max(-this.minY+r.minY,0),Math.max(this.maxX-r.maxX,0),Math.max(this.maxY-r.maxY,0),Math.max(-this.minX+r.minX,0)]},i.prototype.size=function(){return this.width*this.height},i}(),Et=function(i,r){var t=r.start,e=r.end;return new Ue(i.x+i.width*t.x,i.y+i.height*t.y,i.width*Math.abs(e.x-t.x),i.height*Math.abs(e.y-t.y))};function ft(i){return[[i.minX,i.minY],[i.maxX,i.minY],[i.maxX,i.maxY],[i.minX,i.maxY]]}var et=d(70146);function ht(i,r){var t=i.event,e=t.target,n=e.getCanvasBBox();return n.width>=r||n.height>=r?n:null}function Lt(i,r){var t=i.event,e=t.target,n=e.getCanvasBBox();return n.width>=r||n.height>=r?e.attr("path"):null}function Ht(i){var r=i.event,t,e=r.target;return e&&(t=e.get("element")),t}function le(i){var r=i.event,t=r.target,e;return t&&(e=t.get("delegateObject")),e}function ce(i){var r=i.event.gEvent;return!(r&&r.fromShape&&r.toShape&&r.fromShape.get("element")===r.toShape.get("element"))}function ue(i){return i&&i.component&&i.component.isList()}function Oe(i){return i&&i.component&&i.component.isSlider()}function De(i){var r=i.event,t=r.target;return t&&t.get("name")==="mask"}function Fe(i,r){var t=i.event.target;if(t.get("type")==="path"){var e=Lt(i,r);return e?tr(i.view,e):void 0}var n=ht(i,r);return n?zr(i.view,n):null}function ir(i,r,t){var e=ht(i,t);if(!e)return null;var n=i.view,a=En(n,r,{x:e.x,y:e.y}),o=En(n,r,{x:e.maxX,y:e.maxY}),s={minX:a.x,minY:a.y,maxX:o.x,maxY:o.y};return zr(r,s)}function Ye(i){var r=i.geometries,t=[];return(0,f.each)(r,function(e){var n=e.elements;t=t.concat(n)}),i.views&&i.views.length&&(0,f.each)(i.views,function(e){t=t.concat(Ye(e))}),t}function Re(i,r,t){var e=Ye(i);return e.filter(function(n){return Sr(n,r)===t})}function wr(i,r){var t=i.geometries,e=[];return(0,f.each)(t,function(n){var a=n.getElementsBy(function(o){return o.hasState(r)});e=e.concat(a)}),e}function Sr(i,r){var t=i.getModel(),e=t.data,n;return(0,f.isArray)(e)?n=e[0][r]:n=e[r],n}function Yr(i,r){return!(r.minX>i.maxX||r.maxX<i.minX||r.minY>i.maxY||r.maxY<i.minY)}function zr(i,r){var t=Ye(i),e=[];return(0,f.each)(t,function(n){var a=n.shape,o=a.getCanvasBBox();Yr(r,o)&&e.push(n)}),e}function dr(i){var r=[];return(0,f.each)(i,function(t){var e=t[0];if(e!=="A")for(var n=1;n<t.length;n=n+2)r.push([t[n],t[n+1]]);else{var a=t.length;r.push([t[a-2],t[a-1]])}}),r}function tr(i,r){var t=Ye(i),e=dr(r),n=t.filter(function(a){var o=a.shape,s;if(o.get("type")==="path")s=dr(o.attr("path"));else{var l=o.getCanvasBBox();s=ft(l)}return(0,et.default)(e,s)});return n}function Xr(i){return i.getComponents().map(function(r){return r.component})}function un(i,r){var t=r.x-i.x,e=r.y-i.y;return Math.sqrt(t*t+e*e)}function Mn(i,r){if(i.length<=2)return ge(i,!1);var t=i[0],e=[];(0,f.each)(i,function(a){e.push(a.x),e.push(a.y)});var n=ee(e,r,null);return n.unshift(["M",t.x,t.y]),n}function Un(i,r){return i.x<=r.x&&i.maxX>=r.x&&i.y<=r.y&&i.maxY>r.y}function $n(i){var r=i.parent,t=null;return r&&(t=r.views.filter(function(e){return e!==i})),t}function da(i,r){var t=i.getCoordinate();return t.invert(r)}function En(i,r,t){var e=da(i,t);return r.getCoordinate().convert(e)}function Ga(i,r,t,e){var n=!1;return(0,f.each)(i,function(a){if(a[t]===r[t]&&a[e]===r[e])return n=!0,!1}),n}function Qi(i,r){var t=i.getScaleByField(r);return!t&&i.views&&(0,f.each)(i.views,function(e){if(t=Qi(e,r),t)return!1}),t}var za=function(){function i(r){this.actions=[],this.event=null,this.cacheMap={},this.view=r}return i.prototype.cache=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];if(r.length===1)return this.cacheMap[r[0]];r.length===2&&(this.cacheMap[r[0]]=r[1])},i.prototype.getAction=function(r){return this.actions.find(function(t){return t.name===r})},i.prototype.addAction=function(r){this.actions.push(r)},i.prototype.removeAction=function(r){var t=this.actions,e=this.actions.indexOf(r);e>=0&&t.splice(e,1)},i.prototype.getCurrentPoint=function(){var r=this.event;if(r)if(r.target instanceof HTMLElement){var t=this.view.getCanvas(),e=t.getPointByClient(r.clientX,r.clientY);return e}else return{x:r.x,y:r.y};return null},i.prototype.getCurrentShape=function(){return(0,f.get)(this.event,["gEvent","shape"])},i.prototype.isInPlot=function(){var r=this.getCurrentPoint();return r?this.view.isPointInPlot(r):!1},i.prototype.isInShape=function(r){var t=this.getCurrentShape();return t?t.get("name")===r:!1},i.prototype.isInComponent=function(r){var t=Xr(this.view),e=this.getCurrentPoint();return e?!!t.find(function(n){var a=n.getBBox();return r?n.get("name")===r&&Un(a,e):Un(a,e)}):!1},i.prototype.destroy=function(){this.view=null,this.event=null,(0,f.each)(this.actions.slice(),function(r){r.destroy()}),this.actions=null,this.cacheMap=null},i}(),ua=za,to=function(){function i(r,t){this.view=r,this.cfg=t}return i.prototype.init=function(){this.initEvents()},i.prototype.initEvents=function(){},i.prototype.clearEvents=function(){},i.prototype.destroy=function(){this.clearEvents()},i}(),fa=to;function Pa(i,r){var t=i.split(":"),e=t[0],n=r.getAction(e)||yi(e,r);if(!n)throw new Error("There is no action named "+e);var a=t[1];return{action:n,methodName:a}}function pa(i){var r=i.action,t=i.methodName;if(r[t])r[t]();else throw new Error("Action("+r.name+") doesn't have a method called "+t)}var Qn={START:"start",SHOW_ENABLE:"showEnable",END:"end",ROLLBACK:"rollback",PROCESSING:"processing"},Ji=function(i){(0,$.__extends)(r,i);function r(t,e){var n=i.call(this,t,e)||this;return n.callbackCaches={},n.emitCaches={},n.steps=e,n}return r.prototype.init=function(){this.initContext(),i.prototype.init.call(this)},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},r.prototype.initEvents=function(){var t=this;(0,f.each)(this.steps,function(e,n){(0,f.each)(e,function(a){var o=t.getActionCallback(n,a);o&&t.bindEvent(a.trigger,o)})})},r.prototype.clearEvents=function(){var t=this;(0,f.each)(this.steps,function(e,n){(0,f.each)(e,function(a){var o=t.getActionCallback(n,a);o&&t.offEvent(a.trigger,o)})})},r.prototype.initContext=function(){var t=this.view,e=new ua(t);this.context=e;var n=this.steps;(0,f.each)(n,function(a){(0,f.each)(a,function(o){if((0,f.isFunction)(o.action))o.actionObject={action:ci(o.action,e),methodName:"execute"};else if((0,f.isString)(o.action))o.actionObject=Pa(o.action,e);else if((0,f.isArray)(o.action)){var s=o.action;o.actionObject=[],(0,f.each)(s,function(l){o.actionObject.push(Pa(l,e))})}})})},r.prototype.isAllowStep=function(t){var e=this.currentStepName,n=this.steps;if(e===t||t===Qn.SHOW_ENABLE)return!0;if(t===Qn.PROCESSING)return e===Qn.START;if(t===Qn.START)return e!==Qn.PROCESSING;if(t===Qn.END)return e===Qn.PROCESSING||e===Qn.START;if(t===Qn.ROLLBACK){if(n[Qn.END])return e===Qn.END;if(e===Qn.START)return!0}return!1},r.prototype.isAllowExcute=function(t,e){if(this.isAllowStep(t)){var n=this.getKey(t,e);return e.once&&this.emitCaches[n]?!1:e.isEnable?e.isEnable(this.context):!0}return!1},r.prototype.enterStep=function(t){this.currentStepName=t,this.emitCaches={}},r.prototype.afterExecute=function(t,e){t!==Qn.SHOW_ENABLE&&this.currentStepName!==t&&this.enterStep(t);var n=this.getKey(t,e);this.emitCaches[n]=!0},r.prototype.getKey=function(t,e){return t+e.trigger+e.action},r.prototype.getActionCallback=function(t,e){var n=this,a=this.context,o=this.callbackCaches,s=e.actionObject;if(e.action&&s){var l=this.getKey(t,e);if(!o[l]){var u=function(h){a.event=h,n.isAllowExcute(t,e)?((0,f.isArray)(s)?(0,f.each)(s,function(c){a.event=h,pa(c)}):(a.event=h,pa(s)),n.afterExecute(t,e),e.callback&&(a.event=h,e.callback(a))):a.event=null};e.debounce?o[l]=(0,f.debounce)(u,e.debounce.wait,e.debounce.immediate):e.throttle?o[l]=(0,f.throttle)(u,e.throttle.wait,{leading:e.throttle.leading,trailing:e.throttle.trailing}):o[l]=u}return o[l]}return null},r.prototype.bindEvent=function(t,e){var n=t.split(":");n[0]==="window"?window.addEventListener(n[1],e):n[0]==="document"?document.addEventListener(n[1],e):this.view.on(t,e)},r.prototype.offEvent=function(t,e){var n=t.split(":");n[0]==="window"?window.removeEventListener(n[1],e):n[0]==="document"?document.removeEventListener(n[1],e):this.view.off(t,e)},r}(fa),_a=Ji,La={};function wa(i){return La[(0,f.lowerCase)(i)]}function an(i,r){La[(0,f.lowerCase)(i)]=r}function eo(i,r,t){var e=wa(i);if(!e)return null;if((0,f.isPlainObject)(e)){var n=(0,f.mix)((0,f.clone)(e),t);return new _a(r,n)}else{var a=e;return new a(r,t)}}var ni=d(7755),dn=d(31506);function Hi(i){var r,t={point:{default:{fill:i.pointFillColor,r:i.pointSize,stroke:i.pointBorderColor,lineWidth:i.pointBorder,fillOpacity:i.pointFillOpacity},active:{stroke:i.pointActiveBorderColor,lineWidth:i.pointActiveBorder},selected:{stroke:i.pointSelectedBorderColor,lineWidth:i.pointSelectedBorder},inactive:{fillOpacity:i.pointInactiveFillOpacity,strokeOpacity:i.pointInactiveBorderOpacity}},hollowPoint:{default:{fill:i.hollowPointFillColor,lineWidth:i.hollowPointBorder,stroke:i.hollowPointBorderColor,strokeOpacity:i.hollowPointBorderOpacity,r:i.hollowPointSize},active:{stroke:i.hollowPointActiveBorderColor,strokeOpacity:i.hollowPointActiveBorderOpacity},selected:{lineWidth:i.hollowPointSelectedBorder,stroke:i.hollowPointSelectedBorderColor,strokeOpacity:i.hollowPointSelectedBorderOpacity},inactive:{strokeOpacity:i.hollowPointInactiveBorderOpacity}},area:{default:{fill:i.areaFillColor,fillOpacity:i.areaFillOpacity,stroke:null},active:{fillOpacity:i.areaActiveFillOpacity},selected:{fillOpacity:i.areaSelectedFillOpacity},inactive:{fillOpacity:i.areaInactiveFillOpacity}},hollowArea:{default:{fill:null,stroke:i.hollowAreaBorderColor,lineWidth:i.hollowAreaBorder,strokeOpacity:i.hollowAreaBorderOpacity},active:{fill:null,lineWidth:i.hollowAreaActiveBorder},selected:{fill:null,lineWidth:i.hollowAreaSelectedBorder},inactive:{strokeOpacity:i.hollowAreaInactiveBorderOpacity}},interval:{default:{fill:i.intervalFillColor,fillOpacity:i.intervalFillOpacity},active:{stroke:i.intervalActiveBorderColor,lineWidth:i.intervalActiveBorder},selected:{stroke:i.intervalSelectedBorderColor,lineWidth:i.intervalSelectedBorder},inactive:{fillOpacity:i.intervalInactiveFillOpacity,strokeOpacity:i.intervalInactiveBorderOpacity}},hollowInterval:{default:{fill:i.hollowIntervalFillColor,stroke:i.hollowIntervalBorderColor,lineWidth:i.hollowIntervalBorder,strokeOpacity:i.hollowIntervalBorderOpacity},active:{stroke:i.hollowIntervalActiveBorderColor,lineWidth:i.hollowIntervalActiveBorder,strokeOpacity:i.hollowIntervalActiveBorderOpacity},selected:{stroke:i.hollowIntervalSelectedBorderColor,lineWidth:i.hollowIntervalSelectedBorder,strokeOpacity:i.hollowIntervalSelectedBorderOpacity},inactive:{stroke:i.hollowIntervalInactiveBorderColor,lineWidth:i.hollowIntervalInactiveBorder,strokeOpacity:i.hollowIntervalInactiveBorderOpacity}},line:{default:{stroke:i.lineBorderColor,lineWidth:i.lineBorder,strokeOpacity:i.lineBorderOpacity,fill:null,lineAppendWidth:10},active:{lineWidth:i.lineActiveBorder},selected:{lineWidth:i.lineSelectedBorder},inactive:{strokeOpacity:i.lineInactiveBorderOpacity}}},e={title:{autoRotate:!0,position:"center",style:{fill:i.axisTitleTextFillColor,fontSize:i.axisTitleTextFontSize,lineHeight:i.axisTitleTextLineHeight,textBaseline:"middle",fontFamily:i.fontFamily}},label:{autoRotate:!0,autoEllipsis:!0,autoHide:!0,offset:16,style:{fill:i.axisLabelFillColor,fontSize:i.axisLabelFontSize,lineHeight:i.axisLabelLineHeight,textBaseline:"middle",fontFamily:i.fontFamily}},line:{style:{lineWidth:i.axisLineBorder,stroke:i.axisLineBorderColor}},tickLine:{style:{lineWidth:i.axisTickLineBorder,stroke:i.axisTickLineBorderColor},alignTick:!0,length:i.axisTickLineLength},subTickLine:null,animate:!0},n={line:{type:"line",style:{stroke:i.axisGridBorderColor,lineWidth:i.axisGridBorder,lineDash:i.axisGridLineDash}},alignTick:!0,animate:!0},a={title:null,marker:{symbol:"circle",style:{r:i.legendCircleMarkerSize,fill:i.legendMarkerColor}},itemName:{spacing:5,style:{fill:i.legendItemNameFillColor,fontFamily:i.fontFamily,fontSize:i.legendItemNameFontSize,lineHeight:i.legendItemNameLineHeight,fontWeight:i.legendItemNameFontWeight,textAlign:"start",textBaseline:"middle"}},flipPage:!0,animate:!1,maxItemWidth:.2};return{background:i.backgroundColor,defaultColor:i.brandColor,padding:"auto",fontFamily:i.fontFamily,columnWidthRatio:1/2,maxColumnWidth:null,minColumnWidth:null,roseWidthRatio:.9999999,multiplePieWidthRatio:1/1.3,colors10:i.paletteQualitative10,colors20:i.paletteQualitative20,shapes:{point:["hollow-circle","hollow-square","hollow-bowtie","hollow-diamond","hollow-hexagon","hollow-triangle","hollow-triangle-down","circle","square","bowtie","diamond","hexagon","triangle","triangle-down","cross","tick","plus","hyphen","line"],line:["line","dash","dot","smooth"],area:["area","smooth","line","smooth-line"],interval:["rect","hollow-rect","line","tick"]},sizes:[1,10],geometries:{interval:{rect:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:function(o){var s=o.geometry.coordinate;if(s.isPolar&&s.isTransposed){var l=ri(o.getModel(),s),u=l.startAngle,h=l.endAngle,c=(u+h)/2,v=7.5,g=v*Math.cos(c),M=v*Math.sin(c);return{matrix:dn.transform(null,[["t",g,M]])}}return t.interval.selected}}},"hollow-rect":{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},line:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},tick:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},funnel:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}},pyramid:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}}},line:{line:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},dot:{default:{style:(0,$.__assign)((0,$.__assign)({},t.line.default),{lineDash:[1,1]})},active:{style:(0,$.__assign)((0,$.__assign)({},t.line.active),{lineDash:[1,1]})},inactive:{style:(0,$.__assign)((0,$.__assign)({},t.line.inactive),{lineDash:[1,1]})},selected:{style:(0,$.__assign)((0,$.__assign)({},t.line.selected),{lineDash:[1,1]})}},dash:{default:{style:(0,$.__assign)((0,$.__assign)({},t.line.default),{lineDash:[5.5,1]})},active:{style:(0,$.__assign)((0,$.__assign)({},t.line.active),{lineDash:[5.5,1]})},inactive:{style:(0,$.__assign)((0,$.__assign)({},t.line.inactive),{lineDash:[5.5,1]})},selected:{style:(0,$.__assign)((0,$.__assign)({},t.line.selected),{lineDash:[5.5,1]})}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vh:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hvh:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vhv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}}},polygon:{polygon:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}}},point:{circle:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},square:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},bowtie:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},diamond:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},hexagon:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},triangle:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},"triangle-down":{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},"hollow-circle":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-square":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-bowtie":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-diamond":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-hexagon":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-triangle":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-triangle-down":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},cross:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},tick:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},plus:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},hyphen:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},line:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}}},area:{area:{default:{style:t.area.default},active:{style:t.area.active},inactive:{style:t.area.inactive},selected:{style:t.area.selected}},smooth:{default:{style:t.area.default},active:{style:t.area.active},inactive:{style:t.area.inactive},selected:{style:t.area.selected}},line:{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}},"smooth-line":{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}}},schema:{candle:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},box:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}}},edge:{line:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vhv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},arc:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}}}},components:{axis:{top:(0,f.deepMix)({},e,{position:"top",grid:null,title:null,verticalLimitLength:1/2}),bottom:(0,f.deepMix)({},e,{position:"bottom",grid:null,title:null,verticalLimitLength:1/2}),left:(0,f.deepMix)({},e,{position:"left",label:{offset:8},title:null,line:null,tickLine:null,grid:n,verticalLimitLength:1/3}),right:(0,f.deepMix)({},e,{position:"right",label:{offset:8},title:null,line:null,tickLine:null,grid:n,verticalLimitLength:1/3}),circle:(0,f.deepMix)({},e,{title:null,label:{offset:8},grid:(0,f.deepMix)({},n,{line:{type:"line"}})}),radius:(0,f.deepMix)({},e,{title:null,label:{offset:8},grid:(0,f.deepMix)({},n,{line:{type:"circle"}})})},legend:{right:(0,f.deepMix)({},a,{layout:"vertical"}),left:(0,f.deepMix)({},a,{layout:"vertical"}),top:(0,f.deepMix)({},a,{layout:"horizontal"}),bottom:(0,f.deepMix)({},a,{layout:"horizontal"}),continuous:{title:null,background:null,track:{},rail:{type:"color",size:i.sliderRailHeight,defaultLength:i.sliderRailWidth,style:{fill:i.sliderRailFillColor,stroke:i.sliderRailBorderColor,lineWidth:i.sliderRailBorder}},label:{align:"rail",spacing:4,formatter:null,style:{fill:i.sliderLabelTextFillColor,fontSize:i.sliderLabelTextFontSize,lineHeight:i.sliderLabelTextLineHeight,textBaseline:"middle",fontFamily:i.fontFamily}},handler:{size:i.sliderHandlerWidth,style:{fill:i.sliderHandlerFillColor,stroke:i.sliderHandlerBorderColor}},slidable:!0},margin:[0,0,0,0]},tooltip:{showContent:!0,follow:!0,showCrosshairs:!1,showMarkers:!0,shared:!1,enterable:!1,position:"auto",marker:{symbol:"circle",stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffSetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,r:4},crosshairs:{line:{style:{stroke:i.tooltipCrosshairsBorderColor,lineWidth:i.tooltipCrosshairsBorder}},text:null,textBackground:{padding:2,style:{fill:"rgba(0, 0, 0, 0.25)",lineWidth:0,stroke:null}},follow:!1},domStyles:(r={},r[""+ni.CONTAINER_CLASS]={position:"absolute",visibility:"hidden",zIndex:8,transition:"left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s",backgroundColor:i.tooltipContainerFillColor,opacity:i.tooltipContainerFillOpacity,boxShadow:i.tooltipContainerShadow,borderRadius:i.tooltipContainerBorderRadius+"px",color:i.tooltipTextFillColor,fontSize:i.tooltipTextFontSize+"px",fontFamily:i.fontFamily,lineHeight:i.tooltipTextLineHeight+"px",padding:"0 12px 0 12px"},r[""+ni.TITLE_CLASS]={marginBottom:"12px",marginTop:"12px"},r[""+ni.LIST_CLASS]={margin:0,listStyleType:"none",padding:0},r[""+ni.LIST_ITEM_CLASS]={listStyleType:"none",padding:0,marginBottom:"12px",marginTop:"12px",marginLeft:0,marginRight:0},r[""+ni.MARKER_CLASS]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},r[""+ni.VALUE_CLASS]={display:"inline-block",float:"right",marginLeft:"30px"},r)},annotation:{arc:{style:{stroke:i.annotationArcBorderColor,lineWidth:i.annotationArcBorder},animate:!0},line:{style:{stroke:i.annotationLineBorderColor,lineDash:i.annotationLineDash,lineWidth:i.annotationLineBorder},text:{position:"start",autoRotate:!0,style:{fill:i.annotationTextFillColor,stroke:i.annotationTextBorderColor,lineWidth:i.annotationTextBorder,fontSize:i.annotationTextFontSize,textAlign:"start",fontFamily:i.fontFamily,textBaseline:"bottom"}},animate:!0},text:{style:{fill:i.annotationTextFillColor,stroke:i.annotationTextBorderColor,lineWidth:i.annotationTextBorder,fontSize:i.annotationTextFontSize,textBaseline:"middle",textAlign:"start",fontFamily:i.fontFamily},animate:!0},region:{top:!1,style:{lineWidth:i.annotationRegionBorder,stroke:i.annotationRegionBorderColor,fill:i.annotationRegionFillColor,fillOpacity:i.annotationRegionFillOpacity},animate:!0},image:{top:!1,animate:!0},dataMarker:{top:!0,point:{style:{r:3,stroke:i.brandColor,lineWidth:2}},line:{style:{stroke:i.annotationLineBorderColor,lineWidth:i.annotationLineBorder},length:i.annotationDataMarkerLineLength},text:{style:{textAlign:"start",fill:i.annotationTextFillColor,stroke:i.annotationTextBorderColor,lineWidth:i.annotationTextBorder,fontSize:i.annotationTextFontSize,fontFamily:i.fontFamily}},direction:"upward",autoAdjust:!0,animate:!0},dataRegion:{style:{region:{fill:i.annotationRegionFillColor,fillOpacity:i.annotationRegionFillOpacity},text:{textAlign:"center",textBaseline:"bottom",fill:i.annotationTextFillColor,stroke:i.annotationTextBorderColor,lineWidth:i.annotationTextBorder,fontSize:i.annotationTextFontSize,fontFamily:i.fontFamily}},animate:!0}}},labels:{offset:12,style:{fill:i.labelFillColor,fontSize:i.labelFontSize,fontFamily:i.fontFamily,stroke:i.labelBorderColor,lineWidth:i.labelBorder},autoRotate:!0},innerLabels:{style:{fill:i.innerLabelFillColor,fontSize:i.innerLabelFontSize,fontFamily:i.fontFamily,stroke:i.innerLabelBorderColor,lineWidth:i.innerLabelBorder},autoRotate:!0},pieLabels:{labelHeight:14,offset:30,labelLine:{style:{lineWidth:i.labelLineBorder}},autoRotate:!0}}}var cn={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},ga={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},Xt=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],ct=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],x={backgroundColor:"transparent",brandColor:Xt[0],paletteQualitative10:Xt,paletteQualitative20:ct,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",fontFamily:`"-apple-system", "Segoe UI", Roboto, "Helvetica Neue", Arial,
  "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
  "Noto Color Emoji"`,axisLineBorderColor:cn[25],axisLineBorder:.5,axisLineDash:null,axisTitleTextFillColor:cn[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTickLineBorderColor:cn[25],axisTickLineLength:4,axisTickLineBorder:.5,axisSubTickLineBorderColor:cn[15],axisSubTickLineLength:2,axisSubTickLineBorder:.5,axisLabelFillColor:cn[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisGridBorderColor:cn[15],axisGridBorder:.5,axisGridLineDash:null,legendTitleTextFillColor:cn[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:Xt[0],legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:cn[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",sliderRailFillColor:cn[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:cn[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:cn[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:cn[25],annotationArcBorderColor:cn[15],annotationArcBorder:.5,annotationLineBorderColor:cn[25],annotationLineBorder:.5,annotationLineDash:null,annotationTextFillColor:cn[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:ga[95],annotationTextBorder:1.5,annotationRegionFillColor:cn[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:cn[25],tooltipCrosshairsBorder:.5,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"rgb(255, 255, 255)",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 0px 10px #aeaeae",tooltipContainerBorderRadius:3,tooltipTextFillColor:cn[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:cn[65],labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:ga[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,labelLineBorder:.5,labelLineBorderColor:cn[25],pointFillColor:Xt[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:ga[100],pointBorderOpacity:1,pointActiveBorderColor:cn[100],pointSelectedBorder:2,pointSelectedBorderColor:cn[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:Xt[0],hollowPointBorderOpacity:.95,hollowPointFillColor:ga[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:cn[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:cn[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:Xt[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:Xt[0],areaFillOpacity:.25,areaActiveFillColor:Xt[0],areaActiveFillOpacity:.5,areaSelectedFillColor:Xt[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:Xt[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:cn[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:cn[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:Xt[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:cn[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:cn[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:Xt[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:ga[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:cn[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:cn[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3},E=Hi(x),L={default:E};function R(i){return(0,f.get)(L,(0,f.lowerCase)(i),L.default)}function W(i,r){L[(0,f.lowerCase)(i)]=(0,f.deepMix)({},L.default,r)}function q(i,r,t){var e=t.translate(i),n=t.translate(r);return(0,f.isNumberEqual)(e,n)}function dt(i,r){var t=r.coordinate,e=r.getXScale(),n=e.range,a=n[n.length-1],o=n[0],s=t.invert(i),l=s.x;return t.isPolar&&l>(1+a)/2&&(l=o),e.translate(e.invert(l))}function bt(i,r,t){var e=t.coordinate,n=t.getYScale(),a=n.field,o=e.invert(r),s=n.invert(o.y),l=(0,f.find)(i,function(u){var h=u[Kt];return h[a][0]<=s&&h[a][1]>=s});return l||i[i.length-1]}var Tt=(0,f.memoize)(function(i){if(i.isCategory)return 1;for(var r=i.values,t=r.length,e=i.translate(r[0]),n=e,a=0;a<t;a++){var o=r[a],s=i.translate(o);s<e&&(e=s),s>n&&(n=s)}return(n-e)/(t-1)});function Ft(i,r,t){var e=t;if(!t){var n=r.getAttribute("position"),a=n.getFields();e=a[0]}var o=r.scales;return o[e]?o[e].getText(i[e]):(0,f.hasKey)(i,e)?i[e]:e}function te(i){var r=(0,f.values)(i.attributes);return(0,f.filter)(r,function(t){return(0,f.contains)(se,t.type)})}function ne(i){for(var r=te(i),t,e=0,n=r;e<n.length;e++){var a=n[e],o=a.getScale(a.type);if(o&&o.isLinear){t=o;break}}var s=i.getXScale(),l=i.getYScale();return t||l||s}function xe(i,r){var t=r.field,e=i[t];if((0,f.isArray)(e)){var n=e.map(function(a){return r.getText(a)});return n.join("-")}return r.getText(e)}function Ae(i,r){var t,e=r.getGroupScales();if(e.length&&(t=e[0]),t){var n=t.field;return t.getText(i[n])}var a=ne(r);return Pe(a)}function be(i,r,t){if(r.length===0)return null;var e=t.type,n=t.getXScale(),a=t.getYScale(),o=n.field,s=a.field,l=null;if(e==="heatmap"||e==="point"){for(var u=t.coordinate,h=u.invert(i),c=n.invert(h.x),v=a.invert(h.y),g=Infinity,M=0;M<r.length;M++){var F=r[M],Y=F[Kt],V=Math.pow(Y[o]-c,2)+Math.pow(Y[s]-v,2);V<g&&(g=V,l=F)}return l}var z=r[0],it=r[r.length-1],ot=dt(i,t),yt=z[Kt][o],It=z[Kt][s],zt=it[Kt][o],jt=a.isLinear&&(0,f.isArray)(It);if((0,f.isArray)(yt)){for(var M=0;M<r.length;M++){var Rt=r[M],Y=Rt[Kt];if(n.translate(Y[o][0])<=ot&&n.translate(Y[o][1])>=ot)if(jt)(0,f.isArray)(l)||(l=[]),l.push(Rt);else{l=Rt;break}}(0,f.isArray)(l)&&(l=bt(l,i,t))}else{var re=void 0;if(!n.isLinear&&n.type!=="timeCat"){for(var M=0;M<r.length;M++){var Rt=r[M],Y=Rt[Kt];if(q(Y[o],ot,n))if(jt)(0,f.isArray)(l)||(l=[]),l.push(Rt);else{l=Rt;break}else n.translate(Y[o])<=ot&&(it=Rt,re=r[M+1])}(0,f.isArray)(l)&&(l=bt(l,i,t))}else{if((ot>n.translate(zt)||ot<n.translate(yt))&&(ot>n.max||ot<n.min))return null;for(var de=0,fe=r.length-1,Me=void 0;de<=fe;){Me=Math.floor((de+fe)/2);var Le=r[Me][Kt][o];if(q(Le,ot,n))return r[Me];n.translate(Le)<=n.translate(ot)?(de=Me+1,it=r[Me],re=r[Me+1]):(fe===0&&(it=r[0]),fe=Me-1)}}it&&re&&Math.abs(n.translate(it[Kt][o])-ot)>Math.abs(n.translate(re[Kt][o])-ot)&&(it=re)}var _e=Tt(t.getXScale());return!l&&Math.abs(n.translate(it[Kt][o])-ot)<=_e/2&&(l=it),l}function Qe(i,r,t){t===void 0&&(t="");var e=i[Kt],n=Ft(e,r,t),a=r.tooltipOption,o=r.theme.defaultColor,s=[],l,u;function h(It,zt){if(!(0,f.isNil)(zt)&&zt!==""){var jt={title:n,data:e,mappingData:i,name:It,value:zt,color:i.color||o,marker:!0};s.push(jt)}}if((0,f.isObject)(a)){var c=a.fields,v=a.callback;if(v){var g=c.map(function(It){return i[Kt][It]}),M=v.apply(void 0,g),F=(0,$.__assign)({data:i[Kt],mappingData:i,title:n,color:i.color||o,marker:!0},M);s.push(F)}else for(var Y=r.scales,V=0,z=c;V<z.length;V++){var it=z[V];if(!(0,f.isNil)(e[it])){var ot=Y[it];l=Pe(ot),u=ot.getText(e[it]),h(l,u)}}}else{var yt=ne(r);(0,f.isNil)(e[yt.field])||(u=xe(e,yt),l=Ae(e,r),h(l,u))}return s}var nr={};function sr(i,r){nr[i]=r}function _t(i){delete nr[i]}function Nt(){return Object.keys(nr)}function Wt(i){return nr[i]}var ve=function(){function i(r){this.option=this.wrapperOption(r)}return i.prototype.update=function(r){return this.option=this.wrapperOption(r),this},i.prototype.hasAction=function(r){var t=this.option.actions;return(0,f.some)(t,function(e){return e[0]===r})},i.prototype.create=function(r,t){var e=this.option,n=e.type,a=e.cfg,o=n==="theta",s=(0,$.__assign)({start:r,end:t},a),l=(0,ln.getCoordinate)(o?"polar":n);return this.coordinate=new l(s),this.coordinate.type=n,o&&(this.hasAction("transpose")||this.transpose()),this.execActions(),this.coordinate},i.prototype.adjust=function(r,t){return this.coordinate.update({start:r,end:t}),this.coordinate.resetMatrix(),this.execActions(["scale","rotate","translate"]),this.coordinate},i.prototype.rotate=function(r){return this.option.actions.push(["rotate",r]),this},i.prototype.reflect=function(r){return this.option.actions.push(["reflect",r]),this},i.prototype.scale=function(r,t){return this.option.actions.push(["scale",r,t]),this},i.prototype.transpose=function(){return this.option.actions.push(["transpose"]),this},i.prototype.getOption=function(){return this.option},i.prototype.getCoordinate=function(){return this.coordinate},i.prototype.wrapperOption=function(r){return(0,$.__assign)({type:"rect",actions:[],cfg:{}},r)},i.prototype.execActions=function(r){var t=this,e=this.option.actions;(0,f.each)(e,function(n){var a,o=n[0],s=n.slice(1),l=(0,f.isNil)(r)?!0:r.includes(o);l&&(a=t.coordinate)[o].apply(a,s)})},i}(),Te=ve,Je=function(){function i(r,t,e){this.view=r,this.gEvent=t,this.data=e,this.type=t.type}return Object.defineProperty(i.prototype,"target",{get:function(){return this.gEvent.target},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"event",{get:function(){return this.gEvent.originalEvent},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"x",{get:function(){return this.gEvent.x},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"y",{get:function(){return this.gEvent.y},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"clientX",{get:function(){return this.gEvent.clientX},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"clientY",{get:function(){return this.gEvent.clientY},enumerable:!1,configurable:!0}),i.prototype.toString=function(){return"[Event (type="+this.type+")]"},i.prototype.clone=function(){return new i(this.view,this.gEvent,this.data)},i}(),Pr=Je;function fn(i){return!(0,f.isNumber)(i)&&!(0,f.isArray)(i)}function di(i){i===void 0&&(i=0);var r=(0,f.isArray)(i)?i:[i];switch(r.length){case 0:r=[0,0,0,0];break;case 1:r=new Array(4).fill(r[0]);break;case 2:r=(0,$.__spreadArrays)(r,r);break;case 3:r=(0,$.__spreadArrays)(r,[r[1]]);break;default:r=r.slice(0,4);break}return r}var Wi=function(){function i(r,t,e,n){r===void 0&&(r=0),t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0),this.top=r,this.right=t,this.bottom=e,this.left=n}return i.prototype.shrink=function(r){var t=r[0],e=r[1],n=r[2],a=r[3];return this.top+=t,this.right+=e,this.bottom+=n,this.left+=a,this},i.prototype.inc=function(r,t){var e=r.width,n=r.height;switch(t){case Ct.TOP:case Ct.TOP_LEFT:case Ct.TOP_RIGHT:this.top+=n;break;case Ct.RIGHT:case Ct.RIGHT_TOP:case Ct.RIGHT_BOTTOM:this.right+=e;break;case Ct.BOTTOM:case Ct.BOTTOM_LEFT:case Ct.BOTTOM_RIGHT:this.bottom+=n;break;case Ct.LEFT:case Ct.LEFT_TOP:case Ct.LEFT_BOTTOM:this.left+=e;break;default:break}return this},i.prototype.getPadding=function(){return[this.top,this.right,this.bottom,this.left]},i}();function qi(i){var r=i.padding;if(!fn(r))return di(r);var t=i.viewBBox,e=i.autoPadding,n=new Wi;(0,f.each)(i.getComponents(),function(s){var l=s.component,u=s.type;if(!(u===Bt.GRID||u===Bt.TOOLTIP)){var h=l.getLayoutBBox(),c=new Ue(h.x,h.y,h.width,h.height);if(u===Bt.AXIS){var v=c.exceed(t);n.shrink(v)}else{var g=s.direction;n.inc(c,g)}}});var a=n.getPadding();if(e){var o=di(i.appendPadding);return[Math.max(e[0]-o[0],a[0]),Math.max(e[1]-o[1],a[1]),Math.max(e[2]-o[2],a[2]),Math.max(e[3]-o[3],a[3])]}return a}function Oo(i){var r=i.getController("axis"),t=i.getController("legend"),e=i.getController("annotation"),n=i.getController("slider"),a=qi(i);i.coordinateBBox=i.viewBBox.shrink(a).shrink(di(i.appendPadding)),i.adjustCoordinate(),[r,n,t,e].forEach(function(o){o&&o.layout()})}var hf=function(){function i(){this.scales=new Map,this.syncScales=new Map}return i.prototype.createScale=function(r,t,e,n){var a=e,o=this.getScaleMeta(n);if(t.length===0&&o){var s=o.scale,l={type:s.type};s.isCategory&&(l.values=s.values),a=(0,f.deepMix)(l,o.scaleDef,e)}var u=Se(r,t,a);return this.cacheScale(u,e,n),u},i.prototype.sync=function(){var r=this;this.syncScales.forEach(function(t,e){var n=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER,o=[];(0,f.each)(t,function(s){var l=r.getScale(s);a=(0,f.isNumber)(l.max)?Math.max(a,l.max):a,n=(0,f.isNumber)(l.min)?Math.min(n,l.min):n,(0,f.each)(l.values,function(u){o.includes(u)||o.push(u)})}),(0,f.each)(t,function(s){var l=r.getScale(s);l.isContinuous?l.change({min:n,max:a,values:o}):l.isCategory&&l.change({values:o})})})},i.prototype.cacheScale=function(r,t,e){var n=this.getScaleMeta(e);n&&n.scale.type===r.type?(Ce(n.scale,r),n.scaleDef=t):(n={key:e,scale:r,scaleDef:t},this.scales.set(e,n));var a=this.getSyncKey(n);if(n.syncKey=a,this.removeFromSyncScales(e),a){var o=this.syncScales.get(a);o||(o=[],this.syncScales.set(a,o)),o.push(e)}},i.prototype.getScale=function(r){var t=this.getScaleMeta(r);if(!t){var e=(0,f.last)(r.split("-")),n=this.syncScales.get(e);n&&n.length&&(t=this.getScaleMeta(n[0]))}return t&&t.scale},i.prototype.deleteScale=function(r){var t=this.getScaleMeta(r);if(t){var e=t.syncKey,n=this.syncScales.get(e);if(n&&n.length){var a=n.indexOf(r);a!==-1&&n.splice(a,1)}}this.scales.delete(r)},i.prototype.clear=function(){this.scales.clear(),this.syncScales.clear()},i.prototype.removeFromSyncScales=function(r){var t=this;this.syncScales.forEach(function(e,n){var a=e.indexOf(r);if(a!==-1)return e.splice(a,1),e.length===0&&t.syncScales.delete(n),!1})},i.prototype.getSyncKey=function(r){var t=r.scale,e=r.scaleDef,n=t.field,a=(0,f.get)(e,["sync"]);return a===!0?n:a===!1?void 0:a},i.prototype.getScaleMeta=function(r){return this.scales.get(r)},i}(),ul=function(i){(0,$.__extends)(r,i);function r(t){var e=i.call(this,{visible:t.visible})||this;e.id=(0,f.uniqueId)("view"),e.views=[],e.geometries=[],e.controllers=[],e.interactions={},e.limitInPlot=!1,e.options={data:[],animate:!0},e.usedControllers=Nt(),e.scalePool=new hf,e.layoutFunc=Oo,e.isPreMouseInPlot=!1,e.isDataChanged=!1,e.isCoordinateChanged=!1,e.createdScaleKeys=new Map,e.onCanvasEvent=function(Y){var V=Y.name;if(!V.includes(":")){var z=e.createViewEvent(Y);e.doPlotEvent(z),e.emit(V,z)}},e.onDelegateEvents=function(Y){var V=Y.name;if(!!V.includes(":")){var z=e.createViewEvent(Y);e.emit(V,z)}};var n=t.parent,a=t.canvas,o=t.backgroundGroup,s=t.middleGroup,l=t.foregroundGroup,u=t.region,h=u===void 0?{start:{x:0,y:0},end:{x:1,y:1}}:u,c=t.padding,v=t.appendPadding,g=t.theme,M=t.options,F=t.limitInPlot;return e.parent=n,e.canvas=a,e.backgroundGroup=o,e.middleGroup=s,e.foregroundGroup=l,e.region=h,e.padding=c,e.appendPadding=v,e.options=(0,$.__assign)((0,$.__assign)({},e.options),M),e.limitInPlot=F,e.themeObject=(0,f.isObject)(g)?(0,f.deepMix)({},R("default"),g):R(g),e.init(),e}return r.prototype.setLayout=function(t){this.layoutFunc=t},r.prototype.init=function(){this.calculateViewBBox(),this.initEvents(),this.initComponentController(),this.coordinateController=new Te(this.options.coordinate),this.initOptions();for(var t=this.views,e=0;e<t.length;e++)t[e].init()},r.prototype.render=function(t){t===void 0&&(t=!1),this.emit(Gt.BEFORE_RENDER),this.paint(t),this.emit(Gt.AFTER_RENDER),this.visible===!1&&this.changeVisible(!1)},r.prototype.clear=function(){var t=this;this.emit(Gt.BEFORE_CLEAR),this.filteredData=[],this.coordinateInstance=void 0,this.isDataChanged=!1,this.isCoordinateChanged=!1;for(var e=this.geometries,n=0;n<e.length;n++)e[n].clear();this.geometries=[];for(var a=this.controllers,n=0;n<a.length;n++)a[n].clear();this.createdScaleKeys.forEach(function(s,l){t.getRootView().scalePool.deleteScale(l)}),this.createdScaleKeys.clear();for(var o=this.views,n=0;n<o.length;n++)o[n].clear();this.emit(Gt.AFTER_CLEAR)},r.prototype.destroy=function(){this.emit(Gt.BEFORE_DESTROY);var t=this.interactions;(0,f.each)(t,function(s){s&&s.destroy()}),this.clear();for(var e=this.controllers,n=0,a=e.length;n<a;n++){var o=e[n];o.destroy()}this.backgroundGroup.remove(!0),this.middleGroup.remove(!0),this.foregroundGroup.remove(!0),i.prototype.destroy.call(this)},r.prototype.changeVisible=function(t){i.prototype.changeVisible.call(this,t);for(var e=this.geometries,n=0,a=e.length;n<a;n++){var o=e[n];o.changeVisible(t)}for(var s=this.controllers,n=0,a=s.length;n<a;n++){var l=s[n];l.changeVisible(t)}return this.foregroundGroup.set("visible",t),this.middleGroup.set("visible",t),this.backgroundGroup.set("visible",t),this.getCanvas().draw(),this},r.prototype.data=function(t){return(0,f.set)(this.options,"data",t),this.isDataChanged=!0,this},r.prototype.source=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.data() instead."),this.data(t)},r.prototype.filter=function(t,e){return(0,f.isFunction)(e)?((0,f.set)(this.options,["filters",t],e),this):(!e&&(0,f.get)(this.options,["filters",t])&&delete this.options.filters[t],this)},r.prototype.axis=function(t,e){return(0,f.isBoolean)(t)?(0,f.set)(this.options,["axes"],t):(0,f.set)(this.options,["axes",t],e),this},r.prototype.legend=function(t,e){return(0,f.isBoolean)(t)?(0,f.set)(this.options,["legends"],t):(0,f.isString)(t)?(0,f.set)(this.options,["legends",t],e):(0,f.set)(this.options,["legends"],t),this},r.prototype.scale=function(t,e){var n=this;return(0,f.isString)(t)?(0,f.set)(this.options,["scales",t],e):(0,f.isObject)(t)&&(0,f.each)(t,function(a,o){(0,f.set)(n.options,["scales",o],a)}),this},r.prototype.tooltip=function(t){return(0,f.set)(this.options,"tooltip",t),this},r.prototype.annotation=function(){return this.getController("annotation")},r.prototype.guide=function(){return console.warn("This method will be removed at G2 V4.1. Please use chart.annotation() instead."),this.annotation()},r.prototype.coordinate=function(t,e){return(0,f.isString)(t)?(0,f.set)(this.options,"coordinate",{type:t,cfg:e}):(0,f.set)(this.options,"coordinate",t),this.coordinateController.update(this.options.coordinate),this.coordinateController},r.prototype.coord=function(t,e){return console.warn("This method will be removed at G2 V4.1. Please use chart.coordinate() instead."),this.coordinate(t,e)},r.prototype.facet=function(t,e){this.facetInstance&&this.facetInstance.destroy();var n=jr(t);if(!n)throw new Error("facet '"+t+"' is not exist!");return this.facetInstance=new n(this,(0,$.__assign)((0,$.__assign)({},e),{type:t})),this},r.prototype.animate=function(t){return(0,f.set)(this.options,"animate",t),this},r.prototype.updateOptions=function(t){return this.clear(),(0,f.mix)(this.options,t),this.initOptions(),this},r.prototype.option=function(t,e){if(r.prototype[t])throw new Error(`Can't use built in variable name "`+t+'", please change another one.');return(0,f.set)(this.options,t,e),this},r.prototype.theme=function(t){return this.themeObject=(0,f.isObject)(t)?(0,f.deepMix)({},this.themeObject,t):R(t),this},r.prototype.interaction=function(t,e){var n=this.interactions[t];n&&n.destroy();var a=eo(t,this,e);return a&&(a.init(),this.interactions[t]=a),this},r.prototype.removeInteraction=function(t){var e=this.interactions[t];e&&(e.destroy(),this.interactions[t]=void 0)},r.prototype.changeData=function(t){this.isDataChanged=!0,this.emit(Gt.BEFORE_CHANGE_DATA),this.data(t),this.paint(!0);for(var e=this.views,n=0,a=e.length;n<a;n++){var o=e[n];o.changeData(t)}this.emit(Gt.AFTER_CHANGE_DATA)},r.prototype.createView=function(t){var e={data:this.options.data,scales:(0,f.clone)(this.options.scales),axes:(0,f.clone)(this.options.axes),coordinate:(0,f.clone)(this.coordinateController.getOption()),tooltip:(0,f.clone)(this.options.tooltip),legends:(0,f.clone)(this.options.legends),animate:this.options.animate,visible:this.visible},n=new r((0,$.__assign)((0,$.__assign)({parent:this,canvas:this.canvas,backgroundGroup:this.backgroundGroup.addGroup({zIndex:qt.BG}),middleGroup:this.middleGroup.addGroup({zIndex:qt.MID}),foregroundGroup:this.foregroundGroup.addGroup({zIndex:qt.FORE}),theme:this.themeObject,padding:this.padding},t),{options:(0,$.__assign)((0,$.__assign)({},e),(0,f.get)(t,"options",{}))}));return this.views.push(n),n},r.prototype.view=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.createView() instead."),this.createView(t)},r.prototype.removeView=function(t){var e=(0,f.remove)(this.views,function(n){return n===t})[0];return e&&e.destroy(),e},r.prototype.getCoordinate=function(){return this.coordinateInstance},r.prototype.getTheme=function(){return this.themeObject},r.prototype.getXScale=function(){var t=this.geometries[0];return t?t.getXScale():null},r.prototype.getYScales=function(){var t={};return this.geometries.map(function(e){var n=e.getYScale(),a=n.field;if(!t[a])return t[a]=!0,n})},r.prototype.getScalesByDim=function(t){for(var e=this.geometries,n={},a=0,o=e.length;a<o;a++){var s=e[a],l=t==="x"?s.getXScale():s.getYScale();l&&!n[l.field]&&(n[l.field]=l)}return n},r.prototype.getScaleByField=function(t,e){var n=e||this.getScaleKey(t);return this.getRootView().scalePool.getScale(n)},r.prototype.getOptions=function(){return this.options},r.prototype.getData=function(){return this.filteredData},r.prototype.getLayer=function(t){return t===xt.BG?this.backgroundGroup:t===xt.MID?this.middleGroup:t===xt.FORE?this.foregroundGroup:this.foregroundGroup},r.prototype.isPointInPlot=function(t){return oa(this.getCoordinate(),t)},r.prototype.getLegendAttributes=function(){return(0,f.flatten)(this.geometries.map(function(t){return t.getGroupAttributes()}))},r.prototype.getGroupScales=function(){var t=this.geometries.map(function(e){return e.getGroupScales()});return Gn((0,f.flatten)(t))},r.prototype.getCanvas=function(){return this.getRootView().canvas},r.prototype.getRootView=function(){for(var t=this;;){if(t.parent){t=t.parent;continue}break}return t},r.prototype.getXY=function(t){var e=this.getCoordinate(),n=this.getScalesByDim("x"),a=this.getScalesByDim("y"),o,s;if((0,f.each)(t,function(l,u){n[u]&&(o=n[u].scale(l)),a[u]&&(s=a[u].scale(l))}),!(0,f.isNil)(o)&&!(0,f.isNil)(s))return e.convert({x:o,y:s})},r.prototype.getController=function(t){return(0,f.find)(this.controllers,function(e){return e.name===t})},r.prototype.showTooltip=function(t){var e=this.getController("tooltip");return e&&e.showTooltip(t),this},r.prototype.hideTooltip=function(){var t=this.getController("tooltip");return t&&t.hideTooltip(),this},r.prototype.lockTooltip=function(){var t=this.getController("tooltip");return t&&t.lockTooltip(),this},r.prototype.unlockTooltip=function(){var t=this.getController("tooltip");return t&&t.unlockTooltip(),this},r.prototype.isTooltipLocked=function(){var t=this.getController("tooltip");return t&&t.isTooltipLocked()},r.prototype.getTooltipItems=function(t){var e=this.getController("tooltip");return e?e.getTooltipItems(t):[]},r.prototype.getSnapRecords=function(t){for(var e=this.geometries,n=[],a=0,o=e.length;a<o;a++){var s=e[a],l=s.dataArray;s.sort(l);for(var u=void 0,h=0,c=l.length;h<c;h++){var v=l[h];u=be(t,v,s),u&&n.push(u)}}for(var g=this.views,a=0,o=g.length;a<o;a++){var M=g[a],F=M.getSnapRecords(t);n=n.concat(F)}return n},r.prototype.getComponents=function(){for(var t=[],e=this.controllers,n=0,a=e.length;n<a;n++){var o=e[n];t=t.concat(o.getComponents())}return t},r.prototype.filterData=function(t){var e=this.options.filters;return(0,f.size)(e)===0?t:(0,f.filter)(t,function(n,a){var o=Object.keys(e);return o.every(function(s){var l=e[s];return l(n[s],n,a)})})},r.prototype.filterFieldData=function(t,e){var n=this.options.filters,a=(0,f.get)(n,t);return(0,f.isUndefined)(a)?e:e.filter(function(o,s){return a(o[t],o,s)})},r.prototype.adjustCoordinate=function(){var t=this.getCoordinate(),e=t.start,n=t.end,a=this.coordinateBBox.bl,o=this.coordinateBBox.tr;if((0,f.isEqual)(e,a)&&(0,f.isEqual)(n,o)){this.isCoordinateChanged=!1;return}this.isCoordinateChanged=!0,this.coordinateInstance=this.coordinateController.adjust(a,o)},r.prototype.paint=function(t){this.renderDataRecursive(t),this.syncScale(),this.emit(Gt.BEFORE_PAINT),this.renderBackgroundStyleShape(),this.renderLayoutRecursive(t),this.renderPaintRecursive(t),this.emit(Gt.AFTER_PAINT),this.isDataChanged=!1},r.prototype.renderBackgroundStyleShape=function(){if(!this.parent){var t=(0,f.get)(this.themeObject,"background");if(t){this.backgruondStyleRectShape||(this.backgruondStyleRectShape=this.backgroundGroup.addShape("rect",{attrs:{zIndex:-1}}));var e=this.viewBBox,n=e.x,a=e.y,o=e.width,s=e.height;this.backgruondStyleRectShape.attr({fill:t,x:n,y:a,width:o,height:s})}else this.backgruondStyleRectShape&&(this.backgruondStyleRectShape.remove(!0),this.backgruondStyleRectShape=void 0)}},r.prototype.renderLayoutRecursive=function(t){this.calculateViewBBox(),this.adjustCoordinate(),this.initComponents(t),this.doLayout();var e=this.viewBBox,n=this.coordinateBBox;fn(this.padding)&&(this.autoPadding=[n.tl.y-e.tl.y,e.tr.x-n.tr.x,e.bl.y-n.bl.y,n.tl.x-e.tl.x]);for(var a=this.views,o=0,s=a.length;o<s;o++){var l=a[o];l.renderLayoutRecursive(t)}},r.prototype.renderPaintRecursive=function(t){if(this.limitInPlot){var e=this.middleGroup,n=sa(this.coordinateInstance),a=n.type,o=n.attrs;e.setClip({type:a,attrs:o})}this.paintGeometries(t),this.renderComponents(t);for(var s=this.views,l=0,u=s.length;l<u;l++){var h=s[l];h.renderPaintRecursive(t)}},r.prototype.createScale=function(t,e,n,a){var o=(0,f.get)(this.options.scales,[t]),s=(0,$.__assign)((0,$.__assign)({},o),n);return this.parent?this.parent.createScale(t,e,s,a):this.scalePool.createScale(t,e,s,a)},r.prototype.renderDataRecursive=function(t){this.doFilterData(),this.createCoordinate(),this.initGeometries(t),this.renderFacet(t);for(var e=this.views,n=0,a=e.length;n<a;n++){var o=e[n];o.renderDataRecursive(t)}},r.prototype.calculateViewBBox=function(){var t,e,n,a;if(this.parent){var o=this.parent.coordinateBBox;t=o.x,e=o.y,n=o.width,a=o.height}else t=0,e=0,n=this.canvas.get("width"),a=this.canvas.get("height");var s=this.region,l=s.start,u=s.end,h=new Ue(t+n*l.x,e+a*l.y,n*(u.x-l.x),a*(u.y-l.y));(!this.viewBBox||!this.viewBBox.isEqual(h))&&(this.viewBBox=new Ue(t+n*l.x,e+a*l.y,n*(u.x-l.x),a*(u.y-l.y)),this.coordinateBBox=this.viewBBox)},r.prototype.initEvents=function(){this.foregroundGroup.on("*",this.onDelegateEvents),this.middleGroup.on("*",this.onDelegateEvents),this.backgroundGroup.on("*",this.onDelegateEvents),this.canvas.on("*",this.onCanvasEvent)},r.prototype.initComponentController=function(){for(var t=this.usedControllers,e=0,n=t.length;e<n;e++){var a=t[e],o=Wt(a);o&&this.controllers.push(new o(this))}},r.prototype.createViewEvent=function(t){var e=t.shape,n=t.name,a=e?e.get("origin"):null,o=new Pr(this,t,a);return o.type=n,o},r.prototype.doPlotEvent=function(t){var e=t.type,n=t.x,a=t.y,o={x:n,y:a},s=["mousedown","mouseup","mousemove","mouseleave","mousewheel","touchstart","touchmove","touchend","touchcancel","click","dblclick","contextmenu"];if(s.includes(e)){var l=this.isPointInPlot(o);if(l){var u="plot:"+e;t.type=u,this.emit(u,t),(e==="mouseleave"||e==="touchend")&&(this.isPreMouseInPlot=!1)}e==="mousemove"||e==="touchmove"?(this.isPreMouseInPlot&&!l?(e==="mousemove"&&(t.type=Jt.MOUSE_LEAVE,this.emit(Jt.MOUSE_LEAVE,t)),t.type=Jt.LEAVE,this.emit(Jt.LEAVE,t)):!this.isPreMouseInPlot&&l&&(e==="mousemove"&&(t.type=Jt.MOUSE_ENTER,this.emit(Jt.MOUSE_ENTER,t)),t.type=Jt.ENTER,this.emit(Jt.ENTER,t)),this.isPreMouseInPlot=l):(e==="mouseleave"||e==="touchend")&&this.isPreMouseInPlot&&(e==="mouseleave"&&(t.type=Jt.MOUSE_LEAVE,this.emit(Jt.MOUSE_LEAVE,t)),t.type=Jt.LEAVE,this.emit(Jt.LEAVE,t),this.isPreMouseInPlot=!1)}},r.prototype.doFilterData=function(){var t=this.options.data;this.filteredData=this.filterData(t)},r.prototype.initGeometries=function(t){this.createOrUpdateScales();for(var e=this.getCoordinate(),n=(0,f.get)(this.options,"scales",{}),a=this.geometries,o=0,s=a.length;o<s;o++){var l=a[o];l.scales=this.getGeometryScales();var u={coordinate:e,scaleDefs:n,data:this.filteredData,theme:this.themeObject,isDataChanged:this.isDataChanged,isCoordinateChanged:this.isCoordinateChanged};t?l.update(u):l.init(u)}this.adjustScales()},r.prototype.createOrUpdateScales=function(){for(var t=this.getScaleFields(),e=this.getGroupedFields(),n=this.getOptions(),a=n.data,o=n.scales,s=o===void 0?{}:o,l=this.filteredData,u=0,h=t.length;u<h;u++){var c=t[u],v=s[c],g=this.getScaleKey(c);this.createScale(c,e.includes(c)?a:l,v,g),this.createdScaleKeys.set(g,!0)}},r.prototype.syncScale=function(){this.getRootView().scalePool.sync()},r.prototype.getGeometryScales=function(){for(var t=this.getScaleFields(),e={},n=0;n<t.length;n++){var a=t[n];e[a]=this.getScaleByField(a)}return e},r.prototype.getScaleFields=function(){for(var t=[],e={},n=this.geometries,a=0;a<n.length;a++){var o=n[a],s=o.getScaleFields();Gn(s,t,e)}return t},r.prototype.getGroupedFields=function(){for(var t=[],e={},n=this.geometries,a=0;a<n.length;a++){var o=n[a],s=o.getGroupFields();Gn(s,t,e)}return t},r.prototype.adjustScales=function(){this.adjustCategoryScaleRange()},r.prototype.adjustCategoryScaleRange=function(){var t=this,e=(0,$.__spreadArrays)([this.getXScale()],this.getYScales()).filter(function(o){return!!o}),n=this.getCoordinate(),a=this.options.scales;(0,f.each)(e,function(o){var s=o.field,l=o.values,u=o.isCategory,h=o.isIdentity;if((u||h)&&l&&!(0,f.get)(a,[s,"range"])){var c=l.length,v=void 0;if(c===1)v=[.5,1];else{var g=1,M=0;Oi(n)?n.isTransposed?(g=(0,f.get)(t.theme,"widthRatio.multiplePie",1/1.3),M=1/c*g,v=[M/2,1-M/2]):v=[0,1-1/c]:(M=1/c/2,v=[M,1-M])}o.range=v}})},r.prototype.initComponents=function(t){for(var e=this.controllers,n=0;n<e.length;n++){var a=e[n];t?a.update():(a.clear(),a.render())}},r.prototype.doLayout=function(){this.layoutFunc(this)},r.prototype.createCoordinate=function(){var t=this.coordinateBBox.bl,e=this.coordinateBBox.tr;this.coordinateInstance=this.coordinateController.create(t,e)},r.prototype.paintGeometries=function(t){for(var e=this.options.animate,n=this.getCoordinate(),a={x:this.viewBBox.x,y:this.viewBBox.y,minX:this.viewBBox.minX,minY:this.viewBBox.minY,maxX:this.viewBBox.maxX,maxY:this.viewBBox.maxY,width:this.viewBBox.width,height:this.viewBBox.height},o=this.geometries,s=0;s<o.length;s++){var l=o[s];l.coordinate=n,l.canvasRegion=a,e||l.animate(!1),l.paint(t)}},r.prototype.renderComponents=function(t){for(var e=0;e<this.getComponents().length;e++){var n=this.getComponents()[e];n.component.render()}},r.prototype.renderFacet=function(t){this.facetInstance&&(t?this.facetInstance.update():(this.facetInstance.clear(),this.facetInstance.init(),this.facetInstance.render()))},r.prototype.initOptions=function(){for(var t=this.options,e=t.geometries,n=e===void 0?[]:e,a=t.interactions,o=a===void 0?[]:a,s=t.views,l=s===void 0?[]:s,u=t.annotations,h=u===void 0?[]:u,c=0;c<n.length;c++){var v=n[c];this.createGeometry(v)}for(var g=0;g<o.length;g++){var M=o[g],F=M.type,Y=M.cfg;this.interaction(F,Y)}for(var V=0;V<l.length;V++){var z=l[V];this.createView(z)}for(var it=this.getController("annotation"),ot=0;ot<h.length;ot++){var yt=h[ot];it.annotation(yt)}},r.prototype.createGeometry=function(t){var e=t.type,n=t.cfg,a=n===void 0?{}:n;if(this[e]){var o=this[e](a);(0,f.each)(t,function(s,l){(0,f.isFunction)(o[l])&&o[l](s)})}},r.prototype.getScaleKey=function(t){return this.id+"-"+t},r}(vr);function ya(i,r){ul.prototype[i.toLowerCase()]=function(t){t===void 0&&(t={});var e=(0,$.__assign)({container:this.middleGroup.addGroup(),labelsContainer:this.foregroundGroup.addGroup()},t),n=new r(e);return this.geometries.push(n),n}}var $o=ul,fl=function(i){(0,$.__extends)(r,i);function r(t){var e=this,n=t.container,a=t.width,o=t.height,s=t.autoFit,l=s===void 0?!1:s,u=t.padding,h=t.appendPadding,c=t.renderer,v=c===void 0?"canvas":c,g=t.pixelRatio,M=t.localRefresh,F=M===void 0?!0:M,Y=t.visible,V=Y===void 0?!0:Y,z=t.defaultInteractions,it=z===void 0?["tooltip","legend-filter","legend-active","continuous-filter","ellipsis-text"]:z,ot=t.options,yt=t.limitInPlot,It=t.theme,zt=(0,f.isString)(n)?document.getElementById(n):n,jt=(0,St.Z)('<div style="position:relative;"></div>');zt.appendChild(jt);var Rt=we(zt,l,a,o),re=ut(v),de=new re.Canvas((0,$.__assign)({container:jt,pixelRatio:g,localRefresh:F},Rt));return e=i.call(this,{parent:null,canvas:de,backgroundGroup:de.addGroup({zIndex:qt.BG}),middleGroup:de.addGroup({zIndex:qt.MID}),foregroundGroup:de.addGroup({zIndex:qt.FORE}),padding:u,appendPadding:h,visible:V,options:ot,limitInPlot:yt,theme:It})||this,e.onResize=(0,f.debounce)(function(){e.forceFit()},300),e.ele=zt,e.canvas=de,e.width=Rt.width,e.height=Rt.height,e.autoFit=l,e.localRefresh=F,e.renderer=v,e.wrapperElement=jt,e.updateCanvasStyle(),e.bindAutoFit(),e.initDefaultInteractions(it),e}return r.prototype.initDefaultInteractions=function(t){var e=this;(0,f.each)(t,function(n){e.interaction(n)})},r.prototype.changeSize=function(t,e){return this.width===t&&this.height===e?this:(this.width=t,this.height=e,this.canvas.changeSize(t,e),this.render(!0),this)},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.unbindAutoFit(),this.canvas.destroy(),Ie(this.wrapperElement),this.wrapperElement=null},r.prototype.changeVisible=function(t){return i.prototype.changeVisible.call(this,t),this.wrapperElement.style.display=t?"":"none",this},r.prototype.forceFit=function(){if(!this.destroyed){var t=we(this.ele,!0,this.width,this.height),e=t.width,n=t.height;this.changeSize(e,n)}},r.prototype.updateCanvasStyle=function(){(0,Ot.Z)(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},r.prototype.bindAutoFit=function(){this.autoFit&&window.addEventListener("resize",this.onResize)},r.prototype.unbindAutoFit=function(){this.autoFit&&window.removeEventListener("resize",this.onResize)},r}($o),hl=fl,ro=function(){function i(r){this.visible=!0,this.components=[],this.view=r}return i.prototype.clear=function(){(0,f.each)(this.components,function(r){r.component.destroy()}),this.components=[]},i.prototype.destroy=function(){this.clear()},i.prototype.getComponents=function(){return this.components},i.prototype.changeVisible=function(r){this.visible!==r&&(this.components.forEach(function(t){r?t.component.show():t.component.hide()}),this.visible=r)},i}(),no=0,cl=1/2,vl=1/2,dl=.05,Xa=function(){function i(r){var t=r.xField,e=r.yField,n=r.adjustNames,a=n===void 0?["x","y"]:n,o=r.dimValuesMap;this.adjustNames=a,this.xField=t,this.yField=e,this.dimValuesMap=o}return i.prototype.isAdjust=function(r){return this.adjustNames.indexOf(r)>=0},i.prototype.getAdjustRange=function(r,t,e){var n=this.yField,a=e.indexOf(t),o=e.length,s,l;return!n&&this.isAdjust("y")?(s=0,l=1):o>1?(s=e[a===0?0:a-1],l=e[a===o-1?o-1:a+1],a!==0?s+=(t-s)/2:s-=(l-t)/2,a!==o-1?l-=(l-t)/2:l+=(t-e[o-2])/2):(s=t===0?0:t-.5,l=t===0?1:t+.5),{pre:s,next:l}},i.prototype.adjustData=function(r,t){var e=this,n=this.getDimValues(t);f.each(r,function(a,o){f.each(n,function(s,l){e.adjustDim(l,s,a,o)})})},i.prototype.groupData=function(r,t){return f.each(r,function(e){e[t]===void 0&&(e[t]=no)}),f.groupBy(r,t)},i.prototype.adjustDim=function(r,t,e,n){},i.prototype.getDimValues=function(r){var t=this,e=t.xField,n=t.yField,a=f.assign({},this.dimValuesMap),o=[];if(e&&this.isAdjust("x")&&o.push(e),n&&this.isAdjust("y")&&o.push(n),o.forEach(function(l){a&&a[l]||(a[l]=f.valuesOfKey(r,l).sort(function(u,h){return u-h}))}),!n&&this.isAdjust("y")){var s="y";a[s]=[no,1]}return a},i}(),Qo=Xa,Cs={},Ms=function(i){return Cs[i.toLowerCase()]},io=function(i,r){if(Ms(i))throw new Error("Adjust type '"+i+"' existed.");Cs[i.toLowerCase()]=r},Yt=d(8108),cf=function(i){(0,Yt.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.cacheMap={},e.adjustDataArray=[],e.mergeData=[];var n=t.marginRatio,a=n===void 0?cl:n,o=t.dodgeRatio,s=o===void 0?vl:o,l=t.dodgeBy,u=t.intervalPadding,h=t.dodgePadding,c=t.xDimensionLength,v=t.groupNum,g=t.defaultSize,M=t.maxColumnWidth,F=t.minColumnWidth,Y=t.columnWidthRatio,V=t.customOffset;return e.marginRatio=a,e.dodgeRatio=s,e.dodgeBy=l,e.intervalPadding=u,e.dodgePadding=h,e.xDimensionLegenth=c,e.groupNum=v,e.defaultSize=g,e.maxColumnWidth=M,e.minColumnWidth=F,e.columnWidthRatio=Y,e.customOffset=V,e}return r.prototype.process=function(t){var e=f.clone(t),n=f.flatten(e),a=this.dodgeBy,o=a?f.group(n,a):e;return this.cacheMap={},this.adjustDataArray=o,this.mergeData=n,this.adjustData(o,n),this.adjustDataArray=[],this.mergeData=[],e},r.prototype.adjustDim=function(t,e,n,a){var o=this,s=this.customOffset,l=this.getDistribution(t),u=this.groupData(n,t);return f.each(u,function(h,c){var v;e.length===1?v={pre:e[0]-1,next:e[0]+1}:v=o.getAdjustRange(t,parseFloat(c),e),f.each(h,function(g){var M=g[t],F=l[M],Y=F.indexOf(a);if(f.isNil(s))g[t]=o.getDodgeOffset(v,Y,F.length);else{var V=v.pre,z=v.next;g[t]=f.isFunction(s)?s(g,v):(V+z)/2+s}})}),[]},r.prototype.getDodgeOffset=function(t,e,n){var a=this,o=a.dodgeRatio,s=a.marginRatio,l=a.intervalPadding,u=a.dodgePadding,h=t.pre,c=t.next,v=c-h,g;if(!f.isNil(l)&&f.isNil(u)&&l>=0){var M=this.getIntervalOnlyOffset(n,e);g=h+M}else if(!f.isNil(u)&&f.isNil(l)&&u>=0){var M=this.getDodgeOnlyOffset(n,e);g=h+M}else if(!f.isNil(l)&&!f.isNil(u)&&l>=0&&u>=0){var M=this.getIntervalAndDodgeOffset(n,e);g=h+M}else{var F=v*o/n,Y=s*F,M=1/2*(v-n*F-(n-1)*Y)+((e+1)*F+e*Y)-1/2*F-1/2*v;g=(h+c)/2+M}return g},r.prototype.getIntervalOnlyOffset=function(t,e){var n=this,a=n.defaultSize,o=n.intervalPadding,s=n.xDimensionLegenth,l=n.groupNum,u=n.dodgeRatio,h=n.maxColumnWidth,c=n.minColumnWidth,v=n.columnWidthRatio,g=o/s,M=(1-(l-1)*g)/l*u/(t-1),F=((1-g*(l-1))/l-M*(t-1))/t;if(F=f.isNil(v)?F:1/l/t*v,!f.isNil(h)){var Y=h/s;F=Math.min(F,Y)}if(!f.isNil(c)){var V=c/s;F=Math.max(F,V)}F=a?a/s:F,M=((1-(l-1)*g)/l-t*F)/(t-1);var z=((1/2+e)*F+e*M+1/2*g)*l-g/2;return z},r.prototype.getDodgeOnlyOffset=function(t,e){var n=this,a=n.defaultSize,o=n.dodgePadding,s=n.xDimensionLegenth,l=n.groupNum,u=n.marginRatio,h=n.maxColumnWidth,c=n.minColumnWidth,v=n.columnWidthRatio,g=o/s,M=1*u/(l-1),F=((1-M*(l-1))/l-g*(t-1))/t;if(F=v?1/l/t*v:F,!f.isNil(h)){var Y=h/s;F=Math.min(F,Y)}if(!f.isNil(c)){var V=c/s;F=Math.max(F,V)}F=a?a/s:F,M=(1-(F*t+g*(t-1))*l)/(l-1);var z=((1/2+e)*F+e*g+1/2*M)*l-M/2;return z},r.prototype.getIntervalAndDodgeOffset=function(t,e){var n=this,a=n.intervalPadding,o=n.dodgePadding,s=n.xDimensionLegenth,l=n.groupNum,u=a/s,h=o/s,c=((1-u*(l-1))/l-h*(t-1))/t,v=((1/2+e)*c+e*h+1/2*u)*l-u/2;return v},r.prototype.getDistribution=function(t){var e=this.adjustDataArray,n=this.cacheMap,a=n[t];return a||(a={},f.each(e,function(o,s){var l=f.valuesOfKey(o,t);l.length||l.push(0),f.each(l,function(u){a[u]||(a[u]=[]),a[u].push(s)})}),n[t]=a),a},r}(Qo),yb=cf;function mb(i,r){return(r-i)*Math.random()+i}var xb=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.process=function(t){var e=f.clone(t),n=f.flatten(e);return this.adjustData(e,n),e},r.prototype.adjustDim=function(t,e,n){var a=this,o=this.groupData(n,t);return f.each(o,function(s,l){return a.adjustGroup(s,t,parseFloat(l),e)})},r.prototype.getAdjustOffset=function(t){var e=t.pre,n=t.next,a=(n-e)*dl;return mb(e+a,n-a)},r.prototype.adjustGroup=function(t,e,n,a){var o=this,s=this.getAdjustRange(e,n,a);return f.each(t,function(l){l[e]=o.getAdjustOffset(s)}),t},r}(Qo),bb=xb,vf=f.Cache,wb=function(i){(0,Yt.__extends)(r,i);function r(t){var e=i.call(this,t)||this,n=t.adjustNames,a=n===void 0?["y"]:n,o=t.height,s=o===void 0?NaN:o,l=t.size,u=l===void 0?10:l,h=t.reverseOrder,c=h===void 0?!1:h;return e.adjustNames=a,e.height=s,e.size=u,e.reverseOrder=c,e}return r.prototype.process=function(t){var e=this,n=e.yField,a=e.reverseOrder,o=n?this.processStack(t):this.processOneDimStack(t);return a?this.reverse(o):o},r.prototype.reverse=function(t){return t.slice(0).reverse()},r.prototype.processStack=function(t){var e=this,n=e.xField,a=e.yField,o=e.reverseOrder,s=o?this.reverse(t):t,l=new vf,u=new vf;return s.map(function(h){return h.map(function(c){var v,g=f.get(c,n,0),M=f.get(c,[a]),F=g.toString();if(M=f.isArray(M)?M[1]:M,!f.isNil(M)){var Y=M>=0?l:u;Y.has(F)||Y.set(F,0);var V=Y.get(F),z=M+V;return Y.set(F,z),(0,Yt.__assign)((0,Yt.__assign)({},c),(v={},v[a]=[V,z],v))}return c})})},r.prototype.processOneDimStack=function(t){var e=this,n=this,a=n.xField,o=n.height,s=n.reverseOrder,l="y",u=s?this.reverse(t):t,h=new vf;return u.map(function(c){return c.map(function(v){var g,M=e.size,F=v[a],Y=M*2/o;h.has(F)||h.set(F,Y/2);var V=h.get(F);return h.set(F,V+Y),(0,Yt.__assign)((0,Yt.__assign)({},v),(g={},g[l]=V,g))})})},r}(Qo),Sb=wb,Cb=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.process=function(t){var e=f.flatten(t),n=this,a=n.xField,o=n.yField,s=this.getXValuesMaxMap(e),l=Math.max.apply(Math,Object.keys(s).map(function(u){return s[u]}));return f.map(t,function(u){return f.map(u,function(h){var c,v,g=h[o],M=h[a];if(f.isArray(g)){var F=(l-s[M])/2;return(0,Yt.__assign)((0,Yt.__assign)({},h),(c={},c[o]=f.map(g,function(V){return F+V}),c))}var Y=(l-g)/2;return(0,Yt.__assign)((0,Yt.__assign)({},h),(v={},v[o]=[Y,g+Y],v))})})},r.prototype.getXValuesMaxMap=function(t){var e=this,n=this,a=n.xField,o=n.yField,s=f.groupBy(t,function(l){return l[a]});return f.mapValues(s,function(l){return e.getDimMaxValue(l,o)})},r.prototype.getDimMaxValue=function(t,e){var n=f.map(t,function(o){return f.get(o,e,[])}),a=f.flatten(n);return Math.max.apply(Math,a)},r}(Qo),Mb=Cb;io("Dodge",yb),io("Jitter",bb),io("Stack",Sb),io("Symmetric",Mb);var Yc={};function df(i){return Yc[i.toLowerCase()]}function ui(i,r){Yc[i.toLowerCase()]=r}var Jo={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},Eb={interval:function(i){return{enter:{animation:i.isRect?i.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:i.isPolar&&i.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},Gc={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(i){var r;return i.isRect?r=i.isTransposed?"grow-in-x":"grow-in-y":(r="grow-in-xy",i.isPolar&&i.isTransposed&&(r="wave-in")),{animation:r}},schema:function(i){var r;return i.isRect?r=i.isTransposed?"grow-in-x":"grow-in-y":r="grow-in-xy",{animation:r}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function Ab(i,r){return{delay:(0,f.isFunction)(i.delay)?i.delay(r):i.delay,easing:(0,f.isFunction)(i.easing)?i.easing(r):i.easing,duration:(0,f.isFunction)(i.duration)?i.duration(r):i.duration,callback:i.callback}}function zc(i,r,t){var e=Eb[i];return e&&((0,f.isFunction)(e)&&(e=e(r)),e=(0,f.deepMix)({},Jo,e),t)?e[t]:e}function qo(i,r,t){var e=(0,f.get)(i.get("origin"),"data",Kt),n=r.animation,a=Ab(r,e);if(n){var o=df(n);o&&o(i,a,t)}else i.animate(t.toAttrs,a)}function Tb(i,r,t,e,n){if(Gc[t]){var a=Gc[t](e),o=df((0,f.get)(a,"animation",""));if(o){var s=(0,$.__assign)((0,$.__assign)((0,$.__assign)({},Jo.appear),a),r);i.stopAnimate(),o(i,s,{coordinate:e,minYPoint:n,toAttrs:null})}}}var Pb=d(31207),_b=function(i){(0,$.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.states=[];var n=t.shapeFactory,a=t.container,o=t.offscreenGroup,s=t.visible,l=s===void 0?!0:s;return e.shapeFactory=n,e.container=a,e.offscreenGroup=o,e.visible=l,e}return r.prototype.draw=function(t,e){e===void 0&&(e=!1),this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.drawShape(t,e),this.visible===!1&&this.changeVisible(!1)},r.prototype.update=function(t){var e=this,n=e.shapeFactory,a=e.shape;if(!!a){this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.setShapeInfo(a,t);var o=this.getOffscreenGroup(),s=n.drawShape(this.shapeType,t,o);s.cfg.data=this.data,s.cfg.origin=t,this.syncShapeStyle(a,s,"",this.getAnimateCfg("update"))}},r.prototype.destroy=function(){var t=this,e=t.shapeFactory,n=t.shape;if(n){var a=this.getAnimateCfg("leave");a?qo(n,a,{coordinate:e.coordinate,toAttrs:(0,$.__assign)({},n.attr())}):n.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=void 0,this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,i.prototype.destroy.call(this)},r.prototype.changeVisible=function(t){i.prototype.changeVisible.call(this,t),t?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(e){e.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(e){e.hide()}))},r.prototype.setState=function(t,e){var n=this,a=this,o=a.states,s=a.shapeFactory,l=a.model,u=a.shape,h=a.shapeType,c=o.indexOf(t);if(e){if(c>-1)return;o.push(t),(t==="active"||t==="selected")&&u.toFront()}else{if(c===-1)return;o.splice(c,1),(t==="active"||t==="selected")&&u.toBack()}var v=s.drawShape(h,l,this.getOffscreenGroup());o.length?o.forEach(function(M){n.syncShapeStyle(u,v,M,null)}):this.syncShapeStyle(u,v,"reset",null),v.remove(!0);var g={state:t,stateStatus:e,element:this,target:this.container};this.container.emit("statechange",g),(0,Pb.propagationDelegate)(this.shape,"statechange",g)},r.prototype.clearStates=function(){var t=this,e=this.states;(0,f.each)(e,function(n){t.setState(n,!1)}),this.states=[]},r.prototype.hasState=function(t){return this.states.includes(t)},r.prototype.getStates=function(){return this.states},r.prototype.getData=function(){return this.data},r.prototype.getModel=function(){return this.model},r.prototype.getBBox=function(){var t=this,e=t.shape,n=t.labelShape,a={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return e&&(a=e.getCanvasBBox()),n&&n.forEach(function(o){var s=o.getCanvasBBox();a.x=Math.min(s.x,a.x),a.y=Math.min(s.y,a.y),a.minX=Math.min(s.minX,a.minX),a.minY=Math.min(s.minY,a.minY),a.maxX=Math.max(s.maxX,a.maxX),a.maxY=Math.max(s.maxY,a.maxY)}),a.width=a.maxX-a.minX,a.height=a.maxY-a.minY,a},r.prototype.getStatesStyle=function(){if(!this.statesStyle){var t=this,e=t.shapeType,n=t.geometry,a=t.shapeFactory,o=n.stateOption,s=a.defaultShapeType,l=a.theme[e]||a.theme[s];this.statesStyle=(0,f.deepMix)({},l,o)}return this.statesStyle},r.prototype.getStateStyle=function(t,e){var n=this.getStatesStyle(),a=(0,f.get)(n,[t,"style"],{}),o=a[e]||a;return(0,f.isFunction)(o)?o(this):o},r.prototype.getAnimateCfg=function(t){var e=this.animate;return e?e[t]:null},r.prototype.drawShape=function(t,e){e===void 0&&(e=!1);var n=this,a=n.shapeFactory,o=n.container,s=n.shapeType;if(this.shape=a.drawShape(s,t,o),this.shape){this.setShapeInfo(this.shape,t);var l=this.shape.cfg.name;l?(0,f.isString)(l)&&(this.shape.cfg.name=["element",l]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var u=e?"enter":"appear",h=this.getAnimateCfg(u);h&&qo(this.shape,h,{coordinate:a.coordinate,toAttrs:(0,$.__assign)({},this.shape.attr())})}},r.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},r.prototype.setShapeInfo=function(t,e){var n=this;if(t.cfg.origin=e,t.cfg.element=this,t.isGroup()){var a=t.get("children");a.forEach(function(o){n.setShapeInfo(o,e)})}},r.prototype.syncShapeStyle=function(t,e,n,a,o){if(n===void 0&&(n=""),o===void 0&&(o=0),t.isGroup())for(var s=t.get("children"),l=e.get("children"),u=0;u<s.length;u++)this.syncShapeStyle(s[u],l[u],n,a,o+u);else{if(n&&n!=="reset"){var h=t.get("name");(0,f.isArray)(h)&&(h=h[1]);var c=this.getStateStyle(n,h||o);e.attr(c)}var v=Vn(t,e);this.animate?a?qo(t,a,{coordinate:this.shapeFactory.coordinate,toAttrs:v,shapeModel:this.model}):n?(t.stopAnimate(),t.animate(v,{duration:300})):t.attr(v):t.attr(v)}},r.prototype.getShapeType=function(t){var e=(0,f.get)(t,"shape");return(0,f.isArray)(e)?e[0]:e},r}(vr),Xc=_b,Vc={},Hc={};function Wc(i){return Vc[i.toLowerCase()]}function Es(i,r){Vc[i.toLowerCase()]=r}function jc(i){return Hc[i.toLowerCase()]}function Io(i,r){Hc[i.toLowerCase()]=r}var pl=d(57350),Lb={coordinate:null,defaultShapeType:null,theme:null,getShapePoints:function(i,r){var t=this.getShape(i);return t.getPoints?t.getPoints(r):this.getDefaultPoints(r)},getShape:function(i){var r=this[i]||this[this.defaultShapeType];return r.coordinate=this.coordinate,r},getDefaultPoints:function(){return[]},getMarker:function(i,r){var t=this.getShape(i);if(!t.getMarker){var e=this.defaultShapeType;t=this.getShape(e)}var n=this.theme,a=(0,f.get)(n,[i,"default"],{}),o=t.getMarker(r);return(0,f.deepMix)({},a,o)},drawShape:function(i,r,t){var e=this.getShape(i);return e.draw(r,t)}},Ob={coordinate:null,parsePath:function(i){var r=this.coordinate,t=(0,pl.parsePathString)(i);return r.isPolar?t=We(r,t):t=Ee(r,t),t},parsePoint:function(i){var r=this.coordinate;return r.convert(i)},parsePoints:function(i){var r=this.coordinate;return i.map(function(t){return r.convert(t)})},draw:function(i,r){}},pf={};function yo(i,r){var t=(0,f.upperFirst)(i),e=(0,$.__assign)((0,$.__assign)((0,$.__assign)({},Lb),r),{geometryType:i});return pf[t]=e,e}function vn(i,r,t){var e=(0,f.upperFirst)(i),n=pf[e],a=(0,$.__assign)((0,$.__assign)({},Ob),t);return n[r]=a,a}function gf(i){var r=(0,f.upperFirst)(i);return pf[r]}function Ib(i,r,t){if(t===void 0&&(t={}),!r)return[i];var e=(0,f.groupToMap)(i,r),n=[];if(r.length===1&&t[r[0]])for(var a=t[r[0]],o=0,s=a;o<s.length;o++){var l=s[o],u=e["_"+l];u&&n.push(u)}else for(var h in e)if(e.hasOwnProperty(h)){var c=e[h];n.push(c)}return n}function Uc(i,r){return(0,f.some)(["color","shape","size","x","y","isInCircle","data","style","defaultStyle","points","mappingData"],function(t){return!(0,f.isEqual)(i[t],r[t])})}function As(i){return(0,f.isArray)(i)?i:i.split("*")}function kb(i,r){var t=[];return(0,f.each)(r,function(e,n){var a=n.split(" ")[0];a===i&&t.push(e)}),t}var Bb=function(i){(0,$.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.type="base",e.attributes={},e.elements=[],e.elementsMap={},e.animateOption=!0,e.attributeOption={},e.lastElementsMap={},e.generatePoints=!1,e.beforeMappingData=null,e.adjusts={},e.idFields=[],e.hasSorted=!1,e.isCoordinateChanged=!1;var n=t.container,a=t.labelsContainer,o=t.coordinate,s=t.data,l=t.sortable,u=l===void 0?!1:l,h=t.visible,c=h===void 0?!0:h,v=t.theme,g=t.scales,M=g===void 0?{}:g,F=t.scaleDefs,Y=F===void 0?{}:F;return e.container=n,e.labelsContainer=a,e.coordinate=o,e.data=s,e.sortable=u,e.visible=c,e.userTheme=v,e.scales=M,e.scaleDefs=Y,e}return r.prototype.position=function(t){var e=t;(0,f.isPlainObject)(t)||(e={fields:As(t)});var n=(0,f.get)(e,"fields");return n.length===1&&(n.unshift("1"),(0,f.set)(e,"fields",n)),(0,f.set)(this.attributeOption,"position",e),this},r.prototype.color=function(t,e){return this.createAttrOption("color",t,e),this},r.prototype.shape=function(t,e){return this.createAttrOption("shape",t,e),this},r.prototype.size=function(t,e){return this.createAttrOption("size",t,e),this},r.prototype.adjust=function(t){var e=t;return((0,f.isString)(t)||(0,f.isPlainObject)(t))&&(e=[t]),(0,f.each)(e,function(n,a){(0,f.isObject)(n)||(e[a]={type:n})}),this.adjustOption=e,this},r.prototype.style=function(t,e){if((0,f.isString)(t)){var n=As(t);this.styleOption={fields:n,callback:e}}else{var a=t,n=a.fields,o=a.callback,s=a.cfg;n||o||s?this.styleOption=t:this.styleOption={cfg:t}}return this},r.prototype.tooltip=function(t,e){if((0,f.isString)(t)){var n=As(t);this.tooltipOption={fields:n,callback:e}}else this.tooltipOption=t;return this},r.prototype.animate=function(t){return this.animateOption=t,this},r.prototype.label=function(t,e,n){if((0,f.isString)(t)){var a={},o=As(t);a.fields=o,(0,f.isFunction)(e)?a.callback=e:(0,f.isPlainObject)(e)&&(a.cfg=e),n&&(a.cfg=n),this.labelOption=a}else this.labelOption=t;return this},r.prototype.state=function(t){return this.stateOption=t,this},r.prototype.init=function(t){t===void 0&&(t={}),this.setCfg(t),this.initAttributes(),this.processData(this.data),this.adjustScale()},r.prototype.update=function(t){t===void 0&&(t={});var e=t.data,n=t.isDataChanged,a=t.isCoordinateChanged,o=this,s=o.attributeOption,l=o.lastAttributeOption;(0,f.isEqual)(s,l)?e&&(n||!(0,f.isEqual)(e,this.data))?(this.setCfg(t),this.processData(e)):this.setCfg(t):this.init(t),this.adjustScale(),this.isCoordinateChanged=a},r.prototype.paint=function(t){var e=this;t===void 0&&(t=!1),this.animateOption&&(this.animateOption=(0,f.deepMix)({},zc(this.type,this.coordinate),this.animateOption)),this.defaultSize=void 0,this.elements=[],this.elementsMap={};var n=this.getOffscreenGroup();n.clear();for(var a=this.beforeMappingData,o=this.beforeMapping(a),s=[],l=0,u=o.length;l<u;l++){var h=o[l],c=this.mapping(h);s.push(c),this.createElements(c,l,t)}if(this.canDoGroupAnimation(t)){var v=this.container,g=this.type,M=this.coordinate,F=(0,f.get)(this.animateOption,"appear"),Y=this.getYScale(),V=M.convert({x:0,y:Y.scale(this.getYMinValue())});Tb(v,F,g,M,V)}this.labelOption&&this.renderLabels((0,f.flatten)(s),t),this.dataArray=s,(0,f.each)(this.lastElementsMap,function(z){z.animate=e.animateOption,z.destroy()}),this.lastElementsMap=this.elementsMap,this.lastAttributeOption=(0,$.__assign)({},this.attributeOption),this.visible===!1&&this.changeVisible(!1)},r.prototype.clear=function(){var t=this,e=t.container,n=t.geometryLabel,a=t.offscreenGroup;e&&e.clear(),n&&n.clear(),a&&a.clear(),this.scaleDefs=void 0,this.attributes={},this.scales={},this.elementsMap={},this.lastElementsMap={},this.elements=[],this.adjusts={},this.dataArray=null,this.beforeMappingData=null,this.lastAttributeOption=void 0,this.defaultSize=void 0,this.idFields=[],this.groupScales=void 0,this.hasSorted=!1,this.isCoordinateChanged=!1},r.prototype.destroy=function(){this.clear();var t=this.container;t.remove(!0),this.offscreenGroup&&(this.offscreenGroup.remove(!0),this.offscreenGroup=null),this.geometryLabel&&(this.geometryLabel.destroy(),this.geometryLabel=null),this.theme=void 0,this.shapeFactory=void 0,i.prototype.destroy.call(this)},r.prototype.getGroupScales=function(){return this.groupScales},r.prototype.getAttribute=function(t){return this.attributes[t]},r.prototype.getXScale=function(){return this.getAttribute("position").scales[0]},r.prototype.getYScale=function(){return this.getAttribute("position").scales[1]},r.prototype.getGroupAttributes=function(){var t=[];return(0,f.each)(this.attributes,function(e){se.includes(e.type)&&t.push(e)}),t},r.prototype.getDefaultValue=function(t){var e,n=this.getAttribute(t);return n&&(0,f.isEmpty)(n.scales)&&(e=n.values[0]),e},r.prototype.getAttributeValues=function(t,e){for(var n=[],a=t.scales,o=0,s=a.length;o<s;o++){var l=a[o],u=l.field;l.isIdentity?n.push(l.values):n.push(e[u])}return t.mapping.apply(t,n)},r.prototype.getAdjust=function(t){return this.adjusts[t]},r.prototype.getShapeMarker=function(t,e){var n=this.getShapeFactory();return n.getMarker(t,e)},r.prototype.getElementsBy=function(t){return this.elements.filter(function(e){return t(e)})},r.prototype.getElementId=function(t){t=(0,f.isArray)(t)?t[0]:t;var e=t[Kt];if(this.idFields.length){for(var n=e[this.idFields[0]],a=1;a<this.idFields.length;a++)n+="-"+e[this.idFields[a]];return n}var o=this.type,s=this.getXScale(),l=this.getYScale(),u=s.field||"x",h=l.field||"y",c=e[h],v;s.type==="identity"?v=s.values[0]:v=e[u];var g;o==="interval"||o==="schema"?g=v:o==="line"||o==="area"||o==="path"?g=o:g=v+"-"+c;for(var M=this.groupScales,a=0,F=M.length;a<F;a++){var Y=M[a],V=Y.field;g=g+"-"+e[V]}var z=this.getAdjust("dodge");if(z){var it=z.dodgeBy;it&&(g=g+"-"+e[it])}return this.getAdjust("jitter")&&(g=g+"-"+t.x+"-"+t.y),g},r.prototype.getScaleFields=function(){var t=[],e={},n=this,a=n.attributeOption,o=n.labelOption,s=n.tooltipOption;for(var l in a)if(a.hasOwnProperty(l)){var u=a[l];u.fields?Gn(u.fields,t,e):u.values&&Gn(u.values,t,e)}return o&&o.fields&&Gn(o.fields,t,e),(0,f.isObject)(s)&&s.fields&&Gn(s.fields,t,e),t},r.prototype.changeVisible=function(t){i.prototype.changeVisible.call(this,t);for(var e=this.elements,n=0,a=e.length;n<a;n++){var o=e[n];o.changeVisible(t)}t?(this.container&&this.container.show(),this.labelsContainer&&this.labelsContainer.show()):(this.container&&this.container.hide(),this.labelsContainer&&this.labelsContainer.hide())},r.prototype.getGroupFields=function(){for(var t=[],e={},n=0,a=se.length;n<a;n++){var o=se[n],s=this.attributeOption[o];s&&s.fields&&Gn(s.fields,t,e)}return t},r.prototype.getXYFields=function(){var t=this.attributeOption.position.fields,e=t[0],n=t[1];return[e,n]},r.prototype.getShapes=function(){return this.elements.map(function(t){return t.shape})},r.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},r.prototype.sort=function(t){if(!this.hasSorted)for(var e=this.getXScale(),n=e.field,a=0;a<t.length;a++){var o=t[a];o.sort(function(s,l){return e.translate(s[Kt][n])-e.translate(l[Kt][n])})}this.hasSorted=!0},r.prototype.adjustScale=function(){var t=this.getYScale();t&&this.getAdjust("stack")&&this.updateStackRange(t,this.beforeMappingData)},r.prototype.getShapeFactory=function(){var t=this.shapeType;if(!!gf(t))return this.shapeFactory||(this.shapeFactory=(0,f.clone)(gf(t))),this.shapeFactory.coordinate=this.coordinate,this.shapeFactory.theme=this.theme.geometries[t]||{},this.shapeFactory},r.prototype.createShapePointsCfg=function(t){var e=this.getXScale(),n=this.getYScale(),a=this.normalizeValues(t[e.field],e),o;return n?o=this.normalizeValues(t[n.field],n):o=t.y?t.y:.1,{x:a,y:o,y0:n?n.scale(this.getYMinValue()):void 0}},r.prototype.createElement=function(t,e){e===void 0&&(e=!1);var n=this.container,a=this.getDrawCfg(t),o=this.getShapeFactory(),s=new Xc({shapeFactory:o,container:n,offscreenGroup:this.getOffscreenGroup()});return s.animate=this.animateOption,s.geometry=this,s.draw(a,e),s},r.prototype.getDrawCfg=function(t){var e=t[Kt],n={mappingData:t,data:e,x:t.x,y:t.y,color:t.color,size:t.size,isInCircle:this.coordinate.isPolar},a=t.shape;!a&&this.getShapeFactory()&&(a=this.getShapeFactory().defaultShapeType),n.shape=a;var o=this.theme.geometries[this.shapeType];n.defaultStyle=(0,f.get)(o,[a,"default"],{}).style;var s=this.styleOption;return s&&(n.style=this.getStyleCfg(s,e)),this.generatePoints&&(n.points=t.points,n.nextPoints=t.nextPoints),n},r.prototype.createElements=function(t,e,n){n===void 0&&(n=!1);for(var a=this,o=a.lastElementsMap,s=a.elementsMap,l=a.elements,u=0,h=t.length;u<h;u++){var c=t[u],v=this.getElementId(c);s[v]&&(v=v+"-"+e+"-"+u);var g=o[v];if(!g)g=this.createElement(c,n);else{var M=this.getDrawCfg(c),F=g.getModel();(this.isCoordinateChanged||Uc(M,F))&&(g.animate=this.animateOption,g.update(M)),delete o[v]}l.push(g),s[v]=g}return l},r.prototype.getLabelType=function(){var t=this,e=t.labelOption,n=t.coordinate,a=t.type,o=n.type,s=(0,f.get)(e,["cfg","type"]);return s||(o==="polar"?s="polar":o==="theta"?s="pie":a==="interval"||a==="polygon"?s="interval":s="base"),s},r.prototype.getYMinValue=function(){var t=this.getYScale(),e=t.min,n=t.max,a;return e>=0?a=e:n<=0?a=n:a=0,a},r.prototype.createAttrOption=function(t,e,n){if((0,f.isNil)(e)||(0,f.isObject)(e))(0,f.isObject)(e)&&(0,f.isEqual)(Object.keys(e),["values"])?(0,f.set)(this.attributeOption,t,{fields:e.values}):(0,f.set)(this.attributeOption,t,e);else{var a={};(0,f.isNumber)(e)?a.values=[e]:a.fields=As(e),n&&((0,f.isFunction)(n)?a.callback=n:a.values=n),(0,f.set)(this.attributeOption,t,a)}},r.prototype.initAttributes=function(){var t=this,e=this,n=e.attributes,a=e.attributeOption,o=e.theme,s=e.shapeType;this.groupScales=[];var l={},u=function(v){if(a.hasOwnProperty(v)){var g=a[v];if(!g)return{value:void 0};var M=(0,$.__assign)({},g),F=M.callback,Y=M.values,V=M.fields,z=V===void 0?[]:V,it=z.map(function(yt){var It=t.scales[yt];return It.isCategory&&!l[yt]&&se.includes(v)&&(t.groupScales.push(It),l[yt]=!0),It});M.scales=it,v!=="position"&&it.length===1&&it[0].type==="identity"?M.values=it[0].values:!F&&!Y&&(v==="size"?M.values=o.sizes:v==="shape"?M.values=o.shapes[s]||[]:v==="color"&&(it.length?M.values=it[0].values.length<=10?o.colors10:o.colors20:M.values=o.colors10));var ot=(0,Gr.getAttribute)(v);n[v]=new ot(M)}};for(var h in a){var c=u(h);if(typeof c=="object")return c.value}},r.prototype.processData=function(t){this.hasSorted=!1;for(var e=this.getAttribute("position").scales,n=e.filter(function(yt){return yt.isCategory}),a=this.groupData(t),o=[],s=0,l=a.length;s<l;s++){for(var u=a[s],h=[],c=0,v=u.length;c<v;c++){var g=u[c],M={};for(var F in g)M[F]=g[F];M[Kt]=g;for(var Y=0,V=n;Y<V.length;Y++){var z=V[Y],it=z.field;M[it]=z.translate(M[it])}h.push(M)}o.push(h)}var ot=this.adjustData(o);return this.beforeMappingData=ot,ot},r.prototype.adjustData=function(t){var e=this.adjustOption,n=t;if(e)for(var a=this.getXScale(),o=this.getYScale(),s=a.field,l=o?o.field:null,u=0,h=e.length;u<h;u++){var c=e[u],v=(0,$.__assign)({xField:s,yField:l},c),g=c.type;if(g==="dodge"){var M=[];if(a.isCategory||a.type==="identity")M.push("x");else if(!o)M.push("y");else throw new Error("dodge is not support linear attribute, please use category attribute!");v.adjustNames=M,v.dodgeRatio=this.theme.columnWidthRatio}else if(g==="stack"){var F=this.coordinate;if(!o){v.height=F.getHeight();var Y=this.getDefaultValue("size")||3;v.size=Y}!F.isTransposed&&(0,f.isNil)(v.reverseOrder)&&(v.reverseOrder=!0)}var V=Ms(g),z=new V(v);n=z.process(n),this.adjusts[g]=z}return n},r.prototype.groupData=function(t){for(var e=this.getGroupScales(),n=this.scaleDefs,a={},o=[],s=0;s<e.length;s++){var l=e[s],u=l.field;o.push(u),(0,f.get)(n,[u,"values"])&&(a[u]=n[u].values)}return Ib(t,o,a)},r.prototype.updateStackRange=function(t,e){for(var n=(0,f.flatten)(e),a=t.field,o=t.min,s=t.max,l=0;l<n.length;l++){var u=n[l],h=Math.min.apply(null,u[a]),c=Math.max.apply(null,u[a]);h<o&&(o=h),c>s&&(s=c)}var v=this.scaleDefs,g={};o<t.min&&!(0,f.get)(v,[a,"min"])&&(g.min=o),s>t.max&&!(0,f.get)(v,[a,"max"])&&(g.max=s),t.change(g)},r.prototype.beforeMapping=function(t){var e=t;if(this.sortable&&this.sort(e),this.generatePoints)for(var n=0,a=e.length;n<a;n++){var o=e[n];this.generateShapePoints(o);var s=e[n+1];s&&(this.generateShapePoints(s),o[0].nextPoints=s[0].points)}return e},r.prototype.generateShapePoints=function(t){for(var e=this.getShapeFactory(),n=this.getAttribute("shape"),a=0;a<t.length;a++){var o=t[a],s=this.createShapePointsCfg(o),l=n?this.getAttributeValues(n,o):null,u=e.getShapePoints(l,s);o.points=u}},r.prototype.normalizeValues=function(t,e){var n=[];if((0,f.isArray)(t))for(var a=0;a<t.length;a++){var o=t[a];n.push(e.scale(o))}else n=e.scale(t);return n},r.prototype.mapping=function(t){for(var e=this.attributes,n=[],a=0;a<t.length;a++){var o=t[a],s={_origin:o[Kt],points:o.points,nextPoints:o.nextPoints};for(var l in e)if(e.hasOwnProperty(l)){var u=e[l],h=u.names,c=this.getAttributeValues(u,o);if(h.length>1)for(var v=0;v<c.length;v+=1){var g=c[v],M=h[v];s[M]=(0,f.isArray)(g)&&g.length===1?g[0]:g}else s[h[0]]=c.length===1?c[0]:c}this.convertPoint(s),n.push(s)}return n},r.prototype.convertPoint=function(t){var e=t.x,n=t.y,a,o,s,l=this.coordinate;if((0,f.isArray)(e)&&(0,f.isArray)(n)){a=[],o=[];for(var u=0,h=0,c=e.length,v=n.length;u<c&&h<v;u+=1,h+=1)s=l.convert({x:e[u],y:n[h]}),a.push(s.x),o.push(s.y)}else if((0,f.isArray)(n)){o=[];for(var g=0;g<n.length;g++){var M=n[g];s=l.convert({x:e,y:M}),a&&a!==s.x?((0,f.isArray)(a)||(a=[a]),a.push(s.x)):a=s.x,o.push(s.y)}}else if((0,f.isArray)(e)){a=[];for(var g=0;g<e.length;g++){var F=e[g];s=l.convert({x:F,y:n}),o&&o!==s.y?((0,f.isArray)(o)||(o=[o]),o.push(s.y)):o=s.y,a.push(s.x)}}else{var Y=l.convert({x:e,y:n});a=Y.x,o=Y.y}t.x=a,t.y=o},r.prototype.getStyleCfg=function(t,e){var n=t.fields,a=n===void 0?[]:n,o=t.callback,s=t.cfg;if(s)return s;var l=a.map(function(u){return e[u]});return o.apply(void 0,l)},r.prototype.setCfg=function(t){var e=this,n=t.coordinate,a=t.data,o=t.theme,s=t.scaleDefs;n&&(this.coordinate=n),a&&(this.data=a),s&&(this.scaleDefs=s,this.idFields=[],(0,f.each)(s,function(l,u){l&&l.key&&e.idFields.push(u)})),o&&(this.theme=this.userTheme?(0,f.deepMix)({},o,this.userTheme):o)},r.prototype.renderLabels=function(t,e){e===void 0&&(e=!1);var n=this.geometryLabel;if(!n){var a=this.getLabelType(),o=Wc(a);n=new o(this),this.geometryLabel=n}n.render(t,e);var s=n.labelsRenderer.shapesMap;(0,f.each)(this.elementsMap,function(l,u){var h=kb(u,s);if(h.length){l.labelShape=h;for(var c=0;c<h.length;c++)for(var v=h[c],g=v.getChildren(),M=0;M<g.length;M++){var F=g[M];F.cfg.name=["element","label"],F.cfg.element=l}}})},r.prototype.canDoGroupAnimation=function(t){return!t&&this.animateOption&&((0,f.get)(this.animateOption,"appear")===void 0||(0,f.get)(this.animateOption,"appear")&&(0,f.get)(this.animateOption,["appear","animation"])===void 0)},r}(vr),ao=Bb,gl=dn.transform;function yf(i,r,t){var e=gl(i.getMatrix(),[["t",r,t]]);i.setMatrix(e)}function Zc(i,r){var t=i.attr(),e=t.x,n=t.y,a=gl(i.getMatrix(),[["t",-e,-n],["r",r],["t",e,n]]);i.setMatrix(a)}function PY(){return[1,0,0,0,1,0,0,0,1]}function Db(i,r){var t=i.getBBox(),e=(t.minX+t.maxX)/2,n=(t.minY+t.maxY)/2;i.applyToMatrix([e,n,1]);var a=gl(i.getMatrix(),[["t",-e,-n],["s",r,r],["t",e,n]]);i.setMatrix(a)}var Fb=function(){function i(r){this.shapesMap={},this.lastShapesMap={};var t=r.layout,e=r.container;this.layout=t,this.container=e}return i.prototype.render=function(r,t,e){var n=this;e===void 0&&(e=!1),this.shapesMap={};var a=this.container,o=this.createOffscreenGroup();if(r.length){for(var s=0,l=r;s<l.length;s++){var u=l[s];u&&this.renderLabel(u,o)}this.doLayout(r,t),this.renderLabelLine(r),this.adjustLabel(r)}var h=this.lastShapesMap,c=this.shapesMap;(0,f.each)(c,function(v,g){if(v.destroyed)delete c[g];else{if(h[g]){var M=v.get("data"),F=v.get("origin"),Y=v.get("coordinate"),V=h[g],z=v.get("animateCfg");V.set("data",M),V.set("origin",F),V.set("animateCfg",z),V.set("coordinate",Y);var it=(0,f.get)(z,"update"),ot=V.getChildren();v.getChildren().map(function(It,zt){var jt=ot[zt];jt.set("data",M),jt.set("origin",F),jt.set("animateCfg",z),jt.set("coordinate",Y);var Rt=Vn(jt,It);it?qo(jt,it,{toAttrs:Rt,coordinate:Y}):jt.attr(Rt)}),n.shapesMap[g]=V}else{a.add(v);var yt=(0,f.get)(v.get("animateCfg"),e?"enter":"appear");yt&&qo(v,yt,{toAttrs:(0,$.__assign)({},v.attr()),coordinate:v.get("coordinate")})}delete h[g]}}),(0,f.each)(h,function(v){var g=(0,f.get)(v.get("animateCfg"),"leave");g?qo(v,g,{toAttrs:null,coordinate:v.get("coordinate")}):v.remove(!0)}),this.lastShapesMap=c,o.destroy()},i.prototype.clear=function(){this.container.clear(),this.shapesMap={},this.lastShapesMap={}},i.prototype.destroy=function(){this.container.destroy(),this.shapesMap=null,this.lastShapesMap=null},i.prototype.renderLabel=function(r,t){var e=r.id,n=r.data,a=r.mappingData,o=r.coordinate,s=r.animate,l=r.content,u={id:e,data:n,origin:a,coordinate:o},h=t.addGroup((0,$.__assign)({name:"label",animateCfg:this.animate===!1||s===null||s===!1?!1:(0,f.deepMix)({},this.animate,s)},u)),c;if(l.isGroup&&l.isGroup()||l.isShape&&l.isShape()){var v=l.getCanvasBBox(),g=v.width,M=v.height,F=(0,f.get)(r,"textAlign","left"),Y=r.x,V=r.y-M/2;F==="center"?Y=Y-g/2:(F==="right"||F==="end")&&(Y=Y-g),yf(l,Y,V),c=l,h.add(l)}else c=h.addShape("text",(0,$.__assign)({attrs:(0,$.__assign)({x:r.x,y:r.y,textAlign:r.textAlign,textBaseline:(0,f.get)(r,"textBaseline","middle"),text:r.content},r.style)},u));r.rotate&&Zc(c,r.rotate),this.shapesMap[e]=h},i.prototype.doLayout=function(r,t){var e=this;if(this.layout){var n=(0,f.isArray)(this.layout)?this.layout:[this.layout];(0,f.each)(n,function(a){var o=jc((0,f.get)(a,"type",""));if(o){var s=[],l=[];(0,f.each)(e.shapesMap,function(u,h){s.push(u),l.push(t[h])}),o(r,s,l,e.region,a.cfg)}})}},i.prototype.renderLabelLine=function(r){var t=this;(0,f.each)(r,function(e){var n=(0,f.get)(e,"coordinate");if(!(!e||!n)){var a=n.getCenter(),o=n.getRadius();if(!!e.labelLine){var s=(0,f.get)(e,"labelLine",{}),l=e.id,u=s.path;if(!u){var h=xn(a.x,a.y,o,e.angle);u=[["M",h.x,h.y],["L",e.x,e.y]]}var c=t.shapesMap[l];c.destroyed||c.addShape("path",{capture:!1,attrs:(0,$.__assign)({path:u,stroke:e.color?e.color:(0,f.get)(e,["style","fill"],"#000"),fill:null},s.style),id:l,origin:e.mappingData,data:e.data,coordinate:e.coordinate})}}})},i.prototype.createOffscreenGroup=function(){var r=this.container,t=r.getGroupBase(),e=new t({});return e},i.prototype.adjustLabel=function(r){var t=this;(0,f.each)(r,function(e){if(e){var n=e.id,a=t.shapesMap[n];if(!a.destroyed){var o=a.find(function(s){return s.get("type")==="text"});o&&(e.offsetX&&o.attr("x",o.attr("x")+e.offsetX),e.offsetY&&o.attr("y",o.attr("y")+e.offsetY))}}})},i}(),Rb=Fb;function Nb(i){var r=0;return(0,f.each)(i,function(t){r+=t}),r/i.length}var Yb=function(){function i(r){this.geometry=r}return i.prototype.getLabelItems=function(r){var t=this,e=[],n=this.getLabelCfgs(r);return(0,f.each)(r,function(a,o){var s=n[o];if(!s||(0,f.isNil)(a.x)||(0,f.isNil)(a.y)){e.push(null);return}var l=(0,f.isArray)(s.content)?s.content:[s.content];s.content=l;var u=l.length;(0,f.each)(l,function(h,c){if((0,f.isNil)(h)||h===""){e.push(null);return}var v=(0,$.__assign)((0,$.__assign)({},s),t.getLabelPoint(s,a,c));v.textAlign||(v.textAlign=t.getLabelAlign(v,c,u)),v.offset<=0&&(v.labelLine=null),e.push(v)})}),e},i.prototype.render=function(r,t){t===void 0&&(t=!1);var e=this.getLabelItems(r),n=this.getLabelsRenderer(),a=this.getGeometryShapes();n.render(e,a,t)},i.prototype.clear=function(){var r=this.labelsRenderer;r&&r.clear()},i.prototype.destroy=function(){var r=this.labelsRenderer;r&&r.destroy(),this.labelsRenderer=null},i.prototype.getCoordinate=function(){return this.geometry.coordinate},i.prototype.getDefaultLabelCfg=function(){return(0,f.get)(this.geometry.theme,"labels",{})},i.prototype.setLabelPosition=function(r,t,e,n){},i.prototype.getDefaultOffset=function(r){var t=this.getCoordinate(),e=this.getOffsetVector(r);return t.isTransposed?e[0]:e[1]},i.prototype.getLabelOffset=function(r,t,e){var n=this.getDefaultOffset(r.offset),a=this.getCoordinate(),o=a.isTransposed,s=o?"x":"y",l=o?1:-1,u={x:0,y:0};return t>0||e===1?u[s]=n*l:u[s]=n*l*-1,u},i.prototype.getLabelPoint=function(r,t,e){var n=this.getCoordinate(),a=r.content.length;function o(F,Y){var V=F;return(0,f.isArray)(V)&&(r.content.length===1?V.length<=2?V=V[F.length-1]:V=Nb(V):V=V[Y]),V}var s={content:r.content[e],x:0,y:0,start:{x:0,y:0},color:"#fff"};if(t&&this.geometry.type==="polygon"){var l=si(t.x,t.y);s.x=l[0],s.y=l[1]}else s.x=o(t.x,e),s.y=o(t.y,e);var u=(0,f.isArray)(t.shape)?t.shape[0]:t.shape;if(u==="funnel"||u==="pyramid"){var h=(0,f.get)(t,"nextPoints"),c=(0,f.get)(t,"points");if(h){var v=n.convert(c[1]),g=n.convert(h[1]);s.x=(v.x+g.x)/2,s.y=(v.y+g.y)/2}else if(u==="pyramid"){var v=n.convert(c[1]),g=n.convert(c[2]);s.x=(v.x+g.x)/2,s.y=(v.y+g.y)/2}}r.position&&this.setLabelPosition(s,t,e,r.position);var M=this.getLabelOffset(r,e,a);return s.start={x:s.x,y:s.y},s.x+=M.x,s.y+=M.y,s.color=t.color,s},i.prototype.getLabelAlign=function(r,t,e){var n="center",a=this.getCoordinate();if(a.isTransposed){var o=this.getDefaultOffset(r.offset);o<0?n="right":o===0?n="center":n="left",e>1&&t===0&&(n==="right"?n="left":n==="left"&&(n="right"))}return n},i.prototype.getLabelId=function(r){var t=this.geometry,e=t.type,n=t.getXScale(),a=t.getYScale(),o=r[Kt],s=t.getElementId(r);return e==="line"||e==="area"?s+=" "+o[n.field]:e==="path"&&(s+=" "+o[n.field]+"-"+o[a.field]),s},i.prototype.getLabelsRenderer=function(){var r=this.geometry,t=r.labelsContainer,e=r.labelOption,n=r.canvasRegion,a=r.animateOption,o=this.geometry.coordinate,s=this.labelsRenderer;return s||(s=new Rb({container:t,layout:(0,f.get)(e,["cfg","layout"],{type:this.defaultLayout})}),this.labelsRenderer=s),s.region=n,s.animate=a?zc("label",o):!1,s},i.prototype.getLabelCfgs=function(r){var t=this,e=this.geometry,n=this.getDefaultLabelCfg(),a=e.type,o=e.theme,s=e.labelOption,l=e.scales,u=e.coordinate,h=s,c=h.fields,v=h.callback,g=h.cfg,M=c.map(function(Y){return l[Y]}),F=[];return(0,f.each)(r,function(Y,V){var z=Y[Kt],it=t.getLabelText(z,M),ot;if(v){var yt=c.map(function(jt){return z[jt]});if(ot=v.apply(void 0,yt),(0,f.isNil)(ot)){F.push(null);return}}var It=(0,$.__assign)((0,$.__assign)({id:t.getLabelId(Y),data:z,mappingData:Y,coordinate:u},g),ot),zt=It.content;(0,f.isFunction)(zt)?It.content=zt(z,Y,V):(0,f.isUndefined)(zt)&&(It.content=it[0]),(0,f.isFunction)(It.position)&&(It.position=It.position(z,Y,V)),a==="polygon"||It.offset<0&&!["line","point","path"].includes(a)?It=(0,f.deepMix)({},n,o.innerLabels,It):It=(0,f.deepMix)({},n,o.labels,It),F.push(It)}),F},i.prototype.getLabelText=function(r,t){var e=[];return(0,f.each)(t,function(n){var a=r[n.field];(0,f.isArray)(a)?a=a.map(function(o){return n.getText(o)}):a=n.getText(a),(0,f.isNil)(a)||a===""?e.push(null):e.push(a)}),e},i.prototype.getOffsetVector=function(r){r===void 0&&(r=0);var t=this.getCoordinate();return t.isTransposed?t.applyMatrix(r,0):t.applyMatrix(0,r)},i.prototype.getGeometryShapes=function(){var r=this.geometry,t={};return(0,f.each)(r.elementsMap,function(e,n){t[n]=e.shape}),(0,f.each)(r.getOffscreenGroup().getChildren(),function(e){var n=r.getElementId(e.get("origin").mappingData);t[n]=e}),t},i}(),yl=Yb,Gb=d(61102),zb="4.0.15",ko={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},Bn={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},Sa=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],Xb=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],Vb={backgroundColor:"#141414",brandColor:Sa[0],paletteQualitative10:Sa,paletteQualitative20:Xb,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",fontFamily:`"-apple-system", "Segoe UI", Roboto, "Helvetica Neue", Arial,
  "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
  "Noto Color Emoji"`,axisLineBorderColor:Bn[25],axisLineBorder:.5,axisLineDash:null,axisTitleTextFillColor:Bn[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTickLineBorderColor:Bn[25],axisTickLineLength:4,axisTickLineBorder:.5,axisSubTickLineBorderColor:Bn[15],axisSubTickLineLength:2,axisSubTickLineBorder:.5,axisLabelFillColor:Bn[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisGridBorderColor:Bn[15],axisGridBorder:.5,axisGridLineDash:null,legendTitleTextFillColor:Bn[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:Sa[0],legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:Bn[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",sliderRailFillColor:Bn[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:Bn[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:ko[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:ko[25],annotationArcBorderColor:Bn[15],annotationArcBorder:.5,annotationLineBorderColor:Bn[25],annotationLineBorder:.5,annotationLineDash:null,annotationTextFillColor:Bn[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:ko[95],annotationTextBorder:1.5,annotationRegionFillColor:Bn[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:Bn[25],tooltipCrosshairsBorder:.5,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"#1f1f1f",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 2px 4px rgba(0,0,0,.5)",tooltipContainerBorderRadius:3,tooltipTextFillColor:Bn[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:Bn[65],labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:ko[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,labelLineBorder:.5,labelLineBorderColor:Bn[25],pointFillColor:Sa[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:ko[100],pointBorderOpacity:1,pointActiveBorderColor:Bn[100],pointSelectedBorder:2,pointSelectedBorderColor:Bn[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:Sa[0],hollowPointBorderOpacity:.95,hollowPointFillColor:ko[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:Bn[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:Bn[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:Sa[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:Sa[0],areaFillOpacity:.25,areaActiveFillColor:Sa[0],areaActiveFillOpacity:.5,areaSelectedFillColor:Sa[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:Sa[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:Bn[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:Bn[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:Sa[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:Bn[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:Bn[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:Sa[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:ko[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:Bn[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:Bn[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3},Mr=d(70655),Ii=d(73890),mn=d(21830),ml=d(46812),ki=d(66631),Cn=d(27154),Hb=d(9217),Wb=d(5253),_Y=d(39984),jb=d(98229),Ub=d(35755);function Zb(){return window?window.devicePixelRatio:1}function Kc(i,r,t,e){var n=i-t,a=r-e;return Math.sqrt(n*n+a*a)}function Bo(i,r,t,e,n,a){return n>=i&&n<=i+t&&a>=r&&a<=r+e}function mf(i,r){return!(r.minX>i.maxX||r.maxX<i.minX||r.minY>i.maxY||r.maxY<i.minY)}function Kb(i,r){return!i||!r?i||r:{minX:Math.min(i.minX,r.minX),minY:Math.min(i.minY,r.minY),maxX:Math.max(i.maxX,r.maxX),maxY:Math.max(i.maxY,r.maxY)}}function $c(i,r){return i[0]===r[0]&&i[1]===r[1]}var LY=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,OY=/[^\s\,]+/gi,$b=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,Qb=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Jb=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,Qc=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function Jc(i,r){var t=i.match(Qc);(0,Cn.default)(t,function(e){var n=e.split(":");r.addColorStop(n[0],n[1])})}function qb(i,r,t){var e=$b.exec(t),n=parseFloat(e[1])%360*(Math.PI/180),a=e[2],o=r.getBBox(),s,l;n>=0&&n<1/2*Math.PI?(s={x:o.minX,y:o.minY},l={x:o.maxX,y:o.maxY}):1/2*Math.PI<=n&&n<Math.PI?(s={x:o.maxX,y:o.minY},l={x:o.minX,y:o.maxY}):Math.PI<=n&&n<3/2*Math.PI?(s={x:o.maxX,y:o.maxY},l={x:o.minX,y:o.minY}):(s={x:o.minX,y:o.maxY},l={x:o.maxX,y:o.minY});var u=Math.tan(n),h=u*u,c=(l.x-s.x+u*(l.y-s.y))/(h+1)+s.x,v=u*(l.x-s.x+u*(l.y-s.y))/(h+1)+s.y,g=i.createLinearGradient(s.x,s.y,c,v);return Jc(a,g),g}function tw(i,r,t){var e=Qb.exec(t),n=parseFloat(e[1]),a=parseFloat(e[2]),o=parseFloat(e[3]),s=e[4];if(o===0){var l=s.match(Qc);return l[l.length-1].split(":")[1]}var u=r.getBBox(),h=u.maxX-u.minX,c=u.maxY-u.minY,v=Math.sqrt(h*h+c*c)/2,g=i.createRadialGradient(u.minX+h*n,u.minY+c*a,0,u.minX+h/2,u.minY+c/2,o*v);return Jc(s,g),g}function ew(i,r,t){if(r.get("patternSource")&&r.get("patternSource")===t)return r.get("pattern");var e,n,a=Jb.exec(t),o=a[1],s=a[2];function l(){e=i.createPattern(n,o),r.set("pattern",e),r.set("patternSource",t)}switch(o){case"a":o="repeat";break;case"x":o="repeat-x";break;case"y":o="repeat-y";break;case"n":o="no-repeat";break;default:o="no-repeat"}return n=new Image,s.match(/^data:/i)||(n.crossOrigin="Anonymous"),n.src=s,n.complete?l():(n.onload=l,n.src=n.src),e}function rw(i,r,t){if((0,mn.default)(t)){if(t[1]==="("||t[2]==="("){if(t[0]==="l")return qb(i,r,t);if(t[0]==="r")return tw(i,r,t);if(t[0]==="p")return ew(i,r,t)}return t}}function nw(i){var r=0,t=0,e=0,n=0;return(0,ki.default)(i)?i.length===1?r=t=e=n=i[0]:i.length===2?(r=e=i[0],t=n=i[1]):i.length===3?(r=i[0],t=n=i[1],e=i[2]):(r=i[0],t=i[1],e=i[2],n=i[3]):r=t=e=n=i,[r,t,e,n]}function xl(i){return Math.sqrt(i[0]*i[0]+i[1]*i[1])}function xf(i,r){return xl(i)*xl(r)?(i[0]*r[0]+i[1]*r[1])/(xl(i)*xl(r)):1}function qc(i,r){return(i[0]*r[1]<i[1]*r[0]?-1:1)*Math.acos(xf(i,r))}function tv(i,r){var t=r[1],e=r[2],n=(0,Wb.default)((0,Hb.default)(r[3]),Math.PI*2),a=r[4],o=r[5],s=i[0],l=i[1],u=r[6],h=r[7],c=Math.cos(n)*(s-u)/2+Math.sin(n)*(l-h)/2,v=-1*Math.sin(n)*(s-u)/2+Math.cos(n)*(l-h)/2,g=c*c/(t*t)+v*v/(e*e);g>1&&(t*=Math.sqrt(g),e*=Math.sqrt(g));var M=t*t*(v*v)+e*e*(c*c),F=M?Math.sqrt((t*t*(e*e)-M)/M):1;a===o&&(F*=-1),isNaN(F)&&(F=0);var Y=e?F*t*v/e:0,V=t?F*-e*c/t:0,z=(s+u)/2+Math.cos(n)*Y-Math.sin(n)*V,it=(l+h)/2+Math.sin(n)*Y+Math.cos(n)*V,ot=[(c-Y)/t,(v-V)/e],yt=[(-1*c-Y)/t,(-1*v-V)/e],It=qc([1,0],ot),zt=qc(ot,yt);return xf(ot,yt)<=-1&&(zt=Math.PI),xf(ot,yt)>=1&&(zt=0),o===0&&zt>0&&(zt=zt-2*Math.PI),o===1&&zt<0&&(zt=zt+2*Math.PI),{cx:z,cy:it,rx:$c(i,[u,h])?0:t,ry:$c(i,[u,h])?0:e,startAngle:It,endAngle:It+zt,xRotation:n,arcFlag:a,sweepFlag:o}}var bl=Math.sin,wl=Math.cos,bf=Math.atan2,Sl=Math.PI;function ev(i,r,t,e,n,a,o){var s=r.stroke,l=r.lineWidth,u=t-n,h=e-a,c=bf(h,u),v=new Tf({type:"path",canvas:i.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*wl(Sl/6)+","+10*bl(Sl/6)+" L0,0 L"+10*wl(Sl/6)+",-"+10*bl(Sl/6),stroke:s,lineWidth:l}});v.translate(n,a),v.rotateAtPoint(n,a,c),i.set(o?"startArrowShape":"endArrowShape",v)}function rv(i,r,t,e,n,a,o){var s=r.startArrow,l=r.endArrow,u=r.stroke,h=r.lineWidth,c=o?s:l,v=c.d,g=c.fill,M=c.stroke,F=c.lineWidth,Y=(0,Mr.__rest)(c,["d","fill","stroke","lineWidth"]),V=t-n,z=e-a,it=bf(z,V);v&&(n=n-wl(it)*v,a=a-bl(it)*v);var ot=new Tf({type:"path",canvas:i.get("canvas"),isArrowShape:!0,attrs:(0,Mr.__assign)((0,Mr.__assign)({},Y),{stroke:M||u,lineWidth:F||h,fill:g})});ot.translate(n,a),ot.rotateAtPoint(n,a,it),i.set(o?"startArrowShape":"endArrowShape",ot)}function Do(i,r,t,e,n){var a=bf(e-r,t-i);return{dx:wl(a)*n,dy:bl(a)*n}}function wf(i,r,t,e,n,a){typeof r.startArrow=="object"?rv(i,r,t,e,n,a,!0):r.startArrow?ev(i,r,t,e,n,a,!0):i.set("startArrowShape",null)}function Sf(i,r,t,e,n,a){typeof r.endArrow=="object"?rv(i,r,t,e,n,a,!1):r.endArrow?ev(i,r,t,e,n,a,!1):i.set("startArrowShape",null)}var nv={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function ts(i,r){var t=r.attr();for(var e in t){var n=t[e],a=nv[e]?nv[e]:e;a==="matrix"&&n?i.transform(n[0],n[1],n[3],n[4],n[6],n[7]):a==="lineDash"&&i.setLineDash?(0,f.isArray)(n)&&i.setLineDash(n):(a==="strokeStyle"||a==="fillStyle"?n=rw(i,r,n):a==="globalAlpha"&&(n=n*i.globalAlpha),i[a]=n)}}function Cf(i,r,t){for(var e=0;e<r.length;e++){var n=r[e];n.get("visible")?n.draw(i,t):n.skipDraw()}}function iv(i,r,t,e){var n=t.path,a=t.startArrow,o=t.endArrow,s=[0,0],l=[0,0],u={dx:0,dy:0};r.beginPath();for(var h=0;h<n.length;h++){var c=n[h],v=c[0];if(h===0&&a&&a.d){var g=i.getStartTangent();u=Do(g[0][0],g[0][1],g[1][0],g[1][1],a.d)}else if(h===n.length-2&&n[h+1][0]==="Z"&&o&&o.d){var M=n[h+1];if(M[0]==="Z"){var g=i.getEndTangent();u=Do(g[0][0],g[0][1],g[1][0],g[1][1],o.d)}}else if(h===n.length-1&&o&&o.d&&n[0]!=="Z"){var g=i.getEndTangent();u=Do(g[0][0],g[0][1],g[1][0],g[1][1],o.d)}var F=u.dx,Y=u.dy;switch(v){case"M":r.moveTo(c[1]-F,c[2]-Y),l=[c[1],c[2]];break;case"L":r.lineTo(c[1]-F,c[2]-Y);break;case"Q":r.quadraticCurveTo(c[1],c[2],c[3]-F,c[4]-Y);break;case"C":r.bezierCurveTo(c[1],c[2],c[3],c[4],c[5]-F,c[6]-Y);break;case"A":{var V=void 0;e?(V=e[h],V||(V=tv(s,c),e[h]=V)):V=tv(s,c);var z=V.cx,it=V.cy,ot=V.rx,yt=V.ry,It=V.startAngle,zt=V.endAngle,jt=V.xRotation,Rt=V.sweepFlag;if(r.ellipse)r.ellipse(z,it,ot,yt,jt,It,zt,1-Rt);else{var re=ot>yt?ot:yt,de=ot>yt?1:ot/yt,fe=ot>yt?yt/ot:1;r.translate(z,it),r.rotate(jt),r.scale(de,fe),r.arc(0,0,re,It,zt,1-Rt),r.scale(1/de,1/fe),r.rotate(-jt),r.translate(-z,-it)}break}case"Z":r.closePath();break;default:break}if(v==="Z")s=l;else{var Me=c.length;s=[c[Me-2],c[Me-1]]}}}function av(i,r){var t=i.get("canvas");t&&(r==="remove"&&(i._cacheCanvasBBox=i.get("cacheCanvasBBox")),i.get("hasChanged")||(t.refreshElement(i,r,t),t.get("autoDraw")&&t.draw(),i.set("hasChanged",!0)))}function iw(i){var r;if(i.destroyed)r=i._cacheCanvasBBox;else{var t=i.get("cacheCanvasBBox"),e=t&&!!(t.width&&t.height),n=i.getCanvasBBox(),a=n&&!!(n.width&&n.height);e&&a?r=Kb(t,n):e?r=t:a&&(r=n)}return r}function ov(i){if(!i.length)return null;var r=[],t=[],e=[],n=[];return(0,f.each)(i,function(a){var o=iw(a);o&&(r.push(o.minX),t.push(o.minY),e.push(o.maxX),n.push(o.maxY))}),{minX:Math.min.apply(null,r),minY:Math.min.apply(null,t),maxX:Math.max.apply(null,e),maxY:Math.max.apply(null,n)}}function aw(i,r){return!i||!r||!mf(i,r)?null:{minX:Math.max(i.minX,r.minX),minY:Math.max(i.minY,r.minY),maxX:Math.min(i.maxX,r.maxX),maxY:Math.min(i.maxY,r.maxY)}}var sv=d(41056),ow=function(i){(0,Mr.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.onCanvasChange=function(t){av(this,t)},r.prototype.getShapeBase=function(){return S},r.prototype.getGroupBase=function(){return r},r.prototype._applyClip=function(t,e){e&&(t.save(),ts(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},r.prototype.draw=function(t,e){var n=this.getChildren();n.length&&(t.save(),ts(t,this),this._applyClip(t,this.getClip()),Cf(t,n,e),t.restore()),this.set("cacheCanvasBBox",this.getCanvasBBox()),this.set("hasChanged",!1)},r.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},r}(fr.AbstractGroup),Mf=ow,sw=function(i){(0,Mr.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Mr.__assign)((0,Mr.__assign)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},r.prototype.getShapeBase=function(){return S},r.prototype.getGroupBase=function(){return Mf},r.prototype.onCanvasChange=function(t){av(this,t)},r.prototype.calculateBBox=function(){var t=this.get("type"),e=this.getHitLineWidth(),n=(0,sv.b)(t),a=n(this),o=e/2,s=a.x-o,l=a.y-o,u=a.x+a.width+o,h=a.y+a.height+o;return{x:s,minX:s,y:l,minY:l,width:a.width+e,height:a.height+e,maxX:u,maxY:h}},r.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},r.prototype.isStroke=function(){return!!this.attrs.stroke},r.prototype._applyClip=function(t,e){e&&(t.save(),ts(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},r.prototype.draw=function(t,e){var n=this.getClip();if(e){var a=n?ov([this,n]):this.getCanvasBBox();if(!mf(e,a)){this.set("hasChanged",!1);return}}t.save(),ts(t,this),this._applyClip(t,this.getClip()),this.drawPath(t),t.restore(),this._afterDraw()},r.prototype._afterDraw=function(){var t=this.getCanvasBBox(),e=this.getCanvas();if(this.set("cacheCanvasBBox",t),e){var n=e.getViewRange();this.set("isInView",mf(t,n))}this.set("hasChanged",!1)},r.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},r.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},r.prototype.fill=function(t){t.fill()},r.prototype.stroke=function(t){t.stroke()},r.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,a=e.opacity,o=e.strokeOpacity,s=e.fillOpacity;this.isFill()&&(!(0,Ii.default)(s)&&s!==1?(t.globalAlpha=s,this.fill(t),t.globalAlpha=a):this.fill(t)),this.isStroke()&&n>0&&(!(0,Ii.default)(o)&&o!==1&&(t.globalAlpha=o),this.stroke(t)),this.afterDrawPath(t)},r.prototype.createPath=function(t){},r.prototype.afterDrawPath=function(t){},r.prototype.isInShape=function(t,e){var n=this.isStroke(),a=this.isFill(),o=this.getHitLineWidth();return this.isInStrokeOrPath(t,e,n,a,o)},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){return!1},r.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t.lineWidth+t.lineAppendWidth},r}(fr.AbstractShape),Oa=sw,lw=function(i){(0,Mr.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Mr.__assign)((0,Mr.__assign)({},t),{x:0,y:0,r:0})},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){var s=this.attr(),l=s.x,u=s.y,h=s.r,c=o/2,v=Kc(l,u,t,e);return a&&n?v<=h+c:a?v<=h:n?v>=h-c&&v<=h+c:!1},r.prototype.createPath=function(t){var e=this.attr(),n=e.x,a=e.y,o=e.r;t.beginPath(),t.arc(n,a,o,0,Math.PI*2,!1),t.closePath()},r}(Oa),uw=lw;function Cl(i,r,t,e){return i/(t*t)+r/(e*e)}var fw=function(i){(0,Mr.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Mr.__assign)((0,Mr.__assign)({},t),{x:0,y:0,rx:0,ry:0})},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){var s=this.attr(),l=o/2,u=s.x,h=s.y,c=s.rx,v=s.ry,g=(t-u)*(t-u),M=(e-h)*(e-h);return a&&n?Cl(g,M,c+l,v+l)<=1:a?Cl(g,M,c,v)<=1:n?Cl(g,M,c-l,v-l)>=1&&Cl(g,M,c+l,v+l)<=1:!1},r.prototype.createPath=function(t){var e=this.attr(),n=e.x,a=e.y,o=e.rx,s=e.ry;if(t.beginPath(),t.ellipse)t.ellipse(n,a,o,s,0,0,Math.PI*2,!1);else{var l=o>s?o:s,u=o>s?1:o/s,h=o>s?s/o:1;t.save(),t.translate(n,a),t.scale(u,h),t.arc(0,0,l,0,Math.PI*2),t.restore(),t.closePath()}},r}(Oa),hw=fw;function lv(i){return i instanceof HTMLElement&&(0,mn.default)(i.nodeName)&&i.nodeName.toUpperCase()==="CANVAS"}var cw=function(i){(0,Mr.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Mr.__assign)((0,Mr.__assign)({},t),{x:0,y:0,width:0,height:0})},r.prototype.initAttrs=function(t){this._setImage(t.img)},r.prototype.isStroke=function(){return!1},r.prototype.isOnlyHitBox=function(){return!0},r.prototype._afterLoading=function(){if(this.get("toDraw")===!0){var t=this.get("canvas");t?t.draw():this.createPath(this.get("context"))}},r.prototype._setImage=function(t){var e=this,n=this.attrs;if((0,mn.default)(t)){var a=new Image;a.onload=function(){if(e.destroyed)return!1;e.attr("img",a),e.set("loading",!1),e._afterLoading();var o=e.get("callback");o&&o.call(e)},a.crossOrigin="Anonymous",a.src=t,this.set("loading",!0)}else t instanceof Image?(n.width||(n.width=t.width),n.height||(n.height=t.height)):lv(t)&&(n.width||(n.width=Number(t.getAttribute("width"))),n.height||(n.height,Number(t.getAttribute("height"))))},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),t==="img"&&this._setImage(e)},r.prototype.createPath=function(t){if(this.get("loading")){this.set("toDraw",!0),this.set("context",t);return}var e=this.attr(),n=e.x,a=e.y,o=e.width,s=e.height,l=e.sx,u=e.sy,h=e.swidth,c=e.sheight,v=e.img;(v instanceof Image||lv(v))&&(!(0,Ii.default)(l)&&!(0,Ii.default)(u)&&!(0,Ii.default)(h)&&!(0,Ii.default)(c)?t.drawImage(v,l,u,h,c,n,a,o,s):t.drawImage(v,n,a,o,s))},r}(Oa),vw=cw,oo=d(23646);function mo(i,r,t,e,n,a,o){var s=Math.min(i,t),l=Math.max(i,t),u=Math.min(r,e),h=Math.max(r,e),c=n/2;return a>=s-c&&a<=l+c&&o>=u-c&&o<=h+c?oo.default.pointToLine(i,r,t,e,a,o)<=n/2:!1}var dw=function(i){(0,Mr.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Mr.__assign)((0,Mr.__assign)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this.setArrow()},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),this.setArrow()},r.prototype.setArrow=function(){var t=this.attr(),e=t.x1,n=t.y1,a=t.x2,o=t.y2,s=t.startArrow,l=t.endArrow;s&&wf(this,t,a,o,e,n),l&&Sf(this,t,e,n,a,o)},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){if(!n||!o)return!1;var s=this.attr(),l=s.x1,u=s.y1,h=s.x2,c=s.y2;return mo(l,u,h,c,o,t,e)},r.prototype.createPath=function(t){var e=this.attr(),n=e.x1,a=e.y1,o=e.x2,s=e.y2,l=e.startArrow,u=e.endArrow,h={dx:0,dy:0},c={dx:0,dy:0};l&&l.d&&(h=Do(n,a,o,s,e.startArrow.d)),u&&u.d&&(c=Do(n,a,o,s,e.endArrow.d)),t.beginPath(),t.moveTo(n+h.dx,a+h.dy),t.lineTo(o-c.dx,s-c.dy)},r.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},r.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,a=t.x2,o=t.y2;return oo.default.length(e,n,a,o)},r.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,a=e.y1,o=e.x2,s=e.y2;return oo.default.pointAt(n,a,o,s,t)},r}(Oa),pw=dw,uv=d(74479),gw={circle:function(i,r,t){return[["M",i-t,r],["A",t,t,0,1,0,i+t,r],["A",t,t,0,1,0,i-t,r]]},square:function(i,r,t){return[["M",i-t,r-t],["L",i+t,r-t],["L",i+t,r+t],["L",i-t,r+t],["Z"]]},diamond:function(i,r,t){return[["M",i-t,r],["L",i,r-t],["L",i+t,r],["L",i,r+t],["Z"]]},triangle:function(i,r,t){var e=t*Math.sin(1/3*Math.PI);return[["M",i-t,r+e],["L",i,r-e],["L",i+t,r+e],["Z"]]},"triangle-down":function(i,r,t){var e=t*Math.sin(1/3*Math.PI);return[["M",i-t,r-e],["L",i+t,r-e],["L",i,r+e],["Z"]]}},yw=function(i){(0,Mr.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.initAttrs=function(t){this._resetParamsCache()},r.prototype._resetParamsCache=function(){this.set("paramsCache",{})},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),["symbol","x","y","r","radius"].indexOf(t)!==-1&&this._resetParamsCache()},r.prototype.isOnlyHitBox=function(){return!0},r.prototype._getR=function(t){return(0,f.isNil)(t.r)?t.radius:t.r},r.prototype._getPath=function(){var t=this.attr(),e=t.x,n=t.y,a=t.symbol||"circle",o=this._getR(t),s,l;return(0,ml.default)(a)?(s=a,l=s(e,n,o),l=(0,uv.Z)(l)):(s=r.Symbols[a],l=s(e,n,o)),s?l:(console.warn(a+" marker is not supported."),null)},r.prototype.createPath=function(t){var e=this._getPath(),n=this.get("paramsCache");iv(this,t,{path:e},n)},r.Symbols=gw,r}(Oa),mw=yw,Ml=d(15730),xw=d(49274),bw=d(26632);function fv(i,r,t){var e=(0,bw.getOffScreenContext)();return i.createPath(e),e.isPointInPath(r,t)}var ww=1e-6;function Ef(i){return Math.abs(i)<ww?0:i<0?-1:1}function Sw(i,r,t){return(t[0]-i[0])*(r[1]-i[1])==(r[0]-i[0])*(t[1]-i[1])&&Math.min(i[0],r[0])<=t[0]&&t[0]<=Math.max(i[0],r[0])&&Math.min(i[1],r[1])<=t[1]&&t[1]<=Math.max(i[1],r[1])}function hv(i,r,t){var e=!1,n=i.length;if(n<=2)return!1;for(var a=0;a<n;a++){var o=i[a],s=i[(a+1)%n];if(Sw(o,s,[r,t]))return!0;Ef(o[1]-t)>0!=Ef(s[1]-t)>0&&Ef(r-(t-o[1])*(o[0]-s[0])/(o[1]-s[1])-o[0])<0&&(e=!e)}return e}var Cw=d(2879);function Ts(i,r,t,e,n,a,o,s){var l=(Math.atan2(s-r,o-i)+Math.PI*2)%(Math.PI*2);if(l<e||l>n)return!1;var u={x:i+t*Math.cos(l),y:r+t*Math.sin(l)};return Kc(u.x,u.y,o,s)<=a/2}var Af=d(35600),cv=d(77160);function Mw(i){for(var r=!1,t=i.length,e=0;e<t;e++){var n=i[e],a=n[0];if(a==="C"||a==="A"||a==="Q"){r=!0;break}}return r}function Ew(i,r,t,e){for(var n=!1,a=r/2,o=0;o<i.length;o++){var s=i[o],l=s.currentPoint,u=s.params,h=s.prePoint,c=s.box;if(!(c&&!Bo(c.x-a,c.y-a,c.width+r,c.height+r,t,e))){switch(s.command){case"L":case"Z":n=mo(h[0],h[1],l[0],l[1],r,t,e);break;case"Q":var v=Cw.default.pointDistance(h[0],h[1],u[1],u[2],u[3],u[4],t,e);n=v<=r/2;break;case"C":var g=Ml.default.pointDistance(h[0],h[1],u[1],u[2],u[3],u[4],u[5],u[6],t,e);n=g<=r/2;break;case"A":var M=s.arcParams,F=M.cx,Y=M.cy,V=M.rx,z=M.ry,it=M.startAngle,ot=M.endAngle,yt=M.xRotation,It=[t,e,1],zt=[1,0,0,0,1,0,0,0,1],jt=V>z?V:z,Rt=V>z?1:V/z,re=V>z?z/V:1;Af.translate(zt,zt,[-F,-Y]),Af.rotate(zt,zt,-yt),Af.scale(zt,zt,[1/Rt,1/re]),cv.transformMat3(It,It,zt),n=Ts(0,0,jt,it,ot,r,It[0],It[1]);break;default:break}if(n)break}}return n}function Aw(i){for(var r=i.length,t=[],e=[],n=[],a=0;a<r;a++){var o=i[a],s=o[0];s==="M"?(n.length&&(e.push(n),n=[]),n.push([o[1],o[2]])):s==="Z"?n.length&&(t.push(n),n=[]):n.push([o[1],o[2]])}return n.length>0&&e.push(n),{polygons:t,polylines:e}}var El=(0,Mr.__assign)({hasArc:Mw,extractPolygons:Aw,isPointInStroke:Ew},fr.PathUtil);function vv(i,r,t){for(var e=!1,n=0;n<i.length;n++){var a=i[n];if(e=hv(a,r,t),e)break}return e}var Tw=function(i){(0,Mr.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Mr.__assign)((0,Mr.__assign)({},t),{startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this._setPathArr(t.path),this.setArrow()},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),t==="path"&&this._setPathArr(e),this.setArrow()},r.prototype._setPathArr=function(t){this.attrs.path=(0,uv.Z)(t);var e=El.hasArc(t);this.set("hasArc",e),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},r.prototype.getSegments=function(){var t=this.get("segements");return t||(t=(0,xw.default)(this.attr("path")),this.set("segments",t)),t},r.prototype.setArrow=function(){var t=this.attr(),e=t.startArrow,n=t.endArrow;if(e){var a=this.getStartTangent();wf(this,t,a[0][0],a[0][1],a[1][0],a[1][1])}if(n){var a=this.getEndTangent();Sf(this,t,a[0][0],a[0][1],a[1][0],a[1][1])}},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){var s=this.getSegments(),l=this.get("hasArc"),u=!1;if(n&&(u=El.isPointInStroke(s,o,t,e)),!u&&a)if(l)u=fv(this,t,e);else{var h=this.attr("path"),c=El.extractPolygons(h);u=vv(c.polygons,t,e)||vv(c.polylines,t,e)}return u},r.prototype.createPath=function(t){var e=this.attr(),n=this.get("paramsCache");iv(this,t,e,n)},r.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},r.prototype.getTotalLength=function(){var t=this.get("totalLength");return(0,f.isNil)(t)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):t},r.prototype.getPoint=function(t){var e=this.get("tCache");e||(this._calculateCurve(),this._setTcache(),e=this.get("tCache"));var n,a,o=this.get("curve");if(!e||e.length===0)return o?{x:o[0][1],y:o[0][2]}:null;(0,f.each)(e,function(h,c){t>=h[0]&&t<=h[1]&&(n=(t-h[0])/(h[1]-h[0]),a=c)});var s=o[a];if((0,f.isNil)(s)||(0,f.isNil)(a))return null;var l=s.length,u=o[a+1];return Ml.default.pointAt(s[l-2],s[l-1],u[1],u[2],u[3],u[4],u[5],u[6],n)},r.prototype._calculateCurve=function(){var t=this.attr().path;this.set("curve",El.pathToCurve(t))},r.prototype._setTcache=function(){var t=0,e=0,n=[],a,o,s,l,u=this.get("curve");if(!!u){if((0,f.each)(u,function(h,c){s=u[c+1],l=h.length,s&&(t+=Ml.default.length(h[l-2],h[l-1],s[1],s[2],s[3],s[4],s[5],s[6])||0)}),this.set("totalLength",t),t===0){this.set("tCache",[]);return}(0,f.each)(u,function(h,c){s=u[c+1],l=h.length,s&&(a=[],a[0]=e/t,o=Ml.default.length(h[l-2],h[l-1],s[1],s[2],s[3],s[4],s[5],s[6]),e+=o||0,a[1]=e/t,n.push(a))}),this.set("tCache",n)}},r.prototype.getStartTangent=function(){var t=this.getSegments(),e;if(t.length>1){var n=t[0].currentPoint,a=t[1].currentPoint,o=t[1].startTangent;e=[],o?(e.push([n[0]-o[0],n[1]-o[1]]),e.push([n[0],n[1]])):(e.push([a[0],a[1]]),e.push([n[0],n[1]]))}return e},r.prototype.getEndTangent=function(){var t=this.getSegments(),e=t.length,n;if(e>1){var a=t[e-2].currentPoint,o=t[e-1].currentPoint,s=t[e-1].endTangent;n=[],s?(n.push([o[0]-s[0],o[1]-s[1]]),n.push([o[0],o[1]])):(n.push([a[0],a[1]]),n.push([o[0],o[1]]))}return n},r}(Oa),Tf=Tw;function dv(i,r,t,e,n){var a=i.length;if(a<2)return!1;for(var o=0;o<a-1;o++){var s=i[o][0],l=i[o][1],u=i[o+1][0],h=i[o+1][1];if(mo(s,l,u,h,r,t,e))return!0}if(n){var c=i[0],v=i[a-1];if(mo(c[0],c[1],v[0],v[1],r,t,e))return!0}return!1}var Pw=function(i){(0,Mr.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.isInStrokeOrPath=function(t,e,n,a,o){var s=this.attr().points,l=!1;return n&&(l=dv(s,o,t,e,!0)),!l&&a&&(l=hv(s,t,e)),l},r.prototype.createPath=function(t){var e=this.attr(),n=e.points;if(!(n.length<2)){t.beginPath();for(var a=0;a<n.length;a++){var o=n[a];a===0?t.moveTo(o[0],o[1]):t.lineTo(o[0],o[1])}t.closePath()}},r}(Oa),_w=Pw,pv=d(65386),Lw=function(i){(0,Mr.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Mr.__assign)((0,Mr.__assign)({},t),{startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this.setArrow()},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),this.setArrow(),["points"].indexOf(t)!==-1&&this._resetCache()},r.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},r.prototype.setArrow=function(){var t=this.attr(),e=this.attrs,n=e.points,a=e.startArrow,o=e.endArrow,s=n.length,l=n[0][0],u=n[0][1],h=n[s-1][0],c=n[s-1][1];a&&wf(this,t,n[1][0],n[1][1],l,u),o&&Sf(this,t,n[s-2][0],n[s-2][1],h,c)},r.prototype.isFill=function(){return!1},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){if(!n||!o)return!1;var s=this.attr().points;return dv(s,o,t,e,!1)},r.prototype.isStroke=function(){return!0},r.prototype.createPath=function(t){var e=this.attr(),n=e.points,a=e.startArrow,o=e.endArrow,s=n.length;if(!(n.length<2)){var l=n[0][0],u=n[0][1],h=n[s-1][0],c=n[s-1][1];if(a&&a.d){var v=Do(l,u,n[1][0],n[1][1],a.d);l+=v.dx,u+=v.dy}if(o&&o.d){var v=Do(n[s-2][0],n[s-2][1],h,c,o.d);h-=v.dx,c-=v.dy}t.beginPath(),t.moveTo(l,u);for(var g=0;g<s-1;g++){var M=n[g];t.lineTo(M[0],M[1])}t.lineTo(h,c)}},r.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},r.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return(0,f.isNil)(e)?(this.set("totalLength",pv.Z.length(t)),this.get("totalLength")):e},r.prototype.getPoint=function(t){var e=this.attr().points,n=this.get("tCache");n||(this._setTcache(),n=this.get("tCache"));var a,o;return(0,f.each)(n,function(s,l){t>=s[0]&&t<=s[1]&&(a=(t-s[0])/(s[1]-s[0]),o=l)}),oo.default.pointAt(e[o][0],e[o][1],e[o+1][0],e[o+1][1],a)},r.prototype._setTcache=function(){var t=this.attr().points;if(!(!t||t.length===0)){var e=this.getTotalLength();if(!(e<=0)){var n=0,a=[],o,s;(0,f.each)(t,function(l,u){t[u+1]&&(o=[],o[0]=n/e,s=oo.default.length(l[0],l[1],t[u+1][0],t[u+1][1]),n+=s,o[1]=n/e,a.push(o))}),this.set("tCache",a)}}},r.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},r.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},r}(Oa),Ow=Lw;function Iw(i,r,t,e,n,a,o){var s=n/2;return Bo(i-s,r-s,t,n,a,o)||Bo(i+t-s,r-s,n,e,a,o)||Bo(i+s,r+e-s,t,n,a,o)||Bo(i-s,r+s,n,e,a,o)}function kw(i,r,t,e,n,a,o,s){var l=a/2;return mo(i+n,r,i+t-n,r,a,o,s)||mo(i+t,r+n,i+t,r+e-n,a,o,s)||mo(i+t-n,r+e,i+n,r+e,a,o,s)||mo(i,r+e-n,i,r+n,a,o,s)||Ts(i+t-n,r+n,n,1.5*Math.PI,2*Math.PI,a,o,s)||Ts(i+t-n,r+e-n,n,0,.5*Math.PI,a,o,s)||Ts(i+n,r+e-n,n,.5*Math.PI,Math.PI,a,o,s)||Ts(i+n,r+n,n,Math.PI,1.5*Math.PI,a,o,s)}var Bw=function(i){(0,Mr.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Mr.__assign)((0,Mr.__assign)({},t),{x:0,y:0,width:0,height:0,radius:0})},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){var s=this.attr(),l=s.x,u=s.y,h=s.width,c=s.height,v=s.radius;if(v){var M=!1;return n&&(M=kw(l,u,h,c,v,o,t,e)),!M&&a&&(M=fv(this,t,e)),M}else{var g=o/2;if(a&&n)return Bo(l-g,u-g,h+g,c+g,t,e);if(a)return Bo(l,u,h,c,t,e);if(n)return Iw(l,u,h,c,o,t,e)}},r.prototype.createPath=function(t){var e=this.attr(),n=e.x,a=e.y,o=e.width,s=e.height,l=e.radius;if(t.beginPath(),l===0)t.rect(n,a,o,s);else{var u=nw(l),h=u[0],c=u[1],v=u[2],g=u[3];t.moveTo(n+h,a),t.lineTo(n+o-c,a),c!==0&&t.arc(n+o-c,a+c,c,-Math.PI/2,0),t.lineTo(n+o,a+s-v),v!==0&&t.arc(n+o-v,a+s-v,v,0,Math.PI/2),t.lineTo(n+g,a+s),g!==0&&t.arc(n+g,a+s-g,g,Math.PI/2,Math.PI),t.lineTo(n,a+h),h!==0&&t.arc(n+h,a+h,h,Math.PI,Math.PI*1.5),t.closePath()}},r}(Oa),Dw=Bw,gv=d(8914),Fw=function(i){(0,Mr.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Mr.__assign)((0,Mr.__assign)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},r.prototype.isOnlyHitBox=function(){return!0},r.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},r.prototype._assembleFont=function(){var t=this.attrs;t.font=(0,gv.assembleFont)(t)},r.prototype._setText=function(t){var e=null;(0,mn.default)(t)&&t.indexOf(`
`)!==-1&&(e=t.split(`
`)),this.set("textArr",e)},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),t.startsWith("font")&&this._assembleFont(),t==="text"&&this._setText(e)},r.prototype._getSpaceingY=function(){var t=this.attrs,e=t.lineHeight,n=t.fontSize*1;return e?e-n:n*.14},r.prototype._drawTextArr=function(t,e,n){var a=this.attrs,o=a.textBaseline,s=a.x,l=a.y,u=a.fontSize*1,h=this._getSpaceingY(),c=(0,gv.getTextHeight)(a.text,a.fontSize,a.lineHeight),v;(0,Cn.default)(e,function(g,M){v=l+M*(h+u)-c+u,o==="middle"&&(v+=c-u-(c-u)/2),o==="top"&&(v+=c-u),n?t.fillText(g,s,v):t.strokeText(g,s,v)})},r.prototype._drawText=function(t,e){var n=this.attr(),a=n.x,o=n.y,s=this.get("textArr");if(s)this._drawTextArr(t,s,e);else{var l=n.text;e?t.fillText(l,a,o):t.strokeText(l,a,o)}},r.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,a=e.opacity,o=e.strokeOpacity,s=e.fillOpacity;this.isStroke()&&n>0&&(!(0,Ii.default)(o)&&o!==1&&(t.globalAlpha=a),this.stroke(t)),this.isFill()&&(!(0,Ii.default)(s)&&s!==1?(t.globalAlpha=s,this.fill(t),t.globalAlpha=a):this.fill(t)),this.afterDrawPath(t)},r.prototype.fill=function(t){this._drawText(t,!0)},r.prototype.stroke=function(t){this._drawText(t,!1)},r}(Oa),Rw=Fw,Nw=d(4555),IY=d(85424),Yw=d(22487),yv=d(6052);function Gw(i,r){if(r){var t=(0,yv.U_)(r);return(0,yv.rG)(t,i)}return i}function mv(i,r,t){var e=i.getTotalMatrix();if(e){var n=Gw([r,t,1],e),a=n[0],o=n[1];return[a,o]}return[r,t]}function xv(i,r,t){if(i.isCanvas&&i.isCanvas())return!0;if(!(0,Yw.isAllowCapture)(i)&&i.cfg.isInView===!1)return!1;if(i.cfg.clipShape){var e=mv(i,r,t),n=e[0],a=e[1];if(i.isClipped(n,a))return!1}var o=i.cfg.cacheCanvasBBox;return o||(o=i.getCanvasBBox()),r>=o.minX&&r<=o.maxX&&t>=o.minY&&t<=o.maxY}function bv(i,r,t){if(!xv(i,r,t))return null;for(var e=null,n=i.getChildren(),a=n.length,o=a-1;o>=0;o--){var s=n[o];if(s.isGroup())e=bv(s,r,t);else if(xv(s,r,t)){var l=s,u=mv(s,r,t),h=u[0],c=u[1];l.isInShape(h,c)&&(e=s)}if(e)break}return e}var zw=function(i){(0,Mr.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return t.renderer="canvas",t.autoDraw=!0,t.localRefresh=!0,t.refreshElements=[],t.clipView=!0,t.quickHit=!1,t},r.prototype.onCanvasChange=function(t){(t==="attr"||t==="sort"||t==="changeSize")&&(this.set("refreshElements",[this]),this.draw())},r.prototype.getShapeBase=function(){return S},r.prototype.getGroupBase=function(){return Mf},r.prototype.getPixelRatio=function(){var t=this.get("pixelRatio")||Zb();return t>=1?Math.ceil(t):1},r.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.get("width"),maxY:this.get("height")}},r.prototype.createDom=function(){var t=document.createElement("canvas"),e=t.getContext("2d");return this.set("context",e),t},r.prototype.setDOMSize=function(t,e){i.prototype.setDOMSize.call(this,t,e);var n=this.get("context"),a=this.get("el"),o=this.getPixelRatio();a.width=o*t,a.height=o*e,o>1&&n.scale(o,o)},r.prototype.clear=function(){i.prototype.clear.call(this),this._clearFrame();var t=this.get("context"),e=this.get("el");t.clearRect(0,0,e.width,e.height)},r.prototype.getShape=function(t,e){return this.get("quickHit")?bv(this,t,e):i.prototype.getShape.call(this,t,e,null)},r.prototype._getRefreshRegion=function(){var t=this.get("refreshElements"),e=this.getViewRange(),n;if(t.length&&t[0]===this)n=e;else if(n=ov(t),n){n.minX=Math.floor(n.minX),n.minY=Math.floor(n.minY),n.maxX=Math.ceil(n.maxX),n.maxY=Math.ceil(n.maxY);var a=this.get("clipView");a&&(n=aw(n,e))}return n},r.prototype.refreshElement=function(t){var e=this.get("refreshElements");e.push(t)},r.prototype._clearFrame=function(){var t=this.get("drawFrame");t&&((0,Ub.default)(t),this.set("drawFrame",null),this.set("refreshElements",[]))},r.prototype.draw=function(){var t=this.get("drawFrame");this.get("autoDraw")&&t||this._startDraw()},r.prototype._drawAll=function(){var t=this.get("context"),e=this.get("el"),n=this.getChildren();t.clearRect(0,0,e.width,e.height),ts(t,this),Cf(t,n),this.set("refreshElements",[])},r.prototype._drawRegion=function(){var t=this.get("context"),e=this.get("refreshElements"),n=this.getChildren(),a=this._getRefreshRegion();a&&(t.clearRect(a.minX,a.minY,a.maxX-a.minX,a.maxY-a.minY),t.save(),t.beginPath(),t.rect(a.minX,a.minY,a.maxX-a.minX,a.maxY-a.minY),t.clip(),ts(t,this),Cf(t,n,a),t.restore()),(0,Cn.default)(e,function(o){o.get("hasChanged")&&o.set("hasChanged",!1)}),this.set("refreshElements",[])},r.prototype._startDraw=function(){var t=this,e=this.get("drawFrame");e||(e=(0,jb.default)(function(){t.get("localRefresh")?t._drawRegion():t._drawAll(),t.set("drawFrame",null)}),this.set("drawFrame",e))},r.prototype.skipDraw=function(){},r}(fr.AbstractCanvas),wv=zw,Xw=d(71270),Vw=Xw.version,Pf={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},pn={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},kY=null;function Ca(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function Sv(i){var r=Pf[i.type],t=i.getParent();if(!r)throw new Error("the type "+i.type+" is not supported by svg");var e=Ca(r);if(i.get("id")&&(e.id=i.get("id")),i.set("el",e),i.set("attrs",{}),t){var n=t.get("el");n||(n=t.createDom(),t.set("el",n)),n.appendChild(e)}return e}function Cv(i,r){var t=i.get("el"),e=(0,f.toArray)(t.children).sort(r),n=document.createDocumentFragment();e.forEach(function(a){n.appendChild(a)}),t.appendChild(n)}function Hw(i,r){var t=i.parentNode,e=Array.from(t.childNodes).filter(function(s){return s.nodeType===1&&s.nodeName.toLowerCase()!=="defs"}),n=e[r],a=e.indexOf(i);if(n){if(a>r)t.insertBefore(i,n);else if(a<r){var o=e[r+1];o?t.insertBefore(i,o):t.appendChild(i)}}else t.appendChild(i)}function Ww(i,r){var t=i.cfg.el,e=i.attr(),n={dx:e.shadowOffsetX,dy:e.shadowOffsetY,blur:e.shadowBlur,color:e.shadowColor};if(!n.dx&&!n.dy&&!n.blur&&!n.color)t.removeAttribute("filter");else{var a=r.find("filter",n);a||(a=r.addShadow(n)),t.setAttribute("filter","url(#"+a+")")}}function Ps(i){var r=i.attr().matrix;if(r){for(var t=i.cfg.el,e=[],n=0;n<9;n+=3)e.push(r[n]+","+r[n+1]);e=e.join(","),e.indexOf("NaN")===-1?t.setAttribute("transform","matrix("+e+")"):console.warn("invalid matrix:",r)}}function _s(i,r){var t=i.getClip(),e=i.get("el");if(!t)e.removeAttribute("clip-path");else if(t&&!e.hasAttribute("clip-path")){Sv(t),t.createPath(r);var n=r.addClip(t);e.setAttribute("clip-path","url(#"+n+")")}}function Mv(i,r){r.forEach(function(t){t.draw(i)})}function Ev(i,r){var t=i.get("canvas");if(t&&t.get("autoDraw")){var e=t.get("context"),n=i.getParent(),a=n?n.getChildren():[t],o=i.get("el");if(r==="remove"){var s=i.get("isClipShape");if(s){var l=o&&o.parentNode,u=l&&l.parentNode;l&&u&&u.removeChild(l)}else o&&o.parentNode&&o.parentNode.removeChild(o)}else if(r==="show")o.setAttribute("visibility","visible");else if(r==="hide")o.setAttribute("visibility","hidden");else if(r==="zIndex")Hw(o,a.indexOf(i));else if(r==="sort"){var h=i.get("children");h&&h.length&&Cv(i,function(c,v){return h.indexOf(c)-h.indexOf(v)?1:0})}else r==="clear"?o&&(o.innerHTML=""):r==="matrix"?Ps(i):r==="clip"?_s(i,e):r==="attr"||r==="add"&&i.draw(e)}}var jw=function(i){(0,Mr.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.isEntityGroup=function(){return!0},r.prototype.createDom=function(){var t=Ca("g");this.set("el",t);var e=this.getParent();if(e){var n=e.get("el");n||(n=e.createDom(),e.set("el",n)),n.appendChild(t)}return t},r.prototype.afterAttrsChange=function(t){i.prototype.afterAttrsChange.call(this,t);var e=this.get("canvas");if(e&&e.get("autoDraw")){var n=e.get("context");this.createPath(n,t)}},r.prototype.onCanvasChange=function(t){Ev(this,t)},r.prototype.getShapeBase=function(){return D},r.prototype.getGroupBase=function(){return r},r.prototype.draw=function(t){var e=this.getChildren(),n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||this.createDom(),_s(this,t),this.createPath(t),e.length&&Mv(t,e))},r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,f.each)(e||n,function(o,s){pn[s]&&a.setAttribute(pn[s],o)}),Ps(this)},r}(fr.AbstractGroup),_f=jw,Uw=function(i){(0,Mr.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="svg",t.canFill=!1,t.canStroke=!1,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Mr.__assign)((0,Mr.__assign)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},r.prototype.afterAttrsChange=function(t){i.prototype.afterAttrsChange.call(this,t);var e=this.get("canvas");if(e&&e.get("autoDraw")){var n=e.get("context");this.draw(n,t)}},r.prototype.getShapeBase=function(){return D},r.prototype.getGroupBase=function(){return _f},r.prototype.onCanvasChange=function(t){Ev(this,t)},r.prototype.calculateBBox=function(){var t=this.get("el"),e=null;if(t)e=t.getBBox();else{var n=(0,sv.b)(this.get("type"));n&&(e=n(this))}if(e){var a=e.x,o=e.y,s=e.width,l=e.height,u=this.getHitLineWidth(),h=u/2,c=a-h,v=o-h,g=a+s+h,M=o+l+h;return{x:c,y:v,minX:c,minY:v,maxX:g,maxY:M,width:s+u,height:l+u}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},r.prototype.isFill=function(){var t=this.attr(),e=t.fill,n=t.fillStyle;return(e||n||this.isClipShape())&&this.canFill},r.prototype.isStroke=function(){var t=this.attr(),e=t.stroke,n=t.strokeStyle;return(e||n)&&this.canStroke},r.prototype.draw=function(t,e){var n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||Sv(this),_s(this,t),this.createPath(t,e),this.shadow(t,e),this.strokeAndFill(t,e),this.transform(e))},r.prototype.createPath=function(t,e){},r.prototype.strokeAndFill=function(t,e){var n=e||this.attr(),a=n.fill,o=n.fillStyle,s=n.stroke,l=n.strokeStyle,u=n.fillOpacity,h=n.strokeOpacity,c=n.lineWidth,v=this.get("el");this.canFill&&(e?"fill"in n?this._setColor(t,"fill",a):"fillStyle"in n&&this._setColor(t,"fill",o):this._setColor(t,"fill",a||o),u&&v.setAttribute(pn.fillOpacity,u)),this.canStroke&&c>0&&(e?"stroke"in n?this._setColor(t,"stroke",s):"strokeStyle"in n&&this._setColor(t,"stroke",l):this._setColor(t,"stroke",s||l),h&&v.setAttribute(pn.strokeOpacity,h),c&&v.setAttribute(pn.lineWidth,c))},r.prototype._setColor=function(t,e,n){var a=this.get("el");if(!n){a.setAttribute(pn[e],"none");return}if(n=n.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(n)){var o=t.find("gradient",n);o||(o=t.addGradient(n)),a.setAttribute(pn[e],"url(#"+o+")")}else if(/^[p,P]{1}[\s]*\(/.test(n)){var o=t.find("pattern",n);o||(o=t.addPattern(n)),a.setAttribute(pn[e],"url(#"+o+")")}else a.setAttribute(pn[e],n)},r.prototype.shadow=function(t,e){var n=this.attr(),a=e||n,o=a.shadowOffsetX,s=a.shadowOffsetY,l=a.shadowBlur,u=a.shadowColor;(o||s||l||u)&&Ww(this,t)},r.prototype.transform=function(t){var e=this.attr(),n=(t||e).matrix;n&&Ps(this)},r.prototype.isInShape=function(t,e){return this.isPointInPath(t,e)},r.prototype.isPointInPath=function(t,e){var n=this.get("el"),a=this.get("canvas"),o=a.get("el").getBoundingClientRect(),s=t+o.left,l=e+o.top,u=document.elementFromPoint(s,l);return!!(u&&u.isEqualNode(n))},r.prototype.getHitLineWidth=function(){var t=this.attrs,e=t.lineWidth,n=t.lineAppendWidth;return this.isStroke()?e+n:0},r}(fr.AbstractShape),Ma=Uw,Zw=function(i){(0,Mr.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="circle",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Mr.__assign)((0,Mr.__assign)({},t),{x:0,y:0,r:0})},r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,f.each)(e||n,function(o,s){s==="x"||s==="y"?a.setAttribute("c"+s,o):pn[s]&&a.setAttribute(pn[s],o)})},r}(Ma),Kw=Zw,$w=function(i){(0,Mr.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="dom",t.canFill=!1,t.canStroke=!1,t}return r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,f.each)(e||n,function(o,s){pn[s]&&a.setAttribute(pn[s],o)}),a.innerHTML=n.html},r}(Ma),Qw=$w,Jw=function(i){(0,Mr.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="ellipse",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Mr.__assign)((0,Mr.__assign)({},t),{x:0,y:0,rx:0,ry:0})},r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,f.each)(e||n,function(o,s){s==="x"||s==="y"?a.setAttribute("c"+s,o):pn[s]&&a.setAttribute(pn[s],o)})},r}(Ma),qw=Jw,tS=function(i){(0,Mr.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="image",t.canFill=!1,t.canStroke=!1,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Mr.__assign)((0,Mr.__assign)({},t),{x:0,y:0,width:0,height:0})},r.prototype.createPath=function(t,e){var n=this,a=this.attr(),o=this.get("el");(0,f.each)(e||a,function(s,l){l==="img"?n._setImage(a.img):pn[l]&&o.setAttribute(pn[l],s)})},r.prototype.setAttr=function(t,e){this.attrs[t]=e,t==="img"&&this._setImage(e)},r.prototype._setImage=function(t){var e=this.attr(),n=this.get("el");if((0,f.isString)(t))n.setAttribute("href",t);else if(t instanceof window.Image)e.width||(n.setAttribute("width",t.width),this.attr("width",t.width)),e.height||(n.setAttribute("height",t.height),this.attr("height",t.height)),n.setAttribute("href",t.src);else if(t instanceof HTMLElement&&(0,f.isString)(t.nodeName)&&t.nodeName.toUpperCase()==="CANVAS")n.setAttribute("href",t.toDataURL());else if(t instanceof ImageData){var a=document.createElement("canvas");a.setAttribute("width",""+t.width),a.setAttribute("height",""+t.height),a.getContext("2d").putImageData(t,0,0),e.width||(n.setAttribute("width",""+t.width),this.attr("width",t.width)),e.height||(n.setAttribute("height",""+t.height),this.attr("height",t.height)),n.setAttribute("href",a.toDataURL())}},r}(Ma),eS=tS,rS=function(i){(0,Mr.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="line",t.canFill=!1,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Mr.__assign)((0,Mr.__assign)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,f.each)(e||n,function(o,s){if(s==="startArrow"||s==="endArrow")if(o){var l=(0,f.isObject)(o)?t.addArrow(n,pn[s]):t.getDefaultArrow(n,pn[s]);a.setAttribute(pn[s],"url(#"+l+")")}else a.removeAttribute(pn[s]);else pn[s]&&a.setAttribute(pn[s],o)})},r.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,a=t.x2,o=t.y2;return oo.default.length(e,n,a,o)},r.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,a=e.y1,o=e.x2,s=e.y2;return oo.default.pointAt(n,a,o,s,t)},r}(Ma),nS=rS,Al={circle:function(i,r,t){return[["M",i,r],["m",-t,0],["a",t,t,0,1,0,t*2,0],["a",t,t,0,1,0,-t*2,0]]},square:function(i,r,t){return[["M",i-t,r-t],["L",i+t,r-t],["L",i+t,r+t],["L",i-t,r+t],["Z"]]},diamond:function(i,r,t){return[["M",i-t,r],["L",i,r-t],["L",i+t,r],["L",i,r+t],["Z"]]},triangle:function(i,r,t){var e=t*Math.sin(1/3*Math.PI);return[["M",i-t,r+e],["L",i,r-e],["L",i+t,r+e],["z"]]},triangleDown:function(i,r,t){var e=t*Math.sin(1/3*Math.PI);return[["M",i-t,r-e],["L",i+t,r-e],["L",i,r+e],["Z"]]}},Av={get:function(i){return Al[i]},register:function(i,r){Al[i]=r},remove:function(i){delete Al[i]},getAll:function(){return Al}},iS=function(i){(0,Mr.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="marker",t.canFill=!0,t.canStroke=!0,t}return r.prototype.createPath=function(t){var e=this.get("el");e.setAttribute("d",this._assembleMarker())},r.prototype._assembleMarker=function(){var t=this._getPath();return(0,f.isArray)(t)?t.map(function(e){return e.join(" ")}).join(""):t},r.prototype._getPath=function(){var t=this.attr(),e=t.x,n=t.y,a=t.r||t.radius,o=t.symbol||"circle",s;return(0,f.isFunction)(o)?s=o:s=Av.get(o),s?s(e,n,a):(console.warn(s+" symbol is not exist."),null)},r.symbolsFactory=Av,r}(Ma),aS=iS,oS=function(i){(0,Mr.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="path",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Mr.__assign)((0,Mr.__assign)({},t),{startArrow:!1,endArrow:!1})},r.prototype.createPath=function(t,e){var n=this,a=this.attr(),o=this.get("el");(0,f.each)(e||a,function(s,l){if(l==="path"&&(0,f.isArray)(s))o.setAttribute("d",n._formatPath(s));else if(l==="startArrow"||l==="endArrow")if(s){var u=(0,f.isObject)(s)?t.addArrow(a,pn[l]):t.getDefaultArrow(a,pn[l]);o.setAttribute(pn[l],"url(#"+u+")")}else o.removeAttribute(pn[l]);else pn[l]&&o.setAttribute(pn[l],s)})},r.prototype._formatPath=function(t){var e=t.map(function(n){return n.join(" ")}).join("");return~e.indexOf("NaN")?"":e},r.prototype.getTotalLength=function(){var t=this.get("el");return t?t.getTotalLength():null},r.prototype.getPoint=function(t){var e=this.get("el"),n=this.getTotalLength(),a=e?e.getPointAtLength(t*n):null;return a?{x:a.x,y:a.y}:null},r}(Ma),sS=oS,lS=function(i){(0,Mr.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="polygon",t.canFill=!0,t.canStroke=!0,t}return r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,f.each)(e||n,function(o,s){s==="points"&&(0,f.isArray)(o)&&o.length>=2?a.setAttribute("points",o.map(function(l){return l[0]+","+l[1]}).join(" ")):pn[s]&&a.setAttribute(pn[s],o)})},r}(Ma),uS=lS,fS=function(i){(0,Mr.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="polyline",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Mr.__assign)((0,Mr.__assign)({},t),{startArrow:!1,endArrow:!1})},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),["points"].indexOf(t)!==-1&&this._resetCache()},r.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,f.each)(e||n,function(o,s){s==="points"&&(0,f.isArray)(o)&&o.length>=2?a.setAttribute("points",o.map(function(l){return l[0]+","+l[1]}).join(" ")):pn[s]&&a.setAttribute(pn[s],o)})},r.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return(0,f.isNil)(e)?(this.set("totalLength",pv.Z.length(t)),this.get("totalLength")):e},r.prototype.getPoint=function(t){var e=this.attr().points,n=this.get("tCache");n||(this._setTcache(),n=this.get("tCache"));var a,o;return(0,f.each)(n,function(s,l){t>=s[0]&&t<=s[1]&&(a=(t-s[0])/(s[1]-s[0]),o=l)}),oo.default.pointAt(e[o][0],e[o][1],e[o+1][0],e[o+1][1],a)},r.prototype._setTcache=function(){var t=this.attr().points;if(!(!t||t.length===0)){var e=this.getTotalLength();if(!(e<=0)){var n=0,a=[],o,s;(0,f.each)(t,function(l,u){t[u+1]&&(o=[],o[0]=n/e,s=oo.default.length(l[0],l[1],t[u+1][0],t[u+1][1]),n+=s,o[1]=n/e,a.push(o))}),this.set("tCache",a)}}},r.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},r.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},r}(Ma),hS=fS,cS=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,vS=/[^\s\,]+/gi;function dS(i){var r=0,t=0,e=0,n=0;return(0,f.isArray)(i)?i.length===1?r=t=e=n=i[0]:i.length===2?(r=e=i[0],t=n=i[1]):i.length===3?(r=i[0],t=n=i[1],e=i[2]):(r=i[0],t=i[1],e=i[2],n=i[3]):r=t=e=n=i,{r1:r,r2:t,r3:e,r4:n}}function BY(i){if(i=i||[],isArray(i))return i;if(isString(i))return i=i.match(cS),each(i,function(r,t){if(r=r.match(vS),r[0].length>1){var e=r[0].charAt(0);r.splice(1,0,r[0].substr(1)),r[0]=e}each(r,function(n,a){isNaN(n)||(r[a]=+n)}),i[t]=r}),i}var pS=function(i){(0,Mr.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="rect",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Mr.__assign)((0,Mr.__assign)({},t),{x:0,y:0,width:0,height:0,radius:0})},r.prototype.createPath=function(t,e){var n=this,a=this.attr(),o=this.get("el"),s=!1,l=["x","y","width","height","radius"];(0,f.each)(e||a,function(u,h){l.indexOf(h)!==-1&&!s?(o.setAttribute("d",n._assembleRect(a)),s=!0):l.indexOf(h)===-1&&pn[h]&&o.setAttribute(pn[h],u)})},r.prototype._assembleRect=function(t){var e=t.x,n=t.y,a=t.width,o=t.height,s=t.radius;if(!s)return"M "+e+","+n+" l "+a+",0 l 0,"+o+" l"+-a+" 0 z";var l=dS(s);(0,f.isArray)(s)?s.length===1?l.r1=l.r2=l.r3=l.r4=s[0]:s.length===2?(l.r1=l.r3=s[0],l.r2=l.r4=s[1]):s.length===3?(l.r1=s[0],l.r2=l.r4=s[1],l.r3=s[2]):(l.r1=s[0],l.r2=s[1],l.r3=s[2],l.r4=s[3]):l.r1=l.r2=l.r3=l.r4=s;var u=[["M "+(e+l.r1)+","+n],["l "+(a-l.r1-l.r2)+",0"],["a "+l.r2+","+l.r2+",0,0,1,"+l.r2+","+l.r2],["l 0,"+(o-l.r2-l.r3)],["a "+l.r3+","+l.r3+",0,0,1,"+-l.r3+","+l.r3],["l "+(l.r3+l.r4-a)+",0"],["a "+l.r4+","+l.r4+",0,0,1,"+-l.r4+","+-l.r4],["l 0,"+(l.r4+l.r1-o)],["a "+l.r1+","+l.r1+",0,0,1,"+l.r1+","+-l.r1],["z"]];return u.join(" ")},r}(Ma),gS=pS,yS=d(56463),Tv=.3,mS={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},xS={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},bS={left:"left",start:"left",center:"middle",right:"end",end:"end"},wS=function(i){(0,Mr.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="text",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Mr.__assign)((0,Mr.__assign)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},r.prototype.createPath=function(t,e){var n=this,a=this.attr(),o=this.get("el");this._setFont(),(0,f.each)(e||a,function(s,l){l==="text"?n._setText(""+s):l==="matrix"&&s?Ps(n):pn[l]&&o.setAttribute(pn[l],s)}),o.setAttribute("paint-order","stroke"),o.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},r.prototype._setFont=function(){var t=this.get("el"),e=this.attr(),n=e.textBaseline,a=e.textAlign,o=(0,yS.detect)();o&&o.name==="firefox"?t.setAttribute("dominant-baseline",xS[n]||"alphabetic"):t.setAttribute("alignment-baseline",mS[n]||"baseline"),t.setAttribute("text-anchor",bS[a]||"left")},r.prototype._setText=function(t){var e=this.get("el"),n=this.attr(),a=n.x,o=n.textBaseline,s=o===void 0?"bottom":o;if(!t)e.innerHTML="";else if(~t.indexOf(`
`)){var l=t.split(`
`),u=l.length-1,h="";(0,f.each)(l,function(c,v){v===0?s==="alphabetic"?h+='<tspan x="'+a+'" dy="'+-u+'em">'+c+"</tspan>":s==="top"?h+='<tspan x="'+a+'" dy="0.9em">'+c+"</tspan>":s==="middle"?h+='<tspan x="'+a+'" dy="'+-(u-1)/2+'em">'+c+"</tspan>":s==="bottom"?h+='<tspan x="'+a+'" dy="-'+(u+Tv)+'em">'+c+"</tspan>":s==="hanging"&&(h+='<tspan x="'+a+'" dy="'+(-(u-1)-Tv)+'em">'+c+"</tspan>"):h+='<tspan x="'+a+'" dy="1em">'+c+"</tspan>"}),e.innerHTML=h}else e.innerHTML=t},r}(Ma),SS=wS,CS=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,MS=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,ES=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function Pv(i){var r=i.match(ES);if(!r)return"";var t="";return r.sort(function(e,n){return e=e.split(":"),n=n.split(":"),Number(e[0])-Number(n[0])}),(0,f.each)(r,function(e){e=e.split(":"),t+='<stop offset="'+e[0]+'" stop-color="'+e[1]+'"></stop>'}),t}function AS(i,r){var t=CS.exec(i),e=(0,f.mod)((0,f.toRadian)(parseFloat(t[1])),Math.PI*2),n=t[2],a,o;e>=0&&e<.5*Math.PI?(a={x:0,y:0},o={x:1,y:1}):.5*Math.PI<=e&&e<Math.PI?(a={x:1,y:0},o={x:0,y:1}):Math.PI<=e&&e<1.5*Math.PI?(a={x:1,y:1},o={x:0,y:0}):(a={x:0,y:1},o={x:1,y:0});var s=Math.tan(e),l=s*s,u=(o.x-a.x+s*(o.y-a.y))/(l+1)+a.x,h=s*(o.x-a.x+s*(o.y-a.y))/(l+1)+a.y;r.setAttribute("x1",a.x),r.setAttribute("y1",a.y),r.setAttribute("x2",u),r.setAttribute("y2",h),r.innerHTML=Pv(n)}function TS(i,r){var t=MS.exec(i),e=parseFloat(t[1]),n=parseFloat(t[2]),a=parseFloat(t[3]),o=t[4];r.setAttribute("cx",e),r.setAttribute("cy",n),r.setAttribute("r",a),r.innerHTML=Pv(o)}var PS=function(){function i(r){this.cfg={};var t=null,e=(0,f.uniqueId)("gradient_");return r.toLowerCase()[0]==="l"?(t=Ca("linearGradient"),AS(r,t)):(t=Ca("radialGradient"),TS(r,t)),t.setAttribute("id",e),this.el=t,this.id=e,this.cfg=r,this}return i.prototype.match=function(r,t){return this.cfg===t},i}(),_S=PS,LS={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},OS={x:"-40%",y:"-40%",width:"200%",height:"200%"},IS=function(){function i(r){this.type="filter",this.cfg={},this.type="filter";var t=Ca("filter");return(0,f.each)(OS,function(e,n){t.setAttribute(n,e)}),this.el=t,this.id=(0,f.uniqueId)("filter_"),this.el.id=this.id,this.cfg=r,this._parseShadow(r,t),this}return i.prototype.match=function(r,t){if(this.type!==r)return!1;var e=!0,n=this.cfg;return(0,f.each)(Object.keys(n),function(a){if(n[a]!==t[a])return e=!1,!1}),e},i.prototype.update=function(r,t){var e=this.cfg;return e[LS[r]]=t,this._parseShadow(e,this.el),this},i.prototype._parseShadow=function(r,t){var e=`<feDropShadow
      dx="`+(r.dx||0)+`"
      dy="`+(r.dy||0)+`"
      stdDeviation="`+(r.blur?r.blur/10:0)+`"
      flood-color="`+(r.color?r.color:"#000")+`"
      flood-opacity="`+(r.opacity?r.opacity:1)+`"
      />`;t.innerHTML=e},i}(),kS=IS,BS=function(){function i(r,t){this.cfg={};var e=Ca("marker"),n=(0,f.uniqueId)("marker_");e.setAttribute("id",n);var a=Ca("path");a.setAttribute("stroke",r.stroke||"none"),a.setAttribute("fill",r.fill||"none"),e.appendChild(a),e.setAttribute("overflow","visible"),e.setAttribute("orient","auto-start-reverse"),this.el=e,this.child=a,this.id=n;var o=r[t==="marker-start"?"startArrow":"endArrow"];return this.stroke=r.stroke||"#000",o===!0?this._setDefaultPath(t,a):(this.cfg=o,this._setMarker(r.lineWidth,a)),this}return i.prototype.match=function(){return!1},i.prototype._setDefaultPath=function(r,t){var e=this.el;t.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),e.setAttribute("refX",""+10*Math.cos(Math.PI/6)),e.setAttribute("refY",""+5)},i.prototype._setMarker=function(r,t){var e=this.el,n=this.cfg.path,a=this.cfg.d;(0,f.isArray)(n)&&(n=n.map(function(o){return o.join(" ")}).join("")),t.setAttribute("d",n),e.appendChild(t),a&&e.setAttribute("refX",""+a/r)},i.prototype.update=function(r){var t=this.child;t.attr?t.attr("fill",r):t.setAttribute("fill",r)},i}(),_v=BS,DS=function(){function i(r){this.type="clip",this.cfg={};var t=Ca("clipPath");this.el=t,this.id=(0,f.uniqueId)("clip_"),t.id=this.id;var e=r.cfg.el;return t.appendChild(e),this.cfg=r,this}return i.prototype.match=function(){return!1},i.prototype.remove=function(){var r=this.el;r.parentNode.removeChild(r)},i}(),FS=DS,RS=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,NS=function(){function i(r){this.cfg={};var t=Ca("pattern");t.setAttribute("patternUnits","userSpaceOnUse");var e=Ca("image");t.appendChild(e);var n=(0,f.uniqueId)("pattern_");t.id=n,this.el=t,this.id=n,this.cfg=r;var a=RS.exec(r),o=a[2];e.setAttribute("href",o);var s=new Image;o.match(/^data:/i)||(s.crossOrigin="Anonymous"),s.src=o;function l(){t.setAttribute("width",""+s.width),t.setAttribute("height",""+s.height)}return s.complete?l():(s.onload=l,s.src=s.src),this}return i.prototype.match=function(r,t){return this.cfg===t},i}(),YS=NS,GS=function(){function i(r){var t=Ca("defs"),e=(0,f.uniqueId)("defs_");t.id=e,r.appendChild(t),this.children=[],this.defaultArrow={},this.el=t,this.canvas=r}return i.prototype.find=function(r,t){for(var e=this.children,n=null,a=0;a<e.length;a++)if(e[a].match(r,t)){n=e[a].id;break}return n},i.prototype.findById=function(r){for(var t=this.children,e=null,n=0;n<t.length;n++)if(t[n].id===r){e=t[n];break}return e},i.prototype.add=function(r){this.children.push(r),r.canvas=this.canvas,r.parent=this},i.prototype.getDefaultArrow=function(r,t){var e=r.stroke||r.strokeStyle;if(this.defaultArrow[e])return this.defaultArrow[e].id;var n=new _v(r,t);return this.defaultArrow[e]=n,this.el.appendChild(n.el),this.add(n),n.id},i.prototype.addGradient=function(r){var t=new _S(r);return this.el.appendChild(t.el),this.add(t),t.id},i.prototype.addArrow=function(r,t){var e=new _v(r,t);return this.el.appendChild(e.el),this.add(e),e.id},i.prototype.addShadow=function(r){var t=new kS(r);return this.el.appendChild(t.el),this.add(t),t.id},i.prototype.addPattern=function(r){var t=new YS(r);return this.el.appendChild(t.el),this.add(t),t.id},i.prototype.addClip=function(r){var t=new FS(r);return this.el.appendChild(t.el),this.add(t),t.id},i}(),zS=GS,XS=function(i){(0,Mr.__extends)(r,i);function r(t){return i.call(this,(0,Mr.__assign)((0,Mr.__assign)({},t),{autoDraw:!0,renderer:"svg"}))||this}return r.prototype.getShapeBase=function(){return D},r.prototype.getGroupBase=function(){return _f},r.prototype.getShape=function(t,e,n){var a=n.target||n.srcElement;if(!Pf[a.tagName]){for(var o=a.parentNode;o&&!Pf[o.tagName];)o=o.parentNode;a=o}return this.find(function(s){return s.get("el")===a})},r.prototype.createDom=function(){var t=Ca("svg"),e=new zS(t);return t.setAttribute("width",""+this.get("width")),t.setAttribute("height",""+this.get("height")),this.set("context",e),t},r.prototype.onCanvasChange=function(t){var e=this.get("context"),n=this.get("el");if(t==="sort"){var a=this.get("children");a&&a.length&&Cv(this,function(s,l){return a.indexOf(s)-a.indexOf(l)?1:0})}else if(t==="clear"){if(n){n.innerHTML="";var o=e.el;o.innerHTML="",n.appendChild(o)}}else t==="matrix"?Ps(this):t==="clip"?_s(this,e):t==="changeSize"&&(n.setAttribute("width",""+this.get("width")),n.setAttribute("height",""+this.get("height")))},r.prototype.draw=function(){var t=this.get("context"),e=this.getChildren();_s(this,t),e.length&&Mv(t,e)},r}(fr.AbstractCanvas),Lv=XS,VS=d(23231),HS=VS.version;function Lf(i){return i?!1:i==null||isNaN(i)}function Ov(i){if((0,f.isArray)(i))return Lf(i[1].y);var r=i.y;return(0,f.isArray)(r)?Lf(r[0]):Lf(r)}function Of(i,r,t){if(r===void 0&&(r=!1),t===void 0&&(t=!0),!i.length||i.length===1&&!t)return[];if(r){for(var e=[],n=0,a=i.length;n<a;n++){var o=i[n];Ov(o)||e.push(o)}return[e]}for(var s=[],l=[],n=0,a=i.length;n<a;n++){var o=i[n];Ov(o)?l.length&&(l.length===1&&!t||s.push(l),l=[]):l.push(o)}return l.length&&s.push(l),s}function Mi(i,r,t,e){e===void 0&&(e="");var n=i.style,a=n===void 0?{}:n,o=i.defaultStyle,s=i.color,l=i.size,u=(0,$.__assign)((0,$.__assign)({},o),a);return s&&(r&&(a.stroke||(u.stroke=s)),t&&(a.fill||(u.fill=s))),e&&(0,f.isNil)(a[e])&&!(0,f.isNil)(l)&&(u[e]=l),u}function If(i){var r=i.x,t=(0,f.isArray)(i.y)?i.y:[i.y];return t.map(function(e,n){return{x:(0,f.isArray)(r)?r[n]:r,y:e}})}var WS={line:function(i,r,t){return[["M",i-t,r],["L",i+t,r]]},dot:function(i,r,t){return[["M",i-t,r],["L",i+t,r]]},dash:function(i,r,t){return[["M",i-t,r],["L",i+t,r]]},smooth:function(i,r,t){return[["M",i-t,r],["A",t/2,t/2,0,1,1,i,r],["A",t/2,t/2,0,1,0,i+t,r]]},hv:function(i,r,t){return[["M",i-t-1,r-2.5],["L",i,r-2.5],["L",i,r+2.5],["L",i+t+1,r+2.5]]},vh:function(i,r,t){return[["M",i-t-1,r+2.5],["L",i,r+2.5],["L",i,r-2.5],["L",i+t+1,r-2.5]]},hvh:function(i,r,t){return[["M",i-(t+1),r+2.5],["L",i-t/2,r+2.5],["L",i-t/2,r-2.5],["L",i+t/2,r-2.5],["L",i+t/2,r+2.5],["L",i+t+1,r+2.5]]},vhv:function(i,r){return[["M",i-5,r+2.5],["L",i-5,r],["L",i,r],["L",i,r-3],["L",i,r+3],["L",i+6.5,r+3]]}};function Iv(i,r){var t=i.color;return{symbol:WS[r],style:{lineWidth:2,r:6,stroke:t}}}function jS(i,r,t){for(var e=i.isStack,n=i.connectNulls,a=i.isInCircle,o=i.showSinglePoint,s=Mi(i,!0,!1,"lineWidth"),l=Of(i.points,n,o),u=[],h=0,c=l.length;h<c;h++){var v=l[h];u=u.concat(ZS(v,a,e,r,t,s))}return s.path=u,s}function kf(i,r,t,e,n){if(i.length===1)return[["M",i[0].x,i[0].y-n.lineWidth/2],["L",i[0].x,i[0].y],["L",i[0].x,i[0].y+n.lineWidth/2]];var a;return t?(r&&i.length&&i.push({x:i[0].x,y:i[0].y}),a=ye(i,!1,e)):(a=ge(i,!1),r&&a.push(["Z"])),a}function US(i,r,t,e,n,a){var o=[],s=[];(0,f.each)(i,function(h){var c=If(h);o.push(c[1]),s.push(c[0])});var l=kf(o,r,e,n,a),u=kf(s,r,e,n,a);return t?l:l.concat(u)}function ZS(i,r,t,e,n,a){if(i.length){var o=i[0];return(0,f.isArray)(o.y)?US(i,r,t,e,n,a):kf(i,r,e,n,a)}return[]}var DY=yo("line",{defaultShapeType:"line"});(0,f.each)(["line","dot","dash","smooth"],function(i){vn("line",i,{draw:function(r,t){var e=i==="smooth",n;if(e){var a=this.coordinate,o=a.start,s=a.end;n=[[o.x,s.y],[s.x,o.y]]}var l=jS(r,e,n),u=t.addShape({type:"path",attrs:l,name:"line"});return u},getMarker:function(r){return Iv(r,i)}})});var FY=null,KS=function(i){(0,$.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.type="path",e.shapeType="line";var n=t.connectNulls,a=n===void 0?!1:n,o=t.showSinglePoint,s=o===void 0?!0:o;return e.connectNulls=a,e.showSinglePoint=s,e}return r.prototype.createElements=function(t,e,n){n===void 0&&(n=!1);var a=this,o=a.lastElementsMap,s=a.elementsMap,l=a.elements,u=a.container,h=this.getElementId(t),c=this.getShapeInfo(t),v=o[h];if(v){var M=v.getModel();(this.isCoordinateChanged||Uc(M,c))&&(v.animate=this.animateOption,v.update(c)),delete o[h]}else{var g=this.getShapeFactory();v=new Xc({shapeFactory:g,container:u,offscreenGroup:this.getOffscreenGroup()}),v.geometry=this,v.animate=this.animateOption,v.draw(c,n)}return l.push(v),s[h]=v,l},r.prototype.getPointsAndData=function(t){for(var e=[],n=[],a=0,o=t.length;a<o;a++){var s=t[a];e.push({x:s.x,y:s.y}),n.push(s[Kt])}return{points:e,data:n}},r.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]),n=this.getPointsAndData(t),a=n.points,o=n.data;return e.mappingData=t,e.data=o,e.isStack=!!this.getAdjust("stack"),e.points=a,e.connectNulls=this.connectNulls,e.showSinglePoint=this.showSinglePoint,e},r}(ao),Bf=KS;function $S(i,r,t,e,n){var a=[];if(i.length){for(var o=[],s=[],l=0,u=i.length;l<u;l++){var h=i[l];o.push(h[1]),s.push(h[0])}s=s.reverse(),(0,f.each)([o,s],function(c,v){var g=[],M=e.parsePoints(c),F=M[0];o.length===1&&s.length===1?g=v===0?[["M",F.x-.5,F.y],["L",F.x+.5,F.y]]:[["L",F.x+.5,F.y],["L",F.x-.5,F.y]]:(r&&M.push({x:F.x,y:F.y}),t?g=ye(M,!1,n):g=ge(M,!1),v>0&&(g[0][0]="L")),a=a.concat(g)}),a.push(["Z"])}return a}function Tl(i,r,t,e,n){for(var a=Mi(i,r,!r,"lineWidth"),o=i.connectNulls,s=i.isInCircle,l=i.points,u=i.showSinglePoint,h=Of(l,o,u),c=[],v=0,g=h.length;v<g;v++){var M=h[v];c=c.concat($S(M,s,t,e,n))}return a.path=c,a}function kv(i){var r=i.start,t=i.end;return[[r.x,t.y],[t.x,r.y]]}var RY=yo("area",{defaultShapeType:"area",getDefaultPoints:function(i){var r=i.x,t=i.y0,e=(0,f.isArray)(i.y)?i.y:[t,i.y];return e.map(function(n){return{x:r,y:n}})}});vn("area","area",{draw:function(i,r){var t=Tl(i,!1,!1,this),e=r.addShape({type:"path",attrs:t,name:"area"});return e},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return n===void 0&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,fill:r}}}});var NY=null,QS=function(i){(0,$.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.type="area",e.shapeType="area",e.generatePoints=!0,e.startOnZero=!0;var n=t.startOnZero,a=n===void 0?!0:n,o=t.sortable,s=o===void 0?!0:o,l=t.showSinglePoint,u=l===void 0?!1:l;return e.startOnZero=a,e.sortable=s,e.showSinglePoint=u,e}return r.prototype.getPointsAndData=function(t){for(var e=[],n=[],a=0,o=t.length;a<o;a++){var s=t[a];e.push(s.points),n.push(s[Kt])}return{points:e,data:n}},r.prototype.getYMinValue=function(){if(this.startOnZero)return i.prototype.getYMinValue.call(this);var t=this.getYScale();return t.min},r}(Bf),JS=QS,YY=yo("edge",{defaultShapeType:"line",getDefaultPoints:function(i){return If(i)}});vn("edge","line",{draw:function(i,r){var t=Mi(i,!0,!1,"lineWidth"),e=ge(this.parsePoints(i.points),this.coordinate.isPolar);return r.addShape("path",{attrs:(0,$.__assign)((0,$.__assign)({},t),{path:e})})},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}});var GY=null,qS=function(i){(0,$.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="edge",t.shapeType="edge",t.generatePoints=!0,t}return r}(ao),t2=qS,e2=d(55223),r2=function(i){(0,$.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="heatmap",t.paletteCache={},t}return r.prototype.createElements=function(t,e,n){n===void 0&&(n=!1);var a=this.prepareRange(t),o=this.prepareSize(),s=(0,f.get)(this.styleOption,["style","shadowBlur"]);return(0,f.isNumber)(s)||(s=o/2),this.prepareGreyScaleBlurredCircle(o,s),this.drawWithRange(t,a,o,s),null},r.prototype.clear=function(){i.prototype.clear.call(this),this.clearShadowCanvasCtx(),this.paletteCache={}},r.prototype.prepareRange=function(t){var e=this.getAttribute("color"),n=e.getFields()[0],a=Infinity,o=-Infinity;return t.forEach(function(s){var l=s[Kt][n];l>o&&(o=l),l<a&&(a=l)}),a===o&&(a=o-1),[a,o]},r.prototype.prepareSize=function(){var t=this.getDefaultValue("size");return(0,f.isNumber)(t)||(t=this.getDefaultSize()),t},r.prototype.prepareGreyScaleBlurredCircle=function(t,e){var n=this.getGrayScaleBlurredCanvas(),a=t+e,o=n.getContext("2d");n.width=n.height=a*2,o.clearRect(0,0,n.width,n.height),o.shadowOffsetX=o.shadowOffsetY=a*2,o.shadowBlur=e,o.shadowColor="black",o.beginPath(),o.arc(-a,-a,t,0,Math.PI*2,!0),o.closePath(),o.fill()},r.prototype.drawWithRange=function(t,e,n,a){var o=this.coordinate,s=o.start,l=o.end,u=this.coordinate.getWidth(),h=this.coordinate.getHeight(),c=this.getAttribute("color"),v=c.getFields()[0];this.clearShadowCanvasCtx();var g=this.getShadowCanvasCtx();e&&(t=t.filter(function(jt){return jt[Kt][v]<=e[1]&&jt[Kt][v]>=e[0]}));for(var M=this.scales[v],F=0,Y=t;F<Y.length;F++){var V=Y[F],z=this.getDrawCfg(V),it=z.x,ot=z.y,yt=M.scale(V[Kt][v]);this.drawGrayScaleBlurredCircle(it-s.x,ot-l.y,n+a,yt,g)}var It=g.getImageData(0,0,u,h);this.clearShadowCanvasCtx(),this.colorize(It),g.putImageData(It,0,0);var zt=this.getImageShape();zt.attr("x",s.x),zt.attr("y",l.y),zt.attr("width",u),zt.attr("height",h),zt.attr("img",g.canvas),zt.set("origin",this.getShapeInfo(t))},r.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),e=this.coordinate;return Math.min(e.getWidth()/(t.scales[0].ticks.length*4),e.getHeight()/(t.scales[1].ticks.length*4))},r.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},r.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;return t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight(),t.getContext("2d")},r.prototype.getGrayScaleBlurredCanvas=function(){return this.grayScaleBlurredCanvas||(this.grayScaleBlurredCanvas=document.createElement("canvas")),this.grayScaleBlurredCanvas},r.prototype.drawGrayScaleBlurredCircle=function(t,e,n,a,o){var s=this.getGrayScaleBlurredCanvas();o.globalAlpha=a,o.drawImage(s,t-n,e-n)},r.prototype.colorize=function(t){for(var e=this.getAttribute("color"),n=t.data,a=this.paletteCache,o=3;o<n.length;o+=4){var s=n[o];if((0,f.isNumber)(s)){var l=a[s]?a[s]:e2.default.rgb2arr(e.gradient(s/256));n[o-3]=l[0],n[o-2]=l[1],n[o-1]=l[2],n[o]=s}}},r.prototype.getImageShape=function(){var t=this.imageShape;if(t)return t;var e=this.container;return t=e.addShape({type:"image",attrs:{}}),this.imageShape=t,t},r.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]);return(0,$.__assign)((0,$.__assign)({},e),{mappingData:t,data:this.getData(t)})},r.prototype.getData=function(t){return t.map(function(e){return e[Kt]})},r}(ao),n2=r2;function Df(i,r){r===void 0&&(r=!1);var t=i.x,e=i.y,n=i.y0,a=i.size,o,s;(0,f.isArray)(e)?(o=e[0],s=e[1]):(o=n,s=e);var l,u;(0,f.isArray)(t)?(l=t[0],u=t[1]):(l=t-a/2,u=t+a/2);var h=[{x:l,y:o},{x:l,y:s}];return r?h.push({x:u,y:(s+o)/2}):h.push({x:u,y:s},{x:u,y:o}),h}function Ff(i,r){r===void 0&&(r=!0);var t=[],e=i[0];t.push(["M",e.x,e.y]);for(var n=1,a=i.length;n<a;n++)t.push(["L",i[n].x,i[n].y]);return r&&(t.push(["L",e.x,e.y]),t.push(["z"])),t}function Bv(i,r,t){var e=[];return(0,f.isNil)(r)?t?e.push(["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["L",i[2].x,i[2].y],["L",i[2].x,i[2].y],["Z"]):e.push(["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["L",i[2].x,i[2].y],["L",i[3].x,i[3].y],["Z"]):e.push(["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["L",r[1].x,r[1].y],["L",r[0].x,r[0].y],["Z"]),e}var zY=yo("interval",{defaultShapeType:"rect",getDefaultPoints:function(i){return Df(i)}});vn("interval","rect",{draw:function(i,r){var t=Mi(i,!1,!0),e=this.parsePath(Ff(i.points)),n=r.addShape("path",{attrs:(0,$.__assign)((0,$.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color,t=i.isInPolar;return t?{symbol:"circle",style:{r:4.5,fill:r}}:{symbol:"square",style:{r:4,fill:r}}}});var XY=null;function i2(i,r){var t=i.length,e=i;(0,f.isString)(e[0])&&(e=i.map(function(s){return r.translate(s)}));for(var n=e[1]-e[0],a=2;a<t;a++){var o=e[a]-e[a-1];n>o&&(n=o)}return n}function a2(i,r){if(r){var t=(0,f.flatten)(i),e=(0,f.valuesOfKey)(t,r);return e.length}return i.length}function Dv(i){var r=i.theme,t=i.coordinate,e=i.getXScale(),n=e.values,a=i.beforeMappingData,o=n.length;if(e.isLinear&&n.length>1){n.sort();var s=i2(n,e);o=(e.max-e.min)/s,n.length>o&&(o=n.length)}var l=e.range,u=1/o,h=1;if(t.isPolar?t.isTransposed&&o>1?h=r.multiplePieWidthRatio:h=r.roseWidthRatio:(e.isLinear&&(u*=l[1]-l[0]),h=r.columnWidthRatio),u*=h,i.getAdjust("dodge")){var c=i.getAdjust("dodge"),v=c.dodgeBy,g=a2(a,v);u=u/g}var M=r.maxColumnWidth,F=r.minColumnWidth,Y=li(i.coordinate);if(M){var V=M/Y;u>V&&(u=V)}if(F){var z=F/Y;u<z&&(u=z)}return u}var o2=function(i){(0,$.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="interval",t.shapeType="interval",t.generatePoints=!0,t}return r.prototype.createShapePointsCfg=function(t){var e=i.prototype.createShapePointsCfg.call(this,t),n,a=this.getAttribute("size");if(a){n=this.getAttributeValues(a,t)[0];var o=this.coordinate,s=li(o);n=n/s}else this.defaultSize||(this.defaultSize=Dv(this)),n=this.defaultSize;return e.size=n,e},r.prototype.adjustScale=function(){i.prototype.adjustScale.call(this);var t=this.getYScale();if(this.coordinate.type==="theta")t.change({nice:!1,min:0,max:Math.max(Math.max.apply(null,t.values),t.max)});else{var e=this.scaleDefs,n=t.field,a=t.min,o=t.max,s=t.type;s!=="time"&&(a>0&&!(0,f.get)(e,[n,"min"])&&t.change({min:0}),o<=0&&!(0,f.get)(e,[n,"max"])&&t.change({max:0}))}},r}(ao),s2=o2,l2=function(i){(0,$.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.type="line";var n=t.sortable,a=n===void 0?!0:n;return e.sortable=a,e}return r}(Bf),u2=l2,Fo={hexagon:function(i,r,t){var e=t/2*Math.sqrt(3);return[["M",i,r-t],["L",i+e,r-t/2],["L",i+e,r+t/2],["L",i,r+t],["L",i-e,r+t/2],["L",i-e,r-t/2],["Z"]]},bowtie:function(i,r,t){var e=t-1.5;return[["M",i-t,r-e],["L",i+t,r+e],["L",i+t,r-e],["L",i-t,r+e],["Z"]]},cross:function(i,r,t){return[["M",i-t,r-t],["L",i+t,r+t],["M",i+t,r-t],["L",i-t,r+t]]},tick:function(i,r,t){return[["M",i-t/2,r-t],["L",i+t/2,r-t],["M",i,r-t],["L",i,r+t],["M",i-t/2,r+t],["L",i+t/2,r+t]]},plus:function(i,r,t){return[["M",i-t,r],["L",i+t,r],["M",i,r-t],["L",i,r+t]]},hyphen:function(i,r,t){return[["M",i-t,r],["L",i+t,r]]},line:function(i,r,t){return[["M",i,r-t],["L",i,r+t]]}},Fv=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],f2=["cross","tick","plus","hyphen","line"];function Rf(i,r,t,e,n){var a=Mi(r,n,!n,"r"),o=i.parsePoints(r.points),s=o[0];if(r.isStack)s=o[1];else if(o.length>1){for(var l=t.addGroup(),u=0,h=o;u<h.length;u++){var c=h[u];l.addShape({type:"marker",attrs:(0,$.__assign)((0,$.__assign)((0,$.__assign)({},a),{symbol:Fo[e]||e}),c)})}return l}return t.addShape({type:"marker",attrs:(0,$.__assign)((0,$.__assign)((0,$.__assign)({},a),{symbol:Fo[e]||e}),s)})}var VY=yo("point",{defaultShapeType:"hollow-circle",getDefaultPoints:function(i){return If(i)}});(0,f.each)(Fv,function(i){vn("point","hollow-"+i,{draw:function(r,t){return Rf(this,r,t,i,!0)},getMarker:function(r){var t=r.color;return{symbol:Fo[i]||i,style:{r:4.5,stroke:t,fill:null}}}})});var HY=null,h2=function(i){(0,$.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="point",t.shapeType="point",t.generatePoints=!0,t}return r.prototype.getDrawCfg=function(t){var e=i.prototype.getDrawCfg.call(this,t);return(0,$.__assign)((0,$.__assign)({},e),{isStack:!!this.getAdjust("stack")})},r}(ao),c2=h2;function v2(i){for(var r=i[0],t=1,e=[["M",r.x,r.y]];t<i.length;){var n=i[t];(n.x!==i[t-1].x||n.y!==i[t-1].y)&&(e.push(["L",n.x,n.y]),n.x===r.x&&n.y===r.y&&t<i.length-1&&(r=i[t+1],e.push(["Z"]),e.push(["M",r.x,r.y]),t++)),t++}return(0,f.isEqual)((0,f.last)(e),r)||e.push(["L",r.x,r.y]),e.push(["Z"]),e}var WY=yo("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(i){var r=[];return(0,f.each)(i.x,function(t,e){var n=i.y[e];r.push({x:t,y:n})}),r}});vn("polygon","polygon",{draw:function(i,r){if(!(0,f.isEmpty)(i.points)){var t=Mi(i,!0,!0),e=this.parsePath(v2(i.points));return r.addShape("path",{attrs:(0,$.__assign)((0,$.__assign)({},t),{path:e}),name:"polygon"})}},getMarker:function(i){var r=i.color;return{symbol:"square",style:{r:4,fill:r}}}});var jY=null,d2=function(i){(0,$.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="polygon",t.shapeType="polygon",t.generatePoints=!0,t}return r.prototype.createShapePointsCfg=function(t){var e=i.prototype.createShapePointsCfg.call(this,t),n=e.x,a=e.y,o;if(!((0,f.isArray)(n)&&(0,f.isArray)(a))){var s=this.getXScale(),l=this.getYScale(),u=s.values.length,h=l.values.length,c=.5*1/u,v=.5*1/h;s.isCategory&&l.isCategory?(n=[n-c,n-c,n+c,n+c],a=[a-v,a+v,a+v,a-v]):(0,f.isArray)(n)?(o=n,n=[o[0],o[0],o[1],o[1]],a=[a-v/2,a+v/2,a+v/2,a-v/2]):(0,f.isArray)(a)&&(o=a,a=[o[0],o[1],o[1],o[0]],n=[n-c/2,n-c/2,n+c/2,n+c/2]),e.x=n,e.y=a}return e},r}(ao),p2=d2,UY=yo("schema",{defaultShapeType:""}),ZY=null,g2=function(i){(0,$.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="schema",t.shapeType="schema",t.generatePoints=!0,t}return r.prototype.createShapePointsCfg=function(t){var e=i.prototype.createShapePointsCfg.call(this,t),n,a=this.getAttribute("size");if(a){n=this.getAttributeValues(a,t)[0];var o=this.coordinate,s=li(o);n=n/s}else this.defaultSize||(this.defaultSize=Dv(this)),n=this.defaultSize;return e.size=n,e},r}(ao),y2=g2;vn("area","line",{draw:function(i,r){var t=Tl(i,!0,!1,this),e=r.addShape({type:"path",attrs:t,name:"area"});return e},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return n===void 0&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,stroke:r,fill:null}}}}),vn("area","smooth",{draw:function(i,r){var t=this.coordinate,e=Tl(i,!1,!0,this,kv(t)),n=r.addShape({type:"path",attrs:e,name:"area"});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return n===void 0&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,fill:r}}}}),vn("area","smooth-line",{draw:function(i,r){var t=this.coordinate,e=Tl(i,!0,!0,this,kv(t)),n=r.addShape({type:"path",attrs:e,name:"area"});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return n===void 0&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,stroke:r,fill:null}}}});function Nf(i,r){var t=[];t.push({x:i.x,y:i.y*1/2+r.y*1/2}),t.push({x:r.x,y:i.y*1/2+r.y*1/2}),t.push(r);var e=["C"];return(0,f.each)(t,function(n){e.push(n.x,n.y)}),e}function Yf(i,r){var t=[];t.push({x:r.x,y:r.y}),t.push(i);var e=["Q"];return(0,f.each)(t,function(n){e.push(n.x,n.y)}),e}function m2(i,r,t){var e=Yf(r,t),n=[["M",i.x,i.y]];return n.push(e),n}function x2(i,r){var t=Yf(i[1],r),e=Yf(i[3],r),n=[["M",i[0].x,i[0].y]];return n.push(e),n.push(["L",i[3].x,i[3].y]),n.push(["L",i[2].x,i[2].y]),n.push(t),n.push(["L",i[1].x,i[1].y]),n.push(["L",i[0].x,i[0].y]),n.push(["Z"]),n}vn("edge","arc",{draw:function(i,r){var t=Mi(i,!0,!1,"lineWidth"),e=i.points,n=e.length>2?"weight":"normal",a;if(i.isInCircle){var o={x:0,y:1};return n==="normal"?a=m2(e[0],e[1],o):(t.fill=t.stroke,a=x2(e,o)),a=this.parsePath(a),r.addShape("path",{attrs:(0,$.__assign)((0,$.__assign)({},t),{path:a})})}else{if(n==="normal")return e=this.parsePoints(e),a=oi((e[1].x+e[0].x)/2,e[0].y,Math.abs(e[1].x-e[0].x)/2,Math.PI,Math.PI*2),r.addShape("path",{attrs:(0,$.__assign)((0,$.__assign)({},t),{path:a})});var s=Nf(e[1],e[3]),l=Nf(e[2],e[0]);return a=[["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],s,["L",e[3].x,e[3].y],["L",e[2].x,e[2].y],l,["Z"]],a=this.parsePath(a),t.fill=t.stroke,r.addShape("path",{attrs:(0,$.__assign)((0,$.__assign)({},t),{path:a})})}},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}});function b2(i,r){var t=Nf(i,r),e=[["M",i.x,i.y]];return e.push(t),e}vn("edge","smooth",{draw:function(i,r){var t=Mi(i,!0,!1,"lineWidth"),e=i.points,n=this.parsePath(b2(e[0],e[1]));return r.addShape("path",{attrs:(0,$.__assign)((0,$.__assign)({},t),{path:n})})},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}});var Pl=1/3;function w2(i,r){var t=[];t.push({x:i.x,y:i.y*(1-Pl)+r.y*Pl}),t.push({x:r.x,y:i.y*(1-Pl)+r.y*Pl}),t.push(r);var e=[["M",i.x,i.y]];return(0,f.each)(t,function(n){e.push(["L",n.x,n.y])}),e}vn("edge","vhv",{draw:function(i,r){var t=Mi(i,!0,!1,"lineWidth"),e=i.points,n=this.parsePath(w2(e[0],e[1]));return r.addShape("path",{attrs:(0,$.__assign)((0,$.__assign)({},t),{path:n})})},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}}),vn("interval","funnel",{getPoints:function(i){return i.size=i.size*2,Df(i)},draw:function(i,r){var t=Mi(i,!1,!0),e=this.parsePath(Bv(i.points,i.nextPoints,!1)),n=r.addShape("path",{attrs:(0,$.__assign)((0,$.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color;return{symbol:"square",style:{r:4,fill:r}}}}),vn("interval","hollow-rect",{draw:function(i,r){var t=Mi(i,!0,!1),e=this.parsePath(Ff(i.points)),n=r.addShape("path",{attrs:(0,$.__assign)((0,$.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color,t=i.isInPolar;return t?{symbol:"circle",style:{r:4.5,stroke:r,fill:null}}:{symbol:"square",style:{r:4,stroke:r,fill:null}}}});function S2(i){var r=i.x,t=i.y,e=i.y0;return(0,f.isArray)(t)?t.map(function(n,a){return{x:(0,f.isArray)(r)?r[a]:r,y:n}}):[{x:r,y:e},{x:r,y:t}]}vn("interval","line",{getPoints:function(i){return S2(i)},draw:function(i,r){var t=Mi(i,!0,!1,"lineWidth"),e=this.parsePath(Ff(i.points,!1)),n=r.addShape("path",{attrs:(0,$.__assign)((0,$.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return[["M",t,e-n],["L",t,e+n]]},style:{r:5,stroke:r}}}}),vn("interval","pyramid",{getPoints:function(i){return i.size=i.size*2,Df(i,!0)},draw:function(i,r){var t=Mi(i,!1,!0),e=this.parsePath(Bv(i.points,i.nextPoints,!0)),n=r.addShape("path",{attrs:(0,$.__assign)((0,$.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color;return{symbol:"square",style:{r:4,fill:r}}}});function C2(i){var r=i.x,t=i.y,e=i.y0,n=i.size,a,o;(0,f.isArray)(t)?(a=t[0],o=t[1]):(a=e,o=t);var s=r+n/2,l=r-n/2;return[{x:r,y:a},{x:r,y:o},{x:l,y:a},{x:s,y:a},{x:l,y:o},{x:s,y:o}]}function M2(i){return[["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["M",i[4].x,i[4].y],["L",i[5].x,i[5].y]]}vn("interval","tick",{getPoints:function(i){return C2(i)},draw:function(i,r){var t=Mi(i,!0,!1),e=this.parsePath(M2(i.points)),n=r.addShape("path",{attrs:(0,$.__assign)((0,$.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return[["M",t-n/2,e-n],["L",t+n/2,e-n],["M",t,e-n],["L",t,e+n],["M",t-n/2,e+n],["L",t+n/2,e+n]]},style:{r:5,stroke:r}}}});var E2=function(i,r,t){var e=i.x,n=i.y,a=r.x,o=r.y,s;switch(t){case"hv":s=[{x:a,y:n}];break;case"vh":s=[{x:e,y:o}];break;case"hvh":var l=(a+e)/2;s=[{x:l,y:n},{x:l,y:o}];break;case"vhv":var u=(n+o)/2;s=[{x:e,y:u},{x:a,y:u}];break;default:break}return s};function A2(i,r){var t=[];return(0,f.each)(i,function(e,n){var a=i[n+1];if(t.push(e),a){var o=E2(e,a,r);t=t.concat(o)}}),t}function T2(i){return i.map(function(r,t){return t===0?["M",r.x,r.y]:["L",r.x,r.y]})}function P2(i,r){var t=Of(i.points,i.connectNulls,i.showSinglePoint),e=[];return(0,f.each)(t,function(n){var a=A2(n,r);e=e.concat(T2(a))}),(0,$.__assign)((0,$.__assign)({},Mi(i,!0,!1,"lineWidth")),{path:e})}(0,f.each)(["hv","vh","hvh","vhv"],function(i){vn("line",i,{draw:function(r,t){var e=P2(r,i),n=t.addShape({type:"path",attrs:e,name:"line"});return n},getMarker:function(r){return Iv(r,i)}})}),(0,f.each)(f2,function(i){vn("point",i,{draw:function(r,t){return Rf(this,r,t,i,!0)},getMarker:function(r){var t=r.color;return{symbol:Fo[i],style:{r:4.5,stroke:t,fill:null}}}})}),vn("point","image",{draw:function(i,r){var t=Mi(i,!1,!1,"r").r,e=this.parsePoints(i.points),n=e[0];if(i.isStack)n=e[1];else if(e.length>1){for(var a=r.addGroup(),o=0,s=e;o<s.length;o++){var l=s[o];a.addShape("image",{attrs:{x:l.x-t/2,y:l.y-t,width:t,height:t,img:i.shape[1]}})}return a}return r.addShape("image",{attrs:{x:n.x-t/2,y:n.y-t,width:t,height:t,img:i.shape[1]}})},getMarker:function(i){var r=i.color;return{symbol:"circle",style:{r:4.5,fill:r}}}}),(0,f.each)(Fv,function(i){vn("point",i,{draw:function(r,t){return Rf(this,r,t,i,!1)},getMarker:function(r){var t=r.color;return{symbol:Fo[i]||i,style:{r:4.5,fill:t}}}})});function Rv(i){var r=(0,f.isArray)(i)?i:[i],t=r[0],e=r[r.length-1],n=r.length>1?r[1]:t,a=r.length>3?r[3]:e,o=r.length>2?r[2]:n;return{min:t,max:e,min1:n,max1:a,median:o}}function Nv(i,r,t){var e=t/2,n;if((0,f.isArray)(r)){var a=Rv(r),o=a.min,s=a.max,l=a.median,u=a.min1,h=a.max1,c=i-e,v=i+e;n=[[c,s],[v,s],[i,s],[i,h],[c,u],[c,h],[v,h],[v,u],[i,u],[i,o],[c,o],[v,o],[c,l],[v,l]]}else{r=(0,f.isNil)(r)?.5:r;var g=Rv(i),o=g.min,s=g.max,l=g.median,u=g.min1,h=g.max1,M=r-e,F=r+e;n=[[o,M],[o,F],[o,r],[u,r],[u,M],[u,F],[h,F],[h,M],[h,r],[s,r],[s,M],[s,F],[l,M],[l,F]]}return n.map(function(Y){return{x:Y[0],y:Y[1]}})}function _2(i){return[["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["M",i[4].x,i[4].y],["L",i[5].x,i[5].y],["L",i[6].x,i[6].y],["L",i[7].x,i[7].y],["L",i[4].x,i[4].y],["Z"],["M",i[8].x,i[8].y],["L",i[9].x,i[9].y],["M",i[10].x,i[10].y],["L",i[11].x,i[11].y],["M",i[12].x,i[12].y],["L",i[13].x,i[13].y]]}vn("schema","box",{getPoints:function(i){var r=i.x,t=i.y,e=i.size;return Nv(r,t,e)},draw:function(i,r){var t=Mi(i,!0,!1),e=this.parsePath(_2(i.points)),n=r.addShape("path",{attrs:(0,$.__assign)((0,$.__assign)({},t),{path:e,name:"schema"})});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){var a=[e-6,e-3,e,e+3,e+6],o=Nv(t,a,n);return[["M",o[0].x+1,o[0].y],["L",o[1].x-1,o[1].y],["M",o[2].x,o[2].y],["L",o[3].x,o[3].y],["M",o[4].x,o[4].y],["L",o[5].x,o[5].y],["L",o[6].x,o[6].y],["L",o[7].x,o[7].y],["L",o[4].x,o[4].y],["Z"],["M",o[8].x,o[8].y],["L",o[9].x,o[9].y],["M",o[10].x+1,o[10].y],["L",o[11].x-1,o[11].y],["M",o[12].x,o[12].y],["L",o[13].x,o[13].y]]},style:{r:6,lineWidth:1,stroke:r}}}});function L2(i){var r=(0,f.isArray)(i)?i:[i],t=r.sort(function(e,n){return n-e});return Ni(t,4,t[t.length-1])}function Yv(i,r,t){var e=L2(r);return[{x:i,y:e[0]},{x:i,y:e[1]},{x:i-t/2,y:e[2]},{x:i-t/2,y:e[1]},{x:i+t/2,y:e[1]},{x:i+t/2,y:e[2]},{x:i,y:e[2]},{x:i,y:e[3]}]}function O2(i){return[["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["L",i[4].x,i[4].y],["L",i[5].x,i[5].y],["Z"],["M",i[6].x,i[6].y],["L",i[7].x,i[7].y]]}vn("schema","candle",{getPoints:function(i){var r=i.x,t=i.y,e=i.size;return Yv(r,t,e)},draw:function(i,r){var t=Mi(i,!0,!0),e=this.parsePath(O2(i.points)),n=r.addShape("path",{attrs:(0,$.__assign)((0,$.__assign)({},t),{path:e,name:"schema"})});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){var a=[e+7.5,e+3,e-3,e-7.5],o=Yv(t,a,n);return[["M",o[0].x,o[0].y],["L",o[1].x,o[1].y],["M",o[2].x,o[2].y],["L",o[3].x,o[3].y],["L",o[4].x,o[4].y],["L",o[5].x,o[5].y],["Z"],["M",o[6].x,o[6].y],["L",o[7].x,o[7].y]]},style:{lineWidth:1,stroke:r,fill:r,r:6}}}});function I2(i,r){var t=Math.abs(i[0].x-i[2].x),e=Math.abs(i[0].y-i[2].y),n=Math.min(t,e);r&&(n=(0,f.clamp)(r,0,Math.min(t,e))),n=n/2;var a=(i[0].x+i[2].x)/2,o=(i[0].y+i[2].y)/2;return{x:a-n,y:o-n,width:n*2,height:n*2}}vn("polygon","square",{draw:function(i,r){if(!(0,f.isEmpty)(i.points)){var t=Mi(i,!0,!0),e=this.parsePoints(i.points);return r.addShape("rect",{attrs:(0,$.__assign)((0,$.__assign)({},t),I2(e,i.size)),name:"polygon"})}},getMarker:function(i){var r=i.color;return{symbol:"square",style:{r:4,fill:r}}}});var k2=function(i){(0,$.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.setLabelPosition=function(t,e,n,a){var o=this.getCoordinate(),s=o.isTransposed,l=e.points,u=o.convert(l[0]),h=o.convert(l[2]),c=s?-1:1,v=(u.x-h.x)/2*c,g=(u.y-h.y)/2*c;switch(a){case"right":s||(t.x-=v,t.y+=g),t.textAlign=(0,f.get)(t,"textAlign","left");break;case"left":s?t.x-=v*2:(t.x+=v,t.y+=g),t.textAlign=(0,f.get)(t,"textAlign","right");break;case"bottom":s?(t.x-=v,t.y-=g):t.y+=g*2,t.textAlign=(0,f.get)(t,"textAlign","center"),t.textBaseline=(0,f.get)(t,"textBaseline","top");break;case"middle":s?t.x-=v:t.y+=g,t.textAlign=(0,f.get)(t,"textAlign","center");break;case"top":s&&(t.x-=v,t.y+=g),t.textAlign=(0,f.get)(t,"textAlign","center"),t.textBaseline=(0,f.get)(t,"textBaseline","bottom");break;default:break}},r}(yl),B2=k2,_l=Math.PI/2,D2=function(i){(0,$.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getLabelAlign=function(t){var e=this.getCoordinate(),n;if(t.labelEmit)n=t.angle<=Math.PI/2&&t.angle>=-Math.PI/2?"left":"right";else if(!e.isTransposed)n="center";else{var a=e.getCenter(),o=this.getDefaultOffset(t.offset);Math.abs(t.x-a.x)<1?n="center":t.angle>Math.PI||t.angle<=0?n=o>0?"left":"right":n=o>0?"right":"left"}return n},r.prototype.getLabelPoint=function(t,e,n){var a=1,o,s=t.content[n];this.isToMiddle(e)?o=this.getMiddlePoint(e.points):(t.content.length===1&&n===0?n=1:n===0&&(a=-1),o=this.getArcPoint(e,n));var l=this.getDefaultOffset(t.offset)*a,u=this.getPointAngle(o),h=t.labelEmit,c=this.getCirclePoint(u,l,o,h);return c.r===0?c.content="":(c.content=s,c.angle=u,c.color=e.color),c.rotate=t.autoRotate?this.getLabelRotate(u,l,h):t.rotate,c.start={x:o.x,y:o.y},c},r.prototype.getArcPoint=function(t,e){return e===void 0&&(e=0),!(0,f.isArray)(t.x)&&!(0,f.isArray)(t.y)?{x:t.x,y:t.y}:{x:(0,f.isArray)(t.x)?t.x[e]:t.x,y:(0,f.isArray)(t.y)?t.y[e]:t.y}},r.prototype.getPointAngle=function(t){return vi(this.getCoordinate(),t)},r.prototype.getCirclePoint=function(t,e,n,a){var o=this.getCoordinate(),s=o.getCenter(),l=xi(o,n);if(l===0)return(0,$.__assign)((0,$.__assign)({},s),{r:l});var u=t;if(o.isTransposed&&l>e&&!a){var h=Math.asin(e/(2*l));u=t+h*2}else l=l+e;return{x:s.x+l*Math.cos(u),y:s.y+l*Math.sin(u),r:l}},r.prototype.getLabelRotate=function(t,e,n){var a=t+_l;return n&&(a-=_l),a&&(a>_l?a=a-Math.PI:a<-_l&&(a=a+Math.PI)),a},r.prototype.getMiddlePoint=function(t){var e=this.getCoordinate(),n=t.length,a={x:0,y:0};return(0,f.each)(t,function(o){a.x+=o.x,a.y+=o.y}),a.x/=n,a.y/=n,a=e.convert(a),a},r.prototype.isToMiddle=function(t){return t.x.length>2},r}(yl),Gv=D2,F2=function(i){(0,$.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.defaultLayout="distribute",e}return r.prototype.getDefaultLabelCfg=function(){return(0,f.get)(this.geometry.theme,"pieLabels",{})},r.prototype.getDefaultOffset=function(t){return t||0},r.prototype.getLabelRotate=function(t,e,n){var a;return e<0&&(a=t,a>Math.PI/2&&(a=a-Math.PI),a<-Math.PI/2&&(a=a+Math.PI)),a},r.prototype.getLabelAlign=function(t){var e=this.getCoordinate(),n=e.getCenter(),a;t.angle<=Math.PI/2&&t.x>=n.x?a="left":a="right";var o=this.getDefaultOffset(t.offset);return o<=0&&(a==="right"?a="left":a="right"),a},r.prototype.getArcPoint=function(t){return t},r.prototype.getPointAngle=function(t){var e=this.getCoordinate(),n={x:(0,f.isArray)(t.x)?t.x[0]:t.x,y:t.y[0]},a={x:(0,f.isArray)(t.x)?t.x[1]:t.x,y:t.y[1]},o,s=vi(e,n);if(t.points&&t.points[0].y===t.points[1].y)o=s;else{var l=vi(e,a);s>=l&&(l=l+Math.PI*2),o=s+(l-s)/2}return o},r.prototype.getCirclePoint=function(t,e,n){var a=this.getCoordinate(),o=a.getCenter(),s=a.getRadius()+e;return(0,$.__assign)((0,$.__assign)({},xn(o.x,o.y,s,t)),{angle:t,r:s})},r}(Gv),R2=F2,zv=4;function N2(i,r,t,e,n,a){var o=!0,s=e.start,l=e.end,u=Math.min(s.y,l.y),h=Math.abs(s.y-l.y),c,v=0,g=Number.MIN_VALUE,M=r.map(function(yt){return yt.y>v&&(v=yt.y),yt.y<g&&(g=yt.y),{size:t,targets:[yt.y-u]}});for(g-=u,v-u>h&&(h=v-u);o;)for(M.forEach(function(yt){var It=(Math.min.apply(g,yt.targets)+Math.max.apply(g,yt.targets))/2;yt.pos=Math.min(Math.max(g,It-yt.size/2),h-yt.size)}),o=!1,c=M.length;c--;)if(c>0){var F=M[c-1],Y=M[c];F.pos+F.size>Y.pos&&(F.size+=Y.size,F.targets=F.targets.concat(Y.targets),F.pos+F.size>h&&(F.pos=h-F.size),M.splice(c,1),o=!0)}c=0,M.forEach(function(yt){var It=u+t/2;yt.targets.forEach(function(){r[c].y=yt.pos+It,It+=t,c++})});for(var V={},z=0,it=i;z<it.length;z++){var ot=it[z];V[ot.get("id")]=ot}r.forEach(function(yt){var It=yt.r*yt.r,zt=Math.pow(Math.abs(yt.y-n.y),2);if(It<zt)yt.x=n.x;else{var jt=Math.sqrt(It-zt);a?yt.x=n.x+jt:yt.x=n.x-jt}var Rt=V[yt.id];Rt.attr("x",yt.x),Rt.attr("y",yt.y);var re=(0,f.find)(Rt.getChildren(),function(de){return de.get("type")==="text"});re&&(re.attr("y",yt.y),re.attr("x",yt.x))})}function Y2(i,r,t,e){var n=i[0]?i[0].offset:0,a=r[0].get("coordinate"),o=a.getRadius(),s=a.getCenter();if(n>0){var l=14,u=o+n,h=u*2+l*2,c={start:a.start,end:a.end},v=[[],[]];i.forEach(function(g){!g||(g.textAlign==="right"?v[0].push(g):v[1].push(g))}),v.forEach(function(g,M){var F=h/l;g.length>F&&(g.sort(function(Y,V){return V["..percent"]-Y["..percent"]}),g.splice(F,g.length-F)),g.sort(function(Y,V){return Y.y-V.y}),N2(r,g,l,c,s,M)})}(0,f.each)(i,function(g){if(g&&g.labelLine){var M=g.offset,F=g.angle,Y=xn(s.x,s.y,o,F),V=xn(s.x,s.y,o+M/2,F),z=g.x+(0,f.get)(g,"offsetX",0),it=g.y+(0,f.get)(g,"offsetY",0),ot={x:z-Math.cos(F)*zv,y:it-Math.sin(F)*zv};(0,f.isObject)(g.labelLine)||(g.labelLine={}),g.labelLine.path=["M "+Y.x,Y.y+" Q"+V.x,V.y+" "+ot.x,ot.y].join(",")}})}var Xv=4;function G2(i,r,t,e,n,a,o){r.sort(function(Rt,re){return Rt.y-re.y});var s=e.start,l=e.end,u=Math.min(s.y,l.y),h=Math.max(s.y,l.y),c,v=r.map(function(Rt){return{content:Rt.content,size:t,pos:Rt.y,targets:[Rt.y]}}),g=Math.max.apply(Math,v.map(function(Rt){return Rt.pos})),M=Math.min.apply(Math,v.map(function(Rt){return Rt.pos}));if(o){for(var F=Math.min(M,h-(v.length-1)*t),Y=Math.max(F+v.length*t,g+t),V=!0;V;)for(V=!1,c=v.length;c--;)if(c>0){var z=v[c-1],it=v[c];z.pos+z.size>it.pos&&(it.pos+c*t<Y?(z.size+=it.size,z.targets=z.targets.concat(it.targets),v.splice(c,1)):z.pos=it.pos-z.size,V=!0)}}else for(var Y=Math.max(u+(v.length-1)*t,g),F=Math.min(M,Y-(v.length-1)*t),V=!0;V;)for(V=!1,c=v.length;c--;)if(c>0){var z=v[c-1],it=v[c];z.pos+z.size>it.pos&&(z.pos-F>c*t?z.pos-=z.size:(z.size+=it.size,z.targets=z.targets.concat(it.targets),v.splice(c,1)),V=!0)}c=0,v.forEach(function(Rt){var re=Rt.pos;Rt.targets.forEach(function(){r[c].y=re,re+=t,c++})});for(var ot={},yt=0,It=i;yt<It.length;yt++){var zt=It[yt];ot[zt.get("id")]=zt}var jt=(Math.max.apply(Math,r.map(function(Rt){return Rt.y}))-Math.min.apply(Math,r.map(function(Rt){return Rt.y})))/2;jt=Math.max(jt,a),r.forEach(function(Rt){var re=ot[Rt.id],de=re.find(function(_e){return _e.get("type")==="text"});if(de&&de.attr("y")!==Rt.y){var fe=jt*jt,Me=Math.pow(Math.abs(Rt.y-n.y),2);if(fe<Me)Rt.x=n.x;else{var Le=Math.sqrt(fe-Me);o?Rt.x=n.x+Le:Rt.x=n.x-Le}}re.attr("x",Rt.x),re.attr("y",Rt.y),de&&(de.attr("y",Rt.y),de.attr("x",Rt.x))})}function z2(i,r,t,e){var n=i[0]?i[0].offset:0,a=r[0].get("coordinate"),o=a.getRadius(),s=a.getCenter();if(n>0){var l=(0,f.get)(i[0],"labelHeight",14),u=o+n,h=u*2+l*2,c={start:a.start,end:a.end},v=[[],[]];i.forEach(function(g){!g||(g.x<s.x?v[0].push(g):v[1].push(g))}),v.forEach(function(g,M){var F=h/l;if(g.length>F){g.sort(function(V,z){return z["data.percent"]-V["data.percent"]});var Y=g.splice(F,g.length-F+1);Y.forEach(function(V){var z=r.findIndex(function(it){return it.get("id")===V.id});r[z]&&(r[z].remove(!0),r.splice(z,1))})}G2(r,g,l,c,s,u,M===1)})}(0,f.each)(i,function(g){if(g&&g.labelLine){var M=g.angle,F=xn(s.x,s.y,o,M),Y=g.x+(0,f.get)(g,"offsetX",0)*(Math.cos(M)>0?1:-1),V=g.y+(0,f.get)(g,"offsetY",0)*(Math.sin(M)>0?1:-1),z={x:Y-Math.cos(M)*Xv,y:V-Math.sin(M)*Xv},it=g.labelLine.smooth,ot=[],yt=z.x-s.x,It=z.y-s.y,zt=Math.atan(It/yt);if(yt<0&&(zt+=Math.PI),it===!1){(0,f.isObject)(g.labelLine)||(g.labelLine={});var jt=0;(M<0&&M>-Math.PI/2||M>Math.PI*1.5)&&z.y>F.y&&(jt=1),M>=0&&M<Math.PI/2&&z.y>F.y&&(jt=1),M>=Math.PI/2&&M<Math.PI&&F.y>z.y&&(jt=1),(M<-Math.PI/2||M>=Math.PI&&M<Math.PI*1.5)&&F.y>z.y&&(jt=1);var Rt=n/2>4?4:Math.max(n/2-1,0),re=xn(s.x,s.y,o+Rt,M),de=xn(s.x,s.y,o+n/2,zt),fe=0;ot.push("M "+F.x+" "+F.y),ot.push("L "+re.x+" "+re.y),ot.push("A "+s.x+" "+s.y+" 0 "+fe+" "+jt+" "+de.x+" "+de.y),ot.push("L "+z.x+" "+z.y)}else{var re=xn(s.x,s.y,o+(n/2>4?4:Math.max(n/2-1,0)),M),Me=F.x<s.x?1:-1;ot.push("M "+z.x+" "+z.y);var Le=(F.y-s.y)/(F.x-s.x),_e=(z.y-s.y)/(z.x-s.x);Math.abs(Le-_e)>Math.pow(Math.E,-16)&&ot.push.apply(ot,["C",z.x+Me*4,z.y,2*re.x-F.x,2*re.y-F.y,F.x,F.y]),ot.push("L "+F.x+" "+F.y)}g.labelLine.path=ot.join(" ")}})}function X2(i,r,t,e){(0,f.each)(r,function(n){var a=e.minX,o=e.minY,s=e.maxX,l=e.maxY,u=n.getCanvasBBox(),h=u.minX,c=u.minY,v=u.maxX,g=u.maxY,M=u.x,F=u.y,Y=u.width,V=u.height,z=M,it=F;(h<a||v<a)&&(z=a),(c<o||g<o)&&(it=o),h>s?z=s-Y:v>s&&(z=z-(v-s)),c>l?it=l-V:g>l&&(it=it-(g-l)),(z!==M||it!==F)&&yf(n,z-M,it-F)})}function V2(i,r,t,e){(0,f.each)(r,function(n,a){var o=n.getCanvasBBox(),s=t[a].getBBox();(o.minX<s.minX||o.minY<s.minY||o.maxX>s.maxX||o.maxY>s.maxY)&&n.remove(!0)})}var H2=100,Vv=function(){function i(r){r===void 0&&(r={}),this.bitmap={};var t=r.xGap,e=t===void 0?1:t,n=r.yGap,a=n===void 0?8:n;this.xGap=e,this.yGap=a}return i.prototype.hasGap=function(r){for(var t=!0,e=this.bitmap,n=Math.round(r.minX),a=Math.round(r.maxX),o=Math.round(r.minY),s=Math.round(r.maxY),l=n;l<=a;l+=1){if(!e[l]){e[l]={};continue}if(l===n||l===a){for(var u=o;u<=s;u++)if(e[l][u]){t=!1;break}}else if(e[l][o]||e[l][s]){t=!1;break}}return t},i.prototype.fillGap=function(r){for(var t=this.bitmap,e=Math.round(r.minX),n=Math.round(r.maxX),a=Math.round(r.minY),o=Math.round(r.maxY),s=e;s<=n;s+=1)t[s]||(t[s]={});for(var s=e;s<=n;s+=this.xGap){for(var l=a;l<=o;l+=this.yGap)t[s][l]=!0;t[s][o]=!0}if(this.yGap!==1)for(var s=a;s<=o;s+=1)t[e][s]=!0,t[n][s]=!0;if(this.xGap!==1)for(var s=e;s<=n;s+=1)t[s][a]=!0,t[s][o]=!0},i.prototype.destroy=function(){this.bitmap={}},i}();function W2(i,r,t){t===void 0&&(t=H2);var e=-1,n=i.attr(),a=n.x,o=n.y,s=i.getCanvasBBox(),l=Math.sqrt(s.width*s.width+s.height*s.height),u,h=-e,c=0,v=0,g=function(V){var z=V*.1;return[z*Math.cos(z),z*Math.sin(z)]};if(r.hasGap(s))return r.fillGap(s),!0;for(var M=!1,F=0,Y={};Math.min(Math.abs(c),Math.abs(v))<l&&F<t;)if(u=g(h+=e),c=~~u[0],v=~~u[1],!(!c&&!v||Y[c+"-"+v])&&(i.attr({x:a+c,y:o+v}),c+v<0&&i.attr("textAlign","right"),F++,r.hasGap(i.getCanvasBBox()))){r.fillGap(i.getCanvasBBox()),M=!0,Y[c+"-"+v]=!0;break}return M}function j2(i,r,t,e){var n=i.getCanvasBBox(),a=n.width,o=n.height,s={x:r,y:t,textAlign:"center"};switch(e){case 0:s.y-=o+1,s.x+=1,s.textAlign="left";break;case 1:s.y-=o+1,s.x-=1,s.textAlign="right";break;case 2:s.y+=o+1,s.x-=1,s.textAlign="right";break;case 3:s.y+=o+1,s.x+=1,s.textAlign="left";break;case 5:s.y-=o*2+2;break;case 6:s.y+=o*2+2;break;case 7:s.x+=a+1,s.textAlign="left";break;case 8:s.x-=a+1,s.textAlign="right";break;default:break}return i.attr(s),i.getCanvasBBox()}function U2(i,r,t,e){var n=new Vv;(0,f.each)(r,function(a){var o=a.find(function(s){return s.get("type")==="text"});W2(o,n)||a.remove(!0)}),n.destroy()}function Z2(i,r,t,e){var n=new Vv;(0,f.each)(r,function(a){for(var o=a.find(function(g){return g.get("type")==="text"}),s=o.attr(),l=s.x,u=s.y,h=!1,c=0;c<=8;c++){var v=j2(o,l,u,c);if(n.hasGap(v)){n.fillGap(v),h=!0;break}}h||a.remove(!0)}),n.destroy()}function K2(i,r,t){var e={fillOpacity:(0,f.isNil)(i.attr("fillOpacity"))?1:i.attr("fillOpacity"),strokeOpacity:(0,f.isNil)(i.attr("strokeOpacity"))?1:i.attr("strokeOpacity"),opacity:(0,f.isNil)(i.attr("opacity"))?1:i.attr("opacity")};i.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),i.animate(e,r)}function $2(i,r,t){var e={fillOpacity:0,strokeOpacity:0,opacity:0},n=r.easing,a=r.duration,o=r.delay;i.animate(e,a,n,function(){i.remove(!0)},o)}function Q2(i,r,t){var e,n=r[0],a=r[1];return i.applyToMatrix([n,a,1]),t==="x"?(i.setMatrix(dn.transform(i.getMatrix(),[["t",-n,-a],["s",.01,1],["t",n,a]])),e=dn.transform(i.getMatrix(),[["t",-n,-a],["s",100,1],["t",n,a]])):t==="y"?(i.setMatrix(dn.transform(i.getMatrix(),[["t",-n,-a],["s",1,.01],["t",n,a]])),e=dn.transform(i.getMatrix(),[["t",-n,-a],["s",1,100],["t",n,a]])):t==="xy"&&(i.setMatrix(dn.transform(i.getMatrix(),[["t",-n,-a],["s",.01,.01],["t",n,a]])),e=dn.transform(i.getMatrix(),[["t",-n,-a],["s",100,100],["t",n,a]])),e}function Gf(i,r,t,e,n){var a=t.start,o=t.end,s=t.getWidth(),l=t.getHeight(),u,h;n==="y"?(u=a.x+s/2,h=e.y<a.y?e.y:a.y):n==="x"?(u=e.x>a.x?e.x:a.x,h=a.y+l/2):n==="xy"&&(t.isPolar?(u=t.getCenter().x,h=t.getCenter().y):(u=(a.x+o.x)/2,h=(a.y+o.y)/2));var c=Q2(i,[u,h],n);i.animate({matrix:c},r)}function J2(i,r,t){var e=t.coordinate,n=t.minYPoint;Gf(i,r,e,n,"x")}function q2(i,r,t){var e=t.coordinate,n=t.minYPoint;Gf(i,r,e,n,"y")}function tC(i,r,t){var e=t.coordinate,n=t.minYPoint;Gf(i,r,e,n,"xy")}function eC(i,r,t){var e=i.getTotalLength();i.attr("lineDash",[e]),i.animate(function(n){return{lineDashOffset:(1-n)*e}},r)}function rC(i,r,t){var e=t.toAttrs,n=e.x,a=e.y;delete e.x,delete e.y,i.attr(e),i.animate({x:n,y:a},r)}function nC(i,r,t){var e=i.getBBox(),n=i.get("origin").mappingData,a=n.points,o=a[0].y-a[1].y>0?e.maxX:e.minX,s=(e.minY+e.maxY)/2;i.applyToMatrix([o,s,1]);var l=dn.transform(i.getMatrix(),[["t",-o,-s],["s",.01,1],["t",o,s]]);i.setMatrix(l),i.animate({matrix:dn.transform(i.getMatrix(),[["t",-o,-s],["s",100,1],["t",o,s]])},r)}function iC(i,r,t){var e=i.getBBox(),n=i.get("origin").mappingData,a=(e.minX+e.maxX)/2,o=n.points,s=o[0].y-o[1].y<=0?e.maxY:e.minY;i.applyToMatrix([a,s,1]);var l=dn.transform(i.getMatrix(),[["t",-a,-s],["s",1,.01],["t",a,s]]);i.setMatrix(l),i.animate({matrix:dn.transform(i.getMatrix(),[["t",-a,-s],["s",1,100],["t",a,s]])},r)}var aC=d(84909);function Hv(i,r){var t,e=(0,aC.Z)(i,r),n=e.startAngle,a=e.endAngle;return!(0,f.isNumberEqual)(n,-Math.PI*.5)&&n<-Math.PI*.5&&(n+=Math.PI*2),!(0,f.isNumberEqual)(a,-Math.PI*.5)&&a<-Math.PI*.5&&(a+=Math.PI*2),r[5]===0&&(t=[a,n],n=t[0],a=t[1]),(0,f.isNumberEqual)(n,Math.PI*1.5)&&(n=Math.PI*-.5),(0,f.isNumberEqual)(a,Math.PI*-.5)&&(a=Math.PI*1.5),{startAngle:n,endAngle:a}}function Wv(i){var r;return i[0]==="M"||i[0]==="L"?r=[i[1],i[2]]:(i[0]==="a"||i[0]==="A")&&(r=[i[i.length-2],i[i.length-1]]),r}function jv(i){var r,t,e,n=i.filter(function(it){return it[0]==="A"||it[0]==="a"}),a=n[0],o=n.length>1?n[1]:n[0],s=i.indexOf(a),l=i.indexOf(o),u=Wv(i[s-1]),h=Wv(i[l-1]),c=Hv(u,a),v=c.startAngle,g=c.endAngle,M=Hv(h,o),F=M.startAngle,Y=M.endAngle;(0,f.isNumberEqual)(v,F)&&(0,f.isNumberEqual)(g,Y)?(t=v,e=g):(t=Math.min(v,F),e=Math.max(g,Y));var V=a[1],z=n[n.length-1][1];return V<z?(r=[z,V],V=r[0],z=r[1]):V===z&&(z=0),{startAngle:t,endAngle:e,radius:V,innerRadius:z}}function oC(i,r,t){var e=t.toAttrs,n=t.coordinate,a=e.path,o=a.map(function(z){return z[0]}),s=jv(a),l=s.startAngle,u=s.endAngle,h=s.radius,c=s.innerRadius,v=jv(i.attr("path")),g=v.startAngle,M=v.endAngle,F=n.getCenter(),Y=l-g,V=u-M;i.animate(function(z){var it=g+z*Y,ot=M+z*V;return(0,$.__assign)((0,$.__assign)({},e),{path:(0,f.isEqual)(o,["M","A","A","Z"])?oi(F.x,F.y,h,it,ot):ai(F.x,F.y,h,it,ot,c)})},(0,$.__assign)((0,$.__assign)({},r),{callback:function(){i.attr("path",a)}}))}function sC(i,r,t){var e=sa(t.coordinate,20),n=e.type,a=e.startState,o=e.endState,s=i.setClip({type:n,attrs:a});s.animate(o,(0,$.__assign)((0,$.__assign)({},r),{callback:function(){i&&!i.get("destroyed")&&i.set("clipShape",null),s.remove(!0)}}))}function zf(i,r,t){if(i.isGroup())(0,f.each)(i.getChildren(),function(s){zf(s,r,t)});else{var e=i.getBBox(),n=(e.minX+e.maxX)/2,a=(e.minY+e.maxY)/2;if(i.applyToMatrix([n,a,1]),t==="zoomIn"){var o=dn.transform(i.getMatrix(),[["t",-n,-a],["s",.01,.01],["t",n,a]]);i.setMatrix(o),i.animate({matrix:dn.transform(i.getMatrix(),[["t",-n,-a],["s",100,100],["t",n,a]])},r)}else i.animate({matrix:dn.transform(i.getMatrix(),[["t",-n,-a],["s",.01,.01],["t",n,a]])},(0,$.__assign)((0,$.__assign)({},r),{callback:function(){i.remove(!0)}}))}}function lC(i,r,t){zf(i,r,"zoomIn")}function uC(i,r,t){zf(i,r,"zoomOut")}function so(i){return[Ct.TOP,Ct.BOTTOM].includes(i)?{offsetX:0,offsetY:i===Ct.TOP?-8:8,style:{textAlign:"center",textBaseline:i===Ct.TOP?"bottom":"top"}}:[Ct.LEFT,Ct.RIGHT].includes(i)?{offsetX:i===Ct.LEFT?-8:8,offsetY:0,style:{textAlign:i===Ct.LEFT?"right":"left",textBaseline:"middle",rotate:Math.PI/2}}:{}}function Xf(i,r,t){return{x:i.x+r*Math.cos(t),y:i.y+r*Math.sin(t)}}var fC=function(i){(0,$.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return(0,f.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"circle",showTitle:!0,title:i.prototype.getDefaultTitleCfg.call(this)})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.getRegion=function(t,e){var n=1/2,a={x:.5,y:.5},o=Math.PI*2/t,s=-1*Math.PI/2+o*e,l=n/(1+1/Math.sin(o/2)),u=Xf(a,n-l,s),h=Math.PI*5/4,c=Math.PI*1/4;return{start:Xf(u,l,h),end:Xf(u,l,c)}},r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.generateFacets=function(t){var e=this,n=this.cfg,a=n.fields,o=n.type,s=a[0];if(!s)throw new Error("No `fields` specified!");var l=this.getFieldValues(t,s),u=l.length,h=[];return l.forEach(function(c,v){var g=[{field:s,value:c,values:l}],M=(0,f.filter)(t,e.getFacetDataFilter(g)),F={type:o,data:M,region:e.getRegion(u,v),columnValue:c,columnField:s,columnIndex:v,columnValuesLength:u,rowValue:null,rowField:null,rowIndex:0,rowValuesLength:1};h.push(F)}),h},r.prototype.getXAxisOption=function(t,e,n,a){return n},r.prototype.getYAxisOption=function(t,e,n,a){return n},r.prototype.renderTitle=function(){var t=this;(0,f.each)(this.facets,function(e){var n=e.columnValue,a=e.view,o=(0,f.get)(t.cfg.title,"formatter"),s=(0,f.deepMix)({position:["50%","0%"],content:o?o(n):n},so(Ct.TOP),t.cfg.title);a.annotation().text(s)})},r}(Lr),hC=fC,cC=function(i){(0,$.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return(0,f.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"list",cols:null,showTitle:!0,title:i.prototype.getDefaultTitleCfg.call(this)})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.generateFacets=function(t){var e=this,n=this.cfg.fields,a=this.cfg.cols,o=n[0];if(!o)throw new Error("No `fields` specified!");var s=this.getFieldValues(t,o),l=s.length;a=a||l;var u=this.getPageCount(l,a),h=[];return s.forEach(function(c,v){var g=e.getRowCol(v,a),M=g.row,F=g.col,Y=[{field:o,value:c,values:s}],V=(0,f.filter)(t,e.getFacetDataFilter(Y)),z={type:e.cfg.type,data:V,region:e.getRegion(u,a,F,M),columnValue:c,rowValue:c,columnField:o,rowField:null,columnIndex:F,rowIndex:M,columnValuesLength:a,rowValuesLength:u,total:l};h.push(z)}),h},r.prototype.getXAxisOption=function(t,e,n,a){return a.rowIndex!==a.rowValuesLength-1&&a.columnValuesLength*a.rowIndex+a.columnIndex+1+a.columnValuesLength<=a.total?(0,$.__assign)((0,$.__assign)({},n),{label:null,title:null}):n},r.prototype.getYAxisOption=function(t,e,n,a){return a.columnIndex!==0?(0,$.__assign)((0,$.__assign)({},n),{title:null,label:null}):n},r.prototype.renderTitle=function(){var t=this;(0,f.each)(this.facets,function(e){var n=e.columnValue,a=e.view,o=(0,f.get)(t.cfg.title,"formatter"),s=(0,f.deepMix)({position:["50%","0%"],content:o?o(n):n},so(Ct.TOP),t.cfg.title);a.annotation().text(s)})},r.prototype.getPageCount=function(t,e){return Math.floor((t+e-1)/e)},r.prototype.getRowCol=function(t,e){var n=Math.floor(t/e),a=t%e;return{row:n,col:a}},r}(Lr),vC=cC,dC=function(i){(0,$.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return(0,f.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"matrix",showTitle:!1,columnTitle:(0,$.__assign)({},i.prototype.getDefaultTitleCfg.call(this)),rowTitle:(0,$.__assign)({},i.prototype.getDefaultTitleCfg.call(this))})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.generateFacets=function(t){for(var e=this.cfg,n=e.fields,a=e.type,o=n.length,s=o,l=[],u=0;u<s;u++)for(var h=n[u],c=0;c<o;c++){var v=n[c],g={type:a,data:t,region:this.getRegion(o,s,u,c),columnValue:h,rowValue:v,columnField:h,rowField:v,columnIndex:u,rowIndex:c,columnValuesLength:s,rowValuesLength:o};l.push(g)}return l},r.prototype.getXAxisOption=function(t,e,n,a){return a.rowIndex!==a.rowValuesLength-1?(0,$.__assign)((0,$.__assign)({},n),{label:null,title:null}):n},r.prototype.getYAxisOption=function(t,e,n,a){return a.columnIndex!==0?(0,$.__assign)((0,$.__assign)({},n),{title:null,label:null}):n},r.prototype.renderTitle=function(){var t=this;(0,f.each)(this.facets,function(e,n){var a=e.columnIndex,o=e.rowIndex,s=e.columnValuesLength,l=e.rowValuesLength,u=e.columnValue,h=e.rowValue,c=e.view;if(o===0){var v=(0,f.get)(t.cfg.columnTitle,"formatter"),g=(0,f.deepMix)({position:["50%","0%"],content:v?v(u):u},so(Ct.TOP),t.cfg.columnTitle);c.annotation().text(g)}if(a===s-1){var v=(0,f.get)(t.cfg.rowTitle,"formatter"),g=(0,f.deepMix)({position:["100%","50%"],content:v?v(h):h},so(Ct.RIGHT),t.cfg.rowTitle);c.annotation().text(g)}})},r}(Lr),pC=dC,gC=function(i){(0,$.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return(0,f.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"mirror",showTitle:!0,title:i.prototype.getDefaultTitleCfg.call(this),transpose:!1})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.beforeEachView=function(t,e){this.cfg.transpose?e.columnIndex%2==0?t.coordinate().transpose().reflect("x"):t.coordinate().transpose():e.rowIndex%2!=0&&t.coordinate().reflect("y")},r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.generateFacets=function(t){var e=this,n=this.cfg.fields[0],a=[],o=1,s=1,l=[""],u=[""],h,c;return this.cfg.transpose?(h=n,l=this.getFieldValues(t,h).slice(0,2),o=l.length):(c=n,u=this.getFieldValues(t,c).slice(0,2),s=u.length),l.forEach(function(v,g){u.forEach(function(M,F){var Y=[{field:h,value:v,values:l},{field:c,value:M,values:u}],V=(0,f.filter)(t,e.getFacetDataFilter(Y)),z={type:e.cfg.type,data:V,region:e.getRegion(s,o,g,F),columnValue:v,rowValue:M,columnField:h,rowField:c,columnIndex:g,rowIndex:F,columnValuesLength:o,rowValuesLength:s};a.push(z)})}),a},r.prototype.getXAxisOption=function(t,e,n,a){return a.columnIndex===1||a.rowIndex===1?(0,$.__assign)((0,$.__assign)({},n),{label:null,title:null}):n},r.prototype.getYAxisOption=function(t,e,n,a){return n},r.prototype.renderTitle=function(){var t=this;(0,f.each)(this.facets,function(e,n){var a=e.columnValue,o=e.rowValue,s=e.view,l=(0,f.get)(t.cfg.title,"formatter");if(t.cfg.transpose){var u=(0,f.deepMix)({position:["50%","0%"],content:l?l(a):a},so(Ct.TOP),t.cfg.title);s.annotation().text(u)}else{var u=(0,f.deepMix)({position:["100%","50%"],content:l?l(o):o},so(Ct.RIGHT),t.cfg.title);s.annotation().text(u)}})},r}(Lr),yC=gC,mC=function(i){(0,$.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.getDefaultCfg=function(){return(0,f.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"rect",columnTitle:(0,$.__assign)({},i.prototype.getDefaultTitleCfg.call(this)),rowTitle:(0,$.__assign)({},i.prototype.getDefaultTitleCfg.call(this))})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.generateFacets=function(t){var e=this,n=this.cfg.fields,a=n[0],o=n[1],s=[],l=1,u=1,h=[""],c=[""];return a&&(h=this.getFieldValues(t,a),l=h.length),o&&(c=this.getFieldValues(t,o),u=c.length),h.forEach(function(v,g){c.forEach(function(M,F){var Y=[{field:a,value:v,values:h},{field:o,value:M,values:c}],V=(0,f.filter)(t,e.getFacetDataFilter(Y)),z={type:e.cfg.type,data:V,region:e.getRegion(u,l,g,F),columnValue:v,rowValue:M,columnField:a,rowField:o,columnIndex:g,rowIndex:F,columnValuesLength:l,rowValuesLength:u};s.push(z)})}),s},r.prototype.renderTitle=function(){var t=this;(0,f.each)(this.facets,function(e,n){var a=e.columnIndex,o=e.rowIndex,s=e.columnValuesLength,l=e.columnValue,u=e.rowValue,h=e.view;if(o===0){var c=(0,f.get)(t.cfg.columnTitle,"formatter"),v=(0,f.deepMix)({position:["50%","0%"],content:c?c(l):l},so(Ct.TOP),t.cfg.columnTitle);h.annotation().text(v)}if(a===s-1){var c=(0,f.get)(t.cfg.rowTitle,"formatter"),v=(0,f.deepMix)({position:["100%","50%"],content:c?c(u):u},so(Ct.RIGHT),t.cfg.rowTitle);h.annotation().text(v)}})},r.prototype.getXAxisOption=function(t,e,n,a){return a.rowIndex!==a.rowValuesLength-1?(0,$.__assign)((0,$.__assign)({},n),{title:null,label:null}):a.columnIndex!==Math.floor((a.columnValuesLength-1)/2)?(0,$.__assign)((0,$.__assign)({},n),{title:null}):n},r.prototype.getYAxisOption=function(t,e,n,a){return a.columnIndex!==0?(0,$.__assign)((0,$.__assign)({},n),{title:null,label:null}):a.rowIndex!==Math.floor((a.rowValuesLength-1)/2)?(0,$.__assign)((0,$.__assign)({},n),{title:null}):n},r}(Lr),xC=mC,bC=function(i){(0,$.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.afterChartRender=function(){t.facets&&t.cfg.line&&(t.container.clear(),t.drawLines(t.facets))},t}return r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.init=function(){i.prototype.init.call(this),this.view.on(Gt.AFTER_RENDER,this.afterChartRender)},r.prototype.getDefaultCfg=function(){return(0,f.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"tree",line:{style:{lineWidth:1,stroke:"#ddd"},smooth:!1},showTitle:!0,title:i.prototype.getDefaultTitleCfg.call(this)})},r.prototype.generateFacets=function(t){var e=this.cfg.fields;if(!e.length)throw new Error("Please specify for the fields for rootFacet!");var n=[],a={type:this.cfg.type,data:t,region:null,rowValuesLength:this.getRows(),columnValuesLength:1,rowIndex:0,columnIndex:0,rowField:"",columnField:"",rowValue:"",columnValue:""};return n.push(a),a.children=this.getChildFacets(t,1,n),this.setRegion(n),n},r.prototype.setRegion=function(t){var e=this;this.forceColIndex(t),t.forEach(function(n){n.region=e.getRegion(n.rowValuesLength,n.columnValuesLength,n.columnIndex,n.rowIndex)})},r.prototype.getRegion=function(t,e,n,a){var o=1/e,s=1/t,l={x:o*n,y:s*a},u={x:l.x+o,y:l.y+s*2/3};return{start:l,end:u}},r.prototype.forceColIndex=function(t){var e=this,n=[],a=0;t.forEach(function(v){e.isLeaf(v)&&(n.push(v),v.columnIndex=a,a++)}),n.forEach(function(v){v.columnValuesLength=n.length});for(var o=this.cfg.fields.length,s=o-1;s>=0;s--)for(var l=this.getFacetsByLevel(t,s),u=0,h=l;u<h.length;u++){var c=h[u];this.isLeaf(c)||(c.originColIndex=c.columnIndex,c.columnIndex=this.getRegionIndex(c.children),c.columnValuesLength=n.length)}},r.prototype.getFacetsByLevel=function(t,e){var n=[];return t.forEach(function(a){a.rowIndex===e&&n.push(a)}),n},r.prototype.getRegionIndex=function(t){var e=t[0],n=t[t.length-1];return(n.columnIndex-e.columnIndex)/2+e.columnIndex},r.prototype.isLeaf=function(t){return!t.children||!t.children.length},r.prototype.getRows=function(){return this.cfg.fields.length+1},r.prototype.getChildFacets=function(t,e,n){var a=this,o=this.cfg.fields,s=o.length;if(!(s<e)){var l=[],u=o[e-1],h=this.getFieldValues(t,u);return h.forEach(function(c,v){var g=[{field:u,value:c,values:h}],M=t.filter(a.getFacetDataFilter(g));if(M.length){var F={type:a.cfg.type,data:M,region:null,columnValue:c,rowValue:"",columnField:u,rowField:"",columnIndex:v,rowValuesLength:a.getRows(),columnValuesLength:1,rowIndex:e,children:a.getChildFacets(M,e+1,n)};l.push(F),n.push(F)}}),l}},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.renderTitle=function(){var t=this;(0,f.each)(this.facets,function(e){var n=e.columnValue,a=e.view,o=(0,f.get)(t.cfg.title,"formatter"),s=(0,f.deepMix)({position:["50%","0%"],content:o?o(n):n},so(Ct.TOP),t.cfg.title);a.annotation().text(s)})},r.prototype.drawLines=function(t){var e=this;t.forEach(function(n){if(!e.isLeaf(n)){var a=n.children;e.addFacetLines(n,a)}})},r.prototype.addFacetLines=function(t,e){var n=this,a=t.view,o=a.coordinateBBox,s={x:o.x+o.width/2,y:o.y+o.height};e.forEach(function(l){var u=l.view.coordinateBBox,h={x:u.bl.x+(u.tr.x-u.bl.x)/2,y:u.tr.y},c={x:s.x,y:s.y+(h.y-s.y)/2},v={x:h.x,y:c.y};n.drawLine([s,c,v,h])})},r.prototype.getPath=function(t){var e=[],n=this.cfg.line.smooth;return n?(e.push(["M",t[0].x,t[0].y]),e.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y])):t.forEach(function(a,o){o===0?e.push(["M",a.x,a.y]):e.push(["L",a.x,a.y])}),e},r.prototype.drawLine=function(t){var e=this.getPath(t),n=this.cfg.line.style;this.container.addShape("path",{attrs:(0,f.assign)({path:e},n)})},r.prototype.getXAxisOption=function(t,e,n,a){return a.rowIndex!==a.rowValuesLength-1?(0,$.__assign)((0,$.__assign)({},n),{title:null,label:null}):n},r.prototype.getYAxisOption=function(t,e,n,a){return a.originColIndex!==0&&a.columnIndex!==0?(0,$.__assign)((0,$.__assign)({},n),{title:null,label:null}):n},r}(Lr),wC=bC,SC=function(i){(0,$.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.cache=new Map,e.foregroundContainer=e.view.getLayer(xt.FORE).addGroup(),e.backgroundContainer=e.view.getLayer(xt.BG).addGroup(),e.option=[],e}return Object.defineProperty(r.prototype,"name",{get:function(){return"annotation"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.layout=function(){var t=this,e=this.getComponents(),n=function(o){var s=o.component,l=o.extra,u=l.type,h=t.getAnnotationTheme(u);s.update(t.getAnnotationCfg(u,l,h))},a=function(o){var s=t.createAnnotation(o);s&&(s.component.init(),o.type==="regionFilter"&&s.component.render(),t.cache.set(o,s))};e.length?(0,f.each)(e,function(o){var s=o.component;s.get("type")==="regionFilter"?t.view.getRootView().once(Gt.AFTER_RENDER,function(){n(o)}):n(o)}):(0,f.each)(this.option,function(o){o.type==="regionFilter"?t.view.getRootView().once(Gt.AFTER_RENDER,function(){a(o)}):a(o)})},r.prototype.render=function(){},r.prototype.update=function(){var t=this,e=new WeakMap,n=function(a){var o=a.type,s=t.getAnnotationTheme(o),l=t.getAnnotationCfg(o,a,s),u=t.cache.get(a);if(u)Tn(l,["container"]),u.component.update(l),e.set(a,!0);else{var h=t.createAnnotation(a);h&&(h.component.init(),a.type==="regionFilter"&&h.component.render(),t.cache.set(a,h),e.set(a,!0))}};this.view.once(Gt.AFTER_RENDER,function(){(0,f.each)(t.option,function(o){o.type==="regionFilter"&&n(o)});var a=new Map;t.cache.forEach(function(o,s){e.has(s)?a.set(s,o):o.component.destroy()}),t.cache=a}),(0,f.each)(this.option,function(a){a.type!=="regionFilter"&&n(a)})},r.prototype.clear=function(t){t===void 0&&(t=!1),i.prototype.clear.call(this),this.cache.clear(),this.foregroundContainer.clear(),this.backgroundContainer.clear(),t&&(this.option=[])},r.prototype.destroy=function(){this.clear(!0),this.foregroundContainer.remove(!0),this.backgroundContainer.remove(!0)},r.prototype.getComponents=function(){var t=[];return this.cache.forEach(function(e){t.push(e)}),t},r.prototype.createAnnotation=function(t){var e=t.type,n=nn.Annotation[(0,f.upperFirst)(e)];if(n){var a=this.getAnnotationTheme(e),o=this.getAnnotationCfg(e,t,a),s=new n(o);return{component:s,layer:this.isTop(o)?xt.FORE:xt.BG,direction:Ct.NONE,type:Bt.ANNOTATION,extra:t}}},r.prototype.annotation=function(t){this.option.push(t)},r.prototype.arc=function(t){return this.annotation((0,$.__assign)({type:"arc"},t)),this},r.prototype.image=function(t){return this.annotation((0,$.__assign)({type:"image"},t)),this},r.prototype.line=function(t){return this.annotation((0,$.__assign)({type:"line"},t)),this},r.prototype.region=function(t){return this.annotation((0,$.__assign)({type:"region"},t)),this},r.prototype.text=function(t){return this.annotation((0,$.__assign)({type:"text"},t)),this},r.prototype.dataMarker=function(t){return this.annotation((0,$.__assign)({type:"dataMarker"},t)),this},r.prototype.dataRegion=function(t){this.annotation((0,$.__assign)({type:"dataRegion"},t))},r.prototype.regionFilter=function(t){this.annotation((0,$.__assign)({type:"regionFilter"},t))},r.prototype.parsePosition=function(t){var e=this.view.getXScale(),n=this.view.getScalesByDim("y"),a=(0,f.isFunction)(t)?t.call(null,e,n):t,o=0,s=0;if((0,f.isArray)(a)){var l=a[0],u=a[1];if((0,f.isString)(l)&&l.indexOf("%")!==-1&&!isNaN(l.slice(0,-1)))return this.parsePercentPosition(a);o=this.getNormalizedValue(l,e),s=this.getNormalizedValue(u,Object.values(n)[0])}else if(!(0,f.isNil)(a))for(var h=0,c=(0,f.keys)(a);h<c.length;h++){var v=c[h],g=a[v];v===e.field&&(o=this.getNormalizedValue(g,e)),n[v]&&(s=this.getNormalizedValue(g,n[v]))}return this.view.getCoordinate().convert({x:o,y:s})},r.prototype.getRegionPoints=function(t,e){var n=this,a=this.view.getXScale(),o=this.view.getScalesByDim("y"),s=Object.values(o)[0],l=a.field,u=this.view.getData(),h=(0,f.isArray)(t)?t[0]:t[l],c=(0,f.isArray)(e)?e[0]:e[l],v=[],g;return(0,f.each)(u,function(M,F){if(M[l]===h&&(g=F),F>=g){var Y=n.parsePosition([M[l],M[s.field]]);Y&&v.push(Y)}if(M[l]===c)return!1}),v},r.prototype.getNormalizedValue=function(t,e){var n,a;switch(t){case"start":n=0;break;case"end":n=1;break;case"median":{a=e.isCategory?(e.values.length-1)/2:(e.min+e.max)/2,n=e.scale(a);break}case"min":case"max":e.isCategory?a=t==="min"?0:e.values.length-1:a=e[t],n=e.scale(a);break;default:n=e.scale(t)}return n},r.prototype.parsePercentPosition=function(t){var e=parseFloat(t[0])/100,n=parseFloat(t[1])/100,a=this.view.getCoordinate(),o=a.start,s=a.end,l={x:Math.min(o.x,s.x),y:Math.min(o.y,s.y)},u=a.getWidth()*e+l.x,h=a.getHeight()*n+l.y;return{x:u,y:h}},r.prototype.getCoordinateBBox=function(){var t=this.view.getCoordinate(),e=t.start,n=t.end,a=t.getWidth(),o=t.getHeight(),s={x:Math.min(e.x,n.x),y:Math.min(e.y,n.y)};return{x:s.x,y:s.y,minX:s.x,minY:s.y,maxX:s.x+a,maxY:s.y+o,width:a,height:o}},r.prototype.getAnnotationCfg=function(t,e,n){var a=this.view.getCoordinate(),o={};if((0,f.isNil)(e))return null;if(t==="arc"){var s=e,l=s.start,u=s.end,h=this.parsePosition(l),c=this.parsePosition(u),v=vi(a,h),g=vi(a,c);v>g&&(g=Math.PI*2+g),o={center:a.getCenter(),radius:xi(a,h),startAngle:v,endAngle:g}}else if(t==="image"){var M=e,l=M.start,u=M.end;o={start:this.parsePosition(l),end:this.parsePosition(u),src:e.src}}else if(t==="line"){var F=e,l=F.start,u=F.end;o={start:this.parsePosition(l),end:this.parsePosition(u),text:(0,f.get)(e,"text",null)}}else if(t==="region"){var Y=e,l=Y.start,u=Y.end;o={start:this.parsePosition(l),end:this.parsePosition(u)}}else if(t==="text"){var V=this.view.getData(),z=e,it=z.position,ot=z.content,yt=(0,$.__rest)(z,["position","content"]),It=ot;(0,f.isFunction)(ot)&&(It=ot(V)),o=(0,$.__assign)((0,$.__assign)((0,$.__assign)({},this.parsePosition(it)),yt),{content:It})}else if(t==="dataMarker"){var zt=e,it=zt.position,jt=zt.point,Rt=zt.line,re=zt.text,de=zt.autoAdjust,fe=zt.direction;o=(0,$.__assign)((0,$.__assign)({},this.parsePosition(it)),{coordinateBBox:this.getCoordinateBBox(),point:jt,line:Rt,text:re,autoAdjust:de,direction:fe})}else if(t==="dataRegion"){var Me=e,l=Me.start,u=Me.end,Le=Me.region,re=Me.text,_e=Me.lineLength;o={points:this.getRegionPoints(l,u),region:Le,text:re,lineLength:_e}}else if(t==="regionFilter"){var He=e,l=He.start,u=He.end,je=He.apply,Ze=He.color,ze=this.view.geometries,Xe=[],pr=function(gr){!gr||(gr.isGroup()?gr.getChildren().forEach(function(Or){return pr(Or)}):Xe.push(gr))};(0,f.each)(ze,function(gr){je?(0,f.contains)(je,gr.type)&&(0,f.each)(gr.elements,function(Or){pr(Or.shape)}):(0,f.each)(gr.elements,function(Or){pr(Or.shape)})}),o={color:Ze,shapes:Xe,start:this.parsePosition(l),end:this.parsePosition(u)}}var cr=(0,f.deepMix)({},n,(0,$.__assign)((0,$.__assign)({},o),{top:e.top,style:e.style,offsetX:e.offsetX,offsetY:e.offsetY}));return cr.container=this.getComponentContainer(cr),cr.animate=this.view.getOptions().animate&&cr.animate&&(0,f.get)(e,"animate",cr.animate),cr.animateOption=(0,f.deepMix)({},Jo,cr.animateOption,e.animateOption),cr},r.prototype.isTop=function(t){return(0,f.get)(t,"top",!0)},r.prototype.getComponentContainer=function(t){return this.isTop(t)?this.foregroundContainer:this.backgroundContainer},r.prototype.getAnnotationTheme=function(t){return(0,f.get)(this.view.getTheme(),["components","annotation",t],{})},r}(ro),CC=SC;function Uv(i,r){return(0,f.get)(i,["components","axis",r,"grid"],{})}function Ll(i,r,t,e){var n=[],a=r.getTicks();return i.isPolar&&a.push({value:1,text:"",tickValue:""}),a.reduce(function(o,s,l){var u=s.value;if(e)n.push({points:[i.convert(t==="y"?{x:0,y:u}:{x:u,y:0}),i.convert(t==="y"?{x:1,y:u}:{x:u,y:1})]});else if(l){var h=o.value,c=(h+u)/2;n.push({points:[i.convert(t==="y"?{x:0,y:c}:{x:c,y:0}),i.convert(t==="y"?{x:1,y:c}:{x:c,y:1})]})}return s},a[0]),n}function Vf(i,r,t,e,n){var a=r.values.length,o=[],s=t.getTicks();return s.reduce(function(l,u){var h=l?l.value:u.value,c=u.value,v=(h+c)/2;return n==="x"?o.push({points:[i.convert({x:e?c:v,y:0}),i.convert({x:e?c:v,y:1})]}):o.push({points:(0,f.map)(Array(a+1),function(g,M){return i.convert({x:M/a,y:e?c:v})})}),u},s[0]),o}function Zv(i,r){var t=(0,f.get)(r,"grid");if(t===null)return!1;var e=(0,f.get)(i,"grid");return!(t===void 0&&e===null)}var xo=["container"],Kv=(0,$.__assign)((0,$.__assign)({},Jo),{appear:null}),MC=function(i){(0,$.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.cache=new Map,e.gridContainer=e.view.getLayer(xt.BG).addGroup(),e.axisContainer=e.view.getLayer(xt.BG).addGroup(),e}return Object.defineProperty(r.prototype,"name",{get:function(){return"axis"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.render=function(){this.update()},r.prototype.layout=function(){var t=this,e=this.view.getCoordinate();(0,f.each)(this.getComponents(),function(n){var a=n.component,o=n.direction,s=n.type,l=n.extra,u=l.dim,h=l.scale,c=l.alignTick,v;if(s===Bt.AXIS)e.isPolar?u==="x"?v=e.isTransposed?er(e,o):yr(e):u==="y"&&(v=e.isTransposed?yr(e):er(e,o)):v=er(e,o);else if(s===Bt.GRID)if(e.isPolar){var g=void 0;e.isTransposed?g=u==="x"?Vf(e,t.view.getYScales()[0],h,c,u):Ll(e,h,u,c):g=u==="x"?Ll(e,h,u,c):Vf(e,t.view.getXScale(),h,c,u),v={items:g,center:t.view.getCoordinate().getCenter()}}else v={items:Ll(e,h,u,c)};a.update(v)})},r.prototype.update=function(){this.option=this.view.getOptions().axes;var t=new Map;this.updateXAxes(t),this.updateYAxes(t);var e=new Map;this.cache.forEach(function(n,a){t.has(a)?e.set(a,n):n.component.destroy()}),this.cache=e},r.prototype.clear=function(){i.prototype.clear.call(this),this.cache.clear(),this.gridContainer.clear(),this.axisContainer.clear()},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.gridContainer.remove(!0),this.axisContainer.remove(!0)},r.prototype.getComponents=function(){var t=[];return this.cache.forEach(function(e){t.push(e)}),t},r.prototype.updateXAxes=function(t){var e=this.view.getXScale();if(!(!e||e.isIdentity)){var n=Ke(this.option,e.field);if(n!==!1){var a=Er(n,Ct.BOTTOM),o=xt.BG,s="x",l=this.view.getCoordinate(),u=this.getId("axis",e.field),h=this.getId("grid",e.field);if(l.isRect){var c=this.cache.get(u);if(c){var v=this.getLineAxisCfg(e,n,a);Tn(v,xo),c.component.update(v),t.set(u,c)}else c=this.createLineAxis(e,n,o,a,s),this.cache.set(u,c),t.set(u,c);var g=this.cache.get(h);if(g){var v=this.getLineGridCfg(e,n,a,s);Tn(v,xo),g.component.update(v),t.set(h,g)}else g=this.createLineGrid(e,n,o,a,s),g&&(this.cache.set(h,g),t.set(h,g))}else if(l.isPolar){var c=this.cache.get(u);if(c){var v=l.isTransposed?this.getLineAxisCfg(e,n,Ct.RADIUS):this.getCircleAxisCfg(e,n,a);Tn(v,xo),c.component.update(v),t.set(u,c)}else{if(l.isTransposed){if((0,f.isUndefined)(n))return;c=this.createLineAxis(e,n,o,Ct.RADIUS,s)}else c=this.createCircleAxis(e,n,o,a,s);this.cache.set(u,c),t.set(u,c)}var g=this.cache.get(h);if(g){var v=l.isTransposed?this.getCircleGridCfg(e,n,Ct.RADIUS,s):this.getLineGridCfg(e,n,Ct.CIRCLE,s);Tn(v,xo),g.component.update(v),t.set(h,g)}else{if(l.isTransposed){if((0,f.isUndefined)(n))return;g=this.createCircleGrid(e,n,o,Ct.RADIUS,s)}else g=this.createLineGrid(e,n,o,Ct.CIRCLE,s);g&&(this.cache.set(h,g),t.set(h,g))}}}}},r.prototype.updateYAxes=function(t){var e=this,n=this.view.getYScales();(0,f.each)(n,function(a,o){if(!(!a||a.isIdentity)){var s=a.field,l=Ke(e.option,s);if(l!==!1){var u=xt.BG,h="y",c=e.getId("axis",s),v=e.getId("grid",s),g=e.view.getCoordinate();if(g.isRect){var M=Er(l,o===0?Ct.LEFT:Ct.RIGHT),F=e.cache.get(c);if(F){var Y=e.getLineAxisCfg(a,l,M);Tn(Y,xo),F.component.update(Y),t.set(c,F)}else F=e.createLineAxis(a,l,u,M,h),e.cache.set(c,F),t.set(c,F);var V=e.cache.get(v);if(V){var Y=e.getLineGridCfg(a,l,M,h);Tn(Y,xo),V.component.update(Y),t.set(v,V)}else V=e.createLineGrid(a,l,u,M,h),V&&(e.cache.set(v,V),t.set(v,V))}else if(g.isPolar){var F=e.cache.get(c);if(F){var Y=g.isTransposed?e.getCircleAxisCfg(a,l,Ct.CIRCLE):e.getLineAxisCfg(a,l,Ct.RADIUS);Tn(Y,xo),F.component.update(Y),t.set(c,F)}else{if(g.isTransposed){if((0,f.isUndefined)(l))return;F=e.createCircleAxis(a,l,u,Ct.CIRCLE,h)}else F=e.createLineAxis(a,l,u,Ct.RADIUS,h);e.cache.set(c,F),t.set(c,F)}var V=e.cache.get(v);if(V){var Y=g.isTransposed?e.getLineGridCfg(a,l,Ct.CIRCLE,h):e.getCircleGridCfg(a,l,Ct.RADIUS,h);Tn(Y,xo),V.component.update(Y),t.set(v,V)}else{if(g.isTransposed){if((0,f.isUndefined)(l))return;V=e.createLineGrid(a,l,u,Ct.CIRCLE,h)}else V=e.createCircleGrid(a,l,u,Ct.RADIUS,h);V&&(e.cache.set(v,V),t.set(v,V))}}}}})},r.prototype.createLineAxis=function(t,e,n,a,o){var s={component:new fi(this.getLineAxisCfg(t,e,a)),layer:n,direction:a===Ct.RADIUS?Ct.NONE:a,type:Bt.AXIS,extra:{dim:o,scale:t}};return s.component.set("field",t.field),s.component.init(),s},r.prototype.createLineGrid=function(t,e,n,a,o){var s=this.getLineGridCfg(t,e,a,o);if(s){var l={component:new Si(s),layer:n,direction:Ct.NONE,type:Bt.GRID,extra:{dim:o,scale:t,alignTick:(0,f.get)(s,"alignTick",!0)}};return l.component.init(),l}},r.prototype.createCircleAxis=function(t,e,n,a,o){var s={component:new hi(this.getCircleAxisCfg(t,e,a)),layer:n,direction:a,type:Bt.AXIS,extra:{dim:o,scale:t}};return s.component.set("field",t.field),s.component.init(),s},r.prototype.createCircleGrid=function(t,e,n,a,o){var s=this.getCircleGridCfg(t,e,a,o);if(s){var l={component:new Ci(s),layer:n,direction:Ct.NONE,type:Bt.GRID,extra:{dim:o,scale:t,alignTick:(0,f.get)(s,"alignTick",!0)}};return l.component.init(),l}},r.prototype.getLineAxisCfg=function(t,e,n){var a=this.axisContainer,o=this.view.getCoordinate(),s=er(o,n),l=Ir(t,e),u=lr(this.view.getTheme(),n),h=(0,f.get)(e,["title"])?(0,f.deepMix)({title:{style:{text:l}}},e):e,c=(0,f.deepMix)((0,$.__assign)((0,$.__assign)({container:a},s),{ticks:t.getTicks().map(function(it){return{id:""+it.tickValue,name:it.text,value:it.value}}),verticalFactor:o.isPolar?ar(s,o.getCenter())*-1:ar(s,o.getCenter())}),u,h),v=this.getAnimateCfg(c),g=v.animate,M=v.animateOption;c.animateOption=M,c.animate=g;var F=rr(s),Y=(0,f.get)(c,"verticalLimitLength",F?1/3:1/2);if(Y<=1){var V=this.view.getCanvas().get("width"),z=this.view.getCanvas().get("height");c.verticalLimitLength=Y*(F?V:z)}return c},r.prototype.getLineGridCfg=function(t,e,n,a){if(!!Zv(lr(this.view.getTheme(),n),e)){var o=Uv(this.view.getTheme(),n),s=(0,f.deepMix)({container:this.gridContainer},o,(0,f.get)(e,"grid"),this.getAnimateCfg(e));return s.items=Ll(this.view.getCoordinate(),t,a,(0,f.get)(s,"alignTick",!0)),s}},r.prototype.getCircleAxisCfg=function(t,e,n){var a=this.axisContainer,o=this.view.getCoordinate(),s=t.getTicks().map(function(F){return{id:""+F.tickValue,name:F.text,value:F.value}});!t.isCategory&&Math.abs(o.endAngle-o.startAngle)===Math.PI*2&&s.pop();var l=Ir(t,e),u=lr(this.view.getTheme(),Ct.CIRCLE),h=(0,f.get)(e,["title"])?(0,f.deepMix)({title:{style:{text:l}}},e):e,c=(0,f.deepMix)((0,$.__assign)((0,$.__assign)({container:a},yr(this.view.getCoordinate())),{ticks:s,verticalFactor:1}),u,h),v=this.getAnimateCfg(c),g=v.animate,M=v.animateOption;return c.animate=g,c.animateOption=M,c},r.prototype.getCircleGridCfg=function(t,e,n,a){if(!!Zv(lr(this.view.getTheme(),n),e)){var o=Uv(this.view.getTheme(),Ct.RADIUS),s=(0,f.deepMix)({container:this.gridContainer,center:this.view.getCoordinate().getCenter()},o,(0,f.get)(e,"grid"),this.getAnimateCfg(e)),l=(0,f.get)(s,"alignTick",!0),u=a==="x"?this.view.getYScales()[0]:this.view.getXScale();return s.items=Vf(this.view.getCoordinate(),u,t,l,a),s}},r.prototype.getId=function(t,e){var n=this.view.getCoordinate();return t+"-"+e+"-"+n.type},r.prototype.getAnimateCfg=function(t){return{animate:this.view.getOptions().animate&&(0,f.get)(t,"animate"),animateOption:t&&t.animateOption?(0,f.deepMix)({},Kv,t.animateOption):Kv}},r}(ro),EC=MC;function Ol(i,r,t){return t===Ct.TOP?[i.minX+i.width/2-r.width/2,i.minY]:t===Ct.BOTTOM?[i.minX+i.width/2-r.width/2,i.maxY-r.height]:t===Ct.LEFT?[i.minX,i.minY+i.height/2-r.height/2]:t===Ct.RIGHT?[i.maxX-r.width,i.minY+i.height/2-r.height/2]:t===Ct.TOP_LEFT||t===Ct.LEFT_TOP?[i.tl.x,i.tl.y]:t===Ct.TOP_RIGHT||t===Ct.RIGHT_TOP?[i.tr.x-r.width,i.tr.y]:t===Ct.BOTTOM_LEFT||t===Ct.LEFT_BOTTOM?[i.bl.x,i.bl.y-r.height]:t===Ct.BOTTOM_RIGHT||t===Ct.RIGHT_BOTTOM?[i.br.x-r.width,i.br.y-r.height]:[0,0]}function AC(i,r){if(r.isTransposed)switch(i){case DIRECTION.BOTTOM:return DIRECTION.LEFT;case DIRECTION.LEFT:return DIRECTION.BOTTOM;case DIRECTION.RIGHT:return DIRECTION.TOP;case DIRECTION.TOP:return DIRECTION.RIGHT}return i}function $v(i){return i===DIRECTION.LEFT?DIRECTION.RIGHT:i===DIRECTION.RIGHT?DIRECTION.LEFT:i}function Qv(i){return i===DIRECTION.TOP?DIRECTION.BOTTOM:i===DIRECTION.BOTTOM?DIRECTION.TOP:i}function TC(i,r){var t=r.matrix[0],e=r.matrix[4],n=i;return t<0&&(n=$v(n)),e<0&&(n=Qv(n)),n}function PC(i,r){var t=i;return r.isReflect("x")&&(t=$v(t)),r.isReflect("y")&&(t=Qv(t)),t}function KY(i,r){var t=i;return t=AC(t,r),t=TC(t,r),t=PC(t,r),t}function Jv(i,r,t){if(!i)return t;var e;if(i.callback&&i.callback.length>1){var n=Array(i.callback.length-1).fill("");e=i.mapping.apply(i,(0,$.__spreadArrays)([r],n)).join("")}else e=i.mapping(r).join("");return e||t}function qv(i){var r=i.symbol;(0,f.isString)(r)&&Fo[r]&&(i.symbol=Fo[r])}function Hf(i){return i.startsWith(Ct.LEFT)||i.startsWith(Ct.RIGHT)?"vertical":"horizontal"}function _C(i,r,t,e,n){var a=t.getScale(t.type);if(a.isCategory){var o=a.field,s=r.getAttribute("color"),l=r.getAttribute("shape"),u=i.getTheme().defaultColor,h=r.coordinate.isPolar;return a.getTicks().map(function(c){var v,g=c.text,M=c.value,F=g,Y=a.invert(M),V=i.filterFieldData(o,[(v={},v[o]=Y,v)]).length===0,z=Jv(s,Y,u),it=Jv(l,Y,"point"),ot=r.getShapeMarker(it,{color:z,isInPolar:h});return ot=(0,f.deepMix)({},e,ot,n),qv(ot),{id:Y,name:F,value:Y,marker:ot,unchecked:V}})}return[]}function LC(i,r,t){return t.map(function(e){var n=(0,f.deepMix)({},i,r,e.marker);return qv(n),e.marker=n,e})}function td(i,r){return(0,f.isBoolean)(i)?i===!1?!1:{}:(0,f.get)(i,[r],i)}function Ls(i){return(0,f.get)(i,"position",Ct.BOTTOM)}var OC=function(i){(0,$.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.container=e.view.getLayer(xt.FORE).addGroup(),e}return Object.defineProperty(r.prototype,"name",{get:function(){return"legend"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.render=function(){var t=this;this.option=this.view.getOptions().legends;var e=function(s,l,u){var h=t.createFieldLegend(s,l,u);h&&(h.component.init(),t.components.push(h))};if((0,f.get)(this.option,"custom")){var n=this.createCustomLegend(void 0,void 0,void 0,this.option);if(n){n.init();var a=xt.FORE,o=Ls(this.option);this.components.push({id:"global-custom",component:n,layer:a,direction:o,type:Bt.LEGEND,extra:void 0})}}else this.loopLegends(e)},r.prototype.layout=function(){var t=this;this.layoutBBox=this.view.viewBBox;var e=(0,f.get)(this.view.getTheme(),["components","legend","margin"],[0,0,0,0]);(0,f.each)(this.components,function(n){var a=n.component,o=n.direction,s=Hf(o),l=t.getCategoryLegendSizeCfg(s),u=a.get("maxWidth"),h=a.get("maxHeight");a.update({maxWidth:Math.min(l.maxWidth,u||0),maxHeight:Math.min(l.maxHeight,h||0)});var c=a.getLayoutBBox(),v=new Ue(c.x,c.y,c.width,c.height),g=Ol(t.view.viewBBox,v,o),M=g[0],F=g[1],Y=Ol(t.layoutBBox,v,o),V=Y[0],z=Y[1],it=0,ot=0;o.startsWith("top")||o.startsWith("bottom")?(it=M,ot=z):(it=V,ot=F),o.indexOf("left")>=0&&(it+=e[3]),o.indexOf("right")>=0&&(it-=e[1]),o.indexOf("top")>=0&&(ot+=e[0]),o.indexOf("bottom")>=0&&(ot-=e[2]),a.update({x:it,y:ot}),t.layoutBBox=t.layoutBBox.cut(v,o)})},r.prototype.update=function(){var t=this;this.option=this.view.getOptions().legends;var e={},n=function(v,g,M){var F=t.getId(M.field),Y=t.getComponentById(F);if(Y){var V=void 0,z=td(t.option,M.field);z!==!1&&((0,f.get)(z,"custom")?V=t.getCategoryCfg(v,g,M,z,!0):M.isLinear?V=t.getContinuousCfg(v,g,M,z):M.isCategory&&(V=t.getCategoryCfg(v,g,M,z))),V&&(Tn(V,["container"]),Y.direction=Ls(z),Y.component.update(V),e[F]=!0)}else{var it=t.createFieldLegend(v,g,M);it&&(it.component.init(),t.components.push(it),e[F]=!0)}};if((0,f.get)(this.option,"custom")){var a="global-custom",o=this.getComponentById(a);if(o){var s=this.getCategoryCfg(void 0,void 0,void 0,this.option,!0);Tn(s,["container"]),o.component.update(s),e[a]=!0}else{var l=this.createCustomLegend(void 0,void 0,void 0,this.option);if(l){l.init();var u=xt.FORE,h=Ls(this.option);this.components.push({id:a,component:l,layer:u,direction:h,type:Bt.LEGEND,extra:void 0}),e[a]=!0}}}else this.loopLegends(n);var c=[];(0,f.each)(this.getComponents(),function(v){e[v.id]?c.push(v):v.component.destroy()}),this.components=c},r.prototype.clear=function(){i.prototype.clear.call(this),this.container.clear()},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.container.remove(!0)},r.prototype.getGeometries=function(t){var e=this,n=t.geometries;return(0,f.each)(t.views,function(a){n=n.concat(e.getGeometries(a))}),n},r.prototype.loopLegends=function(t){var e=this.view.getRootView()===this.view;if(!!e){var n=this.getGeometries(this.view),a={};(0,f.each)(n,function(o){var s=o.getGroupAttributes();(0,f.each)(s,function(l){var u=l.getScale(l.type);!u||u.type==="identity"||a[u.field]||(t(o,l,u),a[u.field]=!0)})})}},r.prototype.createFieldLegend=function(t,e,n){var a,o=td(this.option,n.field),s=xt.FORE,l=Ls(o);if(o!==!1&&((0,f.get)(o,"custom")?a=this.createCustomLegend(t,e,n,o):n.isLinear?a=this.createContinuousLegend(t,e,n,o):n.isCategory&&(a=this.createCategoryLegend(t,e,n,o))),a)return a.set("field",n.field),{id:this.getId(n.field),component:a,layer:s,direction:l,type:Bt.LEGEND,extra:{scale:n}}},r.prototype.createCustomLegend=function(t,e,n,a){var o=this.getCategoryCfg(t,e,n,a,!0);return new Vt(o)},r.prototype.createContinuousLegend=function(t,e,n,a){var o=this.getContinuousCfg(t,e,n,a);return new $t(o)},r.prototype.createCategoryLegend=function(t,e,n,a){var o=this.getCategoryCfg(t,e,n,a);return new Vt(o)},r.prototype.getContinuousCfg=function(t,e,n,a){var o=n.getTicks(),s=(0,f.find)(o,function(F){return F.value===0}),l=(0,f.find)(o,function(F){return F.value===1}),u=o.map(function(F){var Y=F.value,V=F.tickValue,z=e.mapping(n.invert(Y)).join("");return{value:V,attrValue:z,color:z,scaleValue:Y}});s||u.push({value:n.min,attrValue:e.mapping(n.invert(0)).join(""),color:e.mapping(n.invert(0)).join(""),scaleValue:0}),l||u.push({value:n.max,attrValue:e.mapping(n.invert(1)).join(""),color:e.mapping(n.invert(1)).join(""),scaleValue:1}),u.sort(function(F,Y){return F.value-Y.value});var h={min:(0,f.head)(u).value,max:(0,f.last)(u).value,colors:[],rail:{type:e.type},track:{}};e.type==="size"&&(h.track={style:{fill:e.type==="size"?this.view.getTheme().defaultColor:void 0}}),e.type==="color"&&(h.colors=u.map(function(F){return F.attrValue}));var c=this.container,v=Ls(a),g=Hf(v),M=(0,f.get)(a,"title");return M&&(M=(0,f.deepMix)({text:Pe(n)},M)),h.container=c,h.layout=g,h.title=M,h.animateOption=Jo,this.mergeLegendCfg(h,a,"continuous")},r.prototype.getCategoryCfg=function(t,e,n,a,o){var s=this.container,l=(0,f.get)(a,"position",Ct.BOTTOM),u=(0,f.get)(this.view.getTheme(),["components","legend",l,"marker"]),h=(0,f.get)(a,"marker"),c=Hf(l),v=o?LC(u,h,a.items):_C(this.view,t,e,u,h),g=(0,f.get)(a,"title");g&&(g=(0,f.deepMix)({text:n?Pe(n):""},g));var M=this.getCategoryLegendSizeCfg(c);M.container=s,M.layout=c,M.items=v,M.title=g,M.animateOption=Jo;var F=this.mergeLegendCfg(M,a,l);F.reversed&&F.items.reverse();var Y=(0,f.get)(F,"maxItemWidth");return Y&&Y<=1&&(F.maxItemWidth=this.view.viewBBox.width*Y),F},r.prototype.mergeLegendCfg=function(t,e,n){var a=n.split("-")[0],o=(0,f.get)(this.view.getTheme(),["components","legend",a],{});return(0,f.deepMix)({},o,t,e)},r.prototype.getId=function(t){return this.name+"-"+t},r.prototype.getComponentById=function(t){return(0,f.find)(this.components,function(e){return e.id===t})},r.prototype.getCategoryLegendSizeCfg=function(t){var e=this.view.viewBBox,n=e.width,a=e.height;return t==="vertical"?{maxWidth:n*pt,maxHeight:a}:{maxWidth:n,maxHeight:a*pt}},r}(ro),IC=OC,kC=function(i){(0,$.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.onValueChanged=function(n){var a=n[0],o=n[1];e.updateMinMaxText(a,o),e.view.render(!0)},e.container=e.view.getLayer(xt.FORE).addGroup(),e}return Object.defineProperty(r.prototype,"name",{get:function(){return"slider"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.render=function(){if(this.option=this.view.getOptions().slider,this.option){this.slider?this.slider=this.updateSlider():(this.slider=this.createSlider(),this.slider.component.on("sliderchange",this.onValueChanged));var t=this.slider.component.get("start")||0,e=this.slider.component.get("end")||1;this.updateMinMaxText(t,e)}else this.slider&&(this.slider.component.destroy(),this.slider=void 0)},r.prototype.layout=function(){if(this.slider){var t=this.view.coordinateBBox.width,e=this.slider.component.getLayoutBBox(),n=new Ue(e.x,e.y,Math.min(e.width,t),e.height),a=Ol(this.view.viewBBox,n,Ct.BOTTOM),o=a[0],s=a[1],l=Ol(this.view.coordinateBBox,n,Ct.BOTTOM),u=l[0],h=l[1];this.slider.component.update({x:u,y:s,width:t})}},r.prototype.update=function(){this.render()},r.prototype.createSlider=function(){var t=this.getSliderCfg(),e=new nn.Slider((0,$.__assign)({container:this.container},t));return e.init(),{component:e,layer:xt.FORE,direction:Ct.BOTTOM,type:Bt.OTHER}},r.prototype.updateSlider=function(){var t=this.getSliderCfg();return Tn(t,["x","y","width","start","end","minText","maxText"]),this.slider.component.update(t),this.slider},r.prototype.getSliderCfg=function(){if((0,f.isObject)(this.option)){var t=(0,$.__assign)({data:this.getData()},(0,f.get)(this.option,"trendCfg",{})),e=0,n=0,a=this.view.coordinateBBox.width,o=(0,f.deepMix)({},{x:e,y:n,width:a},this.option);return(0,$.__assign)((0,$.__assign)({},o),{trendCfg:t})}return{}},r.prototype.getData=function(){var t=this.view.getOptions().data,e=this.view.getYScales()[0],n=this.view.getGroupScales();if(n.length){var a=n[0],o=a.field,s=a.ticks;return t.reduce(function(l,u){return u[o]===s[0]&&l.push(u[e.field]),l},[])}return t.map(function(l){return l[e.field]||0})},r.prototype.updateMinMaxText=function(t,e){var n=this.view.getOptions().data,a=this.view.getXScale(),o=(0,f.size)(n);if(!(!a||!o)){var s=a.field,l=n.reduce(function(F,Y){return F.includes(Y[s])||F.push(Y[s]),F},[]),u=(0,f.size)(l),h=Math.floor(t*(u-1)),c=Math.floor(e*(u-1)),v=(0,f.get)(l,[h]),g=(0,f.get)(l,[c]),M=this.getSliderCfg().formatter;M&&(v=M(v,n[h],h),g=M(g,n[c],c)),this.slider.component.update({minText:v,maxText:g,start:t,end:e}),this.view.filter(a.field,function(F,Y){var V=l.indexOf(F);return V>-1?Li(V,h,c):!0})}},r.prototype.getComponents=function(){return this.slider?[this.slider]:[]},r}(ro),BC=kC;function DC(i){for(var r=[],t=function(n){var a=i[n],o=(0,f.find)(r,function(s){return s.color===a.color&&s.name===a.name&&s.value===a.value&&s.title===a.title});o||r.push(a)},e=0;e<i.length;e++)t(e);return r}var FC=function(i){(0,$.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.isLocked=!1,t}return Object.defineProperty(r.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.isVisible=function(){var t=this.view.getOptions().tooltip;return t!==!1},r.prototype.render=function(){},r.prototype.showTooltip=function(t){if(this.point=t,!!this.isVisible()){var e=this.view,n=this.getTooltipItems(t);if(!n.length){this.hideTooltip();return}var a=this.getTitle(n),o={x:n[0].x,y:n[0].y};e.emit("tooltip:show",(0,$.__assign)({items:n,title:a},t));var s=this.getTooltipCfg(),l=s.follow,u=s.showMarkers,h=s.showCrosshairs,c=s.showContent,v=s.marker,g=this.items,M=this.title;if(!(0,f.isEqual)(M,a)||!(0,f.isEqual)(g,n)?(e.emit("tooltip:change",(0,$.__assign)({items:n,title:a},t)),c&&(this.tooltip||this.renderTooltip(),this.tooltip.update((0,f.mix)({},s,{items:n,title:a},l?t:{})),this.tooltip.show()),u&&this.renderTooltipMarkers(n,v)):(this.tooltip&&l&&(this.tooltip.update(t),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()),this.items=n,this.title=a,h){var F=(0,f.get)(s,["crosshairs","follow"],!1);this.renderCrosshairs(F?t:o,s)}}},r.prototype.hideTooltip=function(){var t=this.getTooltipCfg().follow;if(!t){this.point=null;return}var e=this.tooltipMarkersGroup;e&&e.hide();var n=this.xCrosshair,a=this.yCrosshair;n&&n.hide(),a&&a.hide();var o=this.tooltip;o&&o.hide(),this.view.emit("tooltip:hide",{}),this.point=null},r.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},r.prototype.unlockTooltip=function(){this.isLocked=!1;var t=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(t.capture)},r.prototype.isTooltipLocked=function(){return this.isLocked},r.prototype.clear=function(){var t=this,e=t.tooltip,n=t.xCrosshair,a=t.yCrosshair,o=t.tooltipMarkersGroup;e&&(e.hide(),e.clear()),n&&n.clear(),a&&a.clear(),o&&o.clear()},r.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},r.prototype.changeVisible=function(t){if(this.visible!==t){var e=this,n=e.tooltip,a=e.tooltipMarkersGroup,o=e.xCrosshair,s=e.yCrosshair;t?(n&&n.show(),a&&a.show(),o&&o.show(),s&&s.show()):(n&&n.hide(),a&&a.hide(),o&&o.hide(),s&&s.hide()),this.visible=t}},r.prototype.getTooltipItems=function(t){var e=this.findItemsFromView(this.view,t);if(e.length){e=(0,f.flatten)(e);for(var n=0,a=e;n<a.length;n++)for(var o=a[n],s=0,l=o;s<l.length;s++){var u=l[s],h=u.mappingData,c=h.x,v=h.y;u.x=(0,f.isArray)(c)?c[c.length-1]:c,u.y=(0,f.isArray)(v)?v[v.length-1]:v}var g=this.getTooltipCfg().shared;if(g===!1&&e.length>1){for(var M=e[0],F=Math.abs(t.y-M[0].y),Y=0,V=e;Y<V.length;Y++){var z=V[Y],it=Math.abs(t.y-z[0].y);it<=F&&(M=z,F=it)}e=[M]}return DC((0,f.flatten)(e))}return[]},r.prototype.layout=function(){},r.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var t=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}})}},r.prototype.getTooltipCfg=function(){var t=this.view,e=t.getOptions().tooltip,n=t.getTheme(),a=(0,f.get)(n,["components","tooltip"],{}),o=(0,f.isUndefined)((0,f.get)(e,"enterable"))?a.enterable:(0,f.get)(e,"enterable");return(0,f.deepMix)({},a,e,{capture:!!(o||this.isLocked)})},r.prototype.getTitle=function(t){var e=t[0].title||t[0].name;return this.title=e,e},r.prototype.renderTooltip=function(){var t=this.view.getCanvas(),e={start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}},n=this.getTooltipCfg(),a=new ae((0,$.__assign)((0,$.__assign)({parent:t.get("el").parentNode,region:e},n),{visible:!1,crosshairs:null}));a.init(),this.tooltip=a},r.prototype.renderTooltipMarkers=function(t,e){for(var n=this.getTooltipMarkersGroup(),a=0,o=t;a<o.length;a++){var s=o[a],l=s.x,u=s.y,h=(0,$.__assign)((0,$.__assign)({fill:s.color,symbol:"circle",shadowColor:s.color},e),{x:l,y:u});n.addShape("marker",{attrs:h})}},r.prototype.renderCrosshairs=function(t,e){var n=(0,f.get)(e,["crosshairs","type"],"x");n==="x"?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(t,e)):n==="y"?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(t,e)):n==="xy"&&(this.renderXCrosshairs(t,e),this.renderYCrosshairs(t,e))},r.prototype.renderXCrosshairs=function(t,e){var n=this.getViewWithGeometry(this.view).getCoordinate();if(!!oa(n,t)){var a,o;if(n.isRect)n.isTransposed?(a={x:n.start.x,y:t.y},o={x:n.end.x,y:t.y}):(a={x:t.x,y:n.end.y},o={x:t.x,y:n.start.y});else{var s=vi(n,t),l=n.getCenter(),u=n.getRadius();o=xn(l.x,l.y,u,s),a=l}var h=(0,f.deepMix)({start:a,end:o,container:this.getTooltipCrosshairsGroup()},(0,f.get)(e,"crosshairs",{}),this.getCrosshairsText("x",t,e));delete h.type;var c=this.xCrosshair;c?c.update(h):(c=new nn.Crosshair.Line(h),c.init()),c.render(),c.show(),this.xCrosshair=c}},r.prototype.renderYCrosshairs=function(t,e){var n=this.getViewWithGeometry(this.view).getCoordinate();if(!!oa(n,t)){var a,o;if(n.isRect){var s=void 0,l=void 0;n.isTransposed?(s={x:t.x,y:n.end.y},l={x:t.x,y:n.start.y}):(s={x:n.start.x,y:t.y},l={x:n.end.x,y:t.y}),a={start:s,end:l},o="Line"}else a={center:n.getCenter(),radius:xi(n,t),startAngle:n.startAngle,endAngle:n.endAngle},o="Circle";a=(0,f.deepMix)({container:this.getTooltipCrosshairsGroup()},a,(0,f.get)(e,"crosshairs",{}),this.getCrosshairsText("y",t,e)),delete a.type;var u=this.yCrosshair;u?n.isRect&&u.get("type")==="circle"||!n.isRect&&u.get("type")==="line"?(u=new nn.Crosshair[o](a),u.init()):u.update(a):(u=new nn.Crosshair[o](a),u.init()),u.render(),u.show(),this.yCrosshair=u}},r.prototype.getCrosshairsText=function(t,e,n){var a=(0,f.get)(n,["crosshairs","text"]),o=(0,f.get)(n,["crosshairs","follow"]),s=this.items;if(a){var l=this.getViewWithGeometry(this.view),u=s[0],h=l.getXScale(),c=l.getYScales()[0],v=void 0,g=void 0;if(o){var M=this.view.getCoordinate().invert(e);v=h.invert(M.x),g=c.invert(M.y)}else v=u.data[h.field],g=u.data[c.field];var F=t==="x"?v:g;return(0,f.isFunction)(a)?a=a(t,F,s,e):a.content=F,{text:a}}},r.prototype.getGuideGroup=function(){if(!this.guideGroup){var t=this.view.foregroundGroup;this.guideGroup=t.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},r.prototype.getTooltipMarkersGroup=function(){var t=this.tooltipMarkersGroup;return t&&!t.destroyed?(t.clear(),t.show()):(t=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"}),t.toFront(),this.tooltipMarkersGroup=t),t},r.prototype.getTooltipCrosshairsGroup=function(){var t=this.tooltipCrosshairsGroup;return t||(t=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1}),t.toBack(),this.tooltipCrosshairsGroup=t),t},r.prototype.getTooltipItemsByHitShape=function(t,e,n){var a=[],o=t.container,s=o.getShape(e.x,e.y);if(s&&s.get("visible")&&s.get("origin")){var l=s.get("origin").mappingData,u=Qe(l,t,n);u.length&&a.push(u)}return a},r.prototype.getTooltipItemsByFindData=function(t,e,n){var a=[],o=t.dataArray;t.sort(o);for(var s=0,l=o;s<l.length;s++){var u=l[s],h=be(e,u,t);if(h){var c=t.getElementId(h),v=t.elementsMap[c];if(t.type==="heatmap"||v.visible){var g=Qe(h,t,n);g.length&&a.push(g)}}}return a},r.prototype.findItemsFromView=function(t,e){if(t.getOptions().tooltip===!1)return[];for(var n=[],a=t.geometries,o=this.getTooltipCfg(),s=o.shared,l=o.title,u=0,h=a;u<h.length;u++){var c=h[u];if(c.visible&&c.tooltipOption!==!1){var v=c.type,g=void 0;["point","edge","polygon"].includes(v)?g=this.getTooltipItemsByHitShape(c,e,l):["area","line","path","heatmap"].includes(v)?g=this.getTooltipItemsByFindData(c,e,l):s!==!1?g=this.getTooltipItemsByFindData(c,e,l):g=this.getTooltipItemsByHitShape(c,e,l),g.length&&n.push(g)}}for(var M=0,F=t.views;M<F.length;M++){var Y=F[M];n=n.concat(this.findItemsFromView(Y,e))}return n},r.prototype.getViewWithGeometry=function(t){var e=this;return t.geometries.length?t:(0,f.find)(t.views,function(n){return e.getViewWithGeometry(n)})},r}(ro),RC=FC,NC=function(i){(0,$.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.show=function(){var t=this.context.view,e=this.context.event,n=t.getTooltipItems({x:e.x,y:e.y});if(!(0,f.isEqual)(n,this.items)&&(this.items=n,n.length)){var a=t.getXScale().field,o=n[0].data[a],s=[],l=t.geometries;if((0,f.each)(l,function(Me){if(Me.type==="interval"||Me.type==="schema"){var Le=Me.getElementsBy(function(_e){var He=_e.getData();return He[a]===o});s=s.concat(Le)}}),s.length){var u=t.getCoordinate(),h=s[0].shape.getCanvasBBox(),c=s[0].shape.getCanvasBBox(),v=h;(0,f.each)(s,function(Me){var Le=Me.shape.getCanvasBBox();u.isTransposed?(Le.minY<h.minY&&(h=Le),Le.maxY>c.maxY&&(c=Le)):(Le.minX<h.minX&&(h=Le),Le.maxX>c.maxX&&(c=Le)),v.x=Math.min(Le.minX,v.minX),v.y=Math.min(Le.minY,v.minY),v.width=Math.max(Le.maxX,v.maxX)-v.x,v.height=Math.max(Le.maxY,v.maxY)-v.y});var g=t.backgroundGroup,M=t.coordinateBBox,F=void 0;if(u.isRect){var Y=t.getXScale(),V=Y.isLinear?0:.25,z=void 0,it=void 0,ot=void 0,yt=void 0;u.isTransposed?(z=M.minX,it=Math.min(c.minY,h.minY)-V*c.height,ot=M.width,yt=v.height+V*2*c.height):(z=Math.min(h.minX,c.minX)-V*h.width,it=Math.min(M.minY,h.minY),ot=v.width+V*2*h.width,yt=M.height),F=[["M",z,it],["L",z+ot,it],["L",z+ot,it+yt],["L",z,it+yt],["Z"]]}else{var It=(0,f.head)(s),zt=(0,f.last)(s),jt=ri(It.getModel(),u).startAngle,Rt=ri(zt.getModel(),u).endAngle,re=u.getCenter(),de=u.getRadius(),fe=u.innerRadius*de;F=ai(re.x,re.y,de,jt,Rt,fe)}this.regionPath?(this.regionPath.attr("path",F),this.regionPath.show()):this.regionPath=g.addShape({type:"path",name:"active-region",capture:!1,attrs:{path:F,fill:"#CCD6EC",opacity:.3}})}}},r.prototype.hide=function(){this.regionPath&&this.regionPath.hide(),this.items=null},r.prototype.destroy=function(){this.hide(),this.regionPath&&this.regionPath.remove(!0),i.prototype.destroy.call(this)},r}(tn),YC=NC,GC=function(i){(0,$.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.timeStamp=0,t}return r.prototype.show=function(){var t=this.context,e=t.event,n=t.view,a=n.isTooltipLocked();if(!a){var o=this.timeStamp,s=+new Date;if(s-o>16){var l=this.location,u={x:e.x,y:e.y};(!l||!(0,f.isEqual)(l,u))&&this.showTooltip(n,u),this.timeStamp=s,this.location=u}}},r.prototype.hide=function(){var t=this.context.view,e=t.isTooltipLocked();e||(this.hideTooltip(t),this.location=null)},r.prototype.showTooltip=function(t,e){t.showTooltip(e)},r.prototype.hideTooltip=function(t){t.hideTooltip()},r}(tn),ed=GC,zC=function(i){(0,$.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.showTooltip=function(t,e){var n=$n(t);(0,f.each)(n,function(a){var o=En(t,a,e);a.showTooltip(o)})},r.prototype.hideTooltip=function(t){var e=$n(t);(0,f.each)(e,function(n){n.hideTooltip()})},r}(ed),XC=zC,VC=function(i){(0,$.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.timeStamp=0,t}return r.prototype.destroy=function(){i.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},r.prototype.show=function(){var t=this.context,e=t.event,n=this.timeStamp,a=+new Date;if(a-n>16){var o=this.location,s={x:e.x,y:e.y};(!o||!(0,f.isEqual)(o,s))&&this.showTooltip(s),this.timeStamp=a,this.location=s}},r.prototype.hide=function(){this.hideTooltip(),this.location=null},r.prototype.showTooltip=function(t){var e=this.context,n=e.event,a=n.target;if(a&&a.get("tip")){this.tooltip||this.renderTooltip();var o=a.get("tip");this.tooltip.update((0,$.__assign)({title:o},t)),this.tooltip.show()}},r.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},r.prototype.renderTooltip=function(){var t=this.context.view,e=t.canvas,n={start:{x:0,y:0},end:{x:e.get("width"),y:e.get("height")}},a=t.getTheme(),o=(0,f.get)(a,["components","tooltip","domStyles"],{}),s=new ae({parent:e.get("el").parentNode,region:n,visible:!1,crosshairs:null,domStyles:o});s.init(),s.setCapture(!1),this.tooltip=s},r}(tn),HC=VC,WC=function(i){(0,$.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="",t}return r.prototype.hasState=function(t){return t.hasState(this.stateName)},r.prototype.setElementState=function(t,e){t.setState(this.stateName,e)},r.prototype.setState=function(){this.setStateEnable(!0)},r.prototype.clear=function(){var t=this.context.view;this.clearViewState(t)},r.prototype.clearViewState=function(t){var e=this,n=wr(t,this.stateName);(0,f.each)(n,function(a){e.setElementState(a,!1)})},r}(tn),Wf=WC;function rd(i){return(0,f.get)(i.get("delegateObject"),"item")}var jC=function(i){(0,$.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.ignoreListItemStates=["unchecked"],t}return r.prototype.isItemIgnore=function(t,e){var n=this.ignoreListItemStates,a=n.filter(function(o){return e.hasState(t,o)});return!!a.length},r.prototype.setStateByComponent=function(t,e,n){var a=this.context.view,o=t.get("field"),s=Ye(a);this.setElementsStateByItem(s,o,e,n)},r.prototype.setStateByElement=function(t,e){this.setElementState(t,e)},r.prototype.isMathItem=function(t,e,n){var a=this.context.view,o=Qi(a,e),s=Sr(t,e);return!(0,f.isNil)(s)&&n.name===o.getText(s)},r.prototype.setElementsStateByItem=function(t,e,n,a){var o=this;(0,f.each)(t,function(s){o.isMathItem(s,e,n)&&s.setState(o.stateName,a)})},r.prototype.setStateEnable=function(t){var e=Ht(this.context);if(e)ce(this.context)&&this.setStateByElement(e,t);else{var n=le(this.context);if(ue(n)){var a=n.item,o=n.component;if(a&&o&&!this.isItemIgnore(a,o)){var s=this.context.event.gEvent;if(s&&s.fromShape&&s.toShape&&rd(s.fromShape)===rd(s.toShape))return;this.setStateByComponent(o,a,t)}}}},r.prototype.toggle=function(){var t=Ht(this.context);if(t){var e=t.hasState(this.stateName);this.setElementState(t,!e)}},r.prototype.reset=function(){this.setStateEnable(!1)},r}(Wf),jf=jC,UC=function(i){(0,$.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(jf),ZC=UC,KC=function(i){(0,$.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.cache={},t}return r.prototype.getColorScale=function(t,e){var n=e.geometry.getAttribute("color");if(!n)return null;var a=t.getScaleByField(n.getFields()[0]);return a},r.prototype.getLinkPath=function(t,e){var n=t.shape.getCanvasBBox(),a=e.shape.getCanvasBBox(),o=[["M",n.maxX,n.minY],["L",a.minX,a.minY],["L",a.minX,a.maxY],["L",n.maxX,n.maxY],["Z"]];return o},r.prototype.addLinkShape=function(t,e,n){t.addShape({type:"path",attrs:{opacity:.4,fill:e.shape.attr("fill"),path:this.getLinkPath(e,n)}})},r.prototype.linkByElement=function(t){var e=this,n=this.context.view,a=this.getColorScale(n,t);if(!!a){var o=Sr(t,a.field);if(!this.cache[o]){var s=Re(n,a.field,o),l=this.linkGroup,u=l.addGroup();this.cache[o]=u;var h=s.length;(0,f.each)(s,function(c,v){if(v<h-1){var g=s[v+1];e.addLinkShape(u,c,g)}})}}},r.prototype.removeLink=function(t){var e=this.getColorScale(this.context.view,t);if(!!e){var n=Sr(t,e.field);this.cache[n]&&(this.cache[n].remove(),this.cache[n]=null)}},r.prototype.link=function(){var t=this.context;this.linkGroup||(this.linkGroup=t.view.foregroundGroup.addGroup({capture:!1}));var e=Ht(t);e&&this.linkByElement(e)},r.prototype.unlink=function(){var t=Ht(this.context);t&&this.removeLink(t)},r.prototype.clear=function(){this.linkGroup&&this.linkGroup.clear()},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.linkGroup&&this.linkGroup.remove()},r}(tn),$C=KC,QC=function(i){(0,$.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.startPoint=null,t.endPoint=null,t.isStarted=!1,t.effectSiblings=!1,t.effectByRecord=!1,t}return r.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},r.prototype.start=function(){this.clear(),this.startPoint=this.getCurrentPoint(),this.isStarted=!0},r.prototype.getIntersectElements=function(){var t=null;if(De(this.context))t=Fe(this.context,10);else{var e=this.startPoint,n=this.isStarted?this.getCurrentPoint():this.endPoint;if(!e||!n)return;var a={minX:Math.min(e.x,n.x),minY:Math.min(e.y,n.y),maxX:Math.max(e.x,n.x),maxY:Math.max(e.y,n.y)},o=this.context.view;t=zr(o,a)}return t},r.prototype.setStateEnable=function(t){if(this.effectSiblings&&!this.effectByRecord)this.setSiblingsState(t);else{var e=Ye(this.context.view),n=this.getIntersectElements();n&&n.length?this.effectByRecord?this.setSiblingsStateByRecord(n,t):this.setElementsState(n,t,e):this.clear()}},r.prototype.setSiblingsStateByRecord=function(t,e){var n=this,a=this.context.view,o=$n(a),s=t.map(function(h){return h.getModel().data}),l=a.getXScale().field,u=a.getYScales()[0].field;(0,f.each)(o,function(h){var c=Ye(h),v=c.filter(function(g){var M=g.getModel().data;return Ga(s,M,l,u)});n.setElementsState(v,e,c)})},r.prototype.setSiblingsState=function(t){var e=this,n=this.context.view,a=$n(n);De(this.context)&&(0,f.each)(a,function(o){var s=Ye(o),l=ir(e.context,o,10);l&&l.length?e.setElementsState(l,t,s):e.clearViewState(o)})},r.prototype.setElementsState=function(t,e,n){var a=this;(0,f.each)(n,function(o){t.includes(o)?a.setElementState(o,e):a.setElementState(o,!1)})},r.prototype.end=function(){this.isStarted=!1,this.endPoint=this.getCurrentPoint()},r.prototype.clear=function(){var t=this,e=this.context.view;if(this.effectSiblings){var n=$n(e);(0,f.each)(n,function(a){t.clearViewState(a)})}else this.clearViewState(e)},r}(Wf),Uf=QC,JC=function(i){(0,$.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(Uf),qC=JC,tM=function(i){(0,$.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.setStateEnable=function(t){var e=Ht(this.context);if(e){if(!ce(this.context))return;t?(this.clear(),this.setElementState(e,!0)):this.hasState(e)&&this.setElementState(e,!1)}},r.prototype.toggle=function(){var t=Ht(this.context);if(t){var e=this.hasState(t);e||this.clear(),this.setElementState(t,!e)}},r.prototype.reset=function(){this.setStateEnable(!1)},r}(Wf),Zf=tM,eM=function(i){(0,$.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(Zf),rM=eM,Os="inactive",Is="active";function Kf(i){var r=Ye(i);(0,f.each)(r,function(t){t.hasState(Is)&&t.setState(Is,!1),t.hasState(Os)&&t.setState(Os,!1)})}function nd(i,r,t){(0,f.each)(i,function(e){r(e)?(e.hasState(Os)&&e.setState(Os,!1),e.setState(Is,t)):(e.hasState(Is)&&e.setState(Is,!1),e.setState(Os,t))})}var Ro=ie.INACTIVE,lo=ie.ACTIVE,nM=function(i){(0,$.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName=lo,t}return r.prototype.setElementsStateByItem=function(t,e,n,a){var o=this,s=function(l){return o.isMathItem(l,e,n)};this.setHighlightBy(t,s,a)},r.prototype.setElementHighlight=function(t,e){e(t)?(t.hasState(Ro)&&t.setState(Ro,!1),t.setState(lo,!0)):t.hasState(lo)||t.setState(Ro,!0)},r.prototype.setHighlightBy=function(t,e,n){var a=this;if(n)(0,f.each)(t,function(l){a.setElementHighlight(l,e)});else{var o=wr(this.context.view,lo),s=!0;(0,f.each)(o,function(l){if(!e(l))return s=!1,!1}),s?this.clear():(0,f.each)(t,function(l){e(l)&&(l.hasState(lo)&&l.setState(lo,!1),l.setState(Ro,!0))})}},r.prototype.setElementState=function(t,e){var n=this.context.view,a=Ye(n);this.setHighlightBy(a,function(o){return t===o},e)},r.prototype.highlight=function(){this.setState()},r.prototype.clear=function(){var t=this.context.view;Kf(t)},r}(jf),$f=nM,iM=function(i){(0,$.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.setStateByElement=function(t,e){var n=this.context.view,a=t.geometry.getAttribute("color");if(!!a){var o=n.getScaleByField(a.getFields()[0]),s=Sr(t,o.field),l=Ye(n),u=l.filter(function(h){return Sr(h,o.field)===s});this.setHighlightBy(l,function(h){return u.includes(h)},e)}},r}($f),aM=iM,oM=function(i){(0,$.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.setElementHighlight=function(t,e){e(t)?(t.hasState(Ro)&&t.setState(Ro,!1),t.setState(lo,!0)):(t.setState(Ro,!0),t.hasState(lo)&&t.setState(lo,!1))},r.prototype.setStateByElement=function(t,e){var n=this.context.view,a=n.getXScale(),o=Sr(t,a.field),s=Ye(n),l=s.filter(function(u){return Sr(u,a.field)===o});this.setHighlightBy(s,function(u){return l.includes(u)},e)},r.prototype.toggle=function(){var t=Ht(this.context);if(t){var e=t.hasState(this.stateName);this.setStateByElement(t,!e)}},r}($f),sM=oM,lM=function(i){(0,$.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.clearViewState=function(t){Kf(t)},r.prototype.highlight=function(){this.setState()},r.prototype.setElementsState=function(t,e,n){nd(n,function(a){return t.indexOf(a)>=0},e)},r}(Uf),id=lM,uM=function(i){(0,$.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.highlight=function(){this.setState()},r.prototype.setElementState=function(t,e){var n=this.context.view,a=Ye(n);nd(a,function(o){return t===o},e)},r.prototype.clear=function(){var t=this.context.view;Kf(t)},r}(Zf),fM=uM,hM=function(i){(0,$.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(Uf),cM=hM,vM=function(i){(0,$.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(jf),dM=vM,pM=function(i){(0,$.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(Zf),gM=pM,yM=function(i){(0,$.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="",t.ignoreItemStates=[],t}return r.prototype.getTriggerListInfo=function(){var t=le(this.context),e=null;return ue(t)&&(e={item:t.item,list:t.component}),e},r.prototype.getAllowComponents=function(){var t=this,e=this.context.view,n=Xr(e),a=[];return(0,f.each)(n,function(o){o.isList()&&t.allowSetStateByElement(o)&&a.push(o)}),a},r.prototype.hasState=function(t,e){return t.hasState(e,this.stateName)},r.prototype.clearAllComponentsState=function(){var t=this,e=this.getAllowComponents();(0,f.each)(e,function(n){n.clearItemsState(t.stateName)})},r.prototype.allowSetStateByElement=function(t){var e=t.get("field");if(!e)return!1;if(this.cfg&&this.cfg.componentNames){var n=t.get("name");if(this.cfg.componentNames.indexOf(n)===-1)return!1}var a=this.context.view,o=Qi(a,e);return o&&o.isCategory},r.prototype.allowSetStateByItem=function(t,e){var n=this.ignoreItemStates;if(n.length){var a=n.filter(function(o){return e.hasState(t,o)});return a.length===0}return!0},r.prototype.setStateByElement=function(t,e,n){var a=t.get("field"),o=this.context.view,s=Qi(o,a),l=Sr(e,a),u=s.getText(l);this.setItemsState(t,u,n)},r.prototype.setStateEnable=function(t){var e=this,n=Ht(this.context);if(n){var a=this.getAllowComponents();(0,f.each)(a,function(u){e.setStateByElement(u,n,t)})}else{var o=le(this.context);if(ue(o)){var s=o.item,l=o.component;this.allowSetStateByElement(l)&&this.allowSetStateByItem(s,l)&&this.setItemState(l,s,t)}}},r.prototype.setItemsState=function(t,e,n){var a=this,o=t.getItems();(0,f.each)(o,function(s){s.name===e&&a.setItemState(t,s,n)})},r.prototype.setItemState=function(t,e,n){t.setItemState(e,this.stateName,n)},r.prototype.setState=function(){this.setStateEnable(!0)},r.prototype.reset=function(){this.setStateEnable(!1)},r.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var e=t.list,n=t.item,a=this.hasState(e,n);this.setItemState(e,n,!a)}},r.prototype.clear=function(){var t=this.getTriggerListInfo();t?t.list.clearItemsState(this.stateName):this.clearAllComponentsState()},r}(tn),Il=yM,mM=function(i){(0,$.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(Il),xM=mM,ad="inactive",od="active";function bM(i){var r=i.getItems();(0,f.each)(r,function(t){i.hasState(t,od)&&i.setItemState(t,od,!1),i.hasState(t,ad)&&i.setItemState(t,ad,!1)})}var ks="inactive",No="active",wM=function(i){(0,$.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName=No,t.ignoreItemStates=["unchecked"],t}return r.prototype.setItemsState=function(t,e,n){this.setHighlightBy(t,function(a){return a.name===e},n)},r.prototype.setItemState=function(t,e,n){var a=t.getItems();this.setHighlightBy(t,function(o){return o===e},n)},r.prototype.setHighlightBy=function(t,e,n){var a=t.getItems();if(n)(0,f.each)(a,function(l){e(l)?(t.hasState(l,ks)&&t.setItemState(l,ks,!1),t.setItemState(l,No,!0)):t.hasState(l,No)||t.setItemState(l,ks,!0)});else{var o=t.getItemsByState(No),s=!0;(0,f.each)(o,function(l){if(!e(l))return s=!1,!1}),s?this.clear():(0,f.each)(a,function(l){e(l)&&(t.hasState(l,No)&&t.setItemState(l,No,!1),t.setItemState(l,ks,!0))})}},r.prototype.highlight=function(){this.setState()},r.prototype.clear=function(){var t=this.getTriggerListInfo();if(t)bM(t.list);else{var e=this.getAllowComponents();(0,f.each)(e,function(n){n.clearItemsState(No),n.clearItemsState(ks)})}},r}(Il),Qf=wM,SM=function(i){(0,$.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(Il),CM=SM,MM=function(i){(0,$.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="unchecked",t}return r.prototype.unchecked=function(){this.setState()},r}(Il),EM=MM,AM=function(i){(0,$.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.maskShape=null,t.points=[],t.starting=!1,t.moving=!1,t.preMovePoint=null,t.shapeType="path",t}return r.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},r.prototype.emitEvent=function(t){var e="mask:"+t,n=this.context.view,a=this.context.event;n.emit(e,{target:this.maskShape,shape:this.maskShape,points:this.points,x:a.x,y:a.y})},r.prototype.createMask=function(){var t=this.context.view,e=this.getMaskAttrs(),n=t.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:(0,$.__assign)({fill:"#C5D4EB",opacity:.3},e)});return n},r.prototype.getMaskPath=function(){return[]},r.prototype.show=function(){this.maskShape&&(this.maskShape.show(),this.emitEvent("show"))},r.prototype.start=function(){this.starting=!0,this.moving=!1,this.points=[this.getCurrentPoint()],this.maskShape||(this.maskShape=this.createMask(),this.maskShape.set("capture",!1)),this.updateMask(),this.emitEvent("start")},r.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint()},r.prototype.move=function(){if(!(!this.moving||!this.maskShape)){var t=this.getCurrentPoint(),e=this.preMovePoint,n=t.x-e.x,a=t.y-e.y,o=this.points;(0,f.each)(o,function(s){s.x+=n,s.y+=a}),this.updateMask(),this.emitEvent("change"),this.preMovePoint=t}},r.prototype.updateMask=function(){var t=this.getMaskAttrs();this.maskShape.attr(t)},r.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null},r.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.maskShape&&this.maskShape.set("capture",!0)},r.prototype.hide=function(){this.maskShape&&(this.maskShape.hide(),this.emitEvent("hide"))},r.prototype.resize=function(){this.starting&&this.maskShape&&(this.points.push(this.getCurrentPoint()),this.updateMask(),this.emitEvent("change"))},r.prototype.destroy=function(){this.points=[],this.maskShape&&this.maskShape.remove(),this.maskShape=null,this.preMovePoint=null,i.prototype.destroy.call(this)},r}(tn),Jf=AM,TM=function(i){(0,$.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.shapeType="circle",t}return r.prototype.getMaskAttrs=function(){var t=this.points,e=(0,f.last)(this.points),n=0,a=0,o=0;if(t.length){var s=t[0];n=un(s,e)/2,a=(e.x+s.x)/2,o=(e.y+s.y)/2}return{x:a,y:o,r:n}},r}(Jf),PM=TM,_M=function(i){(0,$.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.shapeType="rect",t}return r.prototype.getRegion=function(){var t=this.points;return{start:(0,f.head)(t),end:(0,f.last)(t)}},r.prototype.getMaskAttrs=function(){var t=this.getRegion(),e=t.start,n=t.end,a=Math.min(e.x,n.x),o=Math.min(e.y,n.y),s=Math.abs(n.x-e.x),l=Math.abs(n.y-e.y);return{x:a,y:o,width:s,height:l}},r}(Jf),sd=_M;function ld(i){i.x=(0,f.clamp)(i.x,0,1),i.y=(0,f.clamp)(i.y,0,1)}var LM=function(i){(0,$.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.dim="x",t.inPlot=!0,t}return r.prototype.getRegion=function(){var t=null,e=null,n=this.points,a=this.dim,o=this.context.view.getCoordinate(),s=o.invert((0,f.head)(n)),l=o.invert((0,f.last)(n));return this.inPlot&&(ld(s),ld(l)),a==="x"?(t=o.convert({x:s.x,y:0}),e=o.convert({x:l.x,y:1})):(t=o.convert({x:0,y:s.y}),e=o.convert({x:1,y:l.y})),{start:t,end:e}},r}(sd),ud=LM,OM=function(i){(0,$.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getMaskPath=function(){var t=this.points,e=[];return t.length&&((0,f.each)(t,function(n,a){a===0?e.push(["M",n.x,n.y]):e.push(["L",n.x,n.y])}),e.push(["L",t[0].x,t[0].y])),e},r.prototype.getMaskAttrs=function(){return{path:this.getMaskPath()}},r.prototype.addPoint=function(){this.resize()},r}(Jf),fd=OM,IM=function(i){(0,$.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getMaskPath=function(){var t=this.points;return Mn(t,!0)},r}(fd),kM=IM,BM=function(i){(0,$.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.setCursor=function(t){var e=this.context.view;e.getCanvas().setCursor(t)},r.prototype.default=function(){this.setCursor("default")},r.prototype.pointer=function(){this.setCursor("pointer")},r.prototype.move=function(){this.setCursor("move")},r.prototype.crosshair=function(){this.setCursor("crosshair")},r.prototype.wait=function(){this.setCursor("wait")},r.prototype.help=function(){this.setCursor("help")},r.prototype.text=function(){this.setCursor("text")},r.prototype.eResize=function(){this.setCursor("e-resize")},r.prototype.wResize=function(){this.setCursor("w-resize")},r.prototype.nResize=function(){this.setCursor("n-resize")},r.prototype.sResize=function(){this.setCursor("s-resize")},r.prototype.neResize=function(){this.setCursor("ne-resize")},r.prototype.nwResize=function(){this.setCursor("nw-resize")},r.prototype.seResize=function(){this.setCursor("se-resize")},r.prototype.swResize=function(){this.setCursor("sw-resize")},r.prototype.nsResize=function(){this.setCursor("ns-resize")},r.prototype.ewResize=function(){this.setCursor("ew-resize")},r}(tn),DM=BM,FM=function(i){(0,$.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.filterView=function(t,e,n){var a=this;t.getScaleByField(e)&&t.filter(e,n),t.views&&t.views.length&&(0,f.each)(t.views,function(o){a.filterView(o,e,n)})},r.prototype.filter=function(){var t=le(this.context);if(t){var e=this.context.view,n=t.component,a=n.get("field");if(ue(t)){if(a){var o=n.getItemsByState("unchecked"),s=Qi(e,a),l=o.map(function(v){return v.name});l.length?this.filterView(e,a,function(v){var g=s.getText(v);return!l.includes(g)}):this.filterView(e,a,null),e.render(!0)}}else if(Oe(t)){var u=n.getValue(),h=u[0],c=u[1];this.filterView(e,a,function(v){return v>=h&&v<=c}),e.render(!0)}}},r}(tn),RM=FM;function hd(i,r,t,e){var n=Math.min(t[r],e[r]),a=Math.max(t[r],e[r]),o=i.range,s=o[0],l=o[1];if(n<s&&(n=s),a>l&&(a=l),n===l&&a===l)return null;var u=i.invert(n),h=i.invert(a);if(i.isCategory){var c=i.values.indexOf(u),v=i.values.indexOf(h),g=i.values.slice(c,v+1);return function(M){return g.includes(M)}}else return function(M){return M>=u&&M<=h}}var NM=function(i){(0,$.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.dims=["x","y"],t.startPoint=null,t.isStarted=!1,t}return r.prototype.hasDim=function(t){return this.dims.includes(t)},r.prototype.start=function(){var t=this.context;this.isStarted=!0,this.startPoint=t.getCurrentPoint()},r.prototype.filter=function(){var t,e;if(De(this.context)){var n=this.context.event.target,a=n.getCanvasBBox();t={x:a.x,y:a.y},e={x:a.maxX,y:a.maxY}}else{if(!this.isStarted)return;t=this.startPoint,e=this.context.getCurrentPoint()}if(!(Math.abs(t.x-e.x)<5||Math.abs(t.x-e.y)<5)){var o=this.context.view,s=o.getCoordinate(),l=s.invert(e),u=s.invert(t);if(this.hasDim("x")){var h=o.getXScale(),c=hd(h,"x",l,u);this.filterView(o,h.field,c)}if(this.hasDim("y")){var v=o.getYScales()[0],c=hd(v,"y",l,u);this.filterView(o,v.field,c)}this.reRender(o)}},r.prototype.end=function(){this.isStarted=!1},r.prototype.reset=function(){var t=this.context.view;if(this.isStarted=!1,this.hasDim("x")){var e=t.getXScale();this.filterView(t,e.field,null)}if(this.hasDim("y")){var n=t.getYScales()[0];this.filterView(t,n.field,null)}this.reRender(t)},r.prototype.filterView=function(t,e,n){t.filter(e,n)},r.prototype.reRender=function(t){t.render(!0)},r}(tn),kl=NM,YM=function(i){(0,$.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.filterView=function(t,e,n){var a=$n(t);(0,f.each)(a,function(o){o.filter(e,n)})},r.prototype.reRender=function(t){var e=$n(t);(0,f.each)(e,function(n){n.render(!0)})},r}(kl),qf=YM,GM=function(i){(0,$.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.filter=function(){var t=le(this.context),e=this.context.view,n=Ye(e);if(De(this.context)){var a=Fe(this.context,10);a&&(0,f.each)(n,function(M){a.includes(M)?M.show():M.hide()})}else if(t){var o=t.component,s=o.get("field");if(ue(t)){if(s){var l=o.getItemsByState("unchecked"),u=Qi(e,s),h=l.map(function(M){return M.name});(0,f.each)(n,function(M){var F=Sr(M,s),Y=u.getText(F);h.indexOf(Y)>=0?M.hide():M.show()})}}else if(Oe(t)){var c=o.getValue(),v=c[0],g=c[1];(0,f.each)(n,function(M){var F=Sr(M,s);F>=v&&F<=g?M.show():M.hide()})}}},r.prototype.clear=function(){var t=Ye(this.context.view);(0,f.each)(t,function(e){e.show()})},r.prototype.reset=function(){this.clear()},r}(tn),zM=GM,XM=function(i){(0,$.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.byRecord=!1,t}return r.prototype.filter=function(){De(this.context)&&(this.byRecord?this.filterByRecord():this.filterByBBox())},r.prototype.filterByRecord=function(){var t=this.context.view,e=Fe(this.context,10);if(!!e){var n=t.getXScale().field,a=t.getYScales()[0].field,o=e.map(function(l){return l.getModel().data}),s=$n(t);(0,f.each)(s,function(l){var u=Ye(l);(0,f.each)(u,function(h){var c=h.getModel().data;Ga(o,c,n,a)?h.show():h.hide()})})}},r.prototype.filterByBBox=function(){var t=this,e=this.context.view,n=$n(e);(0,f.each)(n,function(a){var o=ir(t.context,a,10),s=Ye(a);o&&(0,f.each)(s,function(l){o.includes(l)?l.show():l.hide()})})},r.prototype.reset=function(){var t=$n(this.context.view);(0,f.each)(t,function(e){var n=Ye(e);(0,f.each)(n,function(a){a.show()})})},r}(tn),cd=XM,VM=10,HM=5,WM=function(i){(0,$.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.buttonGroup=null,t.buttonCfg={name:"button",text:"button",textStyle:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"},padding:[8,10],style:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},activeStyle:{fill:"#e6e6e6"}},t}return r.prototype.getButtonCfg=function(){return(0,f.deepMix)(this.buttonCfg,this.cfg)},r.prototype.drawButton=function(){var t=this.getButtonCfg(),e=this.context.view.foregroundGroup.addGroup({name:t.name}),n=e.addShape({type:"text",name:"button-text",attrs:(0,$.__assign)({text:t.text},t.textStyle)}),a=n.getBBox(),o=di(t.padding),s=e.addShape({type:"rect",name:"button-rect",attrs:(0,$.__assign)({x:a.x-o[3],y:a.y-o[0],width:a.width+o[1]+o[3],height:a.height+o[0]+o[2]},t.style)});s.toBack(),e.on("mouseenter",function(){s.attr(t.activeStyle)}),e.on("mouseleave",function(){s.attr(t.style)}),this.buttonGroup=e},r.prototype.resetPosition=function(){var t=this.context.view,e=t.getCoordinate(),n=e.convert({x:1,y:1}),a=this.buttonGroup,o=a.getBBox(),s=dn.transform(null,[["t",n.x-o.width-VM,n.y+o.height+HM]]);a.setMatrix(s)},r.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},r.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},r.prototype.destroy=function(){var t=this.buttonGroup;t&&t.remove(),i.prototype.destroy.call(this)},r}(tn),jM=WM,UM=4,ZM=function(i){(0,$.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.starting=!1,t.dragStart=!1,t}return r.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint()},r.prototype.drag=function(){if(!!this.startPoint){var t=this.context.getCurrentPoint(),e=this.context.view,n=this.context.event;this.dragStart?e.emit("drag",{target:n.target,x:n.x,y:n.y}):un(t,this.startPoint)>UM&&(e.emit("dragstart",{target:n.target,x:n.x,y:n.y}),this.dragStart=!0)}},r.prototype.end=function(){if(this.dragStart){var t=this.context.view,e=this.context.event;t.emit("dragend",{target:e.target,x:e.x,y:e.y})}this.starting=!1,this.dragStart=!1},r}(tn),KM=ZM,$M=5,QM=function(i){(0,$.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.starting=!1,t.isMoving=!1,t.startPoint=null,t.startMatrix=null,t}return r.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint(),this.startMatrix=this.context.view.middleGroup.getMatrix()},r.prototype.move=function(){if(!!this.starting){var t=this.startPoint,e=this.context.getCurrentPoint(),n=un(t,e);if(n>$M&&!this.isMoving&&(this.isMoving=!0),this.isMoving){var a=this.context.view,o=dn.transform(this.startMatrix,[["t",e.x-t.x,e.y-t.y]]);a.backgroundGroup.setMatrix(o),a.foregroundGroup.setMatrix(o),a.middleGroup.setMatrix(o)}}},r.prototype.end=function(){this.isMoving&&(this.isMoving=!1),this.startMatrix=null,this.starting=!1,this.startPoint=null},r.prototype.reset=function(){this.starting=!1,this.startPoint=null,this.isMoving=!1;var t=this.context.view;t.backgroundGroup.resetMatrix(),t.foregroundGroup.resetMatrix(),t.middleGroup.resetMatrix(),this.isMoving=!1},r}(tn),JM=QM,vd="x",dd="y",qM=function(i){(0,$.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.dims=[vd,dd],t.cfgFields=["dims"],t.cacheScaleDefs={},t}return r.prototype.hasDim=function(t){return this.dims.includes(t)},r.prototype.getScale=function(t){var e=this.context.view;return t==="x"?e.getXScale():e.getYScales()[0]},r.prototype.resetDim=function(t){var e=this.context.view;if(this.hasDim(t)&&this.cacheScaleDefs[t]){var n=this.getScale(t);e.scale(n.field,this.cacheScaleDefs[t]),this.cacheScaleDefs[t]=null}},r.prototype.reset=function(){this.resetDim(vd),this.resetDim(dd);var t=this.context.view;t.render(!0)},r}(tn),pd=qM,tE=function(i){(0,$.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.startPoint=null,t.starting=!1,t.startCache={},t}return r.prototype.start=function(){var t=this;this.startPoint=this.context.getCurrentPoint(),this.starting=!0;var e=this.dims;(0,f.each)(e,function(n){var a=t.getScale(n),o=a.min,s=a.max,l=a.values;t.startCache[n]={min:o,max:s,values:l}})},r.prototype.end=function(){this.startPoint=null,this.starting=!1,this.startCache={}},r.prototype.translate=function(){var t=this;if(!!this.starting){var e=this.startPoint,n=this.context.view.getCoordinate(),a=this.context.getCurrentPoint(),o=n.invert(e),s=n.invert(a),l=s.x-o.x,u=s.y-o.y,h=this.context.view,c=this.dims;(0,f.each)(c,function(v){t.translateDim(v,{x:l*-1,y:u*-1})}),h.render(!0)}},r.prototype.translateDim=function(t,e){if(this.hasDim(t)){var n=this.getScale(t);n.isLinear&&this.translateLinear(t,n,e)}},r.prototype.translateLinear=function(t,e,n){var a=this.context.view,o=this.startCache[t],s=o.min,l=o.max,u=l-s,h=n[t]*u;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:e.nice,min:s,max:l}),a.scale(e.field,{nice:!1,min:s+h,max:l+h})},r.prototype.reset=function(){i.prototype.reset.call(this),this.startPoint=null,this.starting=!1},r}(pd),eE=tE,rE=function(i){(0,$.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.zoomRatio=.05,t}return r.prototype.zoomIn=function(){this.zoom(this.zoomRatio)},r.prototype.zoom=function(t){var e=this,n=this.dims;(0,f.each)(n,function(a){e.zoomDim(a,t)}),this.context.view.render(!0)},r.prototype.zoomOut=function(){this.zoom(-1*this.zoomRatio)},r.prototype.zoomDim=function(t,e){if(this.hasDim(t)){var n=this.getScale(t);n.isLinear&&this.zoomLinear(t,n,e)}},r.prototype.zoomLinear=function(t,e,n){var a=this.context.view;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:e.nice,min:e.min,max:e.max});var o=this.cacheScaleDefs[t],s=o.max-o.min,l=e.min,u=e.max,h=n*s,c=l-h,v=u+h,g=v-c,M=g/s;v>c&&M<100&&M>.01&&a.scale(e.field,{nice:!1,min:l-h,max:u+h})},r}(pd),nE=rE;W("dark",Hi(Vb)),at("canvas",O),at("svg",k),ya("Polygon",p2),ya("Interval",s2),ya("Schema",y2),ya("Path",Bf),ya("Point",c2),ya("Line",u2),ya("Area",JS),ya("Edge",t2),ya("Heatmap",n2),Es("base",yl),Es("interval",B2),Es("pie",R2),Es("polar",Gv),Io("overlap",Z2),Io("distribute",Y2),Io("fixed-overlap",U2),Io("limit-in-shape",V2),Io("limit-in-canvas",X2),Io("pie-outer",z2),ui("fade-in",K2),ui("fade-out",$2),ui("grow-in-x",J2),ui("grow-in-xy",tC),ui("grow-in-y",q2),ui("scale-in-x",nC),ui("scale-in-y",iC),ui("wave-in",sC),ui("zoom-in",lC),ui("zoom-out",uC),ui("position-update",rC),ui("sector-path-update",oC),ui("path-in",eC),Hr("rect",xC),Hr("mirror",yC),Hr("list",vC),Hr("matrix",pC),Hr("circle",hC),Hr("tree",wC),sr("axis",EC),sr("legend",IC),sr("tooltip",RC),sr("annotation",CC),sr("slider",BC),Tr("tooltip",ed),Tr("sibling-tooltip",XC),Tr("ellipsis-text",HC),Tr("element-active",ZC),Tr("element-single-active",rM),Tr("element-range-active",qC),Tr("element-highlight",$f),Tr("element-highlight-by-x",sM),Tr("element-highlight-by-color",aM),Tr("element-single-highlight",fM),Tr("element-range-highlight",id),Tr("element-sibling-highlight",id,{effectSiblings:!0,effectByRecord:!0}),Tr("element-selected",dM),Tr("element-single-selected",gM),Tr("element-range-selected",cM),Tr("element-link-by-color",$C),Tr("active-region",YC),Tr("list-active",xM),Tr("list-selected",CM),Tr("list-highlight",Qf),Tr("list-unchecked",EM),Tr("legend-item-highlight",Qf,{componentNames:["legend"]}),Tr("axis-label-highlight",Qf,{componentNames:["axis"]}),Tr("rect-mask",sd),Tr("x-rect-mask",ud,{dim:"x"}),Tr("y-rect-mask",ud,{dim:"y"}),Tr("circle-mask",PM),Tr("path-mask",fd),Tr("smooth-path-mask",kM),Tr("cursor",DM),Tr("data-filter",RM),Tr("brush",kl),Tr("brush-x",kl,{dims:["x"]}),Tr("brush-y",kl,{dims:["y"]}),Tr("sibling-filter",qf),Tr("sibling-x-filter",qf),Tr("sibling-y-filter",qf),Tr("element-filter",zM),Tr("element-sibling-filter",cd),Tr("element-sibling-filter-record",cd,{byRecord:!0}),Tr("view-drag",KM),Tr("view-move",JM),Tr("scale-translate",eE),Tr("scale-zoom",nE),Tr("reset-button",jM,{name:"reset-button",text:"reset"});function bo(i){return i.isInPlot()}an("tooltip",{start:[{trigger:"plot:mousemove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseleave",action:"tooltip:hide"},{trigger:"plot:leave",action:"tooltip:hide"},{trigger:"plot:touchend",action:"tooltip:hide"}]}),an("ellipsis-text",{start:[{trigger:"legend-item-name:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"legend-item-name:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"legend-item-name:mouseleave",action:"ellipsis-text:hide"},{trigger:"legend-item-name:touchend",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseleave",action:"ellipsis-text:hide"},{trigger:"axis-label:touchend",action:"ellipsis-text:hide"}]}),an("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]}),an("element-selected",{start:[{trigger:"element:click",action:"element-selected:toggle"}]}),an("element-highlight",{start:[{trigger:"element:mouseenter",action:"element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight:reset"}]}),an("element-highlight-by-x",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-x:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-x:reset"}]}),an("element-highlight-by-color",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-color:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-color:reset"}]}),an("legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","element-active:reset"]}]}),an("legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","element-highlight:reset"]}]}),an("axis-label-highlight",{start:[{trigger:"axis-label:mouseenter",action:["axis-label-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"axis-label:mouseleave",action:["axis-label-highlight:reset","element-highlight:reset"]}]}),an("element-list-highlight",{start:[{trigger:"element:mouseenter",action:["list-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"element:mouseleave",action:["list-highlight:reset","element-highlight:reset"]}]}),an("element-range-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(i){return!i.isInShape("mask")},action:["rect-mask:start","rect-mask:show"]},{trigger:"mask:dragstart",action:["rect-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:drag",action:["rect-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end"]},{trigger:"mask:dragend",action:["rect-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(i){return!i.isInPlot()},action:["element-range-highlight:clear","rect-mask:end","rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","rect-mask:hide"]}]}),an("brush",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:bo,action:["brush:start","rect-mask:start","rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:bo,action:["rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:bo,action:["brush:filter","brush:end","rect-mask:end","rect-mask:hide","reset-button:show"]}],rollback:[{trigger:"reset-button:click",action:["brush:reset","reset-button:hide","cursor:crosshair"]}]}),an("brush-visible",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"plot:mousedown",action:["rect-mask:start","rect-mask:show"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end","rect-mask:hide","element-filter:filter","element-range-highlight:clear"]}],rollback:[{trigger:"dblclick",action:["element-filter:clear"]}]}),an("brush-x",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:bo,action:["brush-x:start","x-rect-mask:start","x-rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:bo,action:["x-rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:bo,action:["brush-x:filter","brush-x:end","x-rect-mask:end","x-rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]}),an("element-path-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:bo,action:"path-mask:start"},{trigger:"mousedown",isEnable:bo,action:"path-mask:show"}],processing:[{trigger:"mousemove",action:"path-mask:addPoint"}],end:[{trigger:"mouseup",action:"path-mask:end"}],rollback:[{trigger:"dblclick",action:"path-mask:hide"}]}),an("element-single-selected",{start:[{trigger:"element:click",action:"element-single-selected:toggle"}]}),an("legend-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","data-filter:filter"]}]}),an("continuous-filter",{start:[{trigger:"legend:valuechanged",action:"data-filter:filter"}]}),an("continuous-visible-filter",{start:[{trigger:"legend:valuechanged",action:"element-filter:filter"}]}),an("legend-visible-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","element-filter:filter"]}]}),an("active-region",{start:[{trigger:"plot:mousemove",action:"active-region:show"}],end:[{trigger:"plot:mouseleave",action:"active-region:hide"}]});function gd(i){return i.gEvent.preventDefault(),i.gEvent.originalEvent.deltaY>0}an("view-zoom",{start:[{trigger:"plot:mousewheel",isEnable:function(i){return gd(i.event)},action:"scale-zoom:zoomOut",throttle:{wait:100,leading:!0,trailing:!1}},{trigger:"plot:mousewheel",isEnable:function(i){return!gd(i.event)},action:"scale-zoom:zoomIn",throttle:{wait:100,leading:!0,trailing:!1}}]}),an("sibling-tooltip",{start:[{trigger:"plot:mousemove",action:"sibling-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"sibling-tooltip:hide"}]});var yd={translate:yf,rotate:Zc,zoom:Db,transform:gl,getAngle:ri,polarToCartesian:xn},Bl=function(){function i(r){this.EVENT="gesture",this.gm=r}return i.prototype.do=function(r){var t=r.type;switch(t){case"touchstart":this.onTouchStart(r);break;case"touchmove":this.onTouchMove(r);break;case"touchend":this.onTouchEnd(r);break;case"touchcancel":this.onTouchCancel(r);break;default:return}},i.prototype.emit=function(r){this.gm.emit(this.EVENT,r)},i}(),iE=function(i){(0,Mr.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.EVENT="pan",t}return r.prototype.onTouchCancel=function(t){},r.prototype.onTouchEnd=function(t){},r.prototype.onTouchMove=function(t){var e=t.x,n=t.y,a=e-this.preX,o=n-this.preY;this.preX=e,this.preY=n,this.emit({x:e,y:n,deltaX:a,deltaY:o,event:t})},r.prototype.onTouchStart=function(t){var e=t.x,n=t.y;this.preX=e,this.preY=n},r}(Bl),wo=typeof performance=="object"&&performance.now?performance:Date,aE=300,md=10,oE=function(i){(0,Mr.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.EVENT="press",t}return r.prototype.onTouchCancel=function(t){this.clearTimeout()},r.prototype.onTouchEnd=function(t){this.clearTimeout()},r.prototype.onTouchMove=function(t){var e=t.x,n=t.y;(e-this.touchStartX>md||n-this.touchStartY>md)&&this.clearTimeout()},r.prototype.onTouchStart=function(t){var e=this;this.clearTimeout();var n=t.x,a=t.y;this.touchStartTime=wo.now(),this.touchStartX=n,this.touchStartY=a,this.pressTimeout=window.setTimeout(function(){e.emit({x:n,y:a,event:t})},aE)},r.prototype.clearTimeout=function(){window.clearTimeout(this.pressTimeout)},r}(Bl),sE=100,lE=function(i){(0,Mr.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.EVENT="swipe",t.latestMoveTime=0,t.ms=0,t.speedX=0,t.speedY=0,t.preX=0,t.preY=0,t}return r.prototype.onTouchCancel=function(t){},r.prototype.onTouchEnd=function(t){var e=this.speedX,n=this.speedY;if(wo.now()-this.latestMoveTime<sE){var a=t.x,o=t.y;this.emit({x:a,y:o,speedX:e,speedY:n,event:t})}},r.prototype.onTouchMove=function(t){var e=t.x,n=t.y,a=wo.now(),o=e-this.preX,s=n-this.preY,l=a-this.ms;this.speedX=o/l,this.speedY=s/l,this.latestMoveTime=a},r.prototype.onTouchStart=function(t){var e=t.x,n=t.y;this.speedX=this.speedY=0,this.preX=e,this.preY=n,this.ms=wo.now()},r}(Bl),uE=300,xd=2,fE=function(i){(0,Mr.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.EVENT="tap",t}return r.prototype.onTouchCancel=function(t){},r.prototype.onTouchEnd=function(t){var e=t.x,n=t.y;e-this.touchStartX<xd&&n-this.touchStartY<xd&&wo.now()-this.touchStartTime<uE&&this.emit({x:e,y:n,event:t})},r.prototype.onTouchMove=function(t){},r.prototype.onTouchStart=function(t){var e=t.x,n=t.y;this.touchStartTime=wo.now(),this.touchStartX=e,this.touchStartY=n},r}(Bl),hE={Pan:iE,Press:oE,Swipe:lE,Tap:fE},cE=function(i){return hE[i]},bd=function(i){(0,Mr.__extends)(r,i);function r(t,e){e===void 0&&(e={});var n=i.call(this)||this;return n.onTouchStart=function(a){n.preventEvent(a),n.element.on("touchmove",n.onTouchMove),n.element.on("touchend",n.onTouchEnd),n.element.on("touchcancel",n.onTouchCancel),n.emit("touchdown",a),n.doGestures(a)},n.onTouchMove=function(a){n.preventEvent(a),n.emit("touchmove",a),n.doGestures(a)},n.onTouchEnd=function(a){n.preventEvent(a),n.emit("touchend",a),n.element.off("touchmove",n.onTouchMove),n.element.off("touchend",n.onTouchEnd),n.element.off("touchcancel",n.onTouchCancel),n.doGestures(a)},n.onTouchCancel=function(a){n.preventEvent(a),n.emit("touchcancel",a),n.element.off("touchmove",n.onTouchMove),n.element.off("touchend",n.onTouchEnd),n.element.off("touchcancel",n.onTouchCancel),n.doGestures(a)},n.element=t,n.options=e,n.initialGestures(),n.bindTouchStart(),n}return r.prototype.destroy=function(){this.element.off("touchstart",this.onTouchStart),this.off()},r.prototype.initialGestures=function(){var t=this,e=this.options.gestures||["Pan","Press","Swipe","Tap"];this.gestures=e.map(function(n){var a=cE(n);return new a(t)})},r.prototype.bindTouchStart=function(){this.element.on("touchstart",this.onTouchStart)},r.prototype.preventEvent=function(t){var e=t.type,n=this.options.prevents||[];n.includes(e)&&t.preventDefault()},r.prototype.doGestures=function(t){this.gestures.forEach(function(e){e.do(t)})},r}(Be.default),vE=d(68716),dE=vE.yD,pE=800,gE="swipe",yE="pan",wd="wheel",mE=function(i){(0,Mr.__extends)(r,i);function r(t){var e=i.call(this)||this;return e.rafMs=0,e.onPan=function(n){e.raf&&cancelAnimationFrame(e.raf);var a=n.deltaX,o=n.deltaY,s=e.getWrapperEvent(n,a,o);e.emit(wd,s)},e.onSwipe=function(n){var a=n.speedX,o=n.speedY;e.rafMs=wo.now(),e.ms=e.rafMs,(a!==0||o!==0)&&e.rafInertia(n)},e.element=t,e.gm=new bd(t,{gestures:["Pan","Swipe"]}),e.gm.on(gE,e.onSwipe),e.gm.on(yE,e.onPan),e}return r.prototype.destroy=function(){window.cancelAnimationFrame(this.raf),this.gm.destroy(),this.off()},r.prototype.rafInertia=function(t){var e=this,n=t.speedX,a=t.speedY;this.raf=window.requestAnimationFrame(function(){var o=wo.now(),s=(o-e.ms)/pE;if(s<1){s=dE(1-s);var l=o-e.rafMs,u=n*s*l,h=a*s*l,c=e.getWrapperEvent(t,u,h);e.emit(wd,c),e.rafMs=o,e.rafInertia(t)}})},r.prototype.getWrapperEvent=function(t,e,n){return(0,Mr.__assign)((0,Mr.__assign)({},t),{deltaX:-e,deltaY:-n})},r}(Be.default),gn=d(78646),Sd=d(13733),xE=d(90835),$Y=d(86050),bE=d(85506),So=d(97488),QY=d(98880),wE=d(88373),Yo=d(55225);sr("gesture",U.Z);var ha="origin",Bs="_origin",Cd=1e3,Md=60*Cd,Ed=60*Md,Dl=24*Ed,SE=Dl*7,CE=Dl*30,ME=Dl*365,EE={second:{value:Cd,format:"HH:mm:ss"},miniute:{value:Md,format:"HH:mm"},hour:{value:Ed,format:"HH"},day:{value:Dl,format:"YYYY-MM-DD"},week:{value:SE,format:"YYYY-MM-DD"},month:{value:CE,format:"YYYY-MM"},year:{value:ME,format:"YYYY"}},Fl=["click","dblclick","mousemove","mouseenter","mouseleave","mousedown","mouseup","contextmenu"],AE=[],TE={axis:"axis-label",label:"label",legend:"legend-item"},PE={title:"title",description:"description",breadcrumb:"breadcrumb"},Ad=(0,f.deepMix)(Ei(PE),th("Plot",Fl)),Td=th("Layer",Fl),on=(0,f.deepMix)({},Ei(TE),th("View",Fl),_E());function ii(i,r,t){i.view.on(r,function(e){var n={x:e==null?void 0:e.x,y:e==null?void 0:e.y,clientX:e==null?void 0:e.clientX,clientY:e==null?void 0:e.clientY,target:e==null?void 0:e.target,data:(e==null?void 0:e.data)?e.data.data:null,plot:i,canvas:i.canvas,gEvent:e==null?void 0:e.gEvent};t(n)})}function Ei(i){var r={};return(0,f.each)(i,function(t,e){var n=(0,f.upperFirst)(e),a="on"+n,o=t+":";(0,f.each)(Fl,function(s){var l=(0,f.upperFirst)(s),u=""+a+l,h=""+o+s;r[u]=h})}),r}function th(i,r){var t={},e="on";return(0,f.each)(r,function(n){var a=(0,f.upperFirst)(n),o=""+e+i+a;t[o]=n}),t}function _E(){var i={},r="on";return(0,f.each)(AE,function(t){var e=(0,f.upperFirst)(t),n=""+r+e;i[n]=t}),i}var LE=d(62810),OE=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.fromBBoxObject=function(t){return new r(t.x,t.y,t.width,t.height)},r}(LE.BBox),Zr=OE,IE=function(i){(0,Yt.__extends)(r,i);function r(t){var e=i.call(this)||this;return e.layers=[],e.destroyed=!1,e.visibility=!0,e.rendered=!1,e.eventHandlers=[],e.options=e.getOptions(t),e.processOptions(e.options),e}return r.prototype.processOptions=function(t){this.id=t.id,this.x=t.x||0,this.y=t.y||0,this.width=t.width,this.height=t.height,this.canvas=t.canvas,this.parent=t.parent},r.prototype.updateConfig=function(t){this.options=(0,f.deepMix)({},this.options,t),this.processOptions(this.options)},r.prototype.beforeInit=function(){return null},r.prototype.init=function(){this.layerBBox=this.getLayerBBox(),this.layerRegion=this.getLayerRegion(),this.eachLayer(function(t){t.init()})},r.prototype.afterInit=function(){return null},r.prototype.render=function(){this.rendered||(this.container=this.parent?this.parent.container.addGroup():this.canvas.addGroup()),this.rendered=!0,this.beforeInit(),this.init(),this.afterInit(),this.eachLayer(function(t){t.render()}),this.canvas.draw()},r.prototype.clear=function(){this.eachLayer(function(t){t.destroy()}),this.layers=[],this.container.clear()},r.prototype.destroy=function(){var t=this;this.eachLayer(function(e){e.destroy()}),(0,f.each)(this.eventHandlers,function(e){t.off(e.eventName,e.handler)}),this.container.remove(!0),this.destroyed=!0},r.prototype.show=function(){this.container.attr("visible",!0),this.container.set("visible",!0),this.visibility=!0,this.canvas.draw()},r.prototype.hide=function(){this.container.attr("visible",!1),this.container.set("visible",!1),this.visibility=!1,this.canvas.draw()},r.prototype.addLayer=function(t){var e=(0,f.findIndex)(this.layers,function(n){return n===t});e<0&&(t.parent!==this&&(t.parent=this,t.init()),this.layers.push(t))},r.prototype.removeLayer=function(t){var e=(0,f.findIndex)(this.layers,function(n){return n===t});e>=0&&this.layers.splice(e,1)},r.prototype.updateBBox=function(t,e){e===void 0&&(e=!1);var n={x:this.x,y:this.y,width:this.width,height:this.height},a=(0,f.deepMix)({},n,t);this.x=a.x,this.y=a.y,this.width=a.width,this.height=a.height,this.layerBBox=this.getLayerBBox(),this.layerRegion=this.getLayerRegion(),this.render(),e&&this.eachLayer(function(o){o.updateBBoxByParent(),o.render()}),this.canvas.draw()},r.prototype.updateBBoxByParent=function(){var t=this.layerRegion;this.x=this.parent.x+this.parent.width*t.start.x,this.y=this.parent.y+this.parent.height*t.start.y,this.width=this.parent.width*(t.end.x-t.start.x),this.height=this.parent.height*(t.end.y-t.start.y),this.layerBBox=this.getLayerBBox()},r.prototype.getGlobalPosition=function(){for(var t=this.x,e=this.y,n=this.parent;n;)t+=n.x,e+=n.y,n=n.parent;return{x:t,y:e}},r.prototype.getGlobalBBox=function(){var t=this.getGlobalPosition();return new Zr(t.x,t.y,this.width,this.height)},r.prototype.getOptions=function(t){var e=0,n=0;t.parent&&(e=t.parent.width,n=t.parent.height);var a={x:0,y:0,width:e,height:n};return(0,f.deepMix)({},a,t)},r.prototype.eachLayer=function(t){(0,f.each)(this.layers,t)},r.prototype.parseEvents=function(t){var e=this,n=(0,f.keys)(Td);(0,f.each)(t,function(a,o){if((0,f.contains)(n,o)&&(0,f.isFunction)(a)){var s=Td[o]||o,l=a;e.on(s,l),e.eventHandlers.push({name:s,handler:l})}})},r.prototype.getLayerBBox=function(){return new Zr(this.x,this.y,this.width,this.height)},r.prototype.getLayerRegion=function(){if(this.parent){var t=this.parent.width,e=this.parent.height,n=this.parent.x,a=this.parent.y,o=(this.x-n)/t,s=(this.y-a)/e,l=(this.x+this.width-n)/t,u=(this.y+this.height-a)/e;return{start:{x:o,y:s},end:{x:l,y:u}}}return{start:{x:0,y:0},end:{x:1,y:1}}},r}(Be.default),Rl=IE;function es(i){return i?!!(i.visible===!0&&typeof i.text=="string"&&i.text.trim()):!1}function Pd(i,r){var t=(0,Yt.__spreadArrays)(i);return r.forEach(function(e,n){t.splice(e+n,0,`
`)}),t.join("")}function kE(i){return i.getComponents().filter(function(r){return r.type===gn.COMPONENT_TYPE.AXIS}).map(function(r){return r.component})}function BE(i){return i.getComponents().filter(function(r){return r.type===gn.COMPONENT_TYPE.LEGEND}).map(function(r){return r.component})}function JY(i){var r=i.backgroundGroup.findAll(function(t){if(t.get("name")){var e=t.get("name").split("-");return e[0]==="axis"}});return r}function qY(i){var r=i.foregroundGroup.findAll(function(t){if(t.get("name"))return t.get("name")==="legend-item-group"});return r}function DE(i,r){for(var t=i.length;t>0&&!(r>=i[t-1]);)t-=1;return t}function _d(i,r){return!(i.maxY<r.minY||r.maxY<i.minY||i.maxX<r.minX||r.maxX<i.minX)}function tG(){return!!navigator.userAgent.match(/(Mobile)|(Android)|(WebOS)|(iPhone)|(iPad)/)}var FE=function(){function i(r){this.position="top",this.destroyed=!1,(0,f.assign)(this,r),this.init()}return i.prototype.getBBox=function(){var r=this;if(this.shape){var t=this.shape.getBBox();if(this.index===0)return Zr.fromBBoxObject(t);var e=this.plot.theme.description.padding;return(0,f.isArray)(e)&&(0,f.each)(e,function(n,a){typeof e[a]=="function"&&(e[a]=e[a](r.plot.options.legend.position))}),new Zr(t.maxX,t.minY,t.width,t.height)}return null},i.prototype.clear=function(){this.shape&&this.shape.attr("text","")},i.prototype.destroy=function(){this.shape&&this.shape.remove(),this.destroyed=!0},i.prototype.init=function(){var r=this.textWrapper(),t=this.getPosition(),e=t.x,n=t.y;this.shape=this.container.addShape("text",{attrs:(0,f.mix)({x:e,y:n,text:r},this.style,{textAlign:this.getTextAlign()})}),this.shape.name=this.name},i.prototype.getPosition=function(){return this.alignTo==="left"?{x:this.leftMargin,y:this.topMargin}:this.alignTo==="middle"?{x:this.leftMargin+this.wrapperWidth/2,y:this.topMargin}:{x:this.rightMargin,y:this.topMargin}},i.prototype.getTextAlign=function(){return this.alignTo==="left"?"left":this.alignTo==="middle"?"center":"right"},i.prototype.textWrapper=function(){var r=this.wrapperWidth,t=this.style,e=this.text,n=this.container.addShape("text",{attrs:(0,Yt.__assign)({text:"",x:0,y:0},t)}),a=e.split(`
`),o=a.map(function(s){for(var l="",u=s.split(""),h=[],c=0;c<u.length;c++){var v=u[c];n.attr("text",l+=v);var g=n.getBBox().width-1;if(g>r){if(c===0)break;h.push(c),l=""}}return Pd(u,h)});return n.remove(),o.join(`
`)},i}(),Nl=FE,RE=function(i){(0,Yt.__extends)(r,i);function r(t){var e=i.call(this)||this;return e.container=t.container,e.destroyed=!1,e.config=t,e.disposables=[],e}return r.prototype.init=function(){this.group||this.initGroup(),this.initConfig(this.config)},r.prototype.getGroup=function(){return this.group},r.prototype.getConfig=function(){return this.config},r.prototype.getBBox=function(){return this.getGroup().getBBox()},r.prototype.clear=function(){this.group.clear()},r.prototype.render=function(){this.group.clear(),this.renderInner(this.group),this.getCanvas().draw()},r.prototype.update=function(t){this.config=(0,Yt.__assign)((0,Yt.__assign)({},this.config),t),this.initConfig(this.config)},r.prototype.destroy=function(){(0,f.each)(this.disposables,function(t){t()}),this.disposables=[],this.group.remove(!0),this.destroyed=!0},r.prototype.initGroup=function(){this.group=this.container.addGroup()},r.prototype.getCanvas=function(){return this.container.get("canvas")},r.prototype.addDisposable=function(t){this.disposables.push(t)},r.prototype.initConfig=function(t){},r}(Be.default),Ds=RE,NE=function(i){(0,Yt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.labelsCfgMap={},t.lastLabelsCfgMap={},t}return r.prototype.getGeometry=function(){return this.geometry},r.prototype.getLabels=function(){return this.labels},r.prototype.show=function(){this.container.show()},r.prototype.hide=function(){this.container.hide()},r.prototype.initConfig=function(t){var e=this;this.layer=t.layer;var n=this.layer.view;this.view=n,this.geometry=t.geometry,this.coord=n.getCoordinate(),this.options=(0,f.deepMix)(this.getDefaultOptions(),t.label);var a=function(){e.clear(),e.labelsCfgMap={},e.lastLabelsCfgMap={},e.render()};n.on(gn.VIEW_LIFE_CIRCLE.AFTER_PAINT,a),this.addDisposable(function(){n.off(gn.VIEW_LIFE_CIRCLE.AFTER_PAINT,a)})},r.prototype.renderInner=function(t){var e=this;this.labels=[],this.labelsCfgMap={},(0,f.each)(this.geometry.elements,function(s,l){var u=[].concat(e.drawLabelItem(t,s,l));(0,f.each)(u,function(h,c){e.adjustLabel(h,s,c),h.destroyed||(e.labels.push(h),e.labelsCfgMap[h.get("id")]=(0,f.clone)(h.attrs))})}),this.layoutLabels(this.geometry,this.labels);var n=this.lastLabelsCfgMap,a=this.labelsCfgMap,o=this.geometry.animateOption?(0,So.getDefaultAnimateCfg)("label",this.coord):!1;(0,f.each)(a,function(s,l){var u=t.findById(l);if(u)if(n[l]){var h=n[l],c=(0,f.get)(o,"update");c&&(u.stopAnimate(),u.attr(h),(0,So.doAnimate)(u,c,{toAttrs:(0,Yt.__assign)({},s),coordinate:e.coord}))}else{var v=(0,f.get)(o,"appear");v&&(u.stopAnimate(),(0,So.doAnimate)(u,v,{toAttrs:(0,Yt.__assign)({},u.attr()),coordinate:e.coord}))}delete n[l]}),(0,f.each)(n,function(s,l){var u=(0,f.get)(o,"leave");if(u){var h=t.addShape("text",{attrs:s,id:l,name:"label"});h.stopAnimate(),(0,So.doAnimate)(h,u,{toAttrs:null,coordinate:e.coord})}}),this.lastLabelsCfgMap=this.labelsCfgMap},r.prototype.drawLabelText=function(t,e,n){return n===void 0&&(n={}),t.addShape("text",(0,Yt.__assign)({attrs:e},n))},r.prototype.drawLabelItem=function(t,e,n){var a=this,o=e.getModel(),s=[].concat(this.getLabelItemAttrs(e,n)),l=this.getDefaultOffset(),u=this.getLabelOffset();return(0,f.map)(s,function(h,c){var v,g={x:h.x+u.x,y:h.y+u.y},M=(0,f.isArray)(o.mappingData)?o.mappingData[c]:o.mappingData,F=a.getLabelId(M);return a.drawLabelText(t,(0,Yt.__assign)((0,Yt.__assign)({},h),g),(v={id:F,name:"label",offset:l,element:e},v[ha]=M,v))})},r.prototype.getDefaultOffset=function(){return Number(this.options.offset)},r.prototype.getLabelOffset=function(){var t=this.options,e=t.offsetX,n=t.offsetY;return{x:(0,f.isNumber)(e)?e:0,y:(0,f.isNumber)(n)?n:0}},r.prototype.getLabelOffsetByDimAndFactor=function(t,e){var n=this.options,a=n.offsetX,o=n.offsetY,s=this.getDefaultOffset(),l={x:0,y:0};return l[t]=s*e,(0,f.isNumber)(a)&&(l.x+=a),(0,f.isNumber)(o)&&(l.y+=o),l},r.prototype.getDefaultOptions=function(){return{}},r.prototype.layoutLabels=function(t,e){},r.prototype.getLabelId=function(t){var e=t._origin,n=this.geometry.type,a=this.geometry.getXScale(),o=this.geometry.getYScale(),s=this.geometry.getElementId(t);return n==="line"||n==="area"?s+=" "+e[a.field]:n==="path"&&(s+=" "+e[a.field]+"-"+e[o.field]),s},r.prototype.getCoordinateBBox=function(){var t=this.coord,e=t.start,n=t.end;return new Zr(Math.min(e.x,n.x),Math.min(e.y,n.y),t.getWidth(),t.getHeight())},r}(Ds),eh=NE,Ld={};function ta(i,r){Ld[i]=r}function YE(i){return Ld[i]}var rh=function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return function(t,e,n){return i.reduce(function(a,o){return o(a,e,n)},t)}},nh=function(){return function(i){return i}},Od=function(i){return function(r){var t=Number(r);return isNaN(t)||(0,f.isNil)(i)?r:t.toFixed(i)}},Id=function(i){return function(r){return(0,f.isNil)(i)?r:r+" "+i}};function ih(i,r,t){i[t]&&(r[t]=i[t])}var GE=function(){function i(r){this.config=!1,this.plot=r.plot,this.dim=r.dim,this.init()}return i.prototype.init=function(){this.config=!1;var r=this.plot.getPlotTheme();this.themeConfig=r&&r.axis&&r.axis[this.dim],this._needDraw()&&this._styleParser()},i.prototype._styleParser=function(){this.config=(0,Yt.__assign)({},this.localProps),this._isVisible("line")?this._lineParser():this.config.line=null,this._isVisible("grid")?this._gridParser():this.config.grid=null,this._isVisible("tickLine")?this._tickLineParser():this.config.tickLine=null,this._isVisible("label")?this._labelParser():this.config.label=null,this._isVisible("title")?this._titleParser():this.config.title=null,ih(this.localProps,this.config,"autoHideLabel"),ih(this.localProps,this.config,"autoRotateLabel"),ih(this.localProps,this.config,"autoRotateTitle")},i.prototype._needDraw=function(){var r=this.plot.options,t=r[this.dim+"Axis"]?r[this.dim+"Axis"]:{},e=(0,f.deepMix)({},this.themeConfig,t);return this.localProps=e,!!e.visible},i.prototype._lineParser=function(){this.config.line=this.localProps.line,this.localProps.line.style&&(this.config.line={style:this.localProps.line.style}),this.applyThemeConfig("line")},i.prototype._gridParser=function(){var r=this,t,e,n,a,o,s=(e=(t=this.localProps.grid)===null||t===void 0?void 0:t.line)===null||e===void 0?void 0:e.style,l=(a=(n=this.localProps.grid)===null||n===void 0?void 0:n.line)===null||a===void 0?void 0:a.type,u=(o=this.localProps.grid)===null||o===void 0?void 0:o.alternateColor;(0,f.isFunction)(s)?this.config.grid=function(h,c,v){var g=s(h,c,v);return{line:{type:l,style:(0,f.deepMix)({},(0,f.get)(r.themeConfig,"grid.line.style"),g)},alternateColor:u}}:s&&(this.config.grid={line:{type:l,style:s},alternateColor:u},this.applyThemeConfig("grid"))},i.prototype._tickLineParser=function(){this.config.tickLine=this.localProps.tickLine,this.localProps.tickLine.style&&(this.config.tickLine={style:this.localProps.tickLine.style}),this.applyThemeConfig("tickLine")},i.prototype._labelParser=function(){var r=this.localProps.label,t=r.style,e=(0,Yt.__rest)(r,["style"]),n=(0,Yt.__assign)({},e);t&&(n.style=(0,Yt.__assign)({},this.localProps.label.style)),n.style=(0,f.deepMix)({},(0,f.get)(this.themeConfig,"label.style"),n.style);var a=this.parseFormatter(n);n.formatter=a,this.config.label=n},i.prototype._titleParser=function(){var r=(0,Yt.__assign)({},this.localProps.title),t=this.localProps.title,e=t.visible,n=t.style,a=t.text;e?(this.config.showTitle=!0,n&&(r.style=n),r.style=(0,f.deepMix)({},(0,f.get)(this.config,"title.style"),r.textStyle),a&&(r.text=a)):this.config.showTitle=!1,this.config.title=r},i.prototype._isVisible=function(r){return!!(this.localProps[r]&&this.localProps[r].visible)},i.prototype.applyThemeConfig=function(r){this.config[r]=(0,f.deepMix)({},(0,f.get)(this.themeConfig,r+".style"),this.config[r])},i.prototype.parseFormatter=function(r){var t=rh(nh(),Od(r.precision),Id(r.suffix));return r.formatter&&(t=rh(t,r.formatter)),t},i}(),zE=GE;function Yl(i){var r=0;return each(i,function(t){r+=t*t}),Math.sqrt(r)}function ah(i,r){return i.x*r.y+i.y*r.x}function eG(i,r){var t=Yl(i),e=Yl(r),n=ah(i,r),a=Math.acos(n/t/e);return a}function rG(i,r){var t=Yl(i),e=Yl(r),n=ah(i,r),a=Math.acos(n/t/e);return t*e*Math.sin(a)}function nG(i,r){var t=i.x,e=i.y,n=i.z,a=r.x,o=r.y,s=r.z,l=e*s-n*o,u=n*a-t*s,h=t*o-e*a;return{x:l,y:u,z:h}}function iG(i,r){return{x:i.x-r.x,y:i.y-r.y}}function Gl(i,r,t){t===void 0&&(t=1);var e=[i.x,i.y,t];return cv.transformMat3(e,e,r),{x:e[0],y:e[1]}}function kd(i,r,t){return i>=r&&i<=t}var XE=.001;function aG(i,r,t,e){var n={x:t.x-i.x,y:t.y-i.y},a={x:r.x-i.x,y:r.y-i.y},o={x:e.x-t.x,y:e.y-t.y},s=a.x*o.y-a.y*o.x,l=s*s,u=a.x*a.x+a.y*a.y,h=o.x*o.x+o.y*o.y,c=null;if(l>XE*u*h){var v=(n.x*o.y-n.y*o.x)/s,g=(n.x*a.y-n.y*a.x)/s;kd(v,0,1)&&kd(g,0,1)&&(c={x:i.x+v*a.x,y:i.y+v*a.y})}return c}function VE(i,r){for(var t=!1,e=0,n=r.length-1;e<r.length;n=e++){var a=r[e].x,o=r[e].y,s=r[n].x,l=r[n].y,u=o>i.y!=l>i.y&&i.x<=(s-a)*(i.y-o)/(l-o)+a;u&&(t=!t)}return t}function zl(i){return i*i}function Xl(i,r){return Math.sqrt(zl(i.x-r.x)+zl(i.y-r.y))}function Bd(i,r){return Math.sqrt(zl(i.x-r.x)+zl(i.y-r.y))}function Dd(i,r,t){var e=Xl(r,t);if(e===0)return Xl(i,r);var n=((i.x-r.x)*(t.x-r.x)+(i.y-r.y)*(t.y-r.y))/e;n=Math.max(0,Math.min(1,n));var a=Xl(i,{x:r.x+n*(t.x-r.x),y:r.y+n*(t.y-r.y)});return Math.sqrt(a)}function Fd(i,r){var t=Infinity;(0,f.each)(r,function(h){var c=Math.sqrt(Xl(h,i));t>c&&(t=c)});for(var e=0,n=r.length-1;e<r.length;n=e++){var a=r[e].x,o=r[e].y,s=r[n].x,l=r[n].y,u=Dd(i,{x:a,y:o},{x:s,y:l});t>u&&(t=u)}return t}function HE(i,r){for(var t=0,e=i;t<e.length;t++){var n=e[t],a=VE(n,r);if(a)return!0}return!1}function Rd(i,r){if(HE(i,r))return 0;var t=Infinity,e=Infinity;return(0,f.each)(i,function(n){var a=Fd(n,r);t>a&&(t=a)}),(0,f.each)(r,function(n){var a=Fd(n,i);e>a&&(e=a)}),Math.min(t,e)}function WE(i){var r=i.getBBox(),t=r.minX,e=r.minY,n=r.maxX-r.minX,a=r.maxY-r.minY,o=i.attr("matrix"),s;o?s=[o[0],o[1],0,o[3],o[4],0,0,0,1]:s=[1,0,0,0,1,0,0,0,1];var l=Gl({x:0,y:0},s);l.x+=t,l.y+=e;var u=Gl({x:n,y:0},s);u.x+=t,u.y+=e;var h=Gl({x:0,y:a},s);h.x+=t,h.y+=e;var c=Gl({x:n,y:a},s);c.x+=t,c.y+=e;var v=[l,u,h,c];v.sort(function(jt,Rt){return jt.y-Rt.y});var g=v[0].y,M=v[v.length-1].y,F=[v[0],v[1]],Y=[v[2],v[3]],V=F[0].x<F[1].x?F[0]:F[1],z=F[0].x<F[1].x?F[1]:F[0],it=Y[0].x<Y[1].x?Y[0]:Y[1],ot=Y[0].x<Y[1].x?Y[1]:Y[0];v.sort(function(jt,Rt){return jt.x-Rt.x});var yt=v[0].x,It=v[v.length-1].x,zt={width:It-yt,height:M-g,left:yt,right:It,top:g,bottom:M,topLeft:V,topRight:z,bottomLeft:it,bottomRight:ot,centerX:yt+(It-yt)/2,centerY:g+(M-g)/2};return zt}var jE=2;function oh(i){return i.length<5?i:sh(i,jE)}function sh(i,r){for(var t,e=-Infinity,n=0,a=i.length-1,o=1;o<a;o++){var s=i[o],l={start:i[0],end:i[a]},u=Dd(s,l.start,l.end);u>e&&(e=u,n=o)}if(e>r){var h=sh(i.slice(0,n+1),r),c=sh(i.slice(n,i.length),r);t=h.concat(c)}else t=[i[0],i[i.length-1]];return t}function Nd(i){var r=(0,f.clone)(i);r.sort(function(e,n){return e-n});var t=Math.floor(r.length/2);return r.length%2?r[t]:(r[t-1]+r[t])/2}function UE(i){var r=0;return(0,f.each)(i,function(t){r+=t}),r/i.length}function Yd(i){return Math.ceil(Math.log(i.length)/Math.LN2)+1}function ZE(i,r,t,e,n){n===void 0&&(n=2);for(var a=[],o=i;o<=i+t;o+=n)a.push([o,r]);for(var s=r;s<=r+e;s+=n)a.push([i+t,s]);for(var o=i+t;o>=i;o-=n)a.push([o,r+e]);for(var s=r+e;s>=r;s-=n)a.push([i,s]);return a}var KE=function(){function i(r){(0,f.assign)(this,r),this._init()}return i.prototype._init=function(){var r=this.plot.options,t=r.yField,e=r.data,n=this.plot.processData(e);if(!((0,f.isEmpty)(n)||!(0,f.isNumber)(n[0][t]))){var a=this.getDefaultStyle(),o={type:"line",top:!0,start:this.cfg.start,end:this.cfg.end};if(o.style=(0,f.deepMix)({},a.line.style,this.cfg.lineStyle),o.text=(0,f.deepMix)({},a.text,this.cfg.text),this.cfg.type){var s=this._getState(this.cfg.type),l=this.getYScale(),u=(1-l.scale(s))*100+"%",h=["0%",u],c=["100%",u];this.config=(0,f.mix)({start:h,end:c},o)}else{var v=this.cfg,g=v.start,M=v.end;this.config=(0,f.clone)(o);var F=this.getXScale(),Y=this.getYScale(),V=(0,f.clone)(g),z=(0,f.clone)(M);(0,f.each)(g,function(it,ot){(!(0,f.contains)((0,f.toArray)(g[ot]),"%")||(0,f.isNumber)(g[ot]))&&(ot===0?V[ot]=F.scale(g[0])*100+"%":V[ot]=(1-Y.scale(g[1]))*100+"%")}),(0,f.each)(M,function(it,ot){(!(0,f.contains)((0,f.toArray)(M[ot]),"%")||(0,f.isNumber)(M[ot]))&&(ot===0?z[ot]=F.scale(M[0])*100+"%":z[ot]=(1-Y.scale(M[1]))*100+"%")}),this.config.start=V,this.config.end=z}}},i.prototype.getYScale=function(){var r=this._getState("min"),t=this._getState("max"),e=(0,Nr.getScale)("linear"),n=new e((0,f.mix)({},{min:this.plot.type==="column"?0:r,max:t,nice:!0,values:this.values},this.plot.config.scales[this.plot.options.yField]));return n},i.prototype.getXScale=function(){var r=this.extractXValue();if((0,f.isString)(r[0])){var t=(0,Nr.getScale)("cat"),e=new t((0,f.mix)({},{values:r},this.plot.config.scales[this.plot.options.xField]));return e}else{var n=Math.min.apply(Math,r),a=Math.max.apply(Math,r),t=(0,Nr.getScale)("linear"),e=new t((0,f.mix)({},{min:n,max:a,nice:!0,values:r},this.plot.config.scales[this.plot.options.xField]));return e}},i.prototype._getState=function(r){if(this.values=this._extractValues(),r==="median")return Nd(this.values);if(r==="mean")return UE(this.values);if(r==="max")return Math.max.apply(Math,this.values);if(r==="min")return Math.min.apply(Math,this.values)},i.prototype._extractValues=function(){var r=this.plot.options,t=r.yField,e=[],n=this.plot.processData(r.data);return(0,f.each)(n,function(a){(0,f.isArray)(a[t])?e.push.apply(e,a[t]):e.push(a[t])}),e},i.prototype.extractXValue=function(){var r=this.plot.options,t=r.xField,e=[],n=this.plot.processData(r.data);return(0,f.each)(n,function(a){(0,f.isArray)(a[t])?e.push.apply(e,a[t]):e.push(a[t])}),e},i.prototype.getDefaultStyle=function(){return this.getDefaultTextAlign(),{line:{style:{lineWidth:2,stroke:"#333333",opacity:.7,lineDash:[0,0]}},text:{content:"",offsetY:-5,style:{fontSize:14,stroke:"white",lineWidth:2,textAlign:this.getDefaultTextAlign()}}}},i.prototype.getDefaultTextAlign=function(){var r=this.cfg.text;if(r){if(!r.position||r.position==="start")return"left";if(r.position==="center")return"center";if(r.position==="end")return"right"}},i}(),$E=KE,QE=function(){function i(r){this.config={};var t=r.plot,e=(0,Yt.__rest)(r,["plot"]);this.plot=t,this.originConfig=e,this.init(r)}return i.prototype.getConfig=function(){return this.config},i.prototype.init=function(r){var t=this;(0,f.assign)(this.config,r),this.config.callback=function(e){return t.parseCallBack(e)}},i.prototype.parseCallBack=function(r){var t=this.originConfig,e=this.plot.getPlotTheme(),n=(0,Yt.__assign)({},t);return this.parseOffset(t,n),t.position&&((0,f.isFunction)(t.position)?n.position=t.position(r):n.position=t.position),this.parseFormatter(n),t.style&&((0,f.isFunction)(t.style)?n.textStyle=t.style(r):n.textStyle=t.style),n.textStyle=(0,f.deepMix)({},(0,f.get)(e,"label.style"),n.textStyle),t.autoRotate&&(n.autoRotate=t.autoRotate),n},i.prototype.parseOffset=function(r,t){var e=["offset","offsetX","offsetY"],n=0;(0,f.each)(e,function(a){(0,f.has)(r,a)&&(t[a]=r[a],n++)}),n===0&&(0,f.get)(r,"position")==="middle"&&(t.offset=0)},i.prototype.parseFormatter=function(r){var t=this.originConfig;r.content=function(e,n){var a=e[t.fields[0]];return rh(nh(),Od(t.precision),Id(t.suffix),t.formatter?t.formatter:nh())(a,e,n)}},i}(),JE=QE,Go,lh;function Gd(i,r){Go||zd(i),(0,f.each)(Go,function(t){var e=Xd(t,r),n=e.labelData,a=e.con;if(Vd(n,a)){var o=rA();t.shape.attr(o)}})}function qE(i,r){Go||zd(i),(0,f.each)(Go,function(t,e){var n=Xd(t,r),a=n.labelData,o=n.con;if(Vd(a,o)){var s=lh[e],l=eA(s);t.shape.attr(l)}})}function zd(i){var r;Go=[],lh=[];var t=(r=i.view.getController("axis"))===null||r===void 0?void 0:r.getComponents();(0,f.each)(t,function(e){var n=e.component,a=[],o=tA(i,n),s=n.get("labelRenderer").get("group").get("children");if((0,f.each)(s,function(h){h.type==="text"&&(a.push({shape:h}),lh.push(h.attr()))}),o){var l=o.ticks,u=o.field;(0,f.each)(a,function(h,c){h.value=l[c],h.scaleField=u,h.type=o.type})}Go.push.apply(Go,a)})}function tA(i,r){var t=i.options,e="y",n=r.get("position");(n==="bottom"||n==="top")&&(e="x");var a=t[e+"Field"];return i.view.get("scales")[a]}function Xd(i,r){var t,e=(t={},t[i.scaleField]=i.value,t),n=(0,f.clone)(r);return i.type==="time"&&(0,f.isObject)(r)&&!(0,f.isFunction)(n.exp)&&(n.exp=new Date(n.exp).getTime()),{labelData:e,con:n}}function eA(i){var r=i.opacity||1;return{opacity:r*.2}}function rA(){return{opacity:1,fontWeight:600,fill:"red"}}function Vd(i,r){if(!(0,f.isFunction)(r)){var t=r.name,e=r.exp;return i[t]?(0,f.isFunction)(e)?e(i[t]):i[t]===e:!1}return r(i)}var nA={active:Gd,selected:Gd,disable:qE},iA=function(i){(0,Yt.__extends)(r,i);function r(){var t=i.call(this)||this;return t._states={},t._stateStack={},t}return r.prototype.setState=function(t,e){this._stateStack[t]=e,this._onUpdate()},r.prototype.getState=function(t){return this._states[t]},r.prototype.getAllStates=function(){return this._states},r.prototype.clear=function(){this._states={},this._stateStack={},this._changeTimer&&(clearTimeout(this._changeTimer),this._changeTimer=null)},r.prototype._onUpdate=function(){var t=this,e=this._stateStack;this._changeTimer&&(clearTimeout(this._changeTimer),this._changeTimer=null),this._changeTimer=setTimeout(function(){(0,f.each)(e,function(n,a){var o=e[a];(!t._states[a]||t._states[a]!==n)&&(t._states[a]=n,t._triggerEvent(a,o))}),t._stateStack={}},16)},r.prototype._triggerEvent=function(t,e){this.emit(t+":change",{name:t,exp:e})},r}(Be.default),aA=iA;function uo(i,r){if(!(0,f.isFunction)(r)){var t=r.name,e=r.exp;return(0,f.isFunction)(e)?e(i[t]):i[t]===e}return r(i)}var oA=function(){function i(r){this.shapeContainers=[],(0,f.assign)(this,r)}return i.prototype.createStateManager=function(){this.stateManager=new aA},i.prototype.bindStateManager=function(r,t){this.stateManager=r,t.setState&&this._updateStateProcess(t.setState),t.onStateChange&&this._stateChangeProcess(t.onStateChange)},i.prototype.defaultStates=function(r){var t=this;(0,f.each)(r,function(e,n){var a=e.condition,o=e.related;t.setState({type:n,condition:a,related:o})})},i.prototype.setState=function(r){var t=this,e=r.type,n=r.condition,a=r.related;this.shapes=this._getShapes(),this.originAttrs=this._getOriginAttrs(),(0,f.each)(this.shapes,function(o,s){var l=o.get("origin").data,u=(0,f.isArray)(l)?l[0]:l;if(uo(u,n)){var h=r.style?r.style:t._getDefaultStateStyle(e,o),c=t.originAttrs[s],v=void 0;(0,f.isFunction)(h)?v=h(c):v=(0,f.mix)({},c,h),o.attr(v),t.setZIndex(e,o)}}),a&&this._parserRelated(e,a,n),this.plot.canvas.draw()},i.prototype._updateStateProcess=function(r){var t=this;(0,f.each)(r,function(e){var n=e.state,a;(0,f.isFunction)(n)?a=function(o){var s=n(o);t.stateManager.setState(s.name,s.exp)}:a=function(){t.stateManager.setState(n.name,n.exp)},e.event?ii(t.plot,t._eventParser(e.event),a):a()})},i.prototype._stateChangeProcess=function(r){var t=this;(0,f.each)(r,function(e){t.stateManager.on(e.name+":change",function(n){e.callback(n,t.plot)})})},i.prototype._getShapes=function(){var r=this,t=[],e=this.plot.view.geometries;return(0,f.each)(e,function(n){var a=n.container;r.shapeContainers.push(a),n.destroyed||t.push.apply(t,n.getShapes())}),t},i.prototype._getOriginAttrs=function(){var r=[];return(0,f.each)(this.shapes,function(t){r.push((0,f.clone)(t.attr()))}),r},i.prototype._eventParser=function(r){var t=r.split(":"),e=this.plot.geometryParser("g2",t[0]),n=t[1];return e+":"+n},i.prototype._getDefaultStateStyle=function(r,t){var e=this.plot.theme,n=this.plot.geometryParser("plot",t.name),a=n+"Style";if(e[a]){var o=e[a][r];return(0,f.isFunction)(o)&&(o=o(t.attr())),o}return{}},i.prototype._parserRelated=function(r,t,e){var n=this;(0,f.each)(t,function(a){if(n.plot[a]){var o=mA(a,r);o(n.plot,e)}})},i.prototype.setZIndex=function(r,t){if(r==="active"||r==="selected"){var e=t.get("parent").get("children");e[e.length-1].setZIndex(0),t.setZIndex(1)}},i.prototype.resetZIndex=function(){(0,f.each)(this.shapeContainers,function(r){var t=r.get("children");t.sort(function(e,n){return e._INDEX-n._INDEX})})},i}(),sA=oA,rs,Vl;function Hd(i,r){rs||Wd(i),(0,f.each)(rs,function(t,e){var n=t.get("origin");if(uo(n,r)){var a=Vl[e],o=(0,f.mix)({},a,{opacity:1});t.attr(o)}})}function lA(i,r){rs||Wd(i),(0,f.each)(rs,function(t,e){var n=t.get("origin");if(uo(n,r)){var a=Vl[e],o=uA(a);t.attr(o)}})}function Wd(i){rs=[],Vl=[];var r=i.view.get("elements");(0,f.each)(r,function(t){var e=t.get("labels");e&&(0,f.each)(e,function(n){rs.push(n),Vl.push(n.attr())})})}function uA(i){var r=i.opacity||1;return{opacity:r*.2}}var fA={active:Hd,selected:Hd,disable:lA},hA=["xField","yField","angleField"];function jd(i,r){var t=i.options;if(vA(t,r)){var e=t.data;(0,f.each)(e,function(n){if(uo(n,r)){var a=i.view.getXY(n);i.view.on("tooltip:create",function(o){Ud(r,o,!1)}),i.view.showTooltip(a)}})}}function cA(i,r){i.view.on("tooltip:change",function(t){Ud(r,t,!0)})}function Ud(i,r,t){var e=!t,n=(0,f.clone)(r.items);r.items.splice(0),(0,f.each)(n,function(a){var o=a.point._origin;uo(o,i)===e&&r.items.push(a)})}function vA(i,r){var t=dA(i);return!(0,f.isFunction)(r)&&t.indexOf(r.name)}function dA(i){var r=[];return(0,f.each)(hA,function(t){(0,f.has)(i,t)&&r.push(t)}),r}var pA={active:jd,selected:jd,disable:cA},gA={axis:zE,label:JE,guideLine:$E},yA={tooltip:pA,label:fA,axis:nA};function Bi(i,r){var t=gA[i];return new t(r).config}function mA(i,r){return yA[i][r]}var xA=["start","process","end","reset"],bA=function(){function i(r){var t=this.getDefaultCfg();(0,f.assign)(this,t,r),this.canvas=this.view.canvas,this._eventHandlers=[],this._bindEvents()}return i.prototype.getDefaultCfg=function(){return{startEvent:"mousedown",processEvent:"mousemove",endEvent:"mouseup",resetEvent:"dblclick"}},i.prototype._start=function(r){this.preStart(r),this.start(r),this.afterStart(r)},i.prototype.preStart=function(r){},i.prototype.afterStart=function(r){},i.prototype._process=function(r){this.preProcess(r),this.process(r),this.afterProcess(r)},i.prototype.preProcess=function(r){},i.prototype.process=function(r){},i.prototype.afterProcess=function(r){},i.prototype._end=function(r){this.preEnd(r),this.end(r),this.afterEnd(r)},i.prototype.preEnd=function(r){},i.prototype.end=function(r){},i.prototype.afterEnd=function(r){},i.prototype._reset=function(r){this.preReset(r),this.reset(r),this.afterReset(r)},i.prototype.preReset=function(r){},i.prototype.reset=function(r){},i.prototype.afterReset=function(r){},i.prototype._bindEvents=function(){var r=this;(0,f.each)(xA,function(t){var e=r[t+"Event"],n=(0,f.wrapBehavior)(r,"_"+t);r.view.on(e,n),r._eventHandlers.push({type:e,handler:n})})},i.prototype._unbindEvents=function(){var r=this,t=this._eventHandlers;(0,f.each)(t,function(e){r.view.off(e.type,e.handler)})},i.prototype.destroy=function(){this._unbindEvents(),this._reset()},i}(),uh=bA,wA=function(i){(0,Yt.__extends)(r,i);function r(t,e,n,a){var o=i.call(this,t)||this;return o.viewLayer=e,o.interactionRange=n,o.interactionConfig=a,o.disposables=[],o}return r.registerInteraction=function(t,e){r.GLOBAL_INTERACTION_MAP[t]=e},r.registerPlotInteraction=function(t,e,n){r.PLOT_INTERACTION_MAP[t]||(r.PLOT_INTERACTION_MAP[t]={}),r.PLOT_INTERACTION_MAP[t][e]=n},r.getInteraction=function(t,e){return e&&r.PLOT_INTERACTION_MAP[e]&&r[e][t]?r.PLOT_INTERACTION_MAP[e][t]:r.GLOBAL_INTERACTION_MAP[t]},r.getInteractionRange=function(t,e){},r.prototype.destroy=function(){(0,f.each)(this.disposables,function(t){t()}),this.disposables=[],this.clear(),i.prototype.destroy.call(this)},r.prototype.getViewLayer=function(){return this.viewLayer},r.prototype.getRange=function(){return this.interactionRange},r.prototype.getInteractionConfig=function(){return this.interactionConfig},r.prototype.addDisposable=function(t){this.disposables.push(t)},r.prototype.render=function(){},r.prototype.start=function(t){},r.GLOBAL_INTERACTION_MAP={},r.PLOT_INTERACTION_MAP={},r}(uh),Ia=wA,Zd=function(i,r,t,e,n){var a=e[0],o=e[1];n===void 0&&(n=!1);var s=(0,f.groupBy)(t,i),l=n?r.slice(r.length-o,r.length-a):r.slice(a,o);return(0,f.flatten)((0,f.map)(l,function(u){return s[u]||[]}))},Va;(function(i){i.BEFORE_INIT="beforeinit",i.AFTER_INIT="afterinit",i.BEFORE_RENDER="beforerender",i.AFTER_RENDER="afterrender",i.BEFORE_CHANGE_DATA="beforechangedata",i.AFTER_CHANGE_DATA="afterchangedata"})(Va||(Va={}));var Hl=4,Kd=8,SA=32,CA=20,MA=999,Wl=function(i){i===void 0&&(i={});var r=(0,Yt.__assign)({type:"horizontal",categorySize:SA,width:Kd,height:Kd,padding:[0,0,0,0]},i);return i.padding||(r.padding=r.type==="horizontal"?[Hl,0,Hl,0]:[0,Hl,0,Hl]),r},EA=function(i){(0,Yt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.onChangeFn=(0,f.throttle)(t.onChange.bind(t),20,{leading:!0}),t}return r.getInteractionRange=function(t,e){var n=Wl(e),a=n.padding,o=a[0],s=a[1],l=a[2],u=a[3];return n.type==="horizontal"?new Zr(t.minX,t.maxY-n.height-o-l,t.width,n.height+o+l):new Zr(t.maxX-n.width-u-s,t.minY,n.width+u+s,t.height)},r.prototype.render=function(){var t=this,e=this.getViewLayer(),n=this.view;this.ratio=0,this.thumbOffset=0;var a=function(){var s=t.view.padding;s==="auto"||(0,f.isEqual)(s,[0,0,0,1])||(t.trackLen?t.renderScrollbar():(t.measureScrollBar(),t.changeViewData(t.getScrollRange(),!0)))},o=function(){t.trackLen=0};n.on(gn.VIEW_LIFE_CIRCLE.AFTER_PAINT,a),this.addDisposable(function(){return n.off(gn.VIEW_LIFE_CIRCLE.AFTER_PAINT,a)}),n.on(gn.VIEW_LIFE_CIRCLE.AFTER_RENDER,a),this.addDisposable(function(){return n.off(gn.VIEW_LIFE_CIRCLE.AFTER_RENDER,a)}),e.on(Va.BEFORE_CHANGE_DATA,o),this.addDisposable(function(){return e.off(Va.BEFORE_CHANGE_DATA,o)})},r.prototype.start=function(){},r.prototype.clear=function(){this.scrollbar&&(this.scrollbar.destroy(),this.scrollbar=null),this.container&&(this.container.remove(!0),this.container=null),this.trackLen=null,this.thumbLen=null},r.prototype.renderScrollbar=function(){var t=Wl(this.getInteractionConfig()),e=this.getRange(),n=t.type!=="vertical",a=this.view.coordinateBBox,o=t.padding,s=o[0],l=o[3],u=n?{x:a.minX+l,y:e.minY+s}:{x:e.minX+l,y:a.minY+s};this.scrollbar?(this.scrollbar.update({trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:this.thumbOffset,x:u.x,y:u.y}),this.scrollbar.render()):(this.container=this.canvas.addGroup(),this.scrollbar=new nn.Scrollbar({container:this.container,x:u.x,y:u.y,isHorizontal:n,trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:this.ratio*this.trackLen}),this.scrollbar.init(),this.scrollbar.render(),this.scrollbar.get("group").set("zIndex",MA),this.scrollbar.on("scrollchange",this.onChangeFn))},r.prototype.measureScrollBar=function(){var t=Wl(this.getInteractionConfig()),e=t.padding,n=e[0],a=e[1],o=e[2],s=e[3],l=t.type!=="vertical",u=this.view.coordinateBBox,h=this.view.getXScale(),c=this.view.getYScales().filter(function(v){return v});this.cnt=h.values.length,this.xScaleCfg={field:h.field,values:h.values||[]},this.yScalesCfg=c,this.step=Math.floor((l?u.width:u.height)/t.categorySize),this.trackLen=l?u.width-s-a:u.height-n-o,this.thumbLen=Math.max(this.trackLen*(0,f.clamp)(this.step/h.values.length,0,1),CA)},r.prototype.getScrollRange=function(){var t=Math.floor((this.cnt-this.step)*(0,f.clamp)(this.ratio,0,1)),e=Math.min(t+this.step,this.cnt);return[t,e]},r.prototype.changeViewData=function(t,e){var n=this,a=t[0],o=t[1],s=Wl(this.getInteractionConfig()),l=this.getViewLayer(),u=l.options.meta,h=l.getData(),c=Zd(this.xScaleCfg.field,this.xScaleCfg.values,h,[a,o],s.type==="vertical");this.yScalesCfg.forEach(function(v){var g=(0,f.get)(u,v.field)||{};n.view.scale(v.field,(0,Yt.__assign)((0,Yt.__assign)({formatter:v.formatter},g),{type:v.type,min:v.min,max:v.max}))}),e?(this.view.data(c),this.view.render()):this.view.changeData(c)},r.prototype.onChange=function(t){var e=t.ratio,n=t.thumbOffset;this.ratio=e,this.thumbOffset=n;var a=this.view.getOptions().animate;this.view.animate(!1),this.changeViewData(this.getScrollRange(),!0),this.view.animate(a),this.renderScrollbar()},r}(Ia),AA=EA,jl=4,$d=16,fh=function(i){i===void 0&&(i={});var r=(0,Yt.__assign)({type:"horizontal",start:0,end:1,width:void 0,height:void 0,padding:[0,0,0,0],backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},trendCfg:{}},i);i.padding||(r.padding=r.type==="horizontal"?[jl,0,jl,0]:[0,jl,0,jl]),i.height||(r.height=$d),i.width||(r.width=$d);var t=(0,f.clamp)(Math.min(r.start,r.end),0,1),e=(0,f.clamp)(Math.max(r.start,r.end),0,1);return r.start=t,r.end=e,r},TA=function(i){(0,Yt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.onChangeFn=(0,f.throttle)(t.onChange.bind(t),20,{leading:!0}),t}return r.getInteractionRange=function(t,e){var n=fh(e),a=n.padding||[0,0,0,0],o=a[0],s=a[1],l=a[2],u=a[3];if(n.type==="horizontal"){var h=new Zr(t.minX,t.maxY-n.height-o-l,t.width,n.height+o+l);return h}else return new Zr(t.maxX-n.width-u-s,t.minY,n.width+u+s,t.height)},r.prototype.render=function(){var t=this,e=this.getViewLayer(),n=this.view,a=fh(this.getInteractionConfig());this.curStart=a.start,this.curEnd=a.end,this.xScaleCfg=void 0;var o=function(){var s=t.view.padding;if(!(s==="auto"||(0,f.isEqual)(s,[0,0,0,1]))&&!(0,f.isEmpty)(e.options.data))if(t.xScaleCfg)t.renderSlider();else{var l=n.getXScale();t.xScaleCfg={field:l.field,values:l.values||[]},n.data(t.getSliderData(t.curStart,t.curEnd)),n.render()}};n.on(gn.VIEW_LIFE_CIRCLE.AFTER_PAINT,o),this.addDisposable(function(){return n.off(gn.VIEW_LIFE_CIRCLE.AFTER_PAINT,o)}),n.on(gn.VIEW_LIFE_CIRCLE.AFTER_RENDER,o),this.addDisposable(function(){return n.off(gn.VIEW_LIFE_CIRCLE.AFTER_RENDER,o)})},r.prototype.start=function(){},r.prototype.clear=function(){this.slider&&(this.slider.destroy(),this.slider=null),this.container&&(this.container.remove(!0),this.container=null)},r.prototype.renderSlider=function(){this.slider?(this.slider.update(this.getSliderConfig()),this.slider.render()):(this.container=this.canvas.addGroup(),this.slider=new nn.Slider((0,Yt.__assign)((0,Yt.__assign)({},this.getSliderConfig()),{container:this.container})),this.slider.init(),this.slider.render(),this.slider.on("sliderchange",this.onChangeFn))},r.prototype.getSliderConfig=function(){var t=this.view,e=t.coordinateBBox,n=this.getRange(),a=fh(this.getInteractionConfig()),o=a||{},s=o.padding,l=s===void 0?[0,0,0,0]:s,u=o.backgroundStyle,h=o.foregroundStyle,c=o.handlerStyle,v=o.textStyle,g=o.trendCfg,M=g===void 0?{}:g,F=l[0],Y=l[1],V=l[2],z=l[3],it=this.getSliderMinMaxText(this.curStart,this.curEnd),ot=it.minText,yt=it.maxText,It={x:e.minX+z,y:n.minY+F,width:e.width-z-Y,height:n.height-F-V,start:this.curStart,end:this.curEnd,minText:ot,maxText:yt,backgroundStyle:u,foregroundStyle:h,handlerStyle:c,textStyle:v,trendCfg:(0,Yt.__assign)((0,Yt.__assign)({isArea:!1,smooth:!1},M),{data:this.getSliderTrendData()})};return It},r.prototype.getSliderTrendData=function(){var t=this.getViewLayer().options,e=t.data,n=t.yField;return(0,f.map)(e,function(a){return a[n]})},r.prototype.getSliderData=function(t,e){var n=this.getViewLayer().getData(),a=(0,f.size)(this.xScaleCfg.values),o=Math.round(t*a),s=Math.max(o+1,Math.round(e*a));return Zd(this.xScaleCfg.field,this.xScaleCfg.values,n,[o,s])},r.prototype.getSliderMinMaxText=function(t,e){var n=this.getViewLayer().options,a=n.data,o=a===void 0?[]:a,s=n.xField,l=(0,f.size)(o),u=Math.round(t*l),h=Math.max(u+1,Math.round(e*l)),c=o.slice(u,h);return{minText:c.length>0?(0,f.head)(c)[s]:"",maxText:c.length>0?(0,f.last)(c)[s]:""}},r.prototype.onChange=function(t){var e=this.view,n=(0,f.clamp)(Math.min(t[0],t[1]),0,1),a=(0,f.clamp)(Math.max(t[0],t[1]),0,1),o=this.getSliderData(n,a),s=this.getSliderMinMaxText(n,a),l=s.minText,u=s.maxText;this.curStart=n,this.curEnd=a,this.slider.update({start:n,end:a,minText:l,maxText:u}),this.slider.render();var h=e.getOptions().animate;e.animate(!1),e.data(o),e.render(),e.animate(h)},r}(Ia),PA=TA,_A=function(i){(0,Yt.__extends)(r,i);function r(t){return i.call(this,(0,f.deepMix)({},t))||this}return r.prototype.renderInner=function(t){var e=this;this.initElement(t),this.updateElement(),this.renderMarker(),t.off("click"),t.on("click",function(){e.emit("click")})},r.prototype.destroy=function(){this.group.off(),i.prototype.destroy.call(this)},r.prototype.initElement=function(t){this.circle=t.addShape("circle",{attrs:{x:this.config.x,y:this.config.y,r:this.config.r,fill:"#607889"}}),this.startMarker=t.addShape("path",{attrs:{path:this.getStartMarkerPath(),fill:"#ffffff"}}),this.pauseGroupMarker=t.addGroup();var e=1/4*this.config.r,n=.5*this.config.r*Math.sqrt(3);this.pauseLeftMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x-(1/4+1/8)*this.config.r,y:this.config.y-n/2,width:e,height:n,fill:"#ffffff"}}),this.pauseRightMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x+1/8*this.config.r,y:this.config.y-n/2,width:e,height:n,fill:"#ffffff"}})},r.prototype.updateElement=function(){this.circle.attr("x",this.config.x),this.circle.attr("y",this.config.y),this.circle.attr("r",this.config.r),this.startMarker.attr("path",this.getStartMarkerPath());var t=1/4*this.config.r,e=.5*this.config.r*Math.sqrt(3);this.pauseLeftMarker.attr("x",this.config.x-(1/4+1/8)*this.config.r),this.pauseLeftMarker.attr("y",this.config.y-e/2),this.pauseLeftMarker.attr("width",t),this.pauseLeftMarker.attr("height",e),this.pauseRightMarker.attr("x",this.config.x+1/8*this.config.r),this.pauseRightMarker.attr("y",this.config.y-e/2),this.pauseRightMarker.attr("width",t),this.pauseRightMarker.attr("height",e)},r.prototype.renderMarker=function(){this.config.isPlay?(this.startMarker.hide(),this.pauseGroupMarker.show()):(this.startMarker.show(),this.pauseGroupMarker.hide())},r.prototype.getStartMarkerPath=function(){var t=.5*this.config.r*Math.sqrt(3);return[["M",this.config.x-t/Math.sqrt(3)/2,this.config.y-t/2],["L",this.config.x+t/Math.sqrt(3),this.config.y],["L",this.config.x-t/Math.sqrt(3)/2,this.config.y+t/2]]},r}(Ds),LA=_A,Qd="timelinestart",OA="timelinechange",Jd="timelineend",IA="timelineupdate",kA=20,BA=20,DA=function(i){(0,Yt.__extends)(r,i);function r(t){var e=i.call(this,(0,f.deepMix)({},{speed:1,loop:!1},t))||this;return e.onTimeSelectMouseMove=function(n){n.stopPropagation(),n.preventDefault();var a=(0,f.get)(n,"touches.0.pageX",n.pageX),o=a-e.prevX;e.setTimeSelectX(o),e.prevX=a},e.onTimeSelectMouseUp=function(){e.syncCurrnentTick(),e.emit(Jd,null);var n=e.getCanvas().get("container");n&&(n.removeEventListener("mousemove",e.onTimeSelectMouseMove),n.removeEventListener("mouseup",e.onTimeSelectMouseUp),n.removeEventListener("mouseleave",e.onTimeSelectMouseUp),n.removeEventListener("touchmove",e.onTimeSelectMouseMove),n.removeEventListener("touchend",e.onTimeSelectMouseUp),n.removeEventListener("touchcancel",e.onTimeSelectMouseUp))},e.onTimeSelectMouseDown=function(n){var a=n.originalEvent;a.stopPropagation(),a.preventDefault(),e.isPlay===!1?e.emit(Qd,null):(e.isPlay=!1,e.changePlayStatus(!1)),e.prevX=(0,f.get)(a,"touches.0.pageX",a.pageX);var o=e.getCanvas().get("container");o.addEventListener("mousemove",e.onTimeSelectMouseMove),o.addEventListener("mouseup",e.onTimeSelectMouseUp),o.addEventListener("mouseleave",e.onTimeSelectMouseUp),o.addEventListener("touchmove",e.onTimeSelectMouseMove),o.addEventListener("touchend",e.onTimeSelectMouseUp),o.addEventListener("touchcancel",e.onTimeSelectMouseUp)},e}return r.prototype.renderInner=function(t){var e=this.config,n=e.ticks,a=e.defaultCurrentTick;n&&n.length&&(this.currentTick=this.config.ticks.includes(a)?a:n[0],this.renderPlayButton(t),this.renderTimeLine(t),this.renderTimeSelect(t,this.currentTick),this.initEvent())},r.prototype.update=function(t){i.prototype.update.call(this,t),this.emit(IA,this.currentTick)},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.timeLineButton.destroy(),this.timeLineButton.off(),this.timeSelect.off(),this.playHandler&&window.cancelAnimationFrame(this.playHandler)},r.prototype.renderPlayButton=function(t){var e=this.config,n=e.height,a=e.x,o=e.y,s=.8,l=n/2*s;this.timeLineButton?this.timeLineButton.update({x:a+l,y:o+l+n*(1-s)/2,r:l}):(this.timeLineButton=new LA({container:t,x:a+l,y:o+l+n*(1-s)/2,r:l,isPlay:this.isPlay}),this.timeLineButton.init()),this.timeLineButton.render()},r.prototype.getTimeLinePath=function(){var t=this.timeLine,e=t.x,n=t.y,a=t.width,o=t.height,s=o/2;return a>0?"M"+e+", "+n+("A"+s+","+s+" 90 0,0 "+e+","+(n+o))+("L"+(e+a)+", "+(n+o))+("A"+s+","+s+" 90 0,0 "+(e+a)+","+n)+("L"+e+", "+n):[]},r.prototype.renderTimeLine=function(t){var e=this,n=this.config,a=n.width,o=n.height,s=n.ticks,l=n.x,u=n.y;this.timeLine||(this.timeLine={}),this.timeLine.height=o*.15,this.timeLine.x=l+o+kA,this.timeLine.y=u+(o/2-this.timeLine.height/2),this.timeLine.width=a-this.timeLine.x-BA,this.timeLine&&this.timeLine.shape?this.timeLine.shape.attr("path",this.getTimeLinePath()):this.timeLine.shape=t.addShape("path",{attrs:{path:this.getTimeLinePath(),fill:"#607889",opacity:.2}});var h=this.timeLine.width/(s.length-1);this.tickPosList=[],this.timeLine.textList&&this.timeLine.textList.length&&this.timeLine.textList.forEach(function(v){v.destroy()});var c=-Infinity;this.timeLine.textList=s.map(function(v,g){e.tickPosList.push(e.timeLine.x+g*h);var M=t.addShape("text",{attrs:{x:e.timeLine.x+g*h,y:e.timeLine.y+e.timeLine.height+5,text:v,textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35}}),F=M.getBBox();return F.minX>c?(M.show(),c=F.minX+F.width+10):M.hide(),M})},r.prototype.renderTimeSelect=function(t,e){var n=this.config,a=n.ticks,o=n.height,s=this.timeLine.width/(a.length-1),l=(0,f.findIndex)(a,function(v){return v===e}),u=this.timeLine.x+l*s,h=this.config.y+o/2,c=o*.15;this.timeSelect?(this.timeSelect.attr("x",u),this.timeSelect.attr("y",h),this.timeSelect.attr("r",c)):this.timeSelect=t.addShape("circle",{attrs:{x:u,y:h,r:c,fill:"#607889"}}),this.timeSelectText?(this.timeSelectText.attr("x",u),this.timeSelectText.attr("y",h-o*.15-14),this.timeSelectText.attr("text",this.currentTick)):this.timeSelectText=t.addShape("text",{attrs:{x:u,y:h-o*.15-14,text:this.currentTick,textAlign:"center",textBaseline:"top",fill:"#607889"}})},r.prototype.adjustTickIndex=function(t){for(var e=0;e<this.tickPosList.length-1;e++)if(this.tickPosList[e]<=t&&t<=this.tickPosList[e+1])return Math.abs(this.tickPosList[e]-t)<Math.abs(t-this.tickPosList[e+1])?e:e+1},r.prototype.setTimeSelectX=function(t){var e=this.timeSelect.attr("x")+t;e<this.timeLine.x&&(e=this.timeLine.x),e>this.timeLine.x+this.timeLine.width&&(e=this.timeLine.x+this.timeLine.width,this.isPlay&&(this.config.loop?this.timeSelect.attr("x")===this.timeLine.x+this.timeLine.width&&(e=this.timeLine.x):(this.isPlay=!1,this.changePlayStatus()))),this.timeSelect.attr("x",e),this.timeSelectText.attr("x",e);var n=this.adjustTickIndex(e);this.currentTick!==this.config.ticks[n]&&(this.currentTick=this.config.ticks[n],this.timeSelectText.attr("text",this.currentTick),this.emit(OA,this.currentTick)),this.getCanvas().draw()},r.prototype.syncCurrnentTick=function(){var t=this,e=this.config.ticks,n=this.timeLine.width/(e.length-1),a=(0,f.findIndex)(e,function(s){return s===t.currentTick}),o=this.timeLine.x+a*n;this.timeSelect.attr("x",o),this.timeSelectText.attr("x",o),this.getCanvas().draw()},r.prototype.startPlay=function(){var t=this;return window.requestAnimationFrame(function(){var e=t.config,n=e.speed,a=e.ticks,o=t.timeLine.width,s=o/a.length,l=s/(n*1e3/60);t.setTimeSelectX(l),t.isPlay&&(t.playHandler=t.startPlay())})},r.prototype.changePlayStatus=function(t){t===void 0&&(t=!0),this.timeLineButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.emit(Qd,null)):this.playHandler&&(window.cancelAnimationFrame(this.playHandler),t&&(this.syncCurrnentTick(),this.emit(Jd,null))),this.getCanvas().draw()},r.prototype.initEvent=function(){var t=this;this.timeLineButton.off("click"),this.timeLineButton.on("click",function(){t.isPlay=!t.isPlay,t.changePlayStatus()}),this.timeSelect.off("mousedown"),this.timeSelect.on("mousedown",function(e){t.onTimeSelectMouseDown(e)})},r}(Ds),FA=DA,RA=40;function qd(i){return(0,Yt.__assign)({loop:!1,auto:!0,height:RA,padding:[0,20,0,0],speed:2},i)}var NA=function(i){(0,Yt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.onChangeFn=(0,f.throttle)(t.onChange.bind(t),20,{leading:!0}),t}return r.getInteractionRange=function(t,e){var n=qd(e),a=n.padding[0],o=n.padding[2];return new Zr(t.minX,t.maxY-n.height-a-o,t.width,n.height+a+o)},r.prototype.setAnimate=function(t){var e=this.view.geometries;this.view.animate(t),e.forEach(function(n){n.animate(t)})},r.prototype.start=function(){},r.prototype.renderTimeLine=function(){var t=this;this.config=qd(this.getInteractionConfig());var e=this.view.viewBBox,n=this.config,a=n.loop,o=n.padding,s=n.speed,l=o[0],u=o[1],h=o[2],c=o[3],v=this.getRange(),g=this.getTicks(),M=e.width-c-u,F={x:e.minX+c,y:v.tl.y+l,width:M,height:v.height-l-h,loop:a,ticks:g,speed:s,defaultCurrentTick:g[0]};this.timeline?(0,f.isEqual)(F,this.timeLineConfig)||(this.timeLineConfig=F,this.timeline.update(F)):(this.container=this.canvas.addGroup(),this.timeline=new FA((0,Yt.__assign)({container:this.container},F)),this.timeline.init(),this.timeline.render(),this.timeline.on("timelinestart",function(){t.originAnimation=t.view.getOptions().animate,t.setAnimate(!0)}),this.timeline.on("timelineend",function(){t.setAnimate(t.originAnimation)}),this.timeline.on("timelinechange",this.onChangeFn),this.timeline.on("timelineupdate",this.onChange.bind(this)),this.view.data(this.getFilterData(g[0])),this.timeLineConfig=F)},r.prototype.onChange=function(t){var e=this.getFilterData(t);this.view.changeData(e)},r.prototype.getFilterData=function(t){var e=this.config.field,n=this.getViewLayer().options.data;return n.filter(function(a){return a[e]===t})},r.prototype.getTicks=function(){var t=this.config.field,e=this.getViewLayer().options.data;return(0,f.uniq)(e.map(function(n){return n[t]}))},r.prototype.render=function(){var t=this;this.firstRender=!0,this.view.on(gn.VIEW_LIFE_CIRCLE.BEFORE_RENDER,function(){t.renderTimeLine()}),this.view.on(gn.VIEW_LIFE_CIRCLE.BEFORE_PAINT,function(){t.renderTimeLine()}),this.view.on(gn.VIEW_LIFE_CIRCLE.AFTER_PAINT,function(){t.config.auto&&t.firstRender&&(t.timeline.isPlay=!0,t.timeline.changePlayStatus()),t.firstRender=!1}),this.view.on(gn.VIEW_LIFE_CIRCLE.AFTER_RENDER,function(){t.config.auto&&t.firstRender&&(t.timeline.isPlay=!0,t.timeline.changePlayStatus()),t.firstRender=!1})},r.prototype.clear=function(){this.timeline&&(this.timeline.destroy(),this.timeline=null),this.container&&(this.container.remove(!0),this.container=null)},r}(Ia),YA=NA;function GA(i,r){var t=[1,0,0,0,1,0,0,0,1],e=dn.transform(t,r);i.setMatrix(e)}function ns(i,r){var t=r?(0,f.clone)(r):[1,0,0,0,1,0,0,0,1];return dn.transform(t,i)}function tp(i,r,t,e){var n=e?(0,f.clone)(e):[1,0,0,0,1,0,0,0,1];n[6]=r,n[7]=t,i.setMatrix(n)}function zA(i,r,t){yd.translate(i,r,t)}function oG(i,r){Util.rotate(i,r)}var XA=document.createElement("canvas"),ep=XA.getContext("2d"),Ul=(0,f.memoize)(function(i,r){r===void 0&&(r={});var t=r.fontSize,e=r.fontFamily,n=r.fontWeight,a=r.fontStyle,o=r.fontVariant;return ep.font=[a,o,n,t+"px",e].join(" "),ep.measureText((0,f.isString)(i)?i:"").width},function(i,r){return r?(0,Yt.__spreadArrays)([i],(0,f.values)(r)).join(""):i}),rp=function(i,r,t){var e=16,n=Ul("...",t),a;(0,f.isString)(i)?a=i:a=(0,f.toString)(i);var o=r,s=[],l,u;if(Ul(i,t)<=r)return i;for(;l=a.substr(0,e),u=Ul(l,t),!(u+n>o&&u>o);)if(s.push(l),o-=u,a=a.substr(e),!a)return s.join("");for(;l=a.substr(0,1),u=Ul(l,t),!(u+n>o);)if(s.push(l),o-=u,a=a.substr(1),!a)return s.join("");return s.join("")+"..."},Hn;(function(i){i.TOOLTIP_INDICATOR_INNER="tooltip_indicator-inner",i.TOOLTIP_INDICATOR_TITLE="tooltip_indicator-title",i.TOOLTIP_INDICATOR_BODY="tooltip_indicator-body",i.TOOLTIP_INDICATOR_ITEM_GROUP="tooltip_indicator-item-group",i.TOOLTIP_INDICATOR_ITEM_BACKGROUND="tooltip_indicator-item-background",i.TOOLTIP_INDICATOR_ITEM_LINE="tooltip_indicator-item-line",i.TOOLTIP_INDICATOR_ITEM_TITLE="tooltip_indicator-item-title",i.TOOLTIP_INDICATOR_ITEM_BODY="tooltip_indicator-item-body",i.TOOLTIP_INDICATOR_ITEM_VALUE_GROUP="tooltip_indicator-item-value-group",i.TOOLTIP_INDICATOR_ITEM_NAME="tooltip_indicator-item-name",i.TOOLTIP_INDICATOR_ITEM_VALUE="tooltip_indicator-item-value"})(Hn||(Hn={}));var Zl;(function(i){i.ON_SELECT_ITEM="onSelectItem"})(Zl||(Zl={}));var Co;(function(i){i[i.LARGE=12]="LARGE",i[i.NORMAL=8]="NORMAL",i[i.SMALL=4]="SMALL"})(Co||(Co={}));var VA=160,HA=function(i){(0,Yt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.curX=0,t.curY=0,t.offsetX=0,t.scrollWidth=0,t.onBodyGroupMousemove=function(e){var n=jA(e.target,function(o){return o.get("name")===Hn.TOOLTIP_INDICATOR_ITEM_GROUP});if(n){var a=n.get("delegateObject");t.doSelectItem(a.item.id)}},t.onWheel=function(e){var n=t.config.width,a=n===void 0?0:n,o=e.deltaX,s=Math.min(t.scrollWidth-a,0)-(t.scrollWidth/2+Math.max(0,(t.scrollWidth-a)/2)),l=Math.max(t.scrollWidth-a,0)+t.scrollWidth/2+Math.max(0,(t.scrollWidth-a)/2),u=(0,f.clamp)(t.offsetX+o,s,l);u!==t.offsetX&&(zA(t.bodyGroup,t.offsetX-u,0),t.offsetX=u)},t}return r.prototype.destroy=function(){this.offEvents(),i.prototype.destroy.call(this)},r.prototype.selectItem=function(t){this.doSelectItem(t)},r.prototype.resetSelect=function(){this.doSelectItem(this.selectedItemId)},r.prototype.initConfig=function(t){var e,n=t.theme,a=n===void 0?{}:n,o={x:0,y:0,title:{text:"",spacingY:Co.NORMAL,style:{}},line:{spacingX:Co.SMALL,width:2,style:{}},itemTitle:{spacingX:0,spacingY:Co.SMALL,style:{}},itemName:{spacingX:Co.NORMAL,spacingY:Co.SMALL,style:{}},itemValue:{style:{}},itemBackground:{style:{opacity:0,fill:"#000"}},itemSpacing:Co.LARGE};this.config=(0,f.deepMix)({},(e=a==null?void 0:a.components)===null||e===void 0?void 0:e.tooltipIndicator,o,t),this.selectedItemId=this.config.selectedItem},r.prototype.renderInner=function(t){var e=this;this.resetRender();var n=this.config,a=n.items,o=n.x,s=n.y,l=[],u=t.addGroup({name:Hn.TOOLTIP_INDICATOR_INNER});this.renderTitle(u),this.bodyGroup=u.addGroup({name:Hn.TOOLTIP_INDICATOR_BODY}),a==null||a.forEach(function(h,c){l.push(e.renderItem(e.bodyGroup,h,c))}),this.layoutItems(u),tp(u,o,s),this.applyClip(t),this.bindEvents(u)},r.prototype.renderTitle=function(t){var e=this.config.title;if(e==null?void 0:e.text){var n=t.addShape({type:"text",name:Hn.TOOLTIP_INDICATOR_TITLE,attrs:(0,Yt.__assign)({text:e==null?void 0:e.text,textAlign:"left",textBaseline:"top"},(e==null?void 0:e.style)||{})}),a=n.getBBox();return this.curY+=a.height,this.curY+=e.spacingY||0,n}},r.prototype.renderItem=function(t,e,n){var a=this.config.itemBackground,o=t.addGroup({name:Hn.TOOLTIP_INDICATOR_ITEM_GROUP,delegateObject:{item:e,index:n}}),s=this.curX,l=this.curY,u=o.addShape({name:Hn.TOOLTIP_INDICATOR_ITEM_BACKGROUND,type:"rect",attrs:(0,Yt.__assign)({x:this.curX,y:this.curY,width:1,height:1},a.style||{})}),h=this.renderLine(o,e);this.renderItemTitle(o,e),this.renderItemValues(o,e);var c=o.getBBox();return h.attr({y2:h.attr("y1")+c.height}),this.curX=s+c.width,this.curX+=this.config.itemSpacing||0,u.attr({width:this.curX-s-u.attr("lineWidth")*2,height:this.curY-l-u.attr("lineWidth")*2}),this.curY=l,o},r.prototype.renderLine=function(t,e){var n=this.config.line,a=n.width||2,o=(0,Yt.__assign)({x1:this.curX+a/2,y1:this.curY,x2:this.curX+a/2,y2:this.curY,lineWidth:a,stroke:e.color},(n==null?void 0:n.style)||{}),s=t.addShape({name:Hn.TOOLTIP_INDICATOR_ITEM_LINE,type:"line",attrs:o}),l=s.getBBox();return this.curX+=l.width,this.curX+=n.spacingX||0,s},r.prototype.renderItemTitle=function(t,e){var n=this.config.itemTitle,a=rp(e.title,VA,n.style||{}),o=t.addShape({name:Hn.TOOLTIP_INDICATOR_ITEM_TITLE,type:"text",attrs:(0,Yt.__assign)({x:this.curX,y:this.curY,textAlign:"left",textBaseline:"top",text:a},n.style||{})}),s=o.getBBox();return this.curY+=s.height,this.curY+=n.spacingY||0,o},r.prototype.renderItemValues=function(t,e){var n=this,a,o=t.addGroup({name:Hn.TOOLTIP_INDICATOR_ITEM_BODY}),s=this.curX;return(a=e.values)===null||a===void 0||a.forEach(function(l,u){var h=o.addGroup({name:Hn.TOOLTIP_INDICATOR_ITEM_VALUE_GROUP,delegateObject:{item:e,valueIndex:u}});n.curX=s,n.renderItemValueName(h,l),n.renderItemValueValue(h,l)}),this.layoutItemValues(o),o},r.prototype.renderItemValueName=function(t,e){var n=this.config.itemName;if(e.name){var a=t.addShape({name:Hn.TOOLTIP_INDICATOR_ITEM_NAME,type:"text",attrs:(0,Yt.__assign)({x:this.curX,y:this.curY,textAlign:"left",textBaseline:"top",text:e.name},n.style||{})}),o=a.getBBox();return e.wrapLine?(this.curY+=o.height,this.curY+=n.spacingY||0):(this.curX+=o.width,this.curX+=n.spacingX||0),a}},r.prototype.renderItemValueValue=function(t,e){var n=this.config,a=n.itemName,o=n.itemValue,s=t.addShape({name:Hn.TOOLTIP_INDICATOR_ITEM_VALUE,type:"text",attrs:(0,Yt.__assign)({x:this.curX,y:this.curY,textAlign:"left",textBaseline:"top",text:e.value},o.style||{})}),l=s.getBBox();return this.curY+=l.height,this.curY+=a.spacingY||0,s},r.prototype.layoutItems=function(t){var e=t.findAllByName(Hn.TOOLTIP_INDICATOR_BODY)[0],n=t.findAllByName(Hn.TOOLTIP_INDICATOR_ITEM_GROUP);if(!(!e||n.length===0)){var a=e.getBBox();this.scrollWidth=a.width}},r.prototype.layoutItemValues=function(t){var e=t.findAllByName(Hn.TOOLTIP_INDICATOR_ITEM_VALUE_GROUP),n=e.map(function(l){return Zr.fromBBoxObject(l.getBBox())}),a=t.findAllByName(Hn.TOOLTIP_INDICATOR_ITEM_VALUE),o=a.map(function(l){return Zr.fromBBoxObject(l.getBBox())}),s=Math.max.apply(Math,o.map(function(l){return l.maxX}));e.forEach(function(l,u){var h=n[u],c=l.findAllByName(Hn.TOOLTIP_INDICATOR_ITEM_NAME)[0],v=l.findAllByName(Hn.TOOLTIP_INDICATOR_ITEM_VALUE)[0];if(c&&v){var g=Zr.fromBBoxObject(c.getBBox()),M=Zr.fromBBoxObject(v.getBBox());g.height<h.height&&c.attr("y",c.attr("y")+(h.height-g.height)/2),M.height<h.height&&v.attr("y",v.attr("y")+(h.height-M.height)/2),M.maxX<s&&v.attr("x",v.attr("x")+s-M.maxX)}})},r.prototype.applyClip=function(t){var e=this.config,n=e.x,a=e.y,o=e.width,s=e.height,l=t.getBBox();(o||s)&&t.setClip({type:"rect",attrs:{x:n,y:a,width:o||l.width,height:s||l.height}})},r.prototype.doSelectItem=function(t){var e=this,n=this.getGroup(),a=n.findAllByName(Hn.TOOLTIP_INDICATOR_ITEM_GROUP);t!==this.selectedItemId?(a.forEach(function(o){var s=o.get("delegateObject");s&&e.applyItemStyle(o,s.item.id===t?"selected":"inactive")}),this.selectedItemId=t):(a.forEach(function(o){e.applyItemStyle(o)}),this.selectedItemId=void 0),this.emit(Zl.ON_SELECT_ITEM,this.selectedItemId)},r.prototype.applyItemStyle=function(t,e){var n=this.config,a=n.line,o=n.itemTitle,s=n.itemName,l=n.itemValue,u=t.findAllByName(Hn.TOOLTIP_INDICATOR_ITEM_LINE)[0],h=t.findAllByName(Hn.TOOLTIP_INDICATOR_ITEM_TITLE)[0],c=t.findAllByName(Hn.TOOLTIP_INDICATOR_ITEM_NAME),v=t.findAllByName(Hn.TOOLTIP_INDICATOR_ITEM_VALUE),g=e&&e+"Style";u&&(u.attr(a.style),u.attr(a[g]||{})),h&&(h.attr(o.style),h.attr(o[g]||{})),c.forEach(function(M){M.attr(s.style),M.attr(s[g]||{})}),v.forEach(function(M){M.attr(l.style),M.attr(l[g]||{})})},r.prototype.bindEvents=function(t){var e=this;this.offEvents();var n=t.findAllByName(Hn.TOOLTIP_INDICATOR_BODY)[0];n.on("mousemove",this.onBodyGroupMousemove),this.addDisposable(function(){n.off("mousemove",e.onBodyGroupMousemove)}),this.gm=new bd(n),this.wheel=new mE(n),this.wheel.on("wheel",this.onWheel)},r.prototype.offEvents=function(){this.gm&&this.gm.destroy(),this.wheel&&this.wheel.destroy()},r.prototype.resetRender=function(){this.curX=0,this.curY=0,this.offsetX=0},r}(Ds),WA=HA;function jA(i,r){for(var t=i;t;){if(r(t))return t;t=t.getParent()}}function UA(i,r){return(0,f.filter)(i.geometries,function(t){return t.type===r})}function Mo(i,r){return(0,f.head)(UA(i,r))}function ZA(i){return(0,f.map)(i.elements,function(r){return r.shape})}function sG(i,r){i.geometries.forEach(r)}function hh(i,r){i.geometries.forEach(function(t){t.elements.forEach(function(e){r(e)})})}function KA(i,r,t){return(0,f.some)(r,function(e){return t(e.get(ha),i.get(ha))})}function Kl(i,r){var t=i.getBBox(),e=0,n=0;t.minX<r.minX?e=t.minX-r.minX:t.maxX>r.maxX&&(e=t.maxX-r.maxX),e&&i.attr("x",i.attr("x")-e),t.minY<r.minY?n=t.minY-r.minY:t.maxY>r.maxY&&(n=t.maxY-r.maxY),n&&i.attr("y",i.attr("y")-n)}function ch(i,r,t){t===void 0&&(t=0);var e=Math.max(0,Math.min(i.x+i.width+t,r.x+r.width+t)-Math.max(i.x-t,r.x-t)),n=Math.max(0,Math.min(i.y+i.height+t,r.y+r.height+t)-Math.max(i.y-t,r.y-t));return e*n}function $l(i,r){var t=i.getBBox();return(0,f.some)(r,function(e){var n=e.getBBox();return ch(t,n,2)>0})}var np=8,ip=function(i){i===void 0&&(i={});var r=(0,Yt.__assign)({showTotal:!1,showPercent:!1,padding:[np,24,np,24],height:i.showPercent?72:54},i);return r},is;(function(i){i.ACTIVE_ELEMENT="tooltip_indicator_active_element",i.ACTIVE_ELEMENT_BY_X="tooltip_indicator_active_element_by_x"})(is||(is={}));var $A=function(i){(0,Yt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.state="selected",t.isSingle=!1,t}return r.prototype.active=function(){var t=bE.getCurrentElement(this.context);t.hasState("selected")?this.isSingle?this.setStateByX(t):this.setState(t):this.setStateByX(t)},r.prototype.setState=function(t){var e=this;hh(this.getView(),function(n){n===t?n.hasState(e.state)||n.setState(e.state,!0):n.setState(e.state,!1)}),this.isSingle=!0,this.getView().emit(is.ACTIVE_ELEMENT,{element:t,isSingle:!0})},r.prototype.setStateByX=function(t){var e=this,n=this.getXField(),a=t.getData()[n];hh(this.getView(),function(o){o.getData()[n]===a?o.hasState(e.state)||o.setState(e.state,!0):o.setState(e.state,!1)}),this.isSingle=!1,this.getView().emit(is.ACTIVE_ELEMENT_BY_X,{element:t,isSingle:!1})},r.prototype.setStateByField=function(t,e){var n=this,a=this.getView().getXScale().field,o=this.getView().getGroupScales()[0].field;hh(this.getView(),function(s){var l=s.getData();s.setState(n.state,l[a]===t&&(e===void 0||l[o]===e))})},r.prototype.getView=function(){return this.context.view},r.prototype.getXField=function(){var t=this.context.view;return t.getXScale().field},r}(tn);Tr("tooltip-indicator",$A),an("element-tooltip-indicator",{start:[{trigger:"element:mousemove",action:"tooltip-indicator:active",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"element:touchmove",action:"tooltip-indicator:active",throttle:{wait:50,leading:!0,trailing:!1}}]});var QA=function(i){(0,Yt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.onElementActive=function(e){var n=e.element,a=e.isSingle,o=t.view.getXScale(),s=t.view.getXScale().field,l=t.view.getGroupScales()[0].field,u=n.getData(),h=u[s],c=t.getLegendItems(h);t.component.update({items:c,title:{text:o.getText(h)}}),t.component.render(),a&&t.component.selectItem(u[l]),t.curX=h},t.onSelectTooltipIndicatorItem=function(e){t.component&&e&&t.getInteractionAction().setStateByField(t.curX,e)},t}return r.getInteractionRange=function(t,e){var n=ip(e),a=n.padding,o=a[0],s=a[2];return new Zr(t.minX,t.minY,t.width,n.height+o+s)},r.prototype.clear=function(){this.component&&this.component.destroy(),this.container&&this.container.remove(!0),this.component=null,this.container=null},r.prototype.render=function(){var t=this,e=this.view,n=function(){var a=t.view.getXScale(),o=(0,f.last)(a.getTicks()).tickValue,s=t.view.padding;(0,f.isEqual)([0,0,0,0],s)||(t.component?t.updateComponent():(t.createComponent(),t.component.on(Zl.ON_SELECT_ITEM,t.onSelectTooltipIndicatorItem)),t.curX=o,t.component.update({title:{text:a.getText(t.curX)}}),t.component.render(),t.getInteractionAction().setStateByField(o))};e.legend(!1),e.removeInteraction("active-region"),e.removeInteraction("tooltip"),e.interaction("element-tooltip-indicator"),e.on(gn.VIEW_LIFE_CIRCLE.AFTER_PAINT,n),e.on(gn.VIEW_LIFE_CIRCLE.AFTER_RENDER,n),e.on(is.ACTIVE_ELEMENT,this.onElementActive),e.on(is.ACTIVE_ELEMENT_BY_X,this.onElementActive)},r.prototype.getInteractionAction=function(){var t=this.view.interactions["element-tooltip-indicator"];return t&&t.context.getAction("tooltip-indicator")},r.prototype.createComponent=function(){var t=ip(this.getInteractionConfig()).padding,e=t[0],n=t[1],a=t[2],o=t[3],s=this.getLegendItems(),l=this.getRange(),u=this.view.getXScale(),h=(0,f.last)(u.getTicks()).tickValue;this.container=this.canvas.addGroup(),this.component=new WA({container:this.container,x:l.x+o,y:l.y+e,width:l.width-o-n,height:l.height-e-a,theme:this.getViewLayer().getPlotTheme(),items:s}),this.component.init(),this.getInteractionAction().setStateByField(h)},r.prototype.updateComponent=function(){var t=this.getLegendItems();this.component.update({items:t})},r.prototype.getLegendItems=function(t){var e=this.view,n=e.getData(),a=e.getTheme().defaultColor,o=e.getXScale(),s=e.getYScales()[0],l=t||(0,f.last)(o.getTicks()).tickValue,u=e.getLegendAttributes(),h=u.find(function(F){return F.type==="color"}),c=[],v=e.getGroupScales()[0],g=v.field;v&&v.isCategory&&v.getTicks().forEach(function(F){var Y=F.text,V=F.tickValue,z=h.mapping(V).join("")||a;c.push({id:V,title:Y,color:z,values:[]})});var M=(n==null?void 0:n.filter(function(F){return F[o.field]===l}))||[];return c.forEach(function(F){var Y=M.find(function(V){return V[g]===F.id});F.values.push({value:s.formatter?s.formatter(Y[s.field]):Y[s.field]})}),c},r}(Ia),JA=QA;Ia.registerInteraction("slider",PA),Ia.registerInteraction("scrollbar",AA),Ia.registerInteraction("timeline",YA),Ia.registerInteraction("tooltip-indicator",JA);var ap=Ia,qA=function(){function i(r){this.innerPaddingComponents=[],this.outerPaddingComponents=[],this.plot=r.plot}return i.prototype.registerPadding=function(r,t,e){t===void 0&&(t="outer"),e===void 0&&(e=!1),t==="inner"?e?this.innerPaddingComponents.find(function(n){return n==r})||this.innerPaddingComponents.push(r):this.innerPaddingComponents.push(r):e?this.outerPaddingComponents.find(function(n){return n==r})||this.outerPaddingComponents.push(r):this.outerPaddingComponents.push(r)},i.prototype.getPaddingComponents=function(r){return r===void 0&&(r="outer"),(r==="outer"?this.outerPaddingComponents:this.innerPaddingComponents)||[]},i.prototype.clear=function(){this.innerPaddingComponents=[],this.outerPaddingComponents=(0,f.filter)(this.outerPaddingComponents,function(r){return r.afterRender})},i.prototype.clearOuterComponents=function(){(0,f.each)(this.outerPaddingComponents,function(r){r.afterRender&&r.destroy()}),this.outerPaddingComponents=[]},i.prototype.getPadding=function(){var r=this.plot.options,t=r.padding?r.padding:this.plot.config.theme.padding;return t==="auto"?[0,0,0,1]:t},i.prototype.processAutoPadding=function(){var r=this._getInnerAutoPadding();this.plot.updateConfig({padding:r}),this.plot.render()},i.prototype.processOuterPadding=function(){this.plot.layerBBox||(this.plot.layerBBox=new Zr(this.plot.x,this.plot.y,this.plot.width,this.plot.height));var r=this.plot.layerBBox.minX,t=this.plot.layerBBox.maxX,e=this.plot.layerBBox.minY,n=this.plot.layerBBox.maxY;return(0,f.each)(this.outerPaddingComponents,function(a){var o=a.position;if(!a.destroyed){var s=a.getBBox(),l=s.minX,u=s.maxX,h=s.minY,c=s.maxY;c>=e&&c<=n&&o==="top"&&(e=c),h>=e&&h<=n&&o==="bottom"&&(n=h),u>r&&u<=t&&o==="left"&&(r=u),l>=r&&u<=t&&o==="right"&&(t=l)}}),new Zr(r,e,t-r,n-e)},i.prototype._getInnerAutoPadding=function(){var r,t=this.plot.options,e=this.plot.view,n=e.coordinateBBox,a=n.maxX,o=n.maxY,s=n.minY,l=n.minX,u=this.plot.config.theme.bleeding;(0,f.isArray)(u)&&(0,f.each)(u,function(F,Y){typeof u[Y]=="function"&&(u[Y]=u[Y](t))}),this.bleeding=(0,f.clone)(u);var h=[new Zr(n.minX,n.minY,n.width,n.height)];((r=this.plot.config.coordinate)===null||r===void 0?void 0:r.type)==="cartesian"&&this._getCartesianAxis(e,h[0],h);var c=this._mergeBBox(h);this._getLegend(e,c,h),c=this._mergeBBox(h);var v=this.innerPaddingComponents;(0,f.each)(v,function(F){var Y=F,V=Y.getBBox();h.push(V)}),c=this._mergeBBox(h);var g=[s-c.minY+this.bleeding[0],c.maxX-a+this.bleeding[1],c.maxY-o+this.bleeding[2],l-c.minX+this.bleeding[3]],M=this._getPanel(e);return g[0]+=M[0],g[1]+=M[1],g[2]+=M[2],g[3]+=M[3],g},i.prototype._getCartesianAxis=function(r,t,e){var n=kE(r),a=r.getCoordinate().isTransposed;(0,f.each)(n,function(o){if(o.get("group").get("children").length!==0){var s=o.get("position"),l=o.getLayoutBBox(),u=l.minX,h=l.minY,c=l.width,v=l.height;a?s==="bottom"?e.push(new Zr(t.minX-c,h,c,v)):s==="left"?e.push(new Zr(u,t.maxY,c,v)):s==="top"&&e.push(new Zr(t.maxX,h,c,v)):s==="left"?e.push(new Zr(t.minX-c,h,c,v)):s==="bottom"?e.push(new Zr(u,t.maxY,c,v)):s==="right"&&e.push(new Zr(t.maxX,h,c,v))}})},i.prototype._getLegend=function(r,t,e){var n=BE(r);(0,f.each)(n,function(a){var o=a.get("position").split("-")[0],s=a.getLayoutBBox(),l=s.minX,u=s.minY,h=s.width,c=s.height;o==="top"?e.push(new Zr(l,t.minY-c,h,c)):o==="bottom"?e.push(new Zr(l,t.maxY,h,c)):o==="left"?e.push(new Zr(t.minX-h,u,h,c)):e.push(new Zr(t.maxX,u,h,c))})},i.prototype._getPanel=function(r){var t=[],e=r.geometries;(0,f.each)(e,function(M){M.labelsContainer&&t.push(M.labelsContainer)});var n=Infinity,a=-Infinity,o=Infinity,s=-Infinity;(0,f.each)(t,function(M){var F=M.get("children");F.forEach(function(Y){if(!(Y.type==="group"&&Y.get("children").length===0)){var V=Y.getBBox();V.minX<n&&(n=V.minX),V.maxX>a&&(a=V.maxX),V.minY<o&&(o=V.minY),V.maxY>s&&(s=V.maxY)}})});var l=r.coordinateBBox,u=Math.max(a-parseFloat(l.maxX),0);if(u>0){var h=l.width/(l.width+u);u*=h}var c=Math.max(parseFloat(l.minX)-n,0);if(c>0){var h=l.width/(l.width+c);c*=h}var v=Math.max(parseFloat(l.minY)-o,0);if(v>0){var h=l.height/(l.height+v);v*=h}var g=Math.max(s-parseFloat(l.maxY),0);if(g>0){var h=l.height/(l.height+g);g*=h}return[v,u,g,c]},i.prototype._mergeBBox=function(r){var t=Infinity,e=-Infinity,n=Infinity,a=-Infinity;return(0,f.each)(r,function(o){var s=o;t=Math.min(s.minX,t),e=Math.max(s.maxX,e),n=Math.min(s.minY,n),a=Math.max(s.maxY,a)}),{minX:t,maxX:e,minY:n,maxY:a}},i}(),tT=qA,eT="#5B8FF9",rT=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E8684A","#6DC8EC","#9270CA","#FF9D4D","#269A99","#FF99C3"],nT=["#5B8FF9","#BDD2FD","#5AD8A6","#BDEFDB","#5D7092","#C2C8D5","#F6BD16","#FBE5A2","#E8684A","#F6C3B7","#6DC8EC","#B6E3F5","#9270CA","#D3C6EA","#FF9D4D","#FFD8B8","#269A99","#AAD8D8","#FF99C3","#FFD6E7"],op=function(i){return i&&i.split("-")[0]==="top"?12:24},sp=function(i){var r=i.title&&i.title.visible,t=i.description&&i.description.visible;return r||t?12:24},lp=function(i){return(0,f.some)(i.interactions||[],function(r){return(r.type==="slider"||r.type==="scrollbar")&&(r.cfg&&r.cfg.type)!=="vertical"})?8:24},up={width:400,height:400,bleeding:[sp,24,lp,24],padding:"auto",defaultColor:eT,colors:rT,colors_20:nT,title:{padding:[24,24,24,24],fontFamily:"PingFang SC",fontSize:18,fill:"black",textAlign:"left",textBaseline:"top",lineHeight:20,alignWithAxis:!1},description:{padding:[10,24,op,24],fontFamily:"PingFang SC",fontSize:12,fill:"grey",textAlign:"left",textBaseline:"top",lineHeight:16,alignWithAxis:!1},axis:{y:{visible:!0,position:"left",autoRotateTitle:!0,grid:{visible:!0,line:{style:{stroke:"rgba(0, 0, 0, 0.15)",lineWidth:1,lineDash:[0,0]}}},line:{visible:!1,style:{stroke:"rgba(0, 0, 0, 0.45)",lineWidth:1}},tickLine:{visible:!1,style:{stroke:"rgba(0,0,0,0.45)",lineWidth:.5,length:4}},label:{visible:!0,offset:8,textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12},autoRotate:!1,autoHide:!0},title:{visible:!1,spacing:12,style:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12,textBaseline:"bottom"}}},x:{visible:!0,position:"bottom",autoRotateTitle:!1,grid:{visible:!1,line:{style:{stroke:"rgba(0, 0, 0, 0.15)",lineWidth:1,lineDash:[0,0]}}},line:{visible:!1,style:{stroke:"rgba(0, 0, 0, 0.45)",lineWidth:1}},tickLine:{visible:!0,style:{length:4,stroke:"rgba(0, 0, 0, 0.45)",lineWidth:.5}},label:{visible:!0,textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12},offset:16,autoRotate:!0,autoHide:!0},title:{visible:!1,spacing:12,style:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12}}},circle:{autoHideLabel:!1,grid:{line:{style:{lineDash:null,lineWidth:1,stroke:"rgba(0, 0, 0, 0.15)"}}},line:{style:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.45)"}},tickLine:{style:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.45)",length:4,alignWithLabel:!0}},label:{offset:16,textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12},autoRotate:!0,autoHide:!0},title:{offset:12,style:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12}}},radius:{label:{textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12}}}},legend:{flipPage:!1,position:"bottom",innerPadding:[16,16,16,16],margin:[0,24,24,24]},label:{offset:12,textStyle:{fill:"#595959"},style:{fill:"#595959",stroke:"#ffffff",lineWidth:2}},tooltip:{"g2-tooltip":{boxShadow:"0px 0px 8px rgba(0,0,0,0.15)"},offset:10},components:{legend:{margin:[0,24,24,24]},tooltipIndicator:{title:{style:{fontSize:14,fill:"#262626"}},line:{style:{opacity:1},inactiveStyle:{opacity:.3}},itemTitle:{style:{fontSize:12,fill:"#8C8C8C",opacity:1},inactiveStyle:{opacity:.3}},itemName:{style:{fontSize:12,fill:"#8C8C8C",opacity:1},inactiveStyle:{opacity:.3}},itemValue:{style:{fontSize:14,fontWeight:"bold",fill:"#595959",opacity:1},inactiveStyle:{opacity:.3}}}}},iT={backgroundStyle:{fill:"#262626"},defaultColor:"#5B8FF9",width:400,height:400,bleeding:[sp,24,lp,24],padding:"auto",title:{padding:[24,24,24,24],fontFamily:"PingFang SC",fontSize:18,fontWeight:"bold",fill:"rgba(255,255,255,0.65)",stroke:"rgba(0,0,0,0.95)",textAlign:"left",textBaseline:"top",lineHeight:20,alignWithAxis:!1},description:{padding:[10,24,op,24],fontFamily:"PingFang SC",fontSize:12,fill:"rgba(255, 255, 255, 0.65)",stroke:"rgba(0,0,0,0.95)",textAlign:"left",textBaseline:"top",lineHeight:16,alignWithAxis:!1},axis:{y:{visible:!0,position:"left",autoRotateTitle:!0,grid:{visible:!0,line:{style:{stroke:"rgba(255, 255, 255, 0.15)",lineWidth:1,lineDash:null}}},line:{visible:!1,style:{stroke:"rgba(255, 255, 255, 0.45)",lineWidth:1}},tickLine:{visible:!1,style:{stroke:"rgba(255, 255, 255, 0.45)",lineWidth:.5,length:4}},label:{visible:!0,offset:8,autoRotate:!1,autoHide:!0,textStyle:{fill:"rgba(255, 255, 255, 0.45)",fontSize:12}},title:{visible:!1,spacing:12,style:{fill:"rgba(255, 255, 255, 0.65)",fontSize:12,textBaseline:"bottom"}}},x:{visible:!0,position:"bottom",autoRotateTitle:!1,grid:{visible:!1,line:{style:{stroke:"rgba(255, 255, 255, 0.15)",lineWidth:1,lineDash:null}}},line:{visible:!1,style:{stroke:"rgba(255, 255, 255, 0.45)"}},tickLine:{visible:!0,style:{length:4,stroke:"rgba(255, 255, 255, 0.45)",lineWidth:.5}},label:{visible:!0,textStyle:{fill:"rgba(255, 255, 255, 0.65)",fontSize:12},offset:16,autoHide:!0,autoRotate:!0},title:{visible:!1,spacing:12,style:{fill:"rgba(255, 255, 255, 0.65)",fontSize:12}}},circle:{autoRotateTitle:!0,grid:{style:{lineDash:null,lineWidth:1,stroke:"#E3E8EC"}},line:{style:{lineWidth:1,stroke:"#BFBFBF"}},tickLine:{style:{lineWidth:1,stroke:"#bdc8d3",length:4,alignWithLabel:!0}},label:{offset:16,textStyle:{fill:"#a0a4aa",fontSize:12},autoRotate:!0,autoHide:!0},title:{offset:12,style:{fill:"#767b84",fontSize:12}}},radius:{label:{offset:12,textStyle:{fill:"#a0a4aa",fontSize:12}}}},legend:{flipPage:!1,position:"bottom",innerPadding:[16,16,16,16],title:{visible:!1,style:{fill:"#bdc8d3"}},text:{style:{fill:"#bdc8d3"}}},label:{offset:12,textStyle:{fill:"rgba(255, 255, 255, 0.65)"},style:{fill:"rgba(255, 255, 255, 0.65)",lineWidth:1}},components:{tooltip:{domStyles:{"g2-tooltip":{backgroundColor:"rgba(33,33,33, 0.95)",boxShadow:"0px 0px 8px rgba(0,0,0,0.65)",color:"rgba(255, 255, 255, 0.65)"}}}}},fp={default:up,dark:iT};function lG(i,r){var t=Yi();fp[i.toLowerCase()]=deepMix({},t,r)}function Yi(i){i===void 0&&(i="default");var r=fp[i.toLowerCase()];return r||(console.warn("error in theme: Can't find the theme named %s. Please register theme first.",i),up)}var hp={};function cp(i,r){var t={lineStyle:"line.line",columnStyle:"interval.rect",pointStyle:"point.circle"},e={};i==="area"&&(t={areaStyle:"area.area",lineStyle:"area.line",pointStyle:"point.circle"});var n={};return(0,f.each)(r,function(a,o){var s;if((0,f.has)(t,o)){var l=t[o];(0,f.each)(a,function(u,h){(0,f.set)(n,l+"."+[h==="normal"?"default":h==="disable"?"inactive":h]+".style",u)})}else e=(0,f.deepMix)({},e,(s={},s[o]=a,s))}),(0,f.isEmpty)(n)||(e=(0,f.deepMix)({},e,{geometries:n})),e}function ea(i,r){hp[i.toLowerCase()]=cp(i,r)}function vp(i){return hp[i.toLowerCase()]||{}}function aT(i){var r=(0,f.clone)(i);return r.legend||(r.legend={}),r}var vh={axis:{x:{category:{constraints:[{name:"elementDist"}],rules:{elementDist:[{name:"textWrapper",option:{lineNumber:2}},{name:"textRotation",option:{degree:45}},{name:"textRotation",option:{degree:90}},{name:"textAbbreviate",option:{abbreviateBy:"end"}},{name:"textHide"}]}},linear:{constraints:[{name:"elementDist"}],rules:{elementDist:[{name:"nodesResampling",option:{keep:["end"]}},{name:"textRotation",option:{degree:45}},{name:"textRotation",option:{degree:90}},{name:"robustAbbrevaite",option:{unit:"thousand",decimal:1,abbreviateBy:"end"}},{name:"textHide"}]}},dateTime:{constraints:[{name:"elementDist"}],rules:{elementDist:[{name:"datetimeStringAbbrevaite"},{name:"nodesResamplingByAbbrevate",option:{keep:["end"]}},{name:"textRotation",option:{degree:45}},{name:"textRotation",option:{degree:90}},{name:"nodesResampling"},{name:"nodesResampling"},{name:"textHide"}]}}},y:{linear:{constraints:[{name:"elementDistVertical"},{name:"elementWidth"}],rules:{elementDistVertical:[{name:"nodesResampling"},{name:"textHide"}],elementWidth:[{name:"digitsAbbreviate"},{name:"textHide"}]}},category:{constraints:[{name:"elementDistVertical"},{name:"elementWidth"}],rules:{elementDistVertical:[{name:"nodesResampling"},{name:"textHide"}],elementWidth:[{name:"textAbbreviate",option:{abbreviateBy:"end"}},{name:"textHide"}]}}}}},dp={default:vh};function pp(i,r){dp[i.toLowerCase()]=(0,f.deepMix)({},vh,r)}function gp(i){var r=dp[i.toLowerCase()];return r||vh}var oT=R(),sT=function(){function i(){}return i.getGlobalTheme=function(r){return(0,f.isString)(r)?Yi(r):(0,f.deepMix)({},Yi(),r)},i.prototype.getPlotTheme=function(r,t){var e=r.theme;return(0,f.isString)(e)?(0,f.deepMix)({},Yi(e),vp(t)):(0,f.deepMix)({},Yi(),vp(t),cp(t,e))},i.prototype.getTheme=function(r,t){var e=aT(this.getPlotTheme(r,t)),n=(0,f.deepMix)({},oT,e);return n},i.prototype.getResponsiveTheme=function(r){return gp(r)||gp("default")},i}(),dh=sT,lT=function(i){(0,Yt.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.interactions=[],e.labels=[],e.options=e.getOptions(t),e.initialOptions=(0,f.deepMix)({},e.options),e.paddingController=new tT({plot:e}),e.stateController=new sA({plot:e}),e.themeController=new dh,e}return r.getDefaultOptions=function(){return{renderer:"canvas",title:{visible:!1,alignTo:"left",text:""},description:{visible:!1,text:"",alignTo:"left"},padding:"auto",legend:{visible:!0,position:"bottom-center"},tooltip:{visible:!0,shared:!0,showCrosshairs:!0,crosshairs:{type:"x"},offset:20},xAxis:{visible:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!1,spacing:12}},yAxis:{visible:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},label:{visible:!1},interactions:[{type:"tooltip"},{type:"legend-active"},{type:"legend-filter"}],animation:!0}},r.prototype.getOptions=function(t){var e=this.options||{},n=i.prototype.getOptions.call(this,t),a=this.constructor.getDefaultOptions(t),o=(0,f.reduce)((0,f.flatten)((0,f.map)([n,a,(0,f.hasKey)(t,"interactions")?t:e],function(s){return(0,f.get)(s,"interactions",[])})),function(s,l){var u=(0,f.findIndex)(s,function(h){return h.type===l.type});return u>=0&&s.splice(u,1),(0,Yt.__spreadArrays)(s,[l])},[]);return(0,f.deepMix)({},n,a,e,t,{interactions:o})},r.prototype.beforeInit=function(){this.emit(Va.BEFORE_INIT),i.prototype.beforeInit.call(this)},r.prototype.init=function(){var t=this;i.prototype.init.call(this),this.theme=this.themeController.getTheme(this.options,this.type),this.config={data:this.processData(this.options.data),scales:{},legends:{},tooltip:{showTitle:!0},axes:{},coordinate:{type:"cartesian"},geometries:[],annotations:[],interactions:[],theme:this.theme,panelRange:{},animate:{},views:[]},this.paddingController.clear(),this.drawTitle(),this.drawDescription(),this.interaction(),this.coord(),this.scale(),this.axis(),this.tooltip(),this.legend(),this.addGeometry(),this.annotation(),this.animation(),this.viewRange=this.getViewRange();var e=this.viewRangeToRegion(this.viewRange);this.view=new $o({parent:null,canvas:this.canvas,backgroundGroup:this.container.addGroup(),middleGroup:this.container.addGroup(),foregroundGroup:this.container.addGroup(),padding:this.paddingController.getPadding(),theme:this.theme,options:this.config,limitInPlot:this.isLimitInPlot(),region:e}),this.applyInteractions(),this.view.on(gn.VIEW_LIFE_CIRCLE.AFTER_RENDER,function(){t.afterRender()})},r.prototype.afterInit=function(){i.prototype.afterInit.call(this),!(!this.view||this.view.destroyed)&&(this.options.padding!=="auto"&&this.parseEvents(),this.emit(Va.AFTER_INIT))},r.prototype.afterRender=function(){var t,e;if(!(!this.view||this.view.destroyed)){var n=this.options,a=n.padding?n.padding:this.config.theme.padding;n.defaultState&&a!=="auto"&&this.stateController.defaultStates(n.defaultState),a==="auto"&&this.paddingController.processAutoPadding(),((e=(t=n.tooltip)===null||t===void 0?void 0:t.custom)===null||e===void 0?void 0:e.onChange)&&n.padding!=="auto"&&this.customTooltip()}},r.prototype.render=function(){this.emit(Va.BEFORE_RENDER),i.prototype.render.call(this);var t=this.options.data;(0,f.isEmpty)(t)||this.view.render(),this.emit(Va.AFTER_RENDER)},r.prototype.repaint=function(){this.canvas&&this.canvas.draw()},r.prototype.getScaleByField=function(t){return this.view.getScaleByField(t)},r.prototype.getXScale=function(){var t=this.options.xField;if(t)return this.view.getScaleByField(t)},r.prototype.getYScale=function(){var t=this.options.yField;if(t)return this.view.getScaleByField(t)},r.prototype.getColorScale=function(){var t=this.options;if((0,f.contains)(t,"colorField"))return this.view.getScaleByField(t)},r.prototype.getShapes=function(){var t=this.view.geometries,e={};return(0,f.each)(t,function(n){var a=n.type;e[a]=n.getShapes()}),e},r.prototype.destroy=function(){this.doDestroy(),i.prototype.destroy.call(this)},r.prototype.updateConfig=function(t){this.doDestroy(),!t.padding&&this.initialOptions.padding&&this.initialOptions.padding==="auto"&&(t.padding="auto"),this.options=this.getOptions(t),this.processOptions(this.options)},r.prototype.changeData=function(t){this.emit(Va.BEFORE_CHANGE_DATA);var e=(0,f.isEmpty)(this.options.data);this.options.data=this.processData(t),e?(this.options.padding=this.initialOptions.padding||"auto",this.view.data(this.options.data),this.view.render()):this.view.changeData(this.options.data),this.emit(Va.AFTER_CHANGE_DATA)},r.prototype.getPlot=function(){return this.view},r.prototype.getLabels=function(){return this.labels},r.prototype.getTheme=function(){return this.theme?this.theme:this.themeController.getTheme(this.options,this.type)},r.prototype.getResponsiveTheme=function(){return this.themeController.getResponsiveTheme(this.type)},r.prototype.getPlotTheme=function(){return this.themeController.getPlotTheme(this.options,this.type)},r.prototype.getInteractions=function(){return this.interactions},r.prototype.bindStateManager=function(t,e){this.stateController.bindStateManager(t,e)},r.prototype.setActive=function(t,e){this.stateController.setState({type:"active",condition:t,style:e})},r.prototype.setSelected=function(t,e){this.stateController.setState({type:"selected",condition:t,style:e})},r.prototype.setDisable=function(t,e){this.stateController.setState({type:"disable",condition:t,style:e})},r.prototype.setDefault=function(t,e){this.stateController.setState({type:"default",condition:t,style:e})},r.prototype.getData=function(t,e){return this.processData((this.options.data||[]).slice(t,e))},r.prototype.processData=function(t){return t},r.prototype.scale=function(){var t=(0,f.mapValues)(this.config.scales,function(n){var a=n.type;return a?{type:a}:{}}),e=(0,f.deepMix)({},this.config.scales,this.options.meta||{},t);this.setConfig("scales",e)},r.prototype.axis=function(){var t=Bi("axis",{plot:this,dim:"x"}),e=Bi("axis",{plot:this,dim:"y"}),n={};n[this.options.xField]=t,n[this.options.yField]=e,this.setConfig("axes",n)},r.prototype.tooltip=function(){var t,e;if(this.options.tooltip.visible===!1){this.setConfig("tooltip",!1);return}var n=(0,f.get)(this.options,"tooltip");((t=n.custom)===null||t===void 0?void 0:t.container)&&(n.container=n.custom.container),((e=n.custom)===null||e===void 0?void 0:e.customContent)&&(n.customContent=n.custom.customContent),this.setConfig("tooltip",(0,f.deepMix)({},n)),(0,f.deepMix)(this.config.theme.tooltip,this.options.tooltip.domStyles)},r.prototype.createTooltipContainer=function(){var t=document.createElement("div");return t.className="g2-tooltip",t},r.prototype.customTooltip=function(){var t=this.options.tooltip.custom,e;t.container&&(e=(0,f.isString)(t.container)?document.getElementById(t.container):t.container),e||(e=this.createTooltipContainer()),this.view.on("tooltip:show",function(n){(t==null?void 0:t.onChange)&&t.onChange(e,n)}),this.view.hideTooltip(),this.view.on("tooltip:change",function(n){t.onChange(e,n)})},r.prototype.getLegendPosition=function(t){var e=t.split("-");return e&&e.length>1&&e[1]==="center"?e[0]:t},r.prototype.legend=function(){var t;if(this.options.legend.visible===!1){this.setConfig("legends",!1);return}var e=(0,f.deepMix)({},this.theme.legend,this.options.legend),n={position:this.getLegendPosition((0,f.get)(e,"position")),offsetX:(0,f.get)(e,"offsetX"),offsetY:(0,f.get)(e,"offsetY"),flipPage:(0,f.get)(e,"flipPage"),marker:(0,f.get)(e,"marker"),title:((t=e.title)===null||t===void 0?void 0:t.visible)?(0,f.get)(e,"title"):null,itemName:(0,f.get)(e,"text")};this.setConfig("legends",n)},r.prototype.annotation=function(){var t=this,e=[];this.config.coordinate.type==="cartesian"&&this.options.guideLine&&(0,f.each)(this.options.guideLine,function(n){var a=Bi("guideLine",{plot:t,cfg:n});e.push(a)}),this.setConfig("annotations",e)},r.prototype.interaction=function(){var t=this,e=this.options.interactions,n=e===void 0?[]:e;(0,f.each)(n,function(a){var o=a.type;if(o==="slider"||o==="scrollbar"){var s={label:{autoHide:!0,autoRotate:!1}};t.options.xAxis=(0,f.deepMix)({},t.options.xAxis,s)}t.setConfig("interaction",a)})},r.prototype.animation=function(){this.options.animation===!1&&this.setConfig("animate",!1)},r.prototype.applyInteractions=function(){var t=this,e=Zr.fromBBoxObject(this.layerBBox),n=this.title||this.description,a=new Zr(e.minX,e.minY,e.width,n?n.getBBox().maxY:0);e=e.cut(a,gn.DIRECTION.TOP);var o=this.options.interactions,s=o===void 0?[]:o;this.interactions&&this.interactions.forEach(function(l){l.destroy()}),this.interactions=[],s.forEach(function(l){var u=ap.getInteraction(l.type,t.type);if(u){var h=new u({view:t.view},t,u.getInteractionRange(e,l.cfg),l.cfg);h.render(),t.interactions.push(h)}})},r.prototype.setConfig=function(t,e){if(t==="geometry"){this.config.geometries.push(e);return}if(t==="interaction"){this.config.interactions.push(e);return}if(e===!1){this.config[t]=!1;return}(0,f.assign)(this.config[t],e)},r.prototype.parseEvents=function(t){var e=this,n=this.options;if(n.events){i.prototype.parseEvents.call(this,n.events);var a=t?t.EVENT_MAP:on;(0,f.each)(n.events,function(o,s){if((0,f.isFunction)(o)){var l=a[s]||s,u=o;ii(e,l,u)}})}},r.prototype.drawTitle=function(){var t=this.options,e=this.layerBBox;if(this.title&&(this.title.destroy(),this.title=null),es(t.title)){var n=this.width,a=this.config.theme,o=new Nl({leftMargin:e.minX+a.title.padding[3],rightMargin:e.maxX-a.title.padding[1],topMargin:e.minY+a.title.padding[0],text:t.title.text,style:(0,f.mix)(a.title,t.title.style),wrapperWidth:n-a.title.padding[3]-a.title.padding[1],container:this.container.addGroup(),theme:a,index:es(t.description)?0:1,plot:this,alignTo:t.title.alignTo,name:"title"});this.title=o,this.paddingController.registerPadding(o,"outer")}},r.prototype.drawDescription=function(){var t=this.options,e=this.layerBBox;if(this.description&&(this.description.destroy(),this.description=null),es(t.description)){var n=this.width,a=this.config.theme,o=0;if(this.title){var s=this.title.getBBox();o+=s.minY+s.height,o+=a.description.padding[0]}else o+=e.minY+a.title.padding[0];var l=new Nl({leftMargin:e.minX+a.description.padding[3],topMargin:o,rightMargin:e.maxX-a.title.padding[1],text:t.description.text,style:(0,f.mix)(a.description,t.description.style),wrapperWidth:n-a.description.padding[3]-a.description.padding[1],container:this.container.addGroup(),theme:a,index:1,plot:this,alignTo:t.description.alignTo,name:"description"});this.description=l,this.paddingController.registerPadding(l,"outer")}},r.prototype.doRenderLabel=function(t,e){(0,f.each)(this.labels,function(s){s.destroy()}),this.labels=[];var n={layer:this,container:t.labelsContainer,geometry:t,label:e},a=YE(e.type);if(a){var o=new a(n);o.init(),o.render(),this.labels.push(o)}},r.prototype.doDestroy=function(){this.doDestroyInteractions(),this.doDestroyLabels(),this.view.destroyed||this.view.destroy()},r.prototype.doDestroyInteractions=function(){this.interactions&&this.interactions.forEach(function(t){t.destroy()}),this.interactions=[]},r.prototype.doDestroyLabels=function(){(0,f.each)(this.labels,function(t){t.destroy()}),this.labels=[]},r.prototype.getViewRange=function(){var t=this,e=this.options.interactions,n=e===void 0?[]:e,a=this.paddingController.processOuterPadding();n.forEach(function(s){var l=ap.getInteraction(s.type,t.type),u=l&&l.getInteractionRange(a,s.cfg),h="";u&&(u.maxY===a.maxY&&u.minY>a.minY?h="bottom":u.maxX===a.maxX&&u.minX>a.minX?h="right":u.minX===a.minX&&u.maxX>a.maxX?h="left":u.minY===a.minY&&u.maxY<a.maxY&&(h="top"),t.paddingController.registerPadding({interaction:s.type,name:s.type,getBBox:function(){return u},position:h},"outer"))});var o=this.paddingController.processOuterPadding();return o},r.prototype.isLimitInPlot=function(){var t=this.options.yAxis;return!!((0,f.hasKey)(t,"max")||(0,f.hasKey)(t,"min")||(0,f.hasKey)(t,"maxLimit")||(0,f.hasKey)(t,"minLimit"))},r.prototype.viewRangeToRegion=function(t){var e=this,n=e.x,a=e.y,o=e.width,s=e.height,l={x:0,y:0},u={x:1,y:1};return l.x=t.minX/(n+o),l.y=t.minY/(a+s),u.x=t.maxX/(n+o),u.y=t.maxY/(a+s),{start:l,end:u}},r}(Rl),Wn=lT,uT=d(91033),fT=function(){function i(r){var t=this;this.onResize=(0,f.debounce)(function(){if(!t.plot.destroyed){var a=t.getCanvasSize(),o=a.width,s=a.height;t.width===o&&t.height===s||(t.width=o,t.height=s,t.plot.updateConfig({width:o,height:s}),t.plot.render())}},300);var e=r.containerDOM,n=r.plot;this.containerDOM=e,this.plot=n,this.init()}return i.prototype.getCanvasSize=function(){var r=Yi(),t=this.plot.width?this.plot.width:r.width,e=this.plot.height?this.plot.height:r.height;return this.plot.forceFit&&(t=this.containerDOM.offsetWidth?this.containerDOM.offsetWidth:t,e=this.containerDOM.offsetHeight?this.containerDOM.offsetHeight:e),{width:t,height:e}},i.prototype.getCanvasDOM=function(){return this.canvas.get("container")},i.prototype.updateCanvasSize=function(){var r=this.getCanvasSize(),t=r.width,e=r.height;this.width=t,this.height=e,this.canvas.changeSize(t,e)},i.prototype.updateCanvasTheme=function(){var r=this.plot.theme,t=dh.getGlobalTheme(r),e=(0,f.get)(t,"backgroundStyle.fill");e&&this.updateCanvasStyle({backgroundColor:e})},i.prototype.updateCanvasStyle=function(r){(0,Ot.Z)(this.getCanvasDOM(),r),(0,Ot.Z)(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},i.prototype.destroy=function(){this.resizeObserver&&(this.resizeObserver.unobserve(this.containerDOM),this.resizeObserver.disconnect(),this.containerDOM=null),this.canvas.destroy()},i.prototype.bindForceFit=function(){var r=this.plot.forceFit;r&&(this.resizeObserver=new uT.Z(this.onResize),this.resizeObserver.observe(this.containerDOM))},i.prototype.init=function(){this.initGCanvas(),this.bindForceFit(),this.updateCanvasStyle({position:"relative"})},i.prototype.initGCanvas=function(){var r=this.plot,t=r.renderer,e=t===void 0?"canvas":t,n=r.pixelRatio,a=r.localRefresh,o=a===void 0?!1:a,s=this.getCanvasSize(),l=s.width,u=s.height,h=e==="canvas"?wv:Lv;this.canvas=new h({localRefresh:o,container:this.containerDOM,width:l,height:u,pixelRatio:n}),this.width=l,this.height=u,this.updateCanvasTheme()},i}(),hT=fT;function cT(i,r){return!!(i&&r&&i===r)}function vT(i,r){return i.x>=r.minX&&i.x<=r.maxX&&i.y>=r.minY&&i.y<=r.maxY}var dT=function(){function i(r){this.plot=r.plot,this.canvas=r.canvas,this.eventHandlers=[]}return i.prototype.bindEvents=function(){this.addEvent(this.canvas,"mousedown",(0,f.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"mousemove",(0,f.wrapBehavior)(this,"onMove")),this.addEvent(this.canvas,"mouseup",(0,f.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"click",(0,f.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"dblclick",(0,f.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"contextmenu",(0,f.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"wheel",(0,f.wrapBehavior)(this,"onEvents"))},i.prototype.clearEvents=function(){var r=this.eventHandlers;(0,f.each)(r,function(t){t.target.off(t.type,t.handler)})},i.prototype.addEvent=function(r,t,e){r.on(t,e),this.eventHandlers.push({target:r,type:t,handler:e})},i.prototype.onEvents=function(r){var t=this.getEventObj(r),e=r.target;!this.isShapeInView(e)&&e.name&&this.plot.emit(e.name+":"+r.type,r),this.plot.emit(""+r.type,t);var n=this.plot.getLayers();n.length>0&&this.onLayerEvent(n,t,r.type)},i.prototype.onMove=function(r){var t=r.target,e=this.getEventObj(r);!this.isShapeInView(t)&&t.name&&(this.plot.emit(t.name+":"+r.type,e),this.lastShape&&!cT(t,this.lastShape)&&(this.lastShape&&this.plot.emit(this.lastShape.name+":mouseleave",e),this.plot.emit(t.name+":mouseenter",e)),this.lastShape=t),this.plot.emit("mousemove",e);var n=this.plot.getLayers();n.length>0&&this.onLayerEvent(n,e,"mousemove")},i.prototype.isShapeInView=function(r){for(var t=["frontgroundGroup","backgroundGroup","panelGroup"],e=r.get("parent");e;){var n=e.get("name");if(n&&(0,f.contains)(t,n))return!0;e=e.get("parent")}return!1},i.prototype.getEventObj=function(r){var t={clientX:r.clientX,clientY:r.clientY,x:r.x,y:r.y,plot:this.plot,data:r.data?r.data.data:null,canvas:this.canvas,target:r.target,gEvent:r};return t},i.prototype.onLayerEvent=function(r,t,e){var n=this;(0,f.each)(r,function(a){var o=a.getGlobalBBox();if(vT({x:t.x,y:t.y},o)){a.emit(""+e,t);var s=a.layers;s.length>0&&n.onLayerEvent(s,t,e)}})},i}(),pT=dT,yp={};function en(i,r){yp[i.toLowerCase()]=r}function gT(i){return yp[i.toLowerCase()]}var yT=function(i){(0,Yt.__extends)(r,i);function r(t,e){var n=i.call(this)||this;return n.containerDOM=typeof t=="string"?document.getElementById(t):t,n.forceFit=(0,f.isNil)(e.forceFit)?(0,f.isNil)(e.width)&&(0,f.isNil)(e.height):e.forceFit,n.renderer=e.renderer||"canvas",n.pixelRatio=e.pixelRatio||null,n.width=e.width,n.height=e.height,n.theme=e.theme,n.localRefresh=e.localRefresh,n.canvasController=new hT({containerDOM:n.containerDOM,plot:n}),n.width=n.canvasController.width,n.height=n.canvasController.height,n.canvas=n.canvasController.canvas,n.layers=[],n.destroyed=!1,n.createLayers(e),n.eventController=new pT({plot:n,canvas:n.canvasController.canvas}),n.eventController.bindEvents(),n.parseEvents(e),n}return r.prototype.destroy=function(){this.eachLayer(function(t){t.destroy()}),this.canvasController.destroy(),this.eventController.clearEvents(),this.layers=[],this.destroyed=!0},r.prototype.repaint=function(){this.canvasController.canvas.draw()},r.prototype.updateConfig=function(t,e){if(e===void 0&&(e=!1),e)this.eachLayer(function(a){a instanceof Wn&&a.updateConfig(t)});else{var n=this.layers[0];n instanceof Rl&&n.updateConfig(t)}t.width&&(this.width=t.width),t.height&&(this.height=t.height),t.theme&&(this.theme=t.theme),this.canvasController.updateCanvasSize(),this.canvasController.updateCanvasTheme()},r.prototype.changeData=function(t,e){if(e===void 0&&(e=!1),e)this.eachLayer(function(a){a instanceof Wn&&a.changeData(t)});else{var n=this.layers[0];n instanceof Wn&&n.changeData(t)}},r.prototype.getScaleByField=function(t){return this.layers[0].getScaleByField(t)},r.prototype.getXScale=function(){return this.layers[0].getXScale()},r.prototype.getYScale=function(){return this.layers[0].getYScale()},r.prototype.getColorScale=function(){return this.layers[0].getColorScale()},r.prototype.getPlotTheme=function(){var t=this.layers[0];return t.getPlotTheme()},r.prototype.getData=function(){var t=this.layers[0];return t.getData()},r.prototype.bindStateManager=function(t,e){this.eachLayer(function(n){n instanceof Wn&&n.bindStateManager(t,e)})},r.prototype.setActive=function(t,e){this.eachLayer(function(n){n instanceof Wn&&n.setActive(t,e)})},r.prototype.setSelected=function(t,e){this.eachLayer(function(n){n instanceof Wn&&n.setSelected(t,e)})},r.prototype.setDisable=function(t,e){this.eachLayer(function(n){n instanceof Wn&&n.setDisable(t,e)})},r.prototype.setDefault=function(t,e){this.eachLayer(function(n){n instanceof Wn&&n.setDefault(t,e)})},r.prototype.getView=function(){return this.layers[0].view},r.prototype.getLayer=function(t){return t===void 0&&(t=0),this.layers[t]},r.prototype.getCanvas=function(){return this.canvasController.canvas},r.prototype.getLayers=function(){return this.layers},r.prototype.render=function(){this.eachLayer(function(t){return t.render()})},r.prototype.eachLayer=function(t){(0,f.each)(this.layers,t)},r.prototype.addLayer=function(t){var e=(0,f.findIndex)(this.layers,function(n){return n===t});e<0&&this.layers.push(t)},r.prototype.createLayers=function(t){if(!t.layers){if(t.type){var e=gT(t.type),n=(0,f.deepMix)({},t,{canvas:this.canvasController.canvas,x:0,y:0,width:this.width,height:this.height}),a=new e(n);this.addLayer(a)}}},r.prototype.parseEvents=function(t){var e=this,n=(0,f.keys)(Ad);t.events&&(0,f.each)(t.events,function(a,o){if((0,f.contains)(n,o)&&(0,f.isFunction)(a)){var s=Ad[o]||o,l=a;e.on(s,l)}})},r}(Be.default),Wr=yT,mT=function(){function i(r){(0,f.assign)(this,r),this.init()}return i.prototype.init=function(){this.config={type:this.type,position:{fields:this.positionFields}}},i}(),Fs=mT,xT=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){var t=this.plot.options;this.config={type:"area",position:{fields:[t.xField,t.yField]},connectNulls:t.connectNulls||!1},t.smooth&&(this.config.shape={values:["smooth"]}),(this._getColorMappingField()||t.color)&&this.parseColor(),(t.areaStyle||t.area&&t.area.style)&&this.parseStyle()},r.prototype.parseColor=function(){var t=this.plot.options,e={},n=this._getColorMappingField();if(n&&(e.fields=n),(0,f.has)(t,"color")){var a=t.color;(0,f.isString)(a)?e.values=[a]:(0,f.isFunction)(a)?e.callback=a:(0,f.isArray)(a)&&(n?e.values=a:a.length>0&&(e.values=[a[0]]))}this.config.color=e},r.prototype.parseStyle=function(){var t=this.plot.options,e=t.areaStyle?t.areaStyle:t.area.style,n={};(0,f.isFunction)(e)&&t.seriesField?(n.fields=[t.seriesField],n.callback=e):n.cfg=e,this.config.style=n},r.prototype._getColorMappingField=function(){for(var t=this.plot.options,e=["stackField","seriesField"],n=0,a=e;n<a.length;n++){var o=a[n];if((0,f.get)(t,o))return[t[o]]}},r}(Fs),mp=xT;function bT(i,r){var t=[];if(i.length){for(var e=0,n=i.length;e<n;e+=1){var a=i[e],o=e===0?"M":"L";t.push([o,a.x,a.y])}r&&t.push(["Z"])}return t}function xp(i,r){var t=i.getCenter(),e=Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2));return e}function ph(i,r){for(var t=[i[0]],e=1,n=i.length;e<n;e=e+2){var a=r.convertPoint({x:i[e],y:i[e+1]});t.push(a.x,a.y)}return t}function wT(i,r,t){var e=t.isTransposed,n=t.startAngle,a=t.endAngle,o={x:i[1],y:i[2]},s={x:r[1],y:r[2]},l=[],u=e?"y":"x",h=Math.abs(s[u]-o[u])*(a-n),c=s[u]>=o[u]?1:0,v=h>Math.PI?1:0,g=t.convertPoint(s),M=xp(t,g);if(M>=.5)if(h===Math.PI*2){var F={x:(s.x+o.x)/2,y:(s.y+o.y)/2},Y=t.convertPoint(F);l.push(["A",M,M,0,v,c,Y.x,Y.y]),l.push(["A",M,M,0,v,c,g.x,g.y])}else l.push(["A",M,M,0,v,c,g.x,g.y]);return l}function ST(i){each(i,function(r,t){var e=r;if(e[0].toLowerCase()==="a"){var n=i[t-1],a=i[t+1];a&&a[0].toLowerCase()==="a"?n&&n[0].toLowerCase()==="l"&&(n[0]="M"):n&&n[0].toLowerCase()==="a"&&a&&a[0].toLowerCase()==="l"&&(a[0]="M")}})}var CT=function(i,r,t,e){var n=[],a,o,s=!!e,l,u;if(s){l=[Infinity,Infinity],u=[-Infinity,-Infinity];for(var h=0,c=i.length;h<c;h++){var v=i[h];l=pe.min([0,0],l,v),u=pe.max([0,0],u,v)}l=pe.min([0,0],l,e[0]),u=pe.max([0,0],u,e[1])}for(var h=0,g=i.length;h<g;h++){var v=i[h];if(t)a=i[h?h-1:g-1],o=i[(h+1)%g];else if(h===0||h===g-1){n.push(v);continue}else a=i[h-1],o=i[h+1];var M=[0,0];M=pe.sub(M,o,a),M=pe.scale(M,M,r);var F=pe.distance(v,a),Y=pe.distance(v,o),V=F+Y;V!==0&&(F/=V,Y/=V);var z=pe.scale([0,0],M,-F),it=pe.scale([0,0],M,Y),ot=pe.add([0,0],v,z),yt=pe.add([0,0],v,it);s&&(ot=pe.max([0,0],ot,l),ot=pe.min([0,0],ot,u),yt=pe.max([0,0],yt,l),yt=pe.min([0,0],yt,u)),n.push(ot),n.push(yt)}return t&&n.push(n.shift()),n};function MT(i,r,t){for(var e=!!r,n=[],a=0,o=i.length;a<o;a+=2)n.push([i[a],i[a+1]]);for(var s=CT(n,.4,e,t),l=n.length,u=[],h,c,v,a=0;a<l-1;a++)h=s[a*2],c=s[a*2+1],v=n[a+1],u.push(["C",h[0],h[1],c[0],c[1],v[0],v[1]]);return e&&(h=s[l],c=s[l+1],v=n[0],u.push(["C",h[0],h[1],c[0],c[1],v[0],v[1]])),u}function ET(i,r){return bT(i,r)}function gh(i,r,t){var e=[],n=i[0],a=null;if(i.length<=2)return ET(i,r);(0,f.each)(i,function(l){(!a||!(a.x===l.x&&a.y===l.y))&&(e.push(l.x),e.push(l.y),a=l)});var o=t||[[0,0],[1,1]],s=MT(e,r,o);return s.unshift(["M",n.x,n.y]),s}function uG(i,r){return xp(i,r)}function fG(i,r){var t=i.getCenter();return Math.atan2(r.y-t.y,r.x-t.x)}function hG(i,r){var t=[];return each(r,function(e){var n=e[0];switch(n.toLowerCase()){case"m":case"l":case"c":t.push(ph(e,i));break;case"z":default:t.push(e);break}}),t}function cG(i,r){var t=[],e,n,a,o;return each(r,function(s,l){var u=s[0];switch(u.toLowerCase()){case"m":case"c":case"q":t.push(ph(s,i));break;case"l":e=r[l-1],n=s,a=i.isTransposed,o=a?e[e.length-2]===n[1]:e[e.length-1]===n[2],o?t=t.concat(wT(e,n,i)):t.push(ph(s,i));break;case"z":default:t.push(s);break}}),ST(t),t}vn("area","miniArea",{draw:function(i,r){var t=i.style?i.style.opacity:null,e=bp(i,this,!1),n=(0,f.deepMix)({},{lineJoin:"round",lineCap:"round"},i.style),a=r.addShape("path",{attrs:{path:e,fill:Sp(i.color||Yi().defaultColor),opacity:t||.4},style:n});return a}}),vn("area","miniAreaSmooth",{draw:function(i,r){var t=i.style?i.style.opacity:null,e=bp(i,this,!0),n=r.addShape("path",{attrs:{path:e,fill:Sp(i.color||Yi().defaultColor),opacity:t||.5}});return n}});function bp(i,r,t){var e=[[0,0],[1,1]],n=[],a=[];(0,f.each)(i.points,function(u){n.push(u[1]),a.push(u[0])}),a=r.parsePoints(a.reverse()),n=oh(r.parsePoints(n));var o=t?gh(n,!1,e):wp(n),s=wp(a);s[0][0]="L";var l=o.concat(s);return l}function wp(i){for(var r=[],t=0;t<i.length;t++){var e=i[t],n=t===0?"M":"L";r.push([n,e.x,e.y])}return r}function Sp(i){return"l(90) 0:"+i+" 1:#ffffff"}var AT=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){i.prototype.init.call(this),this.parseShape()},r.prototype.parseShape=function(){var t=this.plot.options;t.smooth?this.config.shape={values:["miniAreaSmooth"]}:this.config.shape={values:["miniArea"]}},r}(mp),TT=AT,PT={main:mp,mini:TT},Cp=["colorField","stackField","groupField"],_T=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){this.type="interval",i.prototype.init.call(this);var t=this.plot.options;this._needParserColor()&&this.parseColor(),this.config.color||(this.config.color={values:["#5b8ff9"]});var e=this._getSizeProps(t);e&&this.parseSize(e);var n=this._getStyleProps(t);n&&this.parseStyle(n)},r.prototype.parseColor=function(){var t=this.plot.options,e=this._getColorMappingField(t),n={};e&&(n.fields=e),t.color&&((0,f.isString)(t.color)?n.values=[t.color]:(0,f.isFunction)(t.color)?n.callback=t.color:(0,f.isArray)(t.color)?e?n.values=t.color:t.color.length>0&&(n.values=[t.color[0]]):(0,f.isObject)(t.color)&&(n.fields=e,n.callback=function(a){return t.color[a]})),this.config.color=n},r.prototype.parseSize=function(t){var e=this.plot.options,n={};(0,f.isFunction)(e[t])?(n.fields=[this.config.position.fields],n.callback=e[t]):n.values=[e[t]],this.config.size=n},r.prototype.parseStyle=function(t){var e=this.plot.options,n=this.config.color,a=this.plot.options[t],o={};(0,f.isFunction)(a)?(o.fields=(n==null?void 0:n.fields)||[e.xField,e.yField],o.callback=a):o.cfg=a,this.config.style=o},r.prototype._getSizeProps=function(t){for(var e=["columnSize","barSize"],n=0,a=e;n<a.length;n++){var o=a[n];if((0,f.get)(t,o))return o}},r.prototype._getStyleProps=function(t){for(var e=["columnStyle","barStyle","pieStyle","ringStyle"],n=0,a=e;n<a.length;n++){var o=a[n];if((0,f.get)(t,o))return o}},r.prototype._getColorMappingField=function(t){for(var e=0,n=Cp;e<n.length;e++){var a=n[e];if((0,f.get)(t,a))return[t[a]]}},r.prototype._needParserColor=function(){var t=this.plot.options;if(t.color)return!0;for(var e=0,n=Cp;e<n.length;e++){var a=n[e];if(t[a])return!0}return!1},r}(Fs),LT=_T,OT={main:LT},IT=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){var t=this.plot.options;this.config={type:"line",position:{fields:[t.xField,t.yField]},connectNulls:t.connectNulls},t.lineSize&&this.parseSize(),t.smooth&&(this.config.shape={values:["smooth"]}),t.step&&(this.config.shape={values:[t.step]}),(t.seriesField||t.color)&&this.parseColor(),(t.lineStyle||(0,f.get)(t,["line","style"]))&&this.parseStyle()},r.prototype.parseSize=function(){var t=this.plot.options.lineSize,e={};(0,f.isFunction)(t)?e.callback=t:e.values=[t],this.config.size=e},r.prototype.parseColor=function(){var t=this.plot.options,e={};if(t.seriesField&&(e.fields=[t.seriesField]),(0,f.has)(t,"color")){var n=t.color;(0,f.isString)(n)?e.values=[n]:(0,f.isFunction)(n)?e.callback=n:(0,f.isArray)(n)&&(t.seriesField?e.values=n:n.length>0&&(e.values=[n[0]]))}this.config.color=e},r.prototype.parseStyle=function(){var t=this.plot.options,e=t.lineStyle||(0,f.get)(t,["line","style"]),n={fields:null,callback:null,cfg:null};(0,f.isFunction)(e)&&t.seriesField?(n.fields=[t.seriesField],n.callback=e):n.cfg=e,this.config.style=n},r}(Fs),yh=IT,kT=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){var t=this.plot.options;!t.xField||!t.yField||(this.config={type:"line",position:{fields:[t.xField,t.yField]},tooltip:!1},(this._getColorMappingField()||this._needParseAttribute("color"))&&this.parseColor(),this._needParseAttribute("size")&&this.parseSize(),t.line.style&&this.parseStyle(),t.smooth&&(this.config.shape={values:["smooth"]}))},r.prototype.parseSize=function(){var t=this.plot.options,e={};t.line.size?e.values=[t.line.size]:e.values=[2],this.config.size=e},r.prototype.parseColor=function(){var t=this.plot.options,e={},n=this._getColorMappingField();n&&(e.fields=n),t.line.color?e.values=[t.line.color]:(0,f.isString)(t.color)?e.values=[t.color]:(0,f.isFunction)(t.color)?(e.fields=n,e.callback=t.color):(0,f.isArray)(t.color)&&(n?e.values=t.color:t.color.length>0&&(e.values=[t.color[0]])),this.config.color=e},r.prototype.parseStyle=function(){var t=this.plot.options,e=t.line.style,n={};(0,f.isFunction)(e)?(n.fields=this.config.position.fields,n.callback=e):n.cfg=e,this.config.style=n},r.prototype._needParseAttribute=function(t){var e=this.plot.options;return e[t]?!0:!!e.line[t]},r.prototype._getColorMappingField=function(){for(var t=this.plot.options,e=["stackField","seriesField"],n=0,a=e;n<a.length;n++){var o=a[n];if((0,f.get)(t,o))return[t[o]]}},r}(yh),BT=kT;vn("line","miniLine",{draw:function(i,r){for(var t=oh(i.points),e=[],n=0;n<t.length;n++){var a=t[n],o=n===0?"M":"L";e.push([o,a.x,a.y])}var s=(0,f.deepMix)({},{lineJoin:"round",lineCap:"round"},i.style),l=r.addShape("path",{attrs:(0,f.mix)({path:e,stroke:i.color||Yi().defaultColor,lineWidth:i.size||2},s)});return l}}),vn("line","miniLineSmooth",{draw:function(i,r){var t=oh(i.points),e=[[0,0],[1,1]],n=gh(t,!1,e),a=r.addShape("path",{attrs:(0,f.mix)({path:n,stroke:i.color||Yi().defaultColor,lineWidth:i.size||2},i.style)});return a}});var DT=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){i.prototype.init.call(this),this.parseShape()},r.prototype.parseShape=function(){var t=this.plot.options;t.smooth?this.config.shape={values:["miniLineSmooth"]}:this.config.shape={values:["miniLine"]}},r}(yh),FT=DT,RT={main:yh,guide:BT,mini:FT},NT=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){var t=this.plot.options;this.style=t.pointStyle,!(!t.xField||!t.yField)&&(this.config={type:"point",position:{fields:[t.xField,t.yField]}},this.parseColor(),this.parseSize(),t.shape&&this.parseShape(t.shape),t.pointStyle&&this.parseStyle())},r.prototype.parseColor=function(){var t=this.plot.options,e={},n=t.colorField;n&&(e.fields=(0,f.isArray)(n)?n:[n]),t.color&&this._parseColor(t,e),(0,f.isEmpty)(e)||(this.config.color=e)},r.prototype.parseSize=function(){var t=this.plot.options,e={};t.sizeField&&(e.fields=[t.sizeField]),t.pointSize&&(e.values=(0,f.isArray)(t.pointSize)?t.pointSize:[t.pointSize]),this.config.size=e},r.prototype.parseShape=function(t){this.config.shape=t},r.prototype.parseStyle=function(){var t=this.plot.options,e=t.pointStyle,n={fields:null,callback:null,cfg:null},a=t.xField,o=t.yField,s=t.colorField;(0,f.isFunction)(e)?(s?n.fields=(0,f.isArray)(s)?[a,o,s].concat(s):[a,o,s]:n.fields=[a,o],n.callback=e):(n.cfg=e,(0,f.isNil)(e.opacity)||(n.cfg.fillOpacity=e.opacity)),this.config.style=n},r.prototype._parseColor=function(t,e){(0,f.isString)(t.color)?e.values=[t.color]:(0,f.isFunction)(t.color)?e.callback=t.color:(0,f.isArray)(t.color)&&(e.values=t.color)},r}(Fs),YT=NT;function GT(i,r){var t=[];return(0,f.each)(r,function(e){var n=e[i];t.push(n)}),(0,f.uniq)(t)}var zT=["seriesField","stackField"],XT=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){var t=this.plot.options;this.style=t.point.style,!(!t.xField||!t.yField)&&(this.config={type:"point",position:{fields:[t.xField,t.yField]},tooltip:!1},this.parseColor(),this._needParseAttribute("size")&&this.parseSize(),t.point.shape&&this.parseShape(t.point.shape),t.point.style&&this.parseStyle())},r.prototype.parseColor=function(){var t=this.plot.options,e={},n=this._getColorMappingField(t);if(n)this._parseColorByField(t,e,n);else if(t.point&&t.point.color)e.values=[t.point.color];else if(t.color)this._parseColor(t,e);else{var a=this.plot.getTheme();e.values=[a.defaultColor]}(0,f.keys)(e).length>0&&(this.config.color=e)},r.prototype.parseSize=function(){var t=this.plot.options,e={};e.values=[t.point.size],this.config.size=e},r.prototype.parseShape=function(t){var e={};(0,f.isString)(t)?e.values=[t]:(0,f.isObject)(t)&&(e.fields=t.fields,e.callback=t.callback),this.config.shape=e},r.prototype.parseStyle=function(){var t=this.plot.options,e=t.point&&t.point.style,n={fields:null,callback:null,cfg:null},a=this._getColorMappingField(t);(0,f.isFunction)(e)?(n.fields=[t.xField,t.yField],n.callback=e,a&&n.fields.unshift(a)):n.cfg=e,this.config.style=n},r.prototype._parseColorByField=function(t,e,n){if(e.fields=[n],t.point.color){for(var a=GT(n,t.data).length,o=[],s=0;s<a;s++)o.push(t.point.color);e.values=o}else t.color&&this._parseColor(t,e)},r.prototype._parseColor=function(t,e){var n=this._getColorMappingField(t);(0,f.isString)(t.color)?e.values=[t.color]:(0,f.isFunction)(t.color)?e.callback=t.color:(0,f.isArray)(t.color)&&(n?e.values=t.color:t.color.length>0&&(e.values=[t.color[0]]))},r.prototype._needParseAttribute=function(t){var e=this.plot.options,n=e.point&&(0,f.has)(e.point,t);return n},r.prototype._getColorMappingField=function(t){for(var e=0,n=zT;e<n.length;e++){var a=n[e];if((0,f.get)(t,a))return[t[a]]}},r}(Fs),VT=XT,HT={guide:VT,circle:YT},WT={area:PT,line:RT,point:HT,interval:OT};function Jn(i,r,t){var e=WT[i][r];return new e(t).config}function jT(i){var r=EE,t=i.split(" "),e=r[t[1]],n=parseInt(t[0],10);return[e.format,n*e.value]}function bi(i,r){if(!r)return i;Object.prototype.hasOwnProperty.call(r,"tickCount")&&(i.tickCount=r.tickCount),Object.prototype.hasOwnProperty.call(r,"type")&&r.type!=="dateTime"&&(i.type=r.type),Object.prototype.hasOwnProperty.call(r,"tickInterval")&&(r.type==="time"?i.tickInterval=jT(r.tickInterval):i.tickInterval=r.tickInterval),r.type==="time"&&r.mask&&(i.mask=r.mask),Object.prototype.hasOwnProperty.call(r,"min")&&(i.min=r.min),Object.prototype.hasOwnProperty.call(r,"max")&&(i.max=r.max),Object.prototype.hasOwnProperty.call(r,"minLimit")&&(i.minLimit=r.minLimit),Object.prototype.hasOwnProperty.call(r,"maxLimit")&&(i.maxLimit=r.maxLimit),Object.prototype.hasOwnProperty.call(r,"nice")&&(i.nice=r.nice),Object.prototype.hasOwnProperty.call(r,"formatter")&&(i.formatter=r.formatter),Object.prototype.hasOwnProperty.call(r,"exponent")&&(i.exponent=r.exponent),Object.prototype.hasOwnProperty.call(r,"base")&&(i.base=r.base),r.tickMethod&&(i.tickMethod=r.tickMethod)}function UT(i,r){var t=(0,f.filter)(r,function(a){return(0,f.isNumber)(a)}),e=Math.min.apply(Math,t),n=Math.max.apply(Math,t);e>0?(0,f.isNil)(i.min)&&(i.min=0):n<0&&(0,f.isNil)(i.max)&&(i.max=0)}var mh;function ZT(i,r){var t={easing:"easeLinear",duration:1e4},e=(0,f.deepMix)({},r,t),n=i.get("element").geometry;n.labelsContainer.set("visible",!1);var a=i.get("index"),o=n.coordinate,s=n.scales,l=s[mh.options.yField],u=(0,f.clone)(i.get("origin"));KT(i,o);var h=i.get("clipShape"),c=i.get("parent"),v=12,g=null,M=mh.options.seriesField;M&&(g=c.addShape("text",{attrs:{x:o.start.x+v,y:0,text:u.data[0][M],fill:i.attr("stroke"),fontSize:12,textAlign:"start",textBaseline:"middle"}}));var F=g?16:0,Y=c.addShape("text",{attrs:{x:o.start.x+v,y:F,text:"test"+a,fill:i.attr("stroke"),fontSize:12,textAlign:"start",textBaseline:"middle"}});e.callback=function(){i&&!i.get("destroyed")&&(i.setClip(null),h.remove(),Y.animate({opacity:0},300,function(){Y.remove(),(0,f.isNil)(g)||g.remove();var it=n.labelsContainer;it.get("visible")||it.set("visible",!0)}))};var V=e.delay;(0,f.isFunction)(V)&&(V=e.delay(a));var z=e.easing;(0,f.isFunction)(z)&&(z=e.easing(a)),h.animate({width:o.getWidth()},e.duration,z,e.callback,V),e.onFrame=function(it){var ot=Mp(it,u,o);if(!!ot){Y.attr("x",ot[0]+v),Y.attr("y",ot[1]+F);var yt=$T(l,ot[1],o);l.formatter&&(yt=l.formatter(yt)),Y.attr("text",yt)}},Y.animate(e.onFrame,{duration:e.duration,easing:z,callback:e.callback,delay:V}),g&&g.animate({onFrame:function(it){var ot=Mp(it,u,o);!ot||(g.attr("x",ot[0]+v),g.attr("y",ot[1]))}},e.duration,z,e.callback,V)}function KT(i,r){var t=r.start,e=r.end,n=r.height;i.setClip({type:"rect",attrs:{x:t.x,y:e.y,width:0,height:n}})}function Mp(i,r,t){for(var e=r.points,n=t.start.x+t.getWidth()*i,a=0;a<e.length-1;a++){var o=e[a],s=e[a+1];if(n>=o.x&&n<=s.x){var l=(s.y-o.y)/(s.x-o.x),u=o.y+l*(n-o.x);return[n,u]}}}function $T(i,r,t){var e=(r-t.start.y)/(t.end.y-t.start.y);return i.invert(e).toFixed(2)}function QT(i){mh=i}ui("clipingWithData",ZT);var JT=function(){function i(r){this.type="shape",this.shapes=r.shapes,this.nodes=[],this._parserNodes(),this.origion_nodes=(0,f.deepMix)([],this.nodes)}return i.prototype.measure=function(r){var t=(0,f.deepMix)({},WE(r),{shape:r});return t},i.prototype.measureNodes=function(){var r=this,t=[],e=[];(0,f.each)(this.shapes,function(n,a){var o=(0,f.deepMix)({},r.nodes[a],r.measure(n));o.width!==0&&o.height!==0&&(t.push(o),e.push(n))}),this.nodes=t,this.shapes=e},i.prototype._parserNodes=function(){var r=this;(0,f.each)(this.shapes,function(t){var e=r.measure(t);r.nodes.push(e)})},i}(),Ep=JT;function qT(i,r,t){return t===void 0&&(t={ratio:.6}),r.width*t.ratio}var tP={type:"padding",usage:"assign",expression:qT};function eP(i,r){var t=[i.topLeft,i.topRight,i.bottomRight,i.bottomLeft],e=[r.topLeft,r.topRight,r.bottomRight,r.bottomLeft],n=Rd(t,e);return Math.round(n)>=2}var rP={type:"group",usage:"compare",expression:eP};function nP(i,r,t){t===void 0&&(t={value:4});var e=[i.topLeft,i.topRight,i.bottomRight,i.bottomLeft],n=[r.topLeft,r.topRight,r.bottomRight,r.bottomLeft],a=Rd(e,n);return Math.round(a)>=t.value}var iP={type:"chain",usage:"compare",expression:nP};function aP(i,r,t){t===void 0&&(t={value:5});var e=Math.abs(i.bottom-r.top);return Math.round(e)>=t.value}var oP={type:"chain",usage:"compare",expression:aP};function sP(i,r,t){return t===void 0&&(t={ratio:.15}),i.width<r.width*t.ratio}var lP={type:"padding",usage:"compare",expression:sP};function uP(i,r){var t=2,e=r.coord.radius/t;return Math.min(e,i.value)}var fP={type:"padding",usage:"assign",expression:uP};function hP(i,r,t){return t===void 0&&(t={ratio:.8}),r.radius*t.ratio}var cP={type:"padding",usage:"assign",expression:hP},Ap={elementDist:iP,elementDistVertical:oP,elementCollision:rP,elementWidth:lP,columnWidth:tP,ringThickness:cP,minRingThickness:fP};function vG(i,r){Ap[i]=r}function as(i){i.attr("text","")}function vP(i,r,t,e){var n=e.nodes.nodes,a=n[t],o=[];if(!a.shape.get("blank"))for(var s=0;s<n.length;s++){var l=n[s],u=l.shape;if(s!==t&&!u.get("blank")){var h=Tp(a,l);h&&o.push(l)}}o.length>0&&(o.push(a),o.sort(function(c,v){return v.top-c.top}),(0,f.each)(o,function(c,v){if(v>0){var g=c.shape;as(g),g.set("blank",!0)}}))}function Tp(i,r){return!(i.bottom<r.top||r.bottom<i.top||i.right<r.left||r.right<i.left)}var dP=d(82097),Eo=d.n(dP),pP=1e3,Pp=60*pP,xh=60*Pp,Ql=24*xh,_p=31*Ql,Lp=365*Ql;function Op(i,r,t,e){var n=e.nodes.nodes,a;t===n.length-1?a=n[t-1].shape.get("delegateObject").item.name:a=n[t+1].shape.get("delegateObject").item.name;var o=new Date(a),s=i.get("delegateObject").item.name,l=new Date(s),u=n[0].shape.get("delegateObject").item.name,h=new Date(u),c=n[n.length-1].shape.get("delegateObject").item.name,v=new Date(c),g=Ip(h,v),M=Ip(l,o);if(g===M){if(t!==0&&t!==n.length-1){var F=mP(g);i.attr("text",Eo().format(l,F))}return}if(t!==0){var Y=n[t-1].shape.get("delegateObject").item.name,V=new Date(Y),z=gP(g,l,V);if(z){var F=yP(g,M);i.attr("text",Eo().format(l,F));return}}}function gP(i,r,t){var e=kp(r,i),n=kp(t,i);return e===n}function Ip(i,r){var t,e=Math.abs(i-r),n={minute:[Pp,xh],hour:[xh,Ql],day:[Ql,_p],month:[_p,Lp],year:[Lp,Infinity]};return(0,f.each)(n,function(a,o){e>=a[0]&&e<a[1]&&(t=o)}),t}function yP(i,r){for(var t=["year","month","day","hour","minute"],e=["YYYY","MM","DD","HH","MM"],n=t.indexOf(i)+1,a=t.indexOf(r),o="",s=n;s<=a;s++)o+=e[s],s<a&&(o+="-");return o}function mP(i){var r=["year","month","day","hour","minute"],t=["YYYY","MM","DD","HH","MM"],e=r.indexOf(i),n=t[e];return n}function kp(i,r){if(r==="year")return i.getFullYear();if(r==="month")return i.getMonth()+1;if(r==="day")return i.getDay()+1;if(r==="hour")return i.getHours()+1;if(r==="minute")return i.getMinutes()+1}function xP(i){var r=/^(?:(?:[0-2][0-3])|(?:[01]\d)):[0-5]\d$/,t=/^(?:(?:[0-2][0-3])|(?:[01]\d))(?::[0-5]\d){2}$/;return r.test(i)||t.test(i)}var Bp={k:{number:1e3,index:0},m:{number:1e6,index:1},b:{number:1e9,index:2},t:{number:1e12,index:3}};function Dp(i,r,t,e){if(!(!(0,f.has)(e,"node")||!(0,f.has)(e.node,"node"))){var n=e.nodes.nodes,a=parseFloat(i.get("origin").text);if(a!==0){if(r.formatter){i.attr("text",r.formatter(a));return}if(r.unit){var o=Fp(r,a),s=o.num,l=o.unitname;i.attr("text",s+l)}else{var u=wP(n),h=Nd(u),l=bP(h),c=Bp[l].number,v=SP(n),g=CP(v,c),s=Fp({unit:l,decimal:g},a).num;i.attr("text",s+l)}}}}function Fp(i,r){var t=["k","m","b","t"],e,n;if(i.unit==="auto"){var a=Math.floor(Math.log(r)/Math.log(1e3));n=t[a-1],e=(r/Math.pow(1e3,a)).toFixed(i.decimal)}else if(i.unit){var o=Bp[i.unit];n=i.unit,e=(r/o.number).toFixed(i.decimal)}return{num:e,unitname:n}}function bP(i){var r=["k","m","b","t"],t=Math.floor(Math.log(i)/Math.log(1e3));return r[t-1]}function wP(i){var r=[];return(0,f.each)(i,function(t){var e=t,n=parseFloat(e.shape.get("origin").text);r.push(n)}),r}function SP(i){if(i.length>=2){var r=parseFloat(i[0].shape.get("origin").text),t=parseFloat(i[1].shape.get("origin").text);return Math.abs(r-t)}return 0}function CP(i,r){var t=Math.floor(Math.log10(r));if(i>=r){var e=i%r;if(e>0){var n=Math.floor(Math.log10(e));return Math.abs(n-t)}}else{var a=Math.floor(Math.log10(i));return Math.abs(a-t)}return 0}function MP(i,r,t){var e=t.nodes.nodes;if(r!==e.length-1){var n=e[r],a=e[r+1],o=EP(n,a).dir,s=i.get("startPoint");o==="x"&&i.attr("y",s.y+20)}}function EP(i,r){var t,e={x:r.centerX-i.centerX,y:r.centerY-i.centerY},n=Math.sqrt(e.x*e.x+e.y*e.y),a={x:10,y:0},o=Math.sqrt(a.x*a.x+a.y*a.y),s=ah(e,a),l=s/(n*o)*180/Math.PI;l<0&&(l=360-l),l=AP(l);var u=Math.abs(i.centerX-r.centerX),h=Math.abs(i.centerY-r.centerY);return l>45?t="x":l<45&&(t="y"),{dir:t,distX:u,distY:h}}function AP(i){return i>90&&i<=180?180-i:i>180&&i<270?i-180:360-i}function TP(i,r,t,e){var n=e.nodes.nodes;if(t!==0){var a=n[t],o=n[t-1];if(Tp(a,o)){var s=e.plot.view.geometries[0].elements[0],l=o.top-a.height/2,u=10;if(l-u>e.region.top){var h=a.shape.get("origin"),c=s.getShapeId(h),v=s.getShapes(),g=PP(c,v).get("box"),M=g.left+g.width/2,F=g.top,Y=s.get("labelController").labelsContainer,V=Y.addShape("path",{attrs:{path:[["M",M,F],["L",a.shape.attr("x"),l]],stroke:"#ccc",lineWidth:1}}),z={x:i.attr("x"),y:i.attr("y")};a.shape.attr("y",l-u),n[t]=e.nodes.measure(a.shape),n[t].line=V,n[t].origin_position=z}}}}function PP(i,r){var t;return(0,f.each)(r,function(e){var n=e,a=n.get("id");a===i&&(t=n)}),t}function _P(i,r,t,e){var n=e.nodes.nodes,a=n.length%2!=0;if(!Rp(r.keep,t,n)){var o=t%2==0;(!a&&o||a&&!o)&&as(i)}}function Rp(i,r,t){var e=[];(0,f.each)(i,function(s){s==="start"?e.push(r===0):s==="end"?e.push(r===t.length-1):(0,f.isNumber)(s)&&e.push(r===s)});for(var n=0,a=e;n<a.length;n++){var o=a[n];if(o===!0)return!0}return!1}function LP(i,r,t,e){var n=e.nodes.nodes;if(!Rp(r.keep,t,n)){var a=i.attr("text"),o=i.get("delegateObject").item.name;a!==o&&as(i)}}function OP(i,r,t,e){var n=e.nodes.nodes,a=kP(n);if(!(t<=1)){var o=n[t],s=IP(t,n),l=s.centerX-o.centerX,u=s.centerY-o.centerY,h=Math.sqrt(l*l+u*u);h<a&&(as(i),i.set("blank",!0))}}function IP(i,r){for(var t=i-1;t>0;t--){var e=r[t];if(!e.shape.get("blank"))return e}}function kP(i){var r=(0,f.deepMix)([],i);return r.sort(function(t,e){return e.width-t.width}),Math.round(r[0].width)}function BP(i,r,t,e){var n=e.nodes.nodes,a=n[t];a.line&&a.line.remove();var o=e.plot.initialOptions.data,s=e.plot[e.plot.type]||e.plot[e.plot.baseType],l=(0,f.get)(s,["label","fields",0],(0,f.get)(s,["position","fields",1])),u=DP(o,l,n),h=!1;if((0,f.each)(u,function(M){M.shape.get("origin")===a.shape.get("origin")&&(h=!0)}),h){if(a.origin_position){var c=a.origin_position,v=c.x,g=c.y;i.attr("x",v),i.attr("y",g)}}else as(i)}function DP(i,r,t){var e=[];(0,f.each)(i,function(h){e.push(h[r])}),e.sort(function(h,c){return h-c});var n=e[0],a=bh(t,r,n),o=e[e.length-1],s=bh(t,r,o),l=FP(e),u=bh(t,r,l);return{min:a,max:s,median:u}}function FP(i){var r=(0,f.clone)(i);r.sort(function(e,n){return e-n});var t=Math.floor(r.length/2);return r.length%2,r[t]}function bh(i,r,t){for(var e=0,n=i;e<n.length;e++){var a=n[e],o=a.shape.get("origin")._origin;if(o[r]===t)return a}}function Np(i,r){var t=r.abbreviateBy?r.abbreviateBy:"end",e=i.attr("text"),n;t==="end"&&(n=e[0]+"..."),t==="start"&&(n="..."+e[e.length-1]),t==="middle"&&(n=e[0]+"..."+e[e.length-1]),i.resetMatrix(),i.attr({text:n,textAlign:"center",textBaseline:"top"})}function RP(i,r,t,e){var n=e.nodes.nodes,a=i.attr("text"),o=/^\d+$/.test(a);o?Dp(i,r,t,n):xP(a)?Op(i,r,t,n):Np(i,r)}function NP(i,r){i.resetMatrix(),i.attr({rotate:360-r.degree,textAlign:"right",textBaseline:"middle"})}function YP(i,r){for(var t=i.attr("text"),e=Math.ceil(t.length/r.lineNumber),n="",a=1;a<r.lineNumber;a++){var o=e*a;n=t.slice(0,o)+`
`+t.slice(o)}var s=i.attr("fontSize");i.attr({text:n,lineHeight:s,textAlign:"center",textBaseline:"top"})}var Yp={textWrapper:YP,textRotation:NP,textAbbreviate:Np,textHide:as,digitsAbbreviate:Dp,datetimeStringAbbrevaite:Op,robustAbbrevaite:RP,nodesResampling:_P,nodesResamplingByAbbrevate:LP,nodesResamplingByChange:OP,nodesResamplingByState:BP,nodeJitter:MP,nodeJitterUpward:TP,clearOverlapping:vP};function dG(i,r){Yp[i]=r}var GP=function(){function i(r){this.iterationTime=10,this.iterationIndex=0,this.rulesLocker=[],this.constraintIndex=0,(0,f.assign)(this,r),this.currentConstraint=this.constraints[0],this.rules&&(this.iterationTime=this.rules[this.currentConstraint.name].length),this._start(),this._run(),this._end()}return i.prototype._start=function(){this.onStart&&this.onStart(this.nodes)},i.prototype._iteration=function(){var r;this.nodes.type==="shape"?r=this.nodes:r=this.nodes,r.type==="shape"&&r.measureNodes(),this.rules&&this._applyRules(),r.type==="shape"&&r.measureNodes(),this.onIteration&&this.onIteration(this.nodes)},i.prototype._end=function(){this.onEnd&&this.onEnd(this.nodes)},i.prototype._run=function(){for(var r=this._constraintsTest();!r&&!(this.iterationIndex>this.iterationTime-1);)this._iteration(),r=this._constraintsTest(),this.iterationIndex++;this.constraintIndex<this.constraints.length-1&&(this.constraintIndex++,this.currentConstraint=this.constraints[this.constraintIndex],this.iterationTime=this.rules?this.rules[this.currentConstraint.name].length:1,this.iterationIndex=0,this._run())},i.prototype._constraintsTest=function(){var r=Ap[this.currentConstraint.name],t=this.currentConstraint.option;return r.usage==="compare"?this._constraintCompare(r,t):this._constraintAssignment(r,t)},i.prototype._constraintCompare=function(r,t){var e=r.type,n=r.expression,a=this.nodes.nodes;if(e==="chain")return this._chainConstraintCompare(n,a,t);if(e==="padding")return this._paddingConstraintCompare(n,this.region,a,t);if(e==="group")return this._groupConstraintCompare(n,a,t)},i.prototype._chainConstraintCompare=function(r,t,e){for(var n=0;n<t.length-1;n++){var a=t[n],o=t[n+1];if(r(a,o,e)===!1)return!1}return!0},i.prototype._paddingConstraintCompare=function(r,t,e,n){if(t)for(var a=0,o=e;a<o.length;a++){var s=o[a];if(r(s,t,n)===!1)return!1}return!0},i.prototype._groupConstraintCompare=function(r,t,e){for(var n=0;n<t.length;n++)for(var a=t[n],o=0;o<t.length;o++)if(o!==n){var s=t[o];if(r(a,s,e)===!1)return!1}return!0},i.prototype._constraintAssignment=function(r,t){var e=r.type,n=r.expression,a=this.nodes.nodes;if(e==="chain")return this._chainConstraintAssign();if(e==="padding")return this._paddingConstraintAssign(n,this.region,a,t)},i.prototype._chainConstraintAssign=function(){return!0},i.prototype._paddingConstraintAssign=function(r,t,e,n){if(t)for(var a=0,o=e;a<o.length;a++){var s=o[a],l=r(s,t,n);s.value=l}return!0},i.prototype._applyRules=function(){for(var r=this.rules[this.currentConstraint.name][this.iterationIndex],t=Yp[r.name],e=r.option?r.option:{},n=this.nodes.nodes,a=0;a<n.length;a++){var o=n[a];this._applyRule(o.shape,t,e,a)}},i.prototype._applyRule=function(r,t,e,n){var a={nodes:this.nodes,region:this.region,plot:this.plot};t(r,e,n,a)},i}(),Gp=GP,zP=function(){function i(r){(0,f.assign)(this,r),this.init()}return i.prototype.init=function(){this.type=this.getType(),this.shouldApply()&&this.apply()},i}(),zp=zP,XP={cat:"category",timeCat:"category",time:"dateTime",linear:"linear"},VP=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){this.axisInstance=this.getAxisInstance(),i.prototype.init.call(this)},r.prototype.shouldApply=function(){var t=this.plot.options;return this.responsiveTheme.axis?!!(this.responsiveTheme.axis[this.dim]&&t[this.dim+"Axis"].visible&&t[this.dim+"Axis"].label&&t[this.dim+"Axis"].label.visible):!1},r.prototype.apply=function(){for(var t=this,e=this.plot.view.backgroundGroup.findAll(function(h){var c=h.get("name");if(c==="axis-label"){var v=h.get("delegateObject").axis.get("field");if(v===t.plot.options[t.dim+"Field"])return h}}),n=[],a=0;a<e.length;a++)n.push(e[a]);var o=new Ep({shapes:n}),s=this.responsiveTheme.axis.x[this.type],l=s.constraints,u=s.rules;new Gp({nodes:o,constraints:l,region:this.plot.getViewRange(),rules:u,plot:this.plot,onEnd:function(h){t.updateTicks(h.origion_nodes)}})},r.prototype.getType=function(){var t=this.plot.options,e=this.dim+"Axis",n=this.dim+"Field";if(t[e]&&t[e].type&&t[e].type==="dateTime")return"dateTime";var a=this.plot.view.getScaleByField([t[n]]).type;return XP[a]},r.prototype.getAxisInstance=function(){var t,e,n=this.dim==="x"?0:1,a=(t=this.plot.view.getController("axis"))===null||t===void 0?void 0:t.getComponents();if(a)return(e=a[n])===null||e===void 0?void 0:e.component},r.prototype.updateTicks=function(t){var e=this,n=this.plot.view.backgroundGroup.findAll(function(o){var s=o.get("name");if(s==="axis-tickline-group"){var l=o.get("delegateObject").axis.get("field");if(l===e.plot.options[e.dim+"Field"])return o}})[0];if(n){var a=n.get("children");(0,f.each)(t,function(o,s){o.shape.attr("text")===""&&a[s].attr("opacity",0)})}this.plot.canvas.draw()},r}(zp),Ao=VP;function HP(i){var r=i.getResponsiveTheme(),t=i.canvas;new Ao({plot:i,responsiveTheme:r,dim:"x"}),new Ao({plot:i,responsiveTheme:r,dim:"y"}),t.draw()}var WP=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.shouldApply=function(){return!(!this.responsiveTheme.label||!this.responsiveTheme.label[this.type])},r.prototype.apply=function(){var t=this.plot.view.geometries[0].labelsContainer.get("children"),e=[];(0,f.each)(t,function(l){e=e.concat(l.findAllByName("label"))});var n=new Ep({shapes:e}),a=this.responsiveTheme.label[this.type],o=a.constraints,s=a.rules;new Gp({nodes:n,constraints:o,rules:s,plot:this.plot,region:this.plot.view.coordinateBBox})},r.prototype.getType=function(){return null},r}(zp),Xp=WP,jP=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getType=function(){return(0,f.get)(this.plot.options,["label","type"],"point")},r}(Xp);function UP(i){var r=i.getResponsiveTheme();new jP({plot:i,responsiveTheme:r})}var ZP=[],KP=[{name:"responsiveAxis",method:HP},{name:"responsivePointLabel",method:UP}],$P={preRender:ZP,afterRender:KP},Vp=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultOptions=function(){var t=this.layer.theme,e=t.label,n=e===void 0?{}:e;return(0,Yt.__assign)({offsetX:0,offsetY:0},n)},r.prototype.getLabelOffset=function(){return this.getLabelOffsetByDimAndFactor("y",-1)},r.prototype.getLabelItemAttrs=function(t,e){var n=this,a=this.options,o=a.style,s=a.formatter,l=(0,f.get)(t,"model.mappingData",[]);return(0,f.map)(l,function(u,h){var c,v=n.getValue(u);return(0,Yt.__assign)((0,Yt.__assign)((0,Yt.__assign)({},n.getPosition(u)),{text:s?s(v,(c={},c[Bs]=u._origin,c.mappingDatum=u,c.mappingDatumIndex=h,c.element=t,c.elementIndex=e,c),e):v,textAlign:"center",textBaseline:"middle"}),o)})},r.prototype.getValue=function(t){return(0,f.get)(t._origin,this.layer.options.yField)},r.prototype.getPosition=function(t){var e={x:(0,f.isArray)(t.x)?(0,f.last)(t.x):t.x,y:(0,f.isArray)(t.y)?(0,f.last)(t.y):t.y};return e},r.prototype.layoutLabels=function(t,e){var n=this;if(!!this.options.adjustPosition){var a=this.isOverlapped(e);if(a){var o=this.getGlobalTolerance(e);(0,f.each)(e,function(s,l){l>1&&n.labelResamplingByChange(s,e,l,o)})}a=this.isOverlapped(e),a&&(0,f.each)(e,function(s,l){s.get("visible")&&n.clearOverlapping(s,e,l)})}},r.prototype.adjustLabel=function(){},r.prototype.labelResamplingByChange=function(t,e,n,a){var o=this.findPrevious(n,e),s=this.getCenter(t),l=this.getCenter(o),u=l.x-s.x,h=l.y-s.y,c=Math.sqrt(u*u+h*h);c<a&&t.set("visible",!1)},r.prototype.clearOverlapping=function(t,e,n){for(var a=[],o=0;o<e.length;o++){var s=e[o];if(o!==n&&s.get("visible")){var l=_d(t.getBBox(),s.getBBox());l&&a.push(s)}}a.length>0&&(a.push(t),a.sort(function(u,h){return h.minY-u.minY}),(0,f.each)(a,function(u,h){h>0&&u.set("visible",!1)}))},r.prototype.isOverlapped=function(t){for(var e=0;e<t.length;e++)if(t[e].get("visible")){for(var n=t[e].getBBox(),a=0;a<t.length;a++)if(a!==e&&t[a].get("visible")){var o=t[a].getBBox(),s=_d(n,o);if(s)return!0}}return!1},r.prototype.getGlobalTolerance=function(t){var e=t.slice();return e.sort(function(n,a){return a.getBBox().width-n.getBBox().width}),Math.round(e[0].getBBox().width)},r.prototype.findPrevious=function(t,e){for(var n=t-1;n>0;n--)if(e[n].get("visible"))return e[n]},r.prototype.getCenter=function(t){var e=t.getBBox(),n=e.minX,a=e.maxX,o=e.minY,s=e.maxY;return{x:n+(a-n)/2,y:o+(s-o)/2}},r}(eh),Hp=Vp;ta("point",Vp);var Wp=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.layoutLabels=function(t,e){var n=this,a,o=[],s=Zr.fromBBoxObject(this.getCoordinateBBox()),l=t.getXYFields(),u=l[0],h=l[1],c=(0,f.groupBy)(e,function(g){return g.get(ha)[gn.FIELD_ORIGIN][u]}),v=(a=e[0])===null||a===void 0?void 0:a.get("offset");(0,f.each)((0,f.keys)(c).reverse(),function(g){for(var M=n.sortLabels(t,c[g]);M.length;){var F=M.shift();if(KA(F,o,function(z,it){return z._origin[u]===it._origin[u]&&z._origin[h]===it._origin[h]})){F.set("visible",!1);continue}Kl(F,s);var Y=$l(F,o),V=void 0;if(Y&&(F.attr("y",F.attr("y")+2*v),Kl(F,s),V=$l(F,o)),V){F.set("visible",!1);continue}o.push(F)}})},r.prototype.sortLabels=function(t,e){var n=t.getXYFields()[1],a=[];return e.sort(function(o,s){return s.get(ha)[gn.FIELD_ORIGIN][n]-o.get(ha)[gn.FIELD_ORIGIN][n]}),e.length>0&&a.push(e.shift()),e.length>0&&a.push(e.pop()),a.push.apply(a,e),a},r}(Hp),QP=Wp;ta("point-auto",Wp);var JP=8,qP=function(){function i(r){this.destroyed=!1,this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,f.deepMix)(t,r,{}),this.init()}return i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.getGeometry().elements;(0,f.each)(t,function(e){var n=r.getShapeInfo(e.shape),a=r.options,o=a.style,s=a.offsetX,l=a.offsetY,u=r.options.formatter,h=u?u(n.name):n.name;r.container.addShape("text",{attrs:(0,f.deepMix)({},{x:n.x+s,y:n.y+l,text:h,fill:n.color,textAlign:"left",textBaseline:"middle"},o),name:"label"})})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=(0,f.clone)(r.label.style);return delete t.fill,{offsetX:JP,offsetY:0,style:t}},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="line"})},i.prototype.getShapeInfo=function(r){var t=r.get("origin").points,e=t[t.length-1],n=r.attr("stroke"),a=this.plot.options.seriesField,o=r.get("origin").data[0][a];return{x:e.x,y:e.y,color:n,name:o}},i}(),jp=qP,t_={line:"line",point:"point"},e_=Ei(t_);(0,f.assign)(on,e_);var r_={stroke:"transparent",fill:"#FCC509",lineWidth:0},n_={stroke:"#FFF",fill:"#FCC509",lineWidth:1},i_={stroke:"rgba(0,0,0,0.85)",fill:"#FCC509",lineWidth:1},a_=function(){function i(r){this.points=[],this.labels=[],this.name="markerPoints",this.defaultCfg={offsetX:0,offsetY:0,style:{normal:r_,selected:i_,active:n_},label:{visible:!1,offsetY:-8,position:"top",style:{fill:"rgba(0, 0, 0, 0.85)"}},animation:!1},this.view=r.view,this.size=r.size||6,this.config=(0,f.deepMix)({},this.defaultCfg,r),this._init()}return i.prototype.render=function(){var r=this.getDataArray();this._renderPoints(r),this.view.canvas.draw(),this._addInteraction()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.points=[],this.labels=[]},i.prototype.getDataArray=function(){var r=this.view.geometries[0];return r.dataArray},i.prototype._init=function(){var r=this,t=this.view.foregroundGroup;this.container=t.addGroup(),this.render(),this.view.on("beforerender",function(){r.clear()})},i.prototype._renderPoints=function(r){var t=this;(0,f.each)(this.config.data,function(e,n){(0,f.each)(r,function(a){var o=(0,f.find)(a,function(V){return(0,f.isMatch)(V._origin,e)});if(o){var s=t.config.style.normal,l=t.container.addGroup({name:t.name}),u=o.x,h=o.y;(0,f.isArray)(u)&&(u=u[0]),(0,f.isArray)(h)&&(h=h[0]);var c=t.config.symbol,v=t.config,g=v.offsetX,M=v.offsetY,F=void 0;if((0,f.isString)(c)&&c.startsWith("image://")){var Y=c.substr(8);F=l.addShape("image",{attrs:{x:u-t.size/2+g,y:h-t.size/2+M,img:Y,width:t.size,height:t.size}})}else c=(0,f.isString)(c)?xE.MarkerSymbols[c]:c,F=l.addShape({type:"marker",name:"marker-point",id:"point-"+n,attrs:(0,Yt.__assign)((0,Yt.__assign)({x:u+g,y:h+M,r:t.size/2},s),{symbol:c})});t.points.push(F),t._animatePoint(F),t._renderLabel(l,o,n),l.set("data",e),l.set("origin",o)}})})},i.prototype._renderLabel=function(r,t,e){var n=this.config.label;if(n&&n.visible){var a=n.offsetX,o=a===void 0?0:a,s=n.offsetY,l=s===void 0?0:s,u=n.formatter,h=n.position,c=n.field,v=t._origin[c];u&&(v=u(v,{_origin:t._origin},e));var g=(0,f.isArray)(t.x)?t.x[0]:t.x,M=(0,f.isArray)(t.y)?t.y[0]:t.y,F=r.addShape("text",{name:"marker-label",id:"label-"+e,attrs:(0,Yt.__assign)((0,Yt.__assign)({x:g+o,y:M+l,text:v||""},n.style),{textAlign:"center",textBaseline:h==="top"?"bottom":"top"})});this.labels.push(F)}},i.prototype._addInteraction=function(){var r=this,t=this.config.events;(0,f.each)(t,function(e,n){r.container.on(r.name+":"+n,function(a){e(a);var o=a.target.get("parent"),s=o.get("children")[0];if(s){var l=s.get("data"),u=s.get("id"),h={id:u,data:l};n==="click"?r.selectedPoint&&r.selectedPoint.get("id")===u?(r.selectedPoint=null,r.setState("inactive",h)):(r.selectedPoint=s,r.setState("selected",h)):n==="mouseenter"?r.setState("active",h):n==="mouseleave"&&r.setState("inactive",h)}r.view.canvas.draw()}),r.view.on("click",function(a){var o=a.target.get("parent");(!o||o.get("name")!==r.name&&r.selectedPoint)&&(r.selectedPoint=null,r.setState("inactive"))})})},i.prototype.setState=function(r,t){var e=this;r==="active"?(!this.selectedPoint||t.id!==this.selectedPoint.get("id"))&&this._onActive(t):r==="inactive"?this.points.forEach(function(n){return e._onInactive(n)}):r==="selected"&&this._onSelected(t)},i.prototype._onActive=function(r){var t=this,e=this.config.style.active;(0,f.each)(this.points,function(n){n.get("id")===r.id?(0,f.each)(e,function(a,o){n.attr(o,a)}):t._onInactive(n)})},i.prototype._onInactive=function(r){var t=this.config.style.normal;(!this.selectedPoint||r.get("id")!==this.selectedPoint.get("id"))&&(0,f.each)(t,function(e,n){r.attr(n,e)})},i.prototype._onSelected=function(r){var t=this,e=this.config.style.selected;(0,f.each)(this.points,function(n){n.get("id")===r.id?(0,f.each)(e,function(a,o){n.attr(o,a)}):t._onInactive(n)})},i.prototype._animatePoint=function(r){var t=this.config,e=t.animation,n=t.size;if(e!==!1){var a=e,o=a.endState,s=o===void 0?{}:o,l=a.animateCfg,u=l===void 0?So.DEFAULT_ANIMATE_CFG.appear:l;r.animate((0,Yt.__assign)({r:Number.isNaN(s.size/2)?n/2:s.size/2},s),u)}},i}(),o_=a_,s_=function(i){var r=i.shape,t=r.attr("lineWidth")||1;return{lineWidth:t+1}},l_=function(i){var r=i.shape,t=r.attr("opacity")||1;return{opacity:t*.2}},u_=function(i){var r=i.shape,t=r.attr("lineWidth")||1;return{lineWidth:t+2}};ea("line",{lineStyle:{normal:{},active:s_,disable:l_,selected:u_},pointStyle:{normal:{},active:{},disable:{},selected:{}}});var f_={label:{point:{constraints:[{name:"elementCollision"}],rules:{elementCollision:[{name:"nodesResamplingByChange"},{name:"clearOverlapping"}]}}}};pp("line",f_);var h_=function(i){(0,Yt.__extends)(r,i);function r(t){return i.call(this,(0,Yt.__assign)({processEvent:"mousemove"},t))||this}return r.prototype.start=function(){},r.prototype.process=function(t){var e=(0,f.filter)(this.view.geometries,function(o){return o.type=="line"}),n=t.target;if(n.get("name")==="line"){var a=(0,f.get)(t,"data.data");(0,f.each)(e,function(o){(0,f.each)(o.elements,function(s){s.setState("active",s.data===a)})})}else(0,f.each)(e,function(o){(0,f.each)(o.elements,function(s){s.setState("active",!1)})})},r}(uh),c_=h_,v_=function(i){(0,Yt.__extends)(r,i);function r(t){return i.call(this,(0,Yt.__assign)({endEvent:"click"},t))||this}return r.prototype.start=function(){},r.prototype.end=function(t){var e=t.target,n=(0,f.filter)(this.view.geometries,function(o){return o.type=="line"});if(e.get("name")==="line"){var a=(0,f.get)(t,"data.data");(0,f.each)(n,function(o){(0,f.each)(o.elements,function(s){s.setState("inactive",s.data!==a)})})}else(0,f.each)(n,function(o){(0,f.each)(o.elements,function(s){s.setState("inactive",!1)})})},r}(uh),d_=v_,p_=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"name",{get:function(){return"selected-tooltip"},enumerable:!1,configurable:!0}),r.prototype.getTooltipCfg=function(){var t=i.prototype.getTooltipCfg.call(this);return(0,Yt.__assign)((0,Yt.__assign)({},t),{showContent:!1,showCrosshairs:!0,showMarkers:!0,shared:!0})},r}(Sd.Z);sr("selected-tooltip",p_);var g_=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.show=function(){var t=this.getPoint();(0,f.isEqual)(t,this.location)||(this.location=t,this.showTooltip(t))},r.prototype.hide=function(){var t=this.getTooltipController();t.hideTooltip()},r.prototype.showTooltip=function(t){var e=this.getTooltipController();e.showTooltip(t)},r.prototype.getPoint=function(){var t=this.context.event;return t?{x:t.x,y:t.y}:this.getLastXPoint()},r.prototype.getLastXPoint=function(){var t=this.getView(),e=t.getXScale(),n=t.getYScales()[0],a=t.getCoordinate(),o=(0,f.last)(e.getTicks()).value;return a.convert({x:o,y:(n.range[0]+n.range[1])/2})},r.prototype.getView=function(){return this.context.view},r.prototype.getTooltipController=function(){return this.getView().getController("selected-tooltip")},r}(tn),y_=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"name",{get:function(){return"tooltip-active"},enumerable:!1,configurable:!0}),r.prototype.getTooltipCfg=function(){var t=i.prototype.getTooltipCfg.call(this);return(0,Yt.__assign)((0,Yt.__assign)({},t),{showCrosshairs:!0,showMarkers:!1,shared:!0})},r}(Sd.Z);sr("tooltip-active",y_);var m_=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){this.getView().removeInteraction("tooltip")},r.prototype.show=function(){var t=this.getPoint();t&&this.showTooltip(t)},r.prototype.hide=function(){var t=this.getView(),e=this.getTooltipController();e.hideTooltip();var n=(0,f.filter)(t.geometries,function(a){return a.type=="point"});(0,f.each)(n,function(a){(0,f.each)(a.elements,function(o){o.setState("active",!1)})})},r.prototype.showTooltip=function(t){var e=this.getView(),n=this.getTooltipController();n.showTooltip(t);var a=n.getTooltipItems(t),o=(0,f.filter)(e.geometries,function(s){return s.type=="point"});(0,f.each)(o,function(s){(0,f.each)(s.elements,function(l){l.setState("active",(0,f.findIndex)(a,function(u){return u.data===l.data})!==-1)})})},r.prototype.getPoint=function(){var t=this.context.event;return t?{x:t.x,y:t.y}:null},r.prototype.getView=function(){return this.context.view},r.prototype.getTooltipController=function(){return this.getView().getController("tooltip-active")},r}(tn),x_=m_;Tr("selected-tooltip",g_),an("selected-tooltip",{start:[{trigger:gn.VIEW_LIFE_CIRCLE.AFTER_PAINT,action:"selected-tooltip:show"},{trigger:gn.VIEW_LIFE_CIRCLE.AFTER_RENDER,action:"selected-tooltip:show"},{trigger:"plot:mousemove",action:"selected-tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"selected-tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}]}),Tr("marker-active",x_),an("marker-active",{start:[{trigger:gn.VIEW_LIFE_CIRCLE.AFTER_PAINT,action:"marker-active:show"},{trigger:gn.VIEW_LIFE_CIRCLE.AFTER_RENDER,action:"marker-active:show"},{trigger:"plot:mousemove",action:"marker-active:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"marker-active:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:mouseleave",action:"marker-active:hide",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchend",action:"marker-active:hide",throttle:{wait:50,leading:!0,trailing:!1}}]});var b_={line:"line",point:"point"},Up=function(i){(0,Yt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="line",t.markerPoints=[],t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{connectNulls:!1,smooth:!1,lineSize:2,lineStyle:{lineJoin:"round",lineCap:"round"},point:{visible:!1,size:3,shape:"circle"},label:{visible:!1,type:"point"},legend:{visible:!0,position:"top-left",wordSpacing:4},tooltip:{showContent:!0,crosshairs:{line:{style:{stroke:"rgba(0,0,0,0.45)"}}}},markerPoints:[]})},r.prototype.afterRender=function(){var t=this,e=this.options;this.renderLabel(),e.markerPoints&&((0,f.each)(this.markerPoints,function(n){return n.destroy()}),this.markerPoints=[],e.markerPoints.forEach(function(n){if(n.visible){var a=new o_((0,Yt.__assign)((0,Yt.__assign)({},n),{view:t.view}));t.markerPoints.push(a)}})),e.responsive&&e.padding!=="auto"&&this.applyResponsive("afterRender"),i.prototype.afterRender.call(this)},r.prototype.getColorScale=function(){var t=this.options.seriesField;if(t)return this.view.getScaleByField(t)},r.prototype.geometryParser=function(t,e){return b_[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={},(0,f.has)(t,"xAxis")&&bi(e[t.xField],t.xAxis),e[t.yField]={},(0,f.has)(t,"yAxis")&&bi(e[t.yField],t.yAxis),this.setConfig("scales",e),UT(e[t.yField],(0,f.map)(t.data||[],function(n){return n[t.yField]})),i.prototype.scale.call(this)},r.prototype.coord=function(){},r.prototype.tooltip=function(){(0,f.some)(this.options.markerPoints,function(t){return t.visible})&&(this.options.tooltip.showMarkers=!1),i.prototype.tooltip.call(this)},r.prototype.addGeometry=function(){this.addLine(),this.addPoint()},r.prototype.addLine=function(){var t=this.options;this.line=Jn("line","main",{plot:this}),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",this.line)},r.prototype.addPoint=function(){var t=this.options,e={visible:!1};t.point&&(t.point=(0,f.deepMix)(e,t.point)),t.point&&t.point.visible&&(this.point=Jn("point","guide",{plot:this}),this.setConfig("geometry",this.point))},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.yField,o=t[a];if(n.visible){var s=Mo(this.view,"line");if(n.type==="line"){var l=new jp((0,Yt.__assign)({view:this.view,plot:this},this.options.label));l.render()}else this.doRenderLabel(s,(0,Yt.__assign)({type:"point",formatter:o.formatter&&function(u){return o.formatter(u)}},this.options.label))}},r.prototype.geometryTooltip=function(){this.line.tooltip={};var t=this.options.tooltip;t.fields&&(this.line.tooltip.fields=t.fields),t.formatter&&(this.line.tooltip.callback=t.formatter,t.fields||(this.line.tooltip.fields=[this.options.xField,this.options.yField],this.options.seriesField&&this.line.tooltip.fields.push(this.options.seriesField)))},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation?(QT({options:this.options,view:this.view}),this.line.animate=t.animation):(this.line.animate=!1,this.point&&(this.point.animate=!1))},r.prototype.applyInteractions=function(){i.prototype.applyInteractions.call(this),this.interactions.push(new c_({view:this.view})),this.interactions.push(new d_({view:this.view}))},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,_)},r.prototype.applyResponsive=function(t){var e=this,n=$P[t];(0,f.each)(n,function(a){var o=a;o.method(e)})},r.prototype.singleLineLabelCheck=function(){return!this.options.seriesField&&this.options.label.type&&this.options.label.type==="line"},r}(Wn),Rs=Up;en("line",Up);var w_=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="line",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Rs.getDefaultOptions,r}(Wr),Zp=w_;function S_(i,r,t,e,n){var a=e-r,o=i.children,s=i.value;o.sort(function(h,c){return c.value-h.value});var l=a/s,u=r;(0,f.each)(o,function(h){h.y0=t,h.y1=n,h.x0=u,u+=h.value*l,h.x1=h.x0+h.value*l})}function C_(i,r,t,e,n){var a=n-t,o=i.children,s=i.value;o.sort(function(h,c){return c.value-h.value});var l=a/s,u=t;(0,f.each)(o,function(h){h.x0=r,h.x1=e,h.y0=u,u+=h.value*l,h.y1=h.y0+h.value*l})}var M_=(1+Math.sqrt(5))/2;function Kp(i,r,t,e,n){var a=i.children,o=i.value;a.sort(function(zt,jt){return jt.value-zt.value});for(var s=[],l,u,h,c,v,g,M,F,Y=0,V=0;Y<a.length;){var z=e-r,it=n-t;for(l=a[V++].value,u=l,h=l,c=Math.max(it/z,z/it)/(o*M_),v=l*l*c,M=Math.max(u/v,v/h);V<a.length;V++){if(F=a[V].value,l+=F,F<h&&(h=F),F>u&&(u=F),v=l*l*c,g=Math.max(u/v,v/h),g>M){l-=F;break}M=g}var ot={value:l,dice:z<it,children:a.slice(Y,V)};if(s.push(ot),ot.dice){var yt=o?it*l/o:it;S_(ot,r,t,e,t+yt),o&&(t+=yt)}else{var It=o?z*l/o:z;C_(ot,r,t,r+It,n),o&&(r+=It)}o-=l,Y=V}return s}var E_=function(i){(0,Yt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.listeners=[],t.onItemGroupToggleActive=function(e,n){return function(){var a=e.get("children").find(function(o){return o.get("class")==="item-background"});a&&a.attr(n?t.itemActiveBackgroundStyle:t.itemBackgroundStyle),t.getCanvas().draw()}},t}return r.prototype.destroy=function(){this.offEvents(),i.prototype.destroy.call(this)},r.prototype.initConfig=function(t){this.x=t.x,this.y=t.y,this.items=t.items||[],this.itemPadding=t.itemPadding||[2,8,2,8],this.backgroundStyle=(0,Yt.__assign)({lineWidth:1,stroke:"#ffffff"},t.backgroundStyle||{}),this.itemBackgroundStyle=(0,Yt.__assign)({fill:"#fff"},t.itemBackgroundStyle||{}),this.itemActiveBackgroundStyle=(0,Yt.__assign)({fill:"#ccc",opacity:.2},t.itemActiveBackgroundStyle||{}),this.separator=t.separator||"/",this.separatorStyle=(0,Yt.__assign)({textBaseline:"top",fill:"#000000",opacity:.45},t.separatorStyle||{}),this.itemWidth=t.itemWidth,this.itemHeight=t.itemHeight,this.maxItemWidth=t.maxItemWidth,this.textStyle=(0,Yt.__assign)({textBaseline:"top",fill:"#000000",opacity:.45},t.textStyle||{})},r.prototype.renderInner=function(t){var e=0,n=0;this.offEvents(),this.renderItems(t,e,n),tp(this.group,this.x,this.y)},r.prototype.renderItems=function(t,e,n){var a=this,o=this.itemPadding,s=o[0],l=o[1],u=o[2],h=o[3],c,v=t.addShape("rect",{class:"breadcrumb-background",attrs:(0,Yt.__assign)({x:e,y:n,width:1,height:1},this.backgroundStyle)});this.items.forEach(function(g,M){var F=t.addGroup({id:"item-group-"+g.key,data:g,class:"item-group",attrs:{cursor:"pointer"}}),Y=F.addShape("rect",{id:"item-background-"+g.key,class:"item-background",attrs:(0,Yt.__assign)((0,Yt.__assign)({x:e,y:n,width:h+l,height:s+u},a.itemBackgroundStyle),{cursor:"pointer"})});Y.name="breadcrumb";var V=F.addShape("text",{id:"item-text-"+g.key,class:"item-text",attrs:(0,Yt.__assign)((0,Yt.__assign)({x:e+h,y:n+s,text:g.text},a.textStyle),{cursor:"pointer"})});V.name="breadcrumb";var z=V.getBBox();c=a.itemHeight||z.height;var it=a.itemWidth||z.width;a.maxItemWidth&&(it=Math.min(it,a.maxItemWidth));var ot={x:e,y:n,width:it+h+l,height:c+s+u};if(Y.attr("width",ot.width),Y.attr("height",ot.height),F.setClip({type:"rect",attrs:ot}),e+=ot.width,M!==a.items.length-1){var yt=t.addShape("text",{attrs:(0,Yt.__assign)({x:e,y:n+s,text:a.separator},a.separatorStyle),class:"separator"});e+=yt.getBBox().width}}),v.attr({width:e,height:c+s+u})},r.prototype.bindEvents=function(t){var e=this,n=this.items,a=t.get("children").filter(function(s){return s.get("class")==="item-group"}),o=function(s,l,u){return function(){var h=l.get("data"),c=n.find(function(v){return v.key===h});e.emit(u,{item:c})}};a.forEach(function(s){var l=o("click",s,"onItemClick"),u=o("dblclick",s,"onItemDblclick"),h=e.onItemGroupToggleActive(s,!0),c=e.onItemGroupToggleActive(s,!1);s.on("click",l),s.on("dblclick",u),s.on("mouseenter",h),s.on("mouseleave",c),e.listeners.push({target:s,event:"click",callback:l}),e.listeners.push({target:s,event:"dblclick",callback:u}),e.listeners.push({target:s,event:"mouseenter",callback:h}),e.listeners.push({target:s,event:"mouseleave",callback:c})})},r.prototype.offEvents=function(){this.listeners&&this.listeners.forEach(function(t){var e=t.target,n=t.event,a=t.callback;e.off(n,a)}),this.listeners=[]},r}(Ds),A_=E_,Jl=[1,0,0,0,1,0,0,0,1],zo=400,os="easeQuadInOut";function T_(i,r,t){var e=qp(i),n=Jp(r),a=n.width/e.width,o=n.height/e.height,s=(n.minX-e.minX)*a,l=(n.minY-e.minY)*o,u=ns([["s",a,o],["t",s,l]]),h=r.geometries[0];ql(h);var c=r.backgroundGroup.addGroup();c.set("zIndex",-100),c.setClip({type:"rect",attrs:{x:n.minX,y:n.minY,width:n.width,height:n.height}});var v=$p(h,c);h.container.set("visible",!1),r.canvas.draw(),t(),window.setTimeout(function(){(0,f.each)(v,function(Y,V){V===0?Y.animate({matrix:u},zo,os,function(){c.remove(),r.canvas.draw()}):Y.animate(ns,zo)}),h=r.geometries[0],ql(h);var g=h.getShapes();(0,f.each)(g,function(Y){Y.attr("opacity",0),Y.animate({opacity:1},zo,os)});var M=h.container;M.stopAnimate(),M.set("visible",!0),M.attr("matrix",(0,f.clone)(Jl)),GA(M,[["s",e.width/n.width,e.height/n.height],["t",e.minX,e.minY]]);var F=(0,f.clone)(Jl);h.container.animate({matrix:F},zo,os,function(){tg(h)}),r.canvas.draw()},16)}function $p(i,r){var t=i.getShapes(),e=[];return(0,f.each)(t,function(n){var a=r.addShape("path",{attrs:(0,f.deepMix)({},n.attrs,{capture:!1})});e.push(a)}),e}function Qp(i,r,t){var e=r.geometries[0];ql(e);var n=e.container;n.attr("matrix",(0,f.clone)(Jl));var a=r.backgroundGroup.addGroup();a.set("zIndex",-100);var o=$p(e,a);n.set("visible",!1),r.canvas.draw(),t(),e=r.geometries[0],ql(e),n=e.container;var s=P_(e.getShapes(),i),l=qp(s),u=Jp(r),h=n.get("parent");h.get("clipShape")||n.setClip({type:"rect",attrs:{x:u.minX,y:u.minY,width:u.width,height:u.height}}),__(a,o,l,u);var c=u.width/l.width,v=u.height/l.height,g=(u.minX-l.minX)*c,M=(u.minY-l.minY)*v,F=ns([["s",c,v],["t",g,M]]);n.setMatrix(F),n.set("visible",!0),n.animate({matrix:Jl},zo,os,function(){tg(e)})}function P_(i,r){var t;return(0,f.each)(i,function(e){var n=e.get("origin").data.name;n===r&&(t=e)}),t}function Jp(i){var r=i.coordinateBBox,t={minX:r.minX,minY:r.minY,centerX:(r.maxX-r.minX)/2,centerY:(r.maxY-r.minY)/2,width:r.width,height:r.height};return t}function qp(i){var r=i.attr("path"),t=r[0][1],e=r[0][2],n=r[1][1],a=r[2][2],o={minX:t,minY:a,centerX:(n-t)/2,centerY:(e-a)/2,width:Math.abs(n-t),height:Math.abs(e-a)};return o}function __(i,r,t,e){var n=t.width/e.width,a=t.height/e.height,o=ns([["s",n,a],["t",t.minX,t.minY]]);i.animate({matrix:o},zo,os,function(){i.remove()}),(0,f.each)(r,function(s){s.animate({opacity:0},zo,os)})}function ql(i){var r=i.labelsContainer;r.set("visible",!1)}function tg(i){var r=i.labelsContainer;r.set("visible",!0)}var L_=100,O_=30,I_=10,k_=function(i){i===void 0&&(i={});var r=(0,Yt.__assign)({x:0,y:0,startNode:{name:"root"},itemWidth:L_,itemHeight:O_,padding:[0,0,0,0]},i);return r},eg=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.getInteractionRange=function(t,e){var n=k_(e),a=n.padding,o=a[0],s=a[1];if(t)return new Zr(t.minX,t.maxY-n.itemHeight-o-s,t.width,n.itemHeight+o+s)},r.prototype.start=function(t){var e=this,n=t.data.data;n.children&&(this.parentNode={color:t.target.attr("fill"),shape:t.target,data:{name:(0,f.clone)(this.currentNode.name),value:(0,f.clone)(this.currentNode.value)},depth:(0,f.clone)(this.currentDepth)},this.currentDepth++,T_(t.target,this.view,function(){e.update(n)}))},r.prototype.update=function(t){(0,f.hasKey)(this.cache,t.name)||(this.cache[t.name]=t);var e=this.plot.getTreemapData(t,t.depth);this.view.changeData(e),this.adjustScale(this.currentDepth),this.currentNode=t,this.render()},r.prototype.render=function(){if(this.breadcrumb){var t=this.getItems();this.breadcrumb.update({items:t}),this.breadcrumb.render(),this.layout()}else this.initGeometry(),this.cache={},this.saveOriginMapping(),this.container=this.plot.canvas.addGroup(),this.startNode||(this.startNode={name:"root"}),this.startNode.name==="root"?(this.startNodeName=(0,f.hasKey)(this.plot.options.data,"name")?this.plot.options.data.name:"root",this.currentNode=this.plot.options.data,this.currentDepth=1):(this.startNodeName=this.startNode.name,this.currentNode=this.startNode),this.y=this.view.coordinateBBox.maxY+I_,this.breadcrumb=new A_({container:this.container,x:0,y:this.y,items:this.getItems()}),this.breadcrumb.init(),this.breadcrumb.render(),this.plot.canvas.draw(),this.layout();this.onInteraction()},r.prototype.clear=function(){},r.prototype.layout=function(){var t=this.container.getBBox().width,e=(this.plot.width-t)/2;this.breadcrumb.update({x:e,y:this.y}),this.breadcrumb.render()},r.prototype.getItems=function(){var t=[];if(this.currentNode.name&&this.currentNode.name===this.startNodeName){var e=this.getRootItem();t.push(e)}else{t=[];var n=[];this.findParent(this.currentNode,n),t.push(this.getRootItem()),(0,f.each)(n,function(a,o){t.push({key:String(o+2),text:a.name,data:a})}),t.push({key:String(n.length+2),text:this.currentNode.name,data:this.currentNode})}return t},r.prototype.findParent=function(t,e){if(t.parent)(0,f.hasKey)(this.cache,t.parent.name)?e.push(this.cache[t.parent.name]):e.push(t.parent),this.findParent(t.parent,e);else return},r.prototype.onInteraction=function(){var t=this;this.container.on("click",function(e){var n=e.target.get("parent");if(n&&n.get("class")==="item-group"){var a=n.get("data");if(a.data)if(a.text===t.startNodeName){var o=1;t.currentDepth-1===o?Qp(t.currentNode.name,t.view,function(){t.updateRoot(a)}):t.updateRoot(a),t.currentDepth=1}else{if(t.currentNode===a.data)return;var s=(0,f.clone)(t.currentDepth);t.currentDepth=parseInt(a.key),s-1===t.currentDepth?Qp(t.currentNode.name,t.view,function(){t.update(a.data)}):t.update(a.data)}}})},r.prototype.getRootItem=function(){var t=this.plot.options.data,e=(0,f.hasKey)(t,"name")?t.name:"root";return{key:"1",text:e,data:this.plot.rootData}},r.prototype.saveOriginMapping=function(){var t=this.plot.options,e=t.colorField,n=t.colors,a={field:e,values:n};this.originMapping=a},r.prototype.adjustScale=function(t){var e=this.view;if(this.mapping&&(0,f.hasKey)(this.mapping,String(t))){var n=(0,f.clone)(this.mapping[t]);if(n.values&&(0,f.isFunction)(n.values)){var a=n.values(this.parentNode,this.currentNode);n.values=a}this.view.geometries[0].color(n.field,n.values)}else{var n=(0,f.clone)(this.originMapping);this.view.geometries[0].color(n.field,n.values)}e.render()},r.prototype.initGeometry=function(){this.geometry=this.view.geometries[0];var t=this.view.viewBBox,e=this.geometry.container;e.setClip({type:"rect",attrs:{x:t.minX,y:t.minY,width:t.width,height:t.height}})},r.prototype.updateRoot=function(t){this.view.changeData(t.data),this.adjustScale(1),this.currentNode=this.plot.options.data,this.render()},r}(Ia),B_=eg;Ia.registerInteraction("drilldown",eg);var D_={drilldown:B_},F_={rect:"polygon",breadcrumb:"breadcrumb"},R_=Ei(F_);(0,f.assign)(on,R_);var rg=4,N_=8;function Y_(i,r){return!i.children||i.depth>=r}function G_(i,r,t){var e=i.attr("fontSize"),n=i.attr("text"),a=t.addShape("text",{attrs:{text:"",x:0,y:0,fontSize:e}}),o=n.split(`
`),s=o.map(function(l){for(var u="",h=l.split(""),c=[],v=0;v<h.length;v++){var g=h[v];a.attr("text",u+=g);var M=a.getBBox().width-1;if(M>r){if(v===0)break;c.push(v),u=""}}return Pd(h,c)});return a.remove(),s.join(`
`)}function ng(i,r,t,e){for(var n=e.addShape("text",{attrs:{text:"...",x:0,y:0,fontSize:r}}),a=n.getBBox().width,o=e.addShape("text",{attrs:{text:"",x:0,y:0,fontSize:r}}),s="",l=t-a,u=0;u<i.length;u++){var h=i[u];o.attr("text",s+=h);var c=o.getBBox().width;if(c>=l){var v=s.substr(0,s.length-1);if(v.length>0)return v+"..."}}return o.remove(),n.remove(),s}var z_=function(){function i(r){this.destroyed=!1,this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,f.deepMix)(t,r,{}),this.init()}return i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.getGeometry().elements;(0,f.each)(t,function(e){var n=e.shape,a=n.get("origin").data,o=Y_(a,r.plot.options.maxLevel);if(a.showLabel){var s=(0,f.clone)(r.options.style),l=r.getPosition(n,o),u=r.options.formatter,h=u?u(a.name):a.name,c=r.getTextBaseLine(o),v=r.container.addShape("text",{attrs:(0,f.deepMix)({},s,{x:l.x,y:l.y,text:h,fill:"black",textAlign:"center",textBaseline:c,fontWeight:o?300:600}),name:"label"});r.adjustLabel(v,n,o)}})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getPosition=function(r,t){var e=r.getBBox(),n=0,a=0;return t?(n=e.minX+e.width/2,a=e.minY+e.height/2):(n=e.x+e.width/2,a=e.y+4),{x:n,y:a}},i.prototype.getTextBaseLine=function(r){return r?"middle":"top"},i.prototype.adjustLabel=function(r,t,e){e?this.adjustLeafLabel(r,t):this.adjustParentLabel(r,t)},i.prototype.adjustLeafLabel=function(r,t){var e=t.getBBox(),n=r.getBBox(),a=(0,f.clone)(r.attr("text")),o=2,s=Math.max(r.attr("fontSize")-o,N_),l=e.x+e.width/2,u=e.y+e.height/2;r.attr({x:l,y:u,textAlign:"center",textBaseline:"middle",lineHeight:s,fontSize:s});var h=e.width-rg*2;if(n.width>e.width&&n.height>e.height){r.attr("text","");return}else if(h<s){r.attr("text","");return}if(n.width>e.width){var c=G_(r,h,this.container);r.attr({lineHeight:r.attr("fontSize"),text:c});var v=r.getBBox();if(v.height>e.height){var g=ng(a,s,h,this.container);r.attr("text",g)}}},i.prototype.adjustParentLabel=function(r,t){var e=t.getBBox(),n=e.width-rg*2;if(r.getBBox().width>n){var a=ng(r.attr("text"),r.attr("fontSize"),n,this.container);r.attr("text",a)}},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=r.label.style;return{offsetX:0,offsetY:0,style:(0,f.clone)(t)}},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="polygon"})},i}(),X_=z_,V_=4,Ns=4,ig=function(i){(0,Yt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="treemap",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{maxLevel:2,padding:[0,0,0,0],tooltip:{visible:!1,showTitle:!1,showCrosshairs:!1,showMarkers:!1,shared:!1},legend:{visible:!1},xAxis:{visible:!1},yAxis:{visible:!1},xField:"x",yField:"y",label:{visible:!0,adjustPosition:!0,style:{stroke:"rgba(0,0,0,0)",lineWidth:0,fontSize:12}},meta:{x:{nice:!1},y:{nice:!1}},interactions:[{type:"tooltip"}]})},r.prototype.beforeInit=function(){var t=this;i.prototype.beforeInit.call(this);var e=this.options.interactions;e&&(0,f.each)(e,function(o){o.type==="drilldown"&&(t.isDrilldown=!0,t.options.maxLevel=1)});var n=this.options.data,a=this.getTreemapData(n);this.rootData=a},r.prototype.afterRender=function(){if(i.prototype.afterRender.call(this),this.options.label&&this.options.label.visible){var t=new X_((0,Yt.__assign)({view:this.view,plot:this},this.options.label));t.render()}},r.prototype.geometryParser=function(){return"polygon"},r.prototype.getTreemapData=function(t,e){var n=this.getViewRange(),a=Kp(t,n.x,n.y,n.width,n.height);this.recursive(a,1);var o=[];return this.getAllNodes(a,o,e),o.sort(function(s,l){return s.depth-l.depth}),this.options.xField="x",this.options.yField="y",o},r.prototype.processData=function(){return this.rootData},r.prototype.coord=function(){},r.prototype.addGeometry=function(){var t=this,e=this.options,n=e.data,a=e.colorField,o=e.color,s=this.getTreemapData(n);this.rootData=s;var l=this.isNested(s);this.rect={type:"polygon",position:{fields:["x","y"]},color:{fields:[a],values:o},style:{fields:["depth"],callback:function(u){var h=t.adjustStyleByDepth(u,l);return(0,f.deepMix)({},h,t.options.rectStyle)}},tooltip:{fields:["name","value"]}},this.options.tooltip&&this.options.tooltip.formatter&&(this.rect.tooltip.callback=this.options.tooltip.formatter),this.setConfig("geometry",this.rect)},r.prototype.applyInteractions=function(){var t=this,e=this.options.interactions,n=this.view.interactions;(0,f.each)(e,function(a){var o=D_[a.type];if(o){var s=new o((0,f.deepMix)({},{view:t.view,plot:t,startEvent:"polygon:click"},a.cfg,o.getInteractionRange(t.layerBBox,a.cfg)));n[a.type]=s}})},r.prototype.animation=function(){i.prototype.animation.call(this),this.isDrilldown&&(this.rect.animate=!1)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,P)},r.prototype.recursive=function(t,e){var n=this,a=this.options.colorField;(0,f.each)(t,function(o){(0,f.each)(o.children,function(s){s.depth=e,e>1&&(s.parent=o),(0,f.hasKey)(s,a)||(s[a]=o[a]),s.showLabel=!0;var l=n.isLeaf(s);if(!l){var u=Math.abs(s.y1-s.y0),h=n.getLabelHeight(),c=u/2>h?h:Ns;s.showLabel=c!==Ns;var v=Kp(s,s.x0+Ns,s.y0+c,s.x1-Ns,s.y1-Ns);n.fillColorField(v,a,s[a]),n.recursive(v,s.depth+1)}})})},r.prototype.getAllNodes=function(t,e,n){var a=this,o=n||this.options.maxLevel,s=this.getViewRange();(0,f.each)(t,function(l){(0,f.hasKey)(l,"x0")&&l.depth<=o&&e.push((0,Yt.__assign)((0,Yt.__assign)({},l),{x:[l.x0,l.x1,l.x1,l.x0],y:[s.height-l.y1,s.height-l.y1,s.height-l.y0,s.height-l.y0]})),(0,f.hasKey)(l,"children")&&a.getAllNodes(l.children,e)})},r.prototype.fillColorField=function(t,e,n){(0,f.each)(t,function(a){(0,f.hasKey)(a,e)||(a[e]=n)})},r.prototype.getLabelHeight=function(){var t=this.options.label,e=this.getPlotTheme().label.style.fontSize,n=0;if(t&&t.visible){var a=t.style;n=a&&a.fontSize?a.fontSize:e}return n+V_*2},r.prototype.isLeaf=function(t){return!t.children||t.children.length===0},r.prototype.isNested=function(t){var e=this.options.maxLevel;if(e===1)return!1;for(var n=!1,a=0;a<t.length;a++)if(t[a].children){n=!0;break}return n},r.prototype.adjustStyleByDepth=function(t,e){var n=this.options.maxLevel;return e?t===1?{lineWidth:1,stroke:"black",opacity:t/n}:{lineWidth:1,stroke:"rgba(0,0,0,0.3)",opacity:t/n}:{lineWidth:1,stroke:"rgba(0,0,0,0.9)",opacity:.9}},r}(Wn),H_=ig;en("treemap",ig);var W_=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="treemap",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=H_.getDefaultOptions,r}(Wr),ag=W_,og=function(i){(0,Yt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="step-line",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{step:"hv"})},r}(Rs);en("step-line",og);var j_=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="step-line",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=og.getDefaultOptions,r}(Wr),sg=j_;function lg(i,r){var t=[],e=i.get("origin").points;return(0,f.each)(e,function(n){t.push(r.convertPoint(n))}),t}var U_=function(){function i(r){(0,f.deepMix)(this,this.constructor.getDefaultOptions(r),r),this._init()}return i.getDefaultOptions=function(r){var t=r.transpose;return{visible:!0,size:t?32:80,spacing:t?8:12,offset:t?32:0,arrow:{visible:!0,headSize:12,style:{fill:"rgba(0, 0, 0, 0.05)"}},value:{visible:!0,style:{fontSize:12,fill:"rgba(0, 0, 0, 0.85)"},formatter:function(e,n){return(100*n/e).toFixed(2)+"%"}},animation:(0,f.deepMix)({},So.DEFAULT_ANIMATE_CFG)}},i.prototype._init=function(){var r=this,t=this.view.backgroundGroup;this.container=t.addGroup(),this.draw(),this.view.on("beforerender",function(){r.clear()})},i.prototype.draw=function(){var r=this,t=this.transpose,e=this.view.getScaleByField(this.field).values,n=this.view.geometries[0],a=n.getShapes(),o,s,l,u;t?a.forEach(function(h,c){s=e[c],c++>0&&r._drawTag(l,u,h,s),u=s,l=h}):a.forEach(function(h,c){u=e[c],c++>0&&r._drawTag(h,u,o,s),s=u,o=h})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype._drawTag=function(r,t,e,n){var a=this.transpose,o=this.view.geometries[0].coordinate,s=lg(r,o)[a?3:0],l=lg(e,o)[a?0:3];this._drawTagArrow(s,l),this._drawTagValue(s,t,l,n)},i.prototype._drawTagArrow=function(r,t){var e=this.spacing,n=this,a=n.size,o=n.offset,s=n.animation,l=n.transpose,u=this.arrow.headSize,h=t.y-r.y,c=t.x-r.x,v;l?(c-u)/2<e?(e=Math.max(1,(c-u)/2),v=[[r.x+e,r.y-o],[r.x+e,r.y-o-a],[t.x-e,t.y-o-a/2]]):v=[[r.x+e,r.y-o],[r.x+e,r.y-o-a],[t.x-e-u,t.y-o-a],[t.x-e,t.y-o-a/2],[t.x-e-u,t.y-o]]:(h-u)/2<e?(e=Math.max(1,(h-u)/2),v=[[r.x+o,r.y+e],[r.x+o+a,r.y+e],[t.x+o+a/2,t.y-e]]):v=[[r.x+o,r.y+e],[r.x+o+a,r.y+e],[t.x+o+a,t.y-e-u],[t.x+o+a/2,t.y-e],[t.x+o,t.y-e-u]];var g=this.container.addShape("polygon",{name:"arrow",attrs:(0,Yt.__assign)((0,Yt.__assign)({},this.arrow.style),{points:v})});s!==!1&&this._fadeInTagShape(g)},i.prototype._drawTagValue=function(r,t,e,n){var a=this,o=a.size,s=a.offset,l=a.animation,u=a.transpose,h=this.value.formatter(t,n),c=this.container.addShape("text",{name:"value",attrs:(0,Yt.__assign)((0,Yt.__assign)({},this.value.style),{text:h,x:u?(r.x+e.x)/2:r.x+s+o/2,y:u?r.y-s-o/2:(r.y+e.y)/2,textAlign:"center",textBaseline:"middle"})});if(u){var v=e.x-r.x,g=c.getBBox().width;if(g>v){var M=g/h.length,F=Math.max(1,Math.ceil(v/M)-1),Y=h.slice(0,F)+"...";c.attr("text",Y)}}l!==!1&&this._fadeInTagShape(c)},i.prototype._fadeInTagShape=function(r){var t=this.animation,e=r.attr("opacity");r.attr("opacity",0);var n=(0,f.get)(t,"appear",So.DEFAULT_ANIMATE_CFG.appear).duration;r.animate({opacity:e},n)},i}(),ug=U_;function Z_(i){var r=i.getResponsiveTheme(),t=i.canvas;new Ao({plot:i,responsiveTheme:r,dim:"x"}),new Ao({plot:i,responsiveTheme:r,dim:"y"}),t.draw()}var K_=[],$_=[{name:"responsiveAxis",method:Z_}],Q_={preRender:K_,afterRender:$_},J_=function(i){var r=i.opacity||1;return{opacity:r*.5}},q_=function(i){var r=i.opacity||1;return{opacity:r*.5}},wh={label:{darkStyle:{fill:"#2c3542",stroke:"#ffffff",fillOpacity:.85},lightStyle:{fill:"#ffffff",stroke:"#ffffff",fillOpacity:1}},columnStyle:{normal:{},active:J_,disable:q_,selected:{lineWidth:1,stroke:"black"}}};ea("bar",wh);function fo(i){var r=i.indexOf("#")===0?i.substr(1):i,t=[];return t.push(parseInt(r.substr(0,2),16)),t.push(parseInt(r.substr(2,2),16)),t.push(parseInt(r.substr(4,2),16)),t}function Sh(i){var r;return r=Math.round(i),r=r.toString(16),r.length===1&&(r="0"+i),r}function pG(i){return"#"+(Sh(i[0])+Sh(i[1])+Sh(i[2]))}function tu(i,r){var t;return(0,f.each)(i,function(e){var n=e;r>=n.from&&r<n.to&&(t=n.color)}),t}var Ch=function(i){var r=fo(i),t=r[0],e=r[1],n=r[2],a=(t*299+e*587+n*114)/1e3<128;return a},fg=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getLabelItemAttrs=function(t,e){var n,a=this.options,o=a.style,s=a.formatter,l=[].concat(t.getModel().mappingData),u=this.getValue(t);return(0,f.deepMix)({},o,(0,Yt.__assign)((0,Yt.__assign)({},this.getPosition(t)),{text:s?s(u,(n={},n[Bs]=l[0]._origin,n.mappingDatum=l[0],n.mappingDatumIndex=0,n.element=t,n.elementIndex=e,n),e):u,fill:this.getTextFill(t),stroke:this.getTextStroke(t),textAlign:this.getTextAlign(t),textBaseline:this.getTextBaseline()}))},r.prototype.adjustLabel=function(t,e){var n=this.options,a=n.adjustPosition,o=n.style;if(a){var s=this.getDefaultOffset(),l=t.getBBox(),u=this.getElementShapeBBox(e);if(u.width<=l.width){var h=u.maxX+this.options.offsetX+s;t.attr("x",h),t.attr("fill",o.fill)}}},r.prototype.getDefaultOptions=function(){var t=this.layer.theme,e=t.label,n=e===void 0?{}:e;return(0,Yt.__assign)({offsetX:0,offsetY:0,adjustPosition:!0},n)},r.prototype.getValue=function(t){return(0,f.get)(t.getData(),this.layer.options.xField)},r.prototype.getPosition=function(t){var e=this.getDefaultOffset(),n=this.getValue(t),a=this.getElementShapeBBox(t),o=a.minX,s=a.maxX,l=a.minY,u=a.height,h=a.width,c=this.options,v=c.offsetX,g=c.offsetY,M=c.position,F=l+u/2+g,Y=n<0?-1:1,V;if(M==="left"){var z=n>0?o:s;V=z+e*Y+v}else if(M==="right"){var z=n>0?s:o;V=z+e*Y+v}else V=o+h/2+v;return{x:V,y:F}},r.prototype.getTextFill=function(t){var e=t.shape;if(this.options.adjustColor&&this.options.position!=="right"){var n=e.attr("fill"),a=e.attr("opacity")?e.attr("opacity"):1,o=fo(n),s=Math.round(o[0]*.299+o[1]*.587+o[2]*.114)/a,l=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],u=tu(l,s);return u}var h=this.options.style.fill;return h},r.prototype.getTextStroke=function(t){var e=this.getTextFill(t),n=this.options,a=n.position,o=n.adjustColor;return a!=="right"&&o&&e!=="black"?null:void 0},r.prototype.getTextAlign=function(t){var e=this.getValue(t),n=this.options.position,a={right:"left",left:"left",middle:"center"},o={right:"right",left:"right",middle:"center"};return e<0?o[n]:a[n]},r.prototype.getTextBaseline=function(){return"middle"},r.prototype.getElementShapeBBox=function(t){var e=this,n=t.shape,a=[];(0,f.each)(n.get("origin").points,function(g){a.push(e.coord.convertPoint(g))});var o=a.map(function(g){return g.x}),s=Math.min.apply(Math,o),l=Math.max.apply(Math,o),u=a.map(function(g){return g.y}),h=Math.min.apply(Math,u),c=Math.max.apply(Math,u),v=new Zr(s,h,l-s,c-h);return v},r.prototype.getLabelOffset=function(){return{x:0,y:0}},r}(eh),hg=fg;ta("bar",fg);var cg=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getPosition=function(t){var e=this.getDefaultOffset(),n=this.getValue(t),a=this.getElementShapeBBox(t),o=a.minX,s=a.maxX,l=a.minY,u=a.height,h=this.options,c=h.offsetX,v=h.offsetY,g=l+u/2+v,M=n<0?-1:1,F=n>0?s:o,Y=F+e*M+c;return{x:Y,y:g}},r.prototype.getTextAlign=function(t){var e=this.getValue(t);return e>0?"left":"right"},r.prototype.getTextFill=function(t){var e=this.options.style;return e.fill},r.prototype.getTextStroke=function(t){},r.prototype.adjustLabel=function(t,e){},r.prototype.layoutLabels=function(t,e){this.shouldInShapeLabels(e)&&this.inShapeLabels(t,e),this.autoHideLabels(t,e)},r.prototype.shouldInShapeLabels=function(t){var e=this;return(0,f.every)(t,function(n){var a=n.getBBox(),o=n.get("element"),s=e.getElementShapeBBox(o);return s.height>=a.height})},r.prototype.inShapeLabels=function(t,e){var n=this,a=this.getCoordinateBBox(),o=t.getXYFields()[0],s=this.options,l=s.darkStyle,u=s.lightStyle,h=(0,f.groupBy)(e,function(c){return c.get(ha)[gn.FIELD_ORIGIN][o]});(0,f.each)(e,function(c){var v=h[c.get(ha)[gn.FIELD_ORIGIN][o]]||[],g=c.get("element"),M=g.shape,F=Ch(M.attr("fill")),Y=n.getElementShapeBBox(g),V=Zr.fromBBoxObject(c.getBBox());if(ch(a,Y)<=0&&c.set("visible",!1),V.width>Y.width){var z=(0,f.findIndex)(v,function(ot){return ot===c});z!==v.length-1&&c.set("visible",!1)}else{c.attr({x:Y.x+Y.width/2,textAlign:"center"});var it=V.width>Y.width||V.height>Y.height;it?c.attr({stroke:u==null?void 0:u.stroke}):c.attr({fill:F?u==null?void 0:u.fill:l==null?void 0:l.fill,fillOpacity:F?u==null?void 0:u.fillOpacity:l==null?void 0:l.fillOpacity,stroke:void 0})}})},r.prototype.autoHideLabels=function(t,e){var n=this.getCoordinateBBox(),a=this.filterLabels(e),o=t.getXYFields()[0],s=[],l=[],u=(0,f.groupBy)(a,function(g){return g.get(ha)[gn.FIELD_ORIGIN][o]}),h=(0,f.uniq)((0,f.map)(a,function(g){return g.get(ha)[gn.FIELD_ORIGIN][o]})),c;for((0,f.size)(h)>0&&(c=h.shift(),(0,f.each)(u[c],function(g){return l.push(g)})),(0,f.size)(h)>0&&(c=h.pop(),(0,f.each)(u[c],function(g){return l.push(g)})),(0,f.each)(h.reverse(),function(g){(0,f.each)(u[g],function(M){return l.push(M)})});l.length>0;){var v=l.shift();v.get("visible")&&(Kl(v,n),$l(v,s)?v.set("visible",!1):s.push(v))}},r.prototype.filterLabels=function(t){var e=500,n=[],a=Math.max(Math.floor(t.length/e),1);return(0,f.each)(t,function(o,s){s%a==0?n.push(o):o.set("visible",!1)}),n},r}(hg),tL=cg;ta("bar-auto",cg);var eL={bar:"interval"},rL=Ei(eL);(0,f.assign)(on,rL);var nL={bar:"interval"},iL={interval:"bar"},vg=function(i){(0,Yt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="bar",t}return r.getDefaultOptions=function(){var t={xAxis:{visible:!0,line:{visible:!1},title:{visible:!0},label:{visible:!1},tickLine:{visible:!1},grid:{visible:!1},nice:!0},yAxis:{visible:!0,grid:{visible:!1},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!1,autoHide:!0},title:{visible:!1,spacing:12}},tooltip:{visible:!0,shared:!0,showCrosshairs:!1,showMarkers:!1},label:{visible:!0,position:"left",adjustColor:!0},legend:{visible:!1,position:"top-left"},interactions:[{type:"tooltip"},{type:"active-region"},{type:"legend-active"},{type:"legend-filter"}],conversionTag:{visible:!1}};return(0,f.deepMix)({},i.getDefaultOptions.call(this),t)},r.prototype.beforeInit=function(){i.prototype.beforeInit.call(this);var t=this.options;t.responsive&&t.padding!=="auto"&&this.applyResponsive("preRender")},r.prototype.afterRender=function(){var t=this.options;this.renderLabel(),t.responsive&&t.padding!=="auto"&&this.applyResponsive("afterRender"),t.conversionTag.visible&&(this.conversionTag=new ug((0,Yt.__assign)({view:this.view,field:t.xField,animation:t.animation!==!1},t.conversionTag))),i.prototype.afterRender.call(this)},r.prototype.geometryParser=function(t,e){return t==="g2"?nL[e]:iL[e]},r.prototype.processData=function(t){var e=t&&t.slice().reverse(),n=this.options.yField,a=[];return(0,f.each)(e,function(o){var s=(0,f.clone)(o);s[n]=s[n].toString(),a.push(s)}),a},r.prototype.scale=function(){var t=this.options,e={};e[t.yField]={type:"cat"},(0,f.has)(t,"yAxis")&&bi(e[t.yField],t.yAxis),e[t.xField]={},(0,f.has)(t,"xAxis")&&bi(e[t.xField],t.xAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){this.setConfig("coordinate",{actions:[["transpose"]]})},r.prototype.axis=function(){var t=Bi("axis",{plot:this,dim:"x"}),e=Bi("axis",{plot:this,dim:"y"});t&&(t.position="left"),e&&(e.position="bottom");var n={};n[this.options.xField]=t,n[this.options.yField]=e,this.setConfig("axes",n)},r.prototype.adjustBar=function(t){return null},r.prototype.addGeometry=function(){var t=this.options,e=Jn("interval","main",{positionFields:[t.yField,t.xField],plot:this});t.conversionTag.visible&&this.setConfig("theme",(0,f.deepMix)({},this.getTheme(),{columnWidthRatio:1/3})),this.adjustBar(e),this.bar=e,t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.bar.animate=!1)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,T)},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.xField,o=t[a];if(n==null?void 0:n.visible){var s=Mo(this.view,"interval");this.doRenderLabel(s,(0,Yt.__assign)({type:"bar",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},r.prototype.geometryTooltip=function(){this.bar.tooltip={};var t=this.options.tooltip;t.fields&&(this.bar.tooltip.fields=t.fields),t.formatter&&(this.bar.tooltip.callback=t.formatter,t.fields||(this.bar.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&this.bar.tooltip.fields.push(this.options.colorField)))},r.prototype.applyResponsive=function(t){var e=this,n=Q_[t];(0,f.each)(n,function(a){var o=a;o.method(e)})},r.prototype.getLabelOptionsByPosition=function(t){if(t==="middle")return{offset:0};if(t==="left")return{offset:7,style:{stroke:null,lineWidth:0}};if(t==="right")return{offset:4}},r}(Wn),eu=vg;en("bar",vg);var aL=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="bar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=eu.getDefaultOptions,r}(Wr),dg=aL;ea("stackedBar",wh);var oL=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustLabel=function(t,e){if(this.options.adjustPosition){var n=t.getBBox(),a=this.getElementShapeBBox(e);a.maxX<=n.maxX&&t.set("visible",!1)}},r}(hg),gG=null;ta("stacked-bar",oL);var sL=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.shouldInShapeLabels=function(t){return!0},r}(tL),yG=null;ta("stacked-bar-auto",sL);var pg=function(i){(0,Yt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="stackedBar",t.baseType="bar",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,autoRotateTitle:!1,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!0},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!0,spacing:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!1,spacing:12}},legend:{visible:!0,position:"top-left",offsetY:0}})},r.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},r.prototype.adjustBar=function(t){t.adjust=[{type:"stack"}]},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.xField,o=t[a];if(n==null?void 0:n.visible){var s=Mo(this.view,"interval");this.doRenderLabel(s,(0,Yt.__assign)({type:"stacked-bar",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},r.prototype.geometryTooltip=function(){this.bar.tooltip={};var t=this.options.tooltip;t.fields&&(this.bar.tooltip.fields=t.fields),t.formatter&&(this.bar.tooltip.callback=t.formatter,t.fields||(this.bar.tooltip.fields=[this.options.xField,this.options.yField,this.options.stackField]))},r}(eu),Mh=pg;en("stackedBar",pg);var lL=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedBar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Mh.getDefaultOptions,r}(Wr),gg=lL;ea("groupedBar",wh);var yg=function(i){(0,Yt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="groupedBar",t.baseType="bar",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,grid:{visible:!0}},yAxis:{visible:!0,title:{visible:!1}},label:{visible:!0,position:"right",adjustColor:!0},legend:{visible:!0,position:"right-top",offsetY:0}})},r.prototype.afterRender=function(){i.prototype.afterRender.call(this);var t=(0,f.valuesOfKey)(this.options.data,this.options.groupField)||[];this.view.on("tooltip:change",function(e){var n=e.items,a=n===void 0?[]:n,o=(0,f.sortBy)(a.slice(),function(s){return t.indexOf(s.name)}).reverse();o.forEach(function(s,l){e.items[l]=s})})},r.prototype.getColorScale=function(){var t=this.options.groupField;if(t)return this.view.getScaleByField(t)},r.prototype.scale=function(){var t={};t[this.options.groupField]={values:(0,f.valuesOfKey)(this.options.data,this.options.groupField)},this.options.meta?this.options.meta=(0,f.deepMix)({},this.options.meta,t):this.options.meta=t,i.prototype.scale.call(this)},r.prototype.adjustBar=function(t){t.adjust=[{type:"dodge",marginRatio:.1}]},r.prototype.geometryTooltip=function(){this.bar.tooltip={};var t=this.options.tooltip;t.fields&&(this.bar.tooltip.fields=t.fields),t.formatter&&(this.bar.tooltip.callback=t.formatter,t.fields||(this.bar.tooltip.fields=[this.options.xField,this.options.yField,this.options.groupField]))},r}(eu),mg=yg;en("groupedBar",yg);var uL=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="groupedBar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=mg.getDefaultOptions,r}(Wr),xg=uL,Eh=function(i,r,t){var e=(0,f.groupBy)(i,r);e=(0,f.mapValues)(e,function(o){return(0,f.map)(o,function(s){return(0,f.map)(t,function(l){return s[l]})})}),e=(0,f.mapValues)(e,f.flatten),e=(0,f.mapValues)(e,function(o){return(0,f.map)(o,function(s){var l=Number.parseFloat(s);return!(0,f.isNumber)(l)||isNaN(l)?0:l})});var n=(0,f.mapValues)(e,function(o){return(0,f.reduce)(o,function(s,l){return s+l},0)}),a=(0,f.map)(i,function(o){var s=(0,Yt.__assign)((0,Yt.__assign)({},o),{_origin:o,total:n[o[r]]});return(0,f.each)(t,function(l){s[l]=o[l]/(n[o[r]]||1)}),s});return(0,f.each)((0,f.groupBy)(a,r),function(o){var s=0;(0,f.each)(o,function(l,u){(0,f.each)(t,function(h,c){(s+l[h]>=1||u===o.length-1&&c===t.length-1&&s>0)&&(l[h]=1-s),s+=l[h]})})}),a},bg=function(i){(0,Yt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="percentStackedBar",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,tickLine:{visible:!1},grid:{visible:!1},title:{visible:!0,formatter:function(t){return t+" (%)"}},label:{visible:!1,formatter:function(t){var e=/%/gi;return t.replace(e,"")}}}})},r.prototype.processData=function(t){var e=this.options,n=e.xField,a=e.yField,o=i.prototype.processData.call(this,t);return Eh(o,a,[n])},r.prototype.scale=function(){var t={},e=this.options.xField;t[e]={tickCount:6,alias:e+" (%)",min:0,max:1,formatter:function(n){var a=(n*100).toFixed(1);return a+"%"}},this.options.meta=(0,f.deepMix)({},this.options.meta,t),i.prototype.scale.call(this)},r}(Mh),wg=bg;en("percentStackedBar",bg);var fL=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="percentStackedBar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=wg.getDefaultOptions,r}(Wr),Sg=fL,Cg=8;function hL(i,r){var t;return(0,f.each)(i,function(e){var n=e;r>=n.from&&r<n.to&&(t=n.color)}),t}var cL=function(){function i(r){this.destroyed=!1,this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,f.deepMix)(t,r,{}),this.options.leftStyle||(this.options.leftStyle=this.options.style),this.options.rightStyle||(this.options.rightStyle=this.options.style),this.init()}return i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.getGeometry(),e=t.elements,n=t.coordinate;this.coord=n,(0,f.each)(e,function(a){var o=a.shape,s=r.getPosition(o),l=r.getValue(o),u=r.getTextAlign(),h=[];(0,f.each)(s,function(c,v){var g=v===0?r.options.leftStyle:r.options.rightStyle,M=r.getTextColor(o,v);r.options.position==="inner"&&r.options.adjustColor&&M!=="black"&&(g.stroke=null);var F=r.options.formatter,Y=F?F(l[v]):l[v],V=r.container.addShape("text",{attrs:(0,f.deepMix)({},g,{x:c.x,y:c.y,text:Y,fill:M,textAlign:u[v],textBaseline:"middle"}),name:"label"});h.push(V),r.doAnimation(V)}),o.set("labelShapes",h),r.adjustPosition(h[0],h[1],o)}),this.plot.canvas.draw()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getShapeBbox=function(r){var t=this,e=[];(0,f.each)(r.get("origin").points,function(a){e.push(t.coord.convertPoint(a))});var n=new Zr(e[0].x,e[1].y,Math.abs(e[2].x-e[0].x),Math.abs(e[0].y-e[1].y));return n},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=r.label.style;return{position:"outer",offsetX:Cg,offsetY:0,style:(0,f.clone)(t),adjustColor:!0,adjustPosition:!0}},i.prototype.getPosition=function(r){var t=this.getShapeBbox(r),e=t.minX,n=t.maxX,a=t.minY,o=t.height,s=this.options,l=s.offsetX,u=s.offsetY,h=a+o/2+u,c,v;return this.options.position==="outer"?(c=e-l,v=n+l):(c=e+l,v=n-l),[{x:c,y:h},{x:v,y:h}]},i.prototype.getValue=function(r){var t=this.plot.options.xField;return r.get("origin").data[t]},i.prototype.getTextAlign=function(){return this.options.position==="outer"?["right","left"]:["left","right"]},i.prototype.getTextColor=function(r,t){if(this.options.adjustColor&&this.options.position==="inner"){var e=r.attr("fill"),n=r.attr("opacity")?r.attr("opacity"):1,a=fo(e),o=Math.round(a[0]*.299+a[1]*.587+a[2]*.114)/n,s=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],l=hL(s,o);return l}var u=t===0?this.options.leftStyle.fill:this.options.rightStyle.fill;return u},i.prototype.doAnimation=function(r){this.plot.animation&&this.plot.animation===!1||(r.attr("fillOpacity",0),r.attr("strokeOpacity",0),r.stopAnimate(),r.animate({fillOpacity:1,strokeOpacity:1},800,"easeLinear",500))},i.prototype.adjustPosition=function(r,t,e){var n=e.get("origin"),a=n.x[0],o=n.x[1],s=Math.abs(o-a),l=this.view.coordinateBBox,u=[r.getBBox(),t.getBBox()],h=r.attr("x"),c=t.attr("x");if(this.options.adjustPosition&&this.options.position==="inner"){var v=u[0].width+u[1].width,g=u[0].maxX-u[1].minX>2,M=v>s;(g||M)&&(h=a-this.options.offsetX,r.attr("fill",this.options.leftStyle.fill),r.attr("textAlign","right"),u[0]=r.getBBox(),c=o+this.options.offsetX,t.attr("fill",this.options.rightStyle.fill),t.attr("textAlign","left"),u[1]=t.getBBox())}u[0].minX<l.minX&&(h=l.minX+Cg,r.attr("textAlign","left")),r.attr("x",h),t.attr("x",c),this.plot.canvas.draw()},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="interval"})},i}(),vL=cL,Mg;function Eg(i,r){var t=i.getBBox(),e=t.minX+t.width/2;i.setClip({type:"rect",attrs:{x:e,y:t.minY,width:0,height:t.height}});var n=i.get("clipShape");n.animate({width:t.width,x:t.minX},r.duration,r.easing,function(){i.setClip(null)},r.delay)}Eg.animationName="clipInFromCenter";function dL(i){Mg=i}function Ag(i,r){var t=pL(i).attr("path"),e=(0,f.clone)(i.attr("path"));i.attr("path",t),i.animate({path:e},r.duration,r.easing,r.callback,100)}function pL(i){var r=i.id,t;return(0,f.each)(Mg,function(e){e.id===r&&(t=e)}),t}Ag.animationName="updateFromCenter",ui("clipInFromCenter",Eg),ui("updateFromCenter",Ag);var Tg=function(i){(0,Yt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="rangeBar",t}return r.getDefaultOptions=function(){return(0,f.deepMix)(i.getDefaultOptions.call(this),{label:{visible:!0,position:"outer"},xAxis:{visible:!0,autoRotateTitle:!1,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!0,spacing:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{visible:!1,spacing:12}}},{})},r.prototype.afterRender=function(){this.renderLabel();var t=[],e=this.view.geometries;(0,f.each)(e,function(n){var a=n.elements;(0,f.each)(a,function(o){t.push(o.shape)})}),dL(t),i.prototype.afterRender.call(this)},r.prototype.renderLabel=function(){if(this.options.label&&this.options.label.visible){var t=new vL((0,Yt.__assign)({view:this.view,plot:this},this.options.label));t.render()}},r.prototype.animation=function(){i.prototype.animation.call(this)},r}(eu),gL=Tg;en("rangeBar",Tg);var yL=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="rangeBar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=gL.getDefaultOptions,r}(Wr),Pg=yL,_g=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r}(Hp),mL=_g;ta("area-point",_g);var Lg=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.layoutLabels=function(t,e){i.prototype.layoutLabels.call(this,t,e),this.adjustAreaLabelsStyle(e)},r.prototype.adjustAreaLabelsStyle=function(t){var e=this.view,n=this.options,a=n.darkStyle,o=n.lightStyle,s=Mo(e,"area"),l=ZA(s).sort(function(u,h){return h.getBBox().height-u.getBBox().height});(0,f.each)(t,function(u){var h=u.getBBox(),c=ZE(h.x,h.y,h.width,h.height),v=(0,f.map)(l,function(F){return{area:F,matches:(0,f.filter)(c,function(Y){return!!F.isHit(Y[0],Y[1])}).length}}).sort(function(F,Y){return F.matches-Y.matches});if((0,f.last)(v).matches>0){var g=(0,f.last)(v).area.attr("fill"),M=Ch(g);u.attr({fill:M?o==null?void 0:o.fill:a==null?void 0:a.fill,fillOpacity:M?o.fillOpacity:a.fillOpacity,stroke:M?o==null?void 0:o.stroke:a==null?void 0:a.stroke})}})},r}(QP),xL=Lg;ta("area-point-auto",Lg);function bL(i){var r=i.getResponsiveTheme(),t=i.canvas;new Ao({plot:i,responsiveTheme:r,dim:"x"}),new Ao({plot:i,responsiveTheme:r,dim:"y"}),t.draw()}var wL=[],SL=[{name:"responsiveAxis",method:bL}],CL={preRender:wL,afterRender:SL},ML={area:"area",line:"line",point:"point"},EL=Ei(ML);(0,f.assign)(on,EL);var AL=function(i){var r=i.opacity||1;return{opacity:r}},TL=function(i){var r=i.opacity||1;return{opacity:r*.5}},PL=function(i){var r=i.opacity||1;return{opacity:r}},_L=function(i){var r=i.opacity||1;return{opacity:r*.5}},LL=function(i){var r=i.lineWidth||1;return{lineWidth:r+2}},OL=function(i){var r=i.fill||i.fillStyle,t=i.size||i.radius;return{radius:t+1,shadowBlur:t,shadowColor:r,stroke:r,strokeOpacity:1,lineWidth:1}},IL=function(i){var r=i.fill||i.fillStyle,t=i.size||i.radius;return{radius:t+2,shadowBlur:t,shadowColor:r,stroke:r,strokeOpacity:1,lineWidth:2}},kL=function(i){var r=i.opacity||i.fillOpacity||1;return{opacity:r*.5}},Og={areaStyle:{normal:{},active:AL,disable:TL,selected:{lineWidth:1,stroke:"#333333"}},lineStyle:{normal:{},active:PL,disable:_L,selected:LL},pointStyle:{normal:{},active:OL,disable:kL,selected:IL},label:{darkStyle:{fill:"#2c3542",stroke:"#ffffff",fillOpacity:.85},lightStyle:{fill:"#ffffff",fillOpacity:1,stroke:"#2c3542"}}};ea("area",Og);var BL={area:"area",line:"line",point:"point"},Ig=function(i){(0,Yt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="area",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{smooth:!1,areaStyle:{opacity:.25},line:{visible:!0,size:2,style:{opacity:1,lineJoin:"round",lineCap:"round"}},point:{visible:!1,size:4,shape:"point"},label:{visible:!1,type:"point"},legend:{visible:!0,position:"top-left",wordSpacing:4},tooltip:{visible:!0,shared:!0,showCrosshairs:!0,crosshairs:{type:"x"},offset:20}})},r.prototype.beforeInit=function(){i.prototype.beforeInit.call(this),this.options.responsive&&this.options.padding!=="auto"&&this.applyResponsive("preRender")},r.prototype.afterRender=function(){this.renderLabel(),this.options.responsive&&this.options.padding!=="auto"&&this.applyResponsive("afterRender"),i.prototype.afterRender.call(this)},r.prototype.geometryParser=function(t,e){return BL[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},(0,f.has)(t,"xAxis")&&bi(e[t.xField],t.xAxis),e[t.yField]={},(0,f.has)(t,"yAxis")&&bi(e[t.yField],t.yAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){return null},r.prototype.addGeometry=function(){var t=this.options,e=Jn("area","main",{plot:this});this.area=e,t.label&&this.label(),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.adjustArea(e),this.setConfig("geometry",e),this.addLine(),this.addPoint()},r.prototype.adjustArea=function(t){},r.prototype.adjustLine=function(t){},r.prototype.adjustPoint=function(t){},r.prototype.addLine=function(){var t=this.options,e=(0,f.deepMix)({},t.line);if(e.visible){var n=Jn("line","guide",{type:"line",plot:this,line:e});this.adjustLine(n),this.setConfig("geometry",n),this.line=n}},r.prototype.addPoint=function(){var t=this.options,e=(0,f.deepMix)({},t.point);if(e.visible){var n=Jn("point","guide",{plot:this});this.adjustPoint(n),this.setConfig("geometry",n),this.point=n}},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.yField,o=t[a];if(n.visible){var s=Mo(this.view,"area");this.doRenderLabel(s,(0,Yt.__assign)({type:"area-point",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.area.animate=!1,this.line&&(this.line.animate=!1),this.point&&(this.point.animate=!1))},r.prototype.label=function(){},r.prototype.geometryTooltip=function(){this.area.tooltip={};var t=this.options.tooltip;t.fields&&(this.area.tooltip.fields=t.fields),t.formatter&&(this.area.tooltip.callback=t.formatter,t.fields||(this.area.tooltip.fields=[this.options.xField,this.options.yField],this.options.seriesField&&this.area.tooltip.fields.push(this.options.seriesField)))},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,p)},r.prototype.applyResponsive=function(t){var e=this,n=CL[t];(0,f.each)(n,function(a){var o=a;o.method(e)})},r}(Wn),Ah=Ig;en("area",Ig);var DL=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="area",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Ah.getDefaultOptions,r}(Wr),kg=DL,FL=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getShapeInfo=function(t){var e=t.get("origin").points,n=e[e.length-1],a=t.attr("stroke"),o=this.plot.options.stackField,s=t.get("origin").data[0][o],l=(0,f.reduce)(n.y,function(u,h){return u+h},0)/(0,f.size)(n.y);return{x:n.x,y:l,color:a,name:s}},r}(jp),RL=FL,Th=12,NL=.01,YL=100,GL=12;function zL(i){var r=-Infinity,t=Infinity,e=-Infinity;return(0,f.each)(i,function(n){t=Math.min(n.x,t),e=Math.max(n.x,e);var a=Math.abs(n.y[0]-n.y[1]);r=Math.max(r,a)}),{xRange:[t,e],maxHeight:r}}function Bg(i,r,t){var e=r[0],n=r[r.length-1];(0,f.each)(r,function(o){if(o.x===i)return o.y[t];o.x<i&&o.x>e.x&&(e=o),o.x>i&&o.x<n.x&&(n=o)});var a=(i-e.x)/(n.x-e.x);return e.y[t]*(1-a)+n.y[t]*a}function XL(i,r){var t;for(t=0;t<i.length;t++){var e=i[t];if(e.x===r||e.x>r)break}return t}var VL=function(){function i(r){this.destroyed=!1,this.scaleFactor=[],this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,f.deepMix)(t,r,{}),this.init()}return i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.plot.options.stackField,e=this.getGeometry().dataArray,n=[];(0,f.each)(e,function(o,s){var l=r.drawLabel(o,s);l&&(n.push((0,f.deepMix)({},o[0],l)),r.scaleFactor.push(l.scaleFactor))});var a=[];(0,f.each)(n,function(o,s){var l=r.options,u=l.style,h=l.offsetX,c=l.offsetY,v=r.getFontSize(s),g=r.options.formatter,M=g?g(o._origin[t]):o._origin[t],F=r.container.addShape("text",{attrs:(0,f.deepMix)({},{x:o.x+h,y:o.y+c,text:M,fill:o.color,fontSize:v,textAlign:"center",textBaseline:"top"},u),name:"label"});a.push(F)}),this.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=(0,f.clone)(r.label.style);return t.stroke=null,delete t.fill,{offsetX:0,offsetY:0,style:t,autoScale:!0}},i.prototype.drawLabel=function(r,t){var e=zL(r),n=e.xRange,a=e.maxHeight,o=n[1]-n[0],s=this.getInterpolatedPoints(n[0],o,r),l=this.getLabelBbox(t),u={xRange:n,aspect:l.width/l.height,data:s,justTest:!0},h=this.bisection(GL,a,this.testFit,u,NL,YL);if(h!==null){u.justTest=!1;var c=this.testFit(u);return c.x=c.x,c.y=c.y0+(c.y1-c.y0)/2,c.scaleFactor=h/l.height*.2,c}},i.prototype.getInterpolatedPoints=function(r,t,e){for(var n=[],a=2,o=r;o<t;o+=a){var s=Bg(o,e,0),l=Bg(o,e,1);n.push({x:o,y:[s,l]})}return n},i.prototype.bisection=function(r,t,e,n,a,o){for(var s=0;s<o;s++){var l=(r+t)/2,u=n;u.height=l,u.width=l*u.aspect;var h=e(u),c=(t-r)/2<a;if(h&&c)return l;h?r=l:t=l}return null},i.prototype.testFit=function(r){for(var t=r.xRange,e=r.width,n=r.height,a=r.data,o=r.justTest,s=0;s<a.length;s++){var l=a[s],u=l.x,h=u+e;if(h>t[1])break;for(var c=XL(a,h),v=-Infinity,g=null,M=Infinity,F=s;F<c;F++){var Y=a[F].y[1],V=a[F].y[0];if(V<M&&(M=V),Y>v&&(v=Y,g=V),M-v<n)break}if(M-v>=n)return o?!0:{x:u,y0:v,y1:g,width:e,height:n}}return!1},i.prototype.getLabelBbox=function(r){var t=(0,f.clone)(this.plot.theme.label.textStyle);t.fontSize=Th;var e=this.container.addShape("text",{attrs:(0,Yt.__assign)({text:r,x:0,y:0},t)}),n=e.getBBox();return e.remove(),n},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="area"})},i.prototype.getFontSize=function(r){if(this.options.autoScale){var t=this.scaleFactor[r];return Th*t}return Th},i}(),HL=VL,WL={lineLabel:{Ctr:RL},areaLabel:{Ctr:HL}};function jL(i,r,t){if(i.options[r]&&i.options[r].visible){var e=WL[r],n=new e.Ctr(t);return e.padding&&i.paddingController.registerPadding(n,e.padding),n}}var UL=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r}(mL),mG=null;ta("stackedArea-point",UL);var ZL=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.sortLabels=function(t,e){var n=[];return e.length>0&&n.push(e.shift()),e.length>0&&n.push(e.pop()),n.push.apply(n,e),n},r}(xL),xG=null;ta("stackedArea-point-auto",ZL),ea("stackedArea",Og);var Dg=function(i){(0,Yt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.plotComponents=[],t.type="stackedArea",t.baseType="area",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{label:{visible:!1,type:"area"}})},r.prototype.beforeInit=function(){var t=(0,f.get)(this.options,["label","visible"]),e=(0,f.get)(this.options,["label","type"]),n=this.options;t&&(e==="line"&&(n.lineLabel=this.options.label),e==="area"&&(n.areaLabel=this.options.label)),i.prototype.beforeInit.call(this)},r.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},r.prototype.label=function(){var t=this.options,e=t.label;if(e&&e.visible===!1){this.line&&(this.line.label=!1),this.point&&(this.point.label=!1),this.area.label=!1;return}},r.prototype.adjustArea=function(t){t.adjust=[{type:"stack"}]},r.prototype.adjustLine=function(t){t.adjust=[{type:"stack"}]},r.prototype.adjustPoint=function(t){t.adjust=[{type:"stack"}]},r.prototype.afterRender=function(){this.renderPlotComponents(),this.options.responsive=!1,i.prototype.afterRender.call(this)},r.prototype.geometryTooltip=function(){this.area.tooltip={};var t=this.options.tooltip;t.fields&&(this.area.tooltip.fields=t.fields),t.formatter&&(this.area.tooltip.callback=t.formatter,t.fields||(this.area.tooltip.fields=[this.options.xField,this.options.yField,this.options.stackField]))},r.prototype.renderPlotComponents=function(){var t=this,e=["areaLabel","lineLabel"];(0,f.each)(e,function(n){var a=(0,Yt.__assign)({view:t.view,plot:t},t.options[n]),o=jL(t,n,a);o&&(o.render(),t.plotComponents.push(o))})},r}(Ah),Ph=Dg;en("stackedArea",Dg);var KL=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedArea",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Ph.getDefaultOptions,r}(Wr),Fg=KL,Rg=function(i){(0,Yt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="percentStackedArea",t.baseType="stackedArea",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{visible:!0,label:{visible:!0,formatter:function(t){var e=/%/gi;return t.replace(e,"")}}}})},r.prototype.processData=function(t){var e=this.options,n=e.xField,a=e.yField;return Eh(t,n,[a])},r.prototype.scale=function(){var t={},e=this.options.yField;t[this.options.yField]={tickCount:6,alias:e+" (%)",min:0,max:1,formatter:function(n){var a=(n*100).toFixed(1);return a+"%"}},this.options.meta=(0,f.deepMix)({},t,this.options.meta),i.prototype.scale.call(this)},r}(Ph),Ng=Rg;en("percentStackedArea",Rg);var $L=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="percentStackedArea",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Ng.getDefaultOptions,r}(Wr),Yg=$L;function QL(i){var r=i.getResponsiveTheme(),t=i.canvas;new Ao({plot:i,responsiveTheme:r,dim:"x"}),new Ao({plot:i,responsiveTheme:r,dim:"y"}),t.draw()}var JL=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getType=function(){return(0,f.get)(this.plot.options,["label","position"],"inner")},r}(Xp);function qL(i){var r=i.getResponsiveTheme();new JL({plot:i,responsiveTheme:r})}var tO=[],eO=[{name:"responsiveAxis",method:QL},{name:"responsiveLabel",method:qL}],rO={preRender:tO,afterRender:eO},nO={label:{top:{constraints:[{name:"elementCollision"}],rules:{elementCollision:[{name:"nodeJitterUpward"},{name:"nodesResamplingByState",option:{keep:["min","max","median"]}},{name:"textHide"}]}}}};pp("column",nO);var Gg=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getLabelItemAttrs=function(t,e){var n,a,o=this.options,s=o.style,l=o.formatter,u=[].concat(t.getModel().mappingData),h=this.getValue(t);return(0,f.deepMix)({},s,(0,Yt.__assign)((0,Yt.__assign)({},this.getPosition(t)),{text:l?l(h,(n={},n[Bs]=(a=u[0])===null||a===void 0?void 0:a._origin,n.mappingDatum=u[0],n.mappingDatumIndex=0,n.element=t,n.elementIndex=e,n),e):h,fill:this.getTextFill(t),stroke:this.getTextStroke(t),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseLine()}))},r.prototype.getDefaultOptions=function(){var t=this.layer.theme,e=t.label,n=e===void 0?{}:e;return(0,Yt.__assign)({offsetX:0,offsetY:0,adjustPosition:!0},n)},r.prototype.adjustLabel=function(t,e){var n=this.options.adjustPosition;if(n){var a=this.getDefaultOffset(),o=t.getBBox(),s=this.getElementShapeBBox(e);if(s.height<=o.height){var l=s.minY+this.options.offsetY-a;t.attr("y",l),t.attr("textBaseline","bottom"),t.attr("fill",this.options.style.fill)}}},r.prototype.getValue=function(t){return(0,f.get)(t.getData(),this.layer.options.yField)},r.prototype.getPosition=function(t){var e=this.getDefaultOffset(),n=this.getValue(t),a=this.getElementShapeBBox(t),o=a.minX,s=a.minY,l=a.maxY,u=a.height,h=a.width,c=this.options,v=c.offsetX,g=c.offsetY,M=c.position,F=o+h/2+v,Y=n>0?-1:1,V;if(M==="top"){var z=n>0?s:l;V=z+e*Y+g}else if(M==="bottom"){var z=n>0?l:s;V=z+e*Y+g}else V=s+u/2+g;return{x:F,y:V}},r.prototype.getTextFill=function(t){var e=t.shape;if(this.options.adjustColor&&this.options.position!=="top"){var n=e.attr("fill"),a=e.attr("opacity")?e.attr("opacity"):1,o=fo(n),s=Math.round(o[0]*.299+o[1]*.587+o[2]*.114)/a,l=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],u=tu(l,s);return u}var h=this.options.style.fill;return h},r.prototype.getTextStroke=function(t){var e=this.getTextFill(t),n=this.options,a=n.position,o=n.adjustColor;return a!=="top"&&o&&e!=="black"?null:void 0},r.prototype.getElementShapeBBox=function(t){var e=this,n=t.shape,a=[];(0,f.each)(n.get("origin").points,function(g){a.push(e.coord.convertPoint(g))});var o=a.map(function(g){return g.x}),s=Math.min.apply(Math,o),l=Math.max.apply(Math,o),u=a.map(function(g){return g.y}),h=Math.min.apply(Math,u),c=Math.max.apply(Math,u),v=new Zr(s,h,l-s,c-h);return v},r.prototype.getTextAlign=function(){return"center"},r.prototype.getTextBaseLine=function(){return"middle"},r.prototype.getLabelOffset=function(){return{x:0,y:0}},r}(eh),_h=Gg;ta("column",Gg);var zg=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getPosition=function(t){var e=this.getDefaultOffset(),n=this.getValue(t),a=this.getElementShapeBBox(t),o=a.minX,s=a.minY,l=a.maxY,u=a.width,h=this.options,c=h.offsetX,v=h.offsetY,g=o+u/2+c,M=n>0?-1:1,F=n>0?s:l,Y=F+e*M+v;return{x:g,y:Y}},r.prototype.getTextFill=function(t){var e=this.options.style;return e.fill},r.prototype.getTextStroke=function(t){},r.prototype.adjustLabel=function(t,e){},r.prototype.layoutLabels=function(t,e){this.shouldInShapeLabels(e)&&this.inShapeLabels(t,e),this.autoHideLabels(t,e)},r.prototype.shouldInShapeLabels=function(t){var e=this;return(0,f.every)(t,function(n){var a=n.getBBox(),o=n.get("element"),s=e.getElementShapeBBox(o);return s.width>=a.width})},r.prototype.inShapeLabels=function(t,e){var n=this,a=this.getCoordinateBBox(),o=t.getXYFields()[0],s=this.options,l=s.darkStyle,u=s.lightStyle,h=(0,f.groupBy)(e,function(c){return c.get(ha)[gn.FIELD_ORIGIN][o]});(0,f.each)(e,function(c){var v=h[c.get(ha)[gn.FIELD_ORIGIN][o]]||[],g=c.get("element"),M=g.shape,F=Ch(M.attr("fill")),Y=n.getElementShapeBBox(g),V=Zr.fromBBoxObject(c.getBBox());if(ch(a,Y)<=0&&c.set("visible",!1),V.height>Y.height){var z=(0,f.findIndex)(v,function(ot){return ot===c});z!==0&&c.set("visible",!1)}else{c.attr({y:Y.y+Y.height/2,textBaseline:"middle"});var it=V.width>Y.width||V.height>Y.height;it?c.attr({stroke:u==null?void 0:u.stroke}):c.attr({fill:F?u==null?void 0:u.fill:l==null?void 0:l.fill,fillOpacity:F?u==null?void 0:u.fillOpacity:l==null?void 0:l.fillOpacity,stroke:void 0})}})},r.prototype.autoHideLabels=function(t,e){var n=this.getCoordinateBBox(),a=this.filterLabels(e),o=t.getXYFields()[0],s=[],l=[],u=(0,f.groupBy)(a,function(g){return g.get(ha)[gn.FIELD_ORIGIN][o]}),h=(0,f.uniq)((0,f.map)(a,function(g){return g.get(ha)[gn.FIELD_ORIGIN][o]})),c;for((0,f.size)(h)>0&&(c=h.shift(),(0,f.each)(u[c],function(g){return l.push(g)})),(0,f.size)(h)>0&&(c=h.pop(),(0,f.each)(u[c],function(g){return l.push(g)})),(0,f.each)(h.reverse(),function(g){(0,f.each)(u[g],function(M){return l.push(M)})});l.length>0;){var v=l.shift();v.get("visible")&&(Kl(v,n),$l(v,s)?v.set("visible",!1):s.push(v))}},r.prototype.filterLabels=function(t){var e=500,n=[],a=Math.max(Math.floor(t.length/e),1);return(0,f.each)(t,function(o,s){s%a==0?n.push(o):o.set("visible",!1)}),n},r}(_h),iO=zg;ta("column-auto",zg);var aO={column:"interval"},oO=Ei(aO);(0,f.assign)(on,oO);var sO=function(i){var r=i.opacity||1;return{opacity:r*.5}},lO=function(i){var r=i.opacity||1;return{opacity:r*.5,fillOpacity:r*.5}},Lh={label:{darkStyle:{fill:"#2c3542",stroke:"#ffffff",fillOpacity:.85},lightStyle:{fill:"#ffffff",stroke:"#ffffff",fillOpacity:1}},columnStyle:{normal:{},active:sO,disable:lO,selected:{lineWidth:1,stroke:"black"}}};ea("column",Lh);var uO={column:"interval"},fO={interval:"column"},Xg=function(i){(0,Yt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="column",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,tickLine:{visible:!1},title:{visible:!0}},yAxis:{nice:!0,title:{visible:!0},label:{visible:!0},grid:{visible:!0}},tooltip:{visible:!0,shared:!0,showCrosshairs:!1,showMarkers:!1},label:{visible:!1,position:"top",adjustColor:!0},legend:{visible:!0,position:"top-left"},interactions:[{type:"tooltip"},{type:"active-region"},{type:"legend-active"},{type:"legend-filter"}],conversionTag:{visible:!1}})},r.prototype.beforeInit=function(){i.prototype.beforeInit.call(this),this.options.responsive&&this.options.padding!=="auto"&&this.applyResponsive("preRender")},r.prototype.afterRender=function(){var t=this.options;this.renderLabel(),this.options.responsive&&this.options.padding!=="auto"&&this.applyResponsive("afterRender"),t.conversionTag.visible&&(this.conversionTag=new ug((0,Yt.__assign)({view:this.view,field:t.yField,transpose:!0,animation:t.animation!==!1},t.conversionTag))),i.prototype.afterRender.call(this)},r.prototype.geometryParser=function(t,e){return t==="g2"?uO[e]:fO[e]},r.prototype.processData=function(t){var e=this.options.xField,n=[];return(0,f.each)(t,function(a){var o=(0,f.clone)(a);o[e]=o[e].toString(),n.push(o)}),n},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},(0,f.has)(t,"xAxis")&&bi(e[t.xField],t.xAxis),e[t.yField]={},(0,f.has)(t,"yAxis")&&bi(e[t.yField],t.yAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){},r.prototype.adjustColumn=function(t){},r.prototype.addGeometry=function(){var t=this.options,e=Jn("interval","main",{positionFields:[t.xField,t.yField],plot:this});t.conversionTag.visible&&this.setConfig("theme",(0,f.deepMix)({},this.getTheme(),{columnWidthRatio:1/3})),this.adjustColumn(e),this.column=e,t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},r.prototype.geometryTooltip=function(){this.column.tooltip={};var t=this.options.tooltip;t.fields&&(this.column.tooltip.fields=t.fields),t.formatter&&(this.column.tooltip.callback=t.formatter,t.fields||(this.column.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&this.column.tooltip.fields.push(this.options.colorField)))},r.prototype.animation=function(){i.prototype.animation.call(this),this.options.animation===!1&&(this.column.animate=!1)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,w)},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.yField,o=t[a];if(n==null?void 0:n.visible){var s=Mo(this.view,"interval");this.doRenderLabel(s,(0,Yt.__assign)({type:"column",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},r.prototype.applyResponsive=function(t){var e=this,n=rO[t];(0,f.each)(n,function(a){var o=a;o.method(e)})},r}(Wn),ss=Xg;en("column",Xg);var hO=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="column",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=ss.getDefaultOptions,r}(Wr),Vg=hO;ea("groupedColumn",Lh);var Hg=function(i){(0,Yt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.baseType="column",t.type="groupedColumn",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{title:{visible:!0}}})},r.prototype.getResponsiveTheme=function(){return this.themeController.getResponsiveTheme("column")},r.prototype.getColorScale=function(){var t=this.options.groupField;if(t)return this.view.getScaleByField(t)},r.prototype.addGeometry=function(){i.prototype.addGeometry.call(this)},r.prototype.adjustColumn=function(t){t.adjust=[{type:"dodge",marginRatio:.1}]},r.prototype.geometryTooltip=function(){this.column.tooltip={};var t=this.options.tooltip;t.fields&&(this.column.tooltip.fields=t.fields),t.formatter&&(this.column.tooltip.callback=t.formatter,t.fields||(this.column.tooltip.fields=[this.options.xField,this.options.yField,this.options.groupField]))},r}(ss),Oh=Hg;en("groupedColumn",Hg);var cO=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="groupedColumn",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Oh.getDefaultOptions,r}(Wr),Wg=cO;function jg(i,r){var t=[],e=i.get("origin").points;return(0,f.each)(e,function(n){t.push(r.convertPoint(n))}),t}function vO(){return{areaStyle:{opacity:.2},lineStyle:{lineWidth:2,opacity:.1}}}var dO=function(){function i(r){this.areas=[],this.lines=[],this._areaStyle={},this._lineStyle={},(0,f.assign)(this,r),this._init()}return i.prototype.draw=function(){var r=this,t=this._getGroupedShapes();(0,f.each)(t,function(e,n){e.length>0&&r._drawConnection(e,n)}),this.triggerOn?this._addInteraction():this.animation&&this._initialAnimation()},i.prototype.clear=function(){this.container&&this.container.clear(),this.areas=[],this.lines=[]},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype.setState=function(r,t){r==="active"&&this._onActive(t),r==="disabled"&&this._onDisabled(t),r==="selected"&&this._onSelected(t)},i.prototype._init=function(){var r=this,t=this.view.backgroundGroup;this.container=t.addGroup(),this.draw(),this.view.on("beforerender",function(){r.clear()})},i.prototype._getGroupedShapes=function(){var r=this,t=this.view.getScaleByField(this.field).values,e=this.view.geometries[0],n=e.getShapes(),a={};return(0,f.each)(t,function(o){a[o]=[]}),(0,f.each)(n,function(o){var s=o.get("origin").data,l=s[r.field];a[l].push(o)}),a},i.prototype._drawConnection=function(r,t){var e=r[0].attr("fill");this._areaStyle[t]=this._getShapeStyle(e,"area"),this._lineStyle[t]=this._getShapeStyle(e,"line");for(var n=this.view.geometries[0].coordinate,a=0;a<r.length-1;a++){var o=jg(r[a],n),s=jg(r[a+1],n),l=(0,f.mix)({},this._areaStyle[t]),u=(0,f.mix)({},this._lineStyle[t]);this.triggerOn&&(l.opacity=0,u.opacity=0);var h=this.container.addShape("path",{attrs:(0,f.mix)({},l,{path:[["M",o[2].x,o[2].y],["L",s[1].x,s[1].y],["L",s[0].x,s[0].y],["L",o[3].x,o[3].y]]}),name:"connectedArea"}),c=this.container.addShape("path",{attrs:(0,f.mix)({},u,{path:[["M",o[2].x,o[2].y],["L",s[1].x,s[1].y]]}),name:"connectedArea"}),v=r[a].get("origin").data;h.set("data",v),c.set("data",v),this.areas.push(h),this.lines.push(c)}},i.prototype._getShapeStyle=function(r,t){var e=t+"Style";if(this[e])return this[e];var n=vO()[e],a={fill:r};return t==="line"&&(a={stroke:r}),(0,f.mix)(n,a)},i.prototype._addInteraction=function(){var r=this,t=this.triggerOn;this.view.on("interval:"+t,function(e){var n=e.target.get("origin").data[r.field];r.setState("active",{name:r.field,exp:n}),r.setState("disabled",{name:r.field,exp:function(a){return a!==n}}),r.view.canvas.draw()}),this.view.on("mousemove",function(e){e.gEvent.target.get("name")!=="interval"&&r.setState("disabled",{name:r.field,exp:function(){return!0}})})},i.prototype._initialAnimation=function(){var r=this.view.coordinateBBox,t=r.x,e=r.y,n=r.width,a=r.height;this.container.setClip({type:"rect",attrs:{x:t,y:e,width:0,height:a}}),this.container.set("animating",!0),this.container.getClip().animate({width:n},600,"easeQuadOut",function(){},400)},i.prototype._onActive=function(r){var t=this;(0,f.each)(this.areas,function(e){var n=e.get("data"),a=n[t.field];if(uo(n,r)){var o=t._areaStyle[a].opacity||1;e.stopAnimate(),e.animate({opacity:o},400,"easeQuadOut")}}),(0,f.each)(this.lines,function(e){var n=e.get("data"),a=n[t.field];if(uo(n,r)){var o=t._lineStyle[a].opacity||1;e.stopAnimate(),e.animate({opacity:o},400,"easeQuadOut")}})},i.prototype._onDisabled=function(r){(0,f.each)(this.areas,function(t){var e=t.get("data");uo(e,r)&&(t.stopAnimate(),t.animate({opacity:0},400,"easeQuadOut"))}),(0,f.each)(this.lines,function(t){var e=t.get("data");uo(e,r)&&(t.stopAnimate(),t.animate({opacity:0},400,"easeQuadOut"))})},i.prototype._onSelected=function(r){this._onActive(r)},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="interval"})},i}(),pO=dO;ea("stackedColumn",Lh);var gO=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustLabel=function(t,e){var n=this.options.adjustPosition;if(n){var a=t.getBBox(),o=this.getElementShapeBBox(e);(o.height<a.height||o.width<a.width)&&t.hide()}},r}(_h),bG=null;ta("stacked-column",gO);var yO=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.shouldInShapeLabels=function(t){return!0},r}(iO),wG=null;ta("stacked-column-auto",yO);var Ug=function(i){(0,Yt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="stackedColumn",t.baseType="column",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{legend:{visible:!0,position:"right-top"},label:{visible:!1,position:"middle",offset:0,adjustColor:!0},connectedArea:{visible:!1,triggerOn:"mouseenter"}})},r.prototype.init=function(){this.options.connectedArea.visible&&(this.options.tooltip.crosshairs=null),i.prototype.init.call(this)},r.prototype.afterRender=function(){var t=this.options;t.connectedArea.visible&&(this.connectedArea=new pO((0,Yt.__assign)({view:this.view,field:t.stackField,animation:t.animation!==!1},t.connectedArea))),i.prototype.afterRender.call(this)},r.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},r.prototype.adjustColumn=function(t){t.adjust=[{type:"stack"}]},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.yField,o=t[a];if(n&&n.visible){var s=Mo(this.view,"interval");this.doRenderLabel(s,(0,Yt.__assign)({type:"stacked-column",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},r.prototype.geometryTooltip=function(){this.column.tooltip={};var t=this.options.tooltip;t.fields&&(this.column.tooltip.fields=t.fields),t.formatter&&(this.column.tooltip.callback=t.formatter,t.fields||(this.column.tooltip.fields=[this.options.xField,this.options.yField,this.options.stackField]))},r}(ss),ru=Ug;en("stackedColumn",Ug);var mO=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedColumn",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=ru.getDefaultOptions,r}(Wr),Zg=mO,Ih=8;function xO(i,r){var t;return(0,f.each)(i,function(e){var n=e;r>=n.from&&r<n.to&&(t=n.color)}),t}var bO=function(){function i(r){this.destroyed=!1,this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,f.deepMix)(t,r,{}),this.options.topStyle||(this.options.topStyle=this.options.style),this.options.bottomStyle||(this.options.bottomStyle=this.options.style),this.init()}return i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.getGeometry(),e=t.coordinate,n=t.elements;this.coord=e,(0,f.each)(n,function(a){var o=a.shape,s=r.getPosition(o),l=r.getValue(o),u=r.getTextBaseline(),h=[];(0,f.each)(s,function(c,v){var g=v===1?r.options.topStyle:r.options.bottomStyle,M=r.getTextColor(o,v);r.options.position==="inner"&&r.options.adjustColor&&M!=="black"&&(g.stroke=null);var F=r.options.formatter,Y=F?F(l[v]):l[v],V=r.container.addShape("text",{attrs:(0,f.deepMix)({},g,{x:c.x,y:c.y,text:Y,fill:M,textAlign:"center",textBaseline:u[v]}),name:"label"});h.push(V),r.doAnimation(V)}),o.set("labelShapes",h),r.adjustPosition(h[0],h[1],o)}),this.plot.canvas.draw()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getShapeBbox=function(r){var t=this,e=[];(0,f.each)(r.get("origin").points,function(a){e.push(t.coord.convertPoint(a))});var n=new Zr(e[0].x,e[1].y,Math.abs(e[2].x-e[0].x),Math.abs(e[0].y-e[1].y));return n},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=r.label.style;return{position:"outer",offsetX:0,offsetY:Ih,style:(0,f.clone)(t),adjustColor:!0,adjustPosition:!0}},i.prototype.getPosition=function(r){var t=this.getShapeBbox(r),e=t.minX,n=t.minY,a=t.maxY,o=t.width,s=this.options.offsetY,l=e+o/2,u,h;return this.options.position==="outer"?(u=n-s,h=a+s):(u=n+s,h=a-s),[{x:l,y:h},{x:l,y:u}]},i.prototype.getValue=function(r){var t=this.plot.options.yField;return r.get("origin").data[t]},i.prototype.getTextBaseline=function(){return this.options.position==="outer"?["top","bottom"]:["bottom","top"]},i.prototype.getTextColor=function(r,t){if(this.options.adjustColor&&this.options.position==="inner"){var e=r.attr("fill"),n=r.attr("opacity")?r.attr("opacity"):1,a=fo(e),o=Math.round(a[0]*.299+a[1]*.587+a[2]*.114)/n,s=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],l=xO(s,o);return l}var u=t===1?this.options.topStyle.fill:this.options.bottomStyle.fill;return u},i.prototype.doAnimation=function(r){this.plot.animation&&this.plot.animation===!1||(r.attr("fillOpacity",0),r.attr("strokeOpacity",0),r.stopAnimate(),r.animate({fillOpacity:1,strokeOpacity:1},800,"easeLinear",500))},i.prototype.adjustPosition=function(r,t,e){var n=e.get("origin"),a=n.y[1],o=n.y[0],s=e.getBBox(),l=s.height,u=l,h=this.view.coordinateBBox,c=[r.getBBox(),t.getBBox()],v=r.attr("y"),g=t.attr("y");if(this.options.adjustPosition&&this.options.position==="inner"){var M=c[0].height+c[1].height,F=c[1].maxY-c[0].minY>2,Y=M>u;(F||Y)&&(g=a-this.options.offsetY,t.attr("fill",this.options.topStyle.fill),t.attr("textBaseline","bottom"),v=o+this.options.offsetY,r.attr("fill",this.options.bottomStyle.fill),r.attr("textBaseline","top"),c[0]=r.getBBox(),c[1]=t.getBBox())}c[0].maxY>h.maxY-Ih&&(v=h.maxY-Ih/2,r.attr("textBaseline","bottom")),r.attr("y",v),t.attr("y",g),this.plot.canvas.draw()},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="interval"})},i}(),wO=bO,Kg;function $g(i,r){var t=i.getBBox(),e=t.minY+t.height/2;i.setClip({type:"rect",attrs:{x:t.minX,y:e,width:t.width,height:0}});var n=i.get("clipShape");n.animate({height:t.height,y:t.minY},r.duration,r.easing,function(){i.setClip(null)},r.delay)}$g.animationName="clipInFromCenterVertical";function SO(i){Kg=i}function Qg(i,r){var t=CO(i).attr("path"),e=(0,f.clone)(i.attr("path"));i.attr("path",t),i.animate({path:e},r.duration,r.easing,r.callback,100)}function CO(i){var r=i.id,t;return(0,f.each)(Kg,function(e){e.id===r&&(t=e)}),t}Qg.animationName="updateFromCenterVertical",ui("clipInFromCenterVertical",$g),ui("updateFromCenterVertical",Qg);var Jg=function(i){(0,Yt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="rangeColumn",t}return r.getDefaultOptions=function(){return(0,f.deepMix)(i.getDefaultOptions.call(this),{label:{visible:!0,position:"outer"}},{})},r.prototype.afterRender=function(){this.renderLabel();var t=[],e=this.view.geometries;(0,f.each)(e,function(n){var a=n.elements;(0,f.each)(a,function(o){t.push(o.shape)})}),SO(t),i.prototype.afterRender.call(this)},r.prototype.animation=function(){i.prototype.animation.call(this),this.column.animate={appear:{animation:"clipInFromCenterVertical",duration:600},update:{animation:"updateFromCenterVertical",duration:600}}},r.prototype.renderLabel=function(){if(this.options.label&&this.options.label.visible){var t=new wO((0,Yt.__assign)({view:this.view,plot:this},this.options.label));t.render()}},r}(ss),MO=Jg;en("rangeColumn",Jg);var EO=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="rangeColumn",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=MO.getDefaultOptions,r}(Wr),qg=EO,ty=function(i){(0,Yt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="percentStackedColumn",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{label:{visible:!0,position:"middle",offset:0},yAxis:{visible:!0,tick:{visible:!1},grid:{visible:!1},title:{visible:!0},label:{visible:!1}}})},r.prototype.processData=function(t){var e=this.options,n=e.xField,a=e.yField;return Eh(t||[],n,[a])},r.prototype.scale=function(){var t={},e=this.options.yField;t[e]={tickCount:6,alias:e+" (%)",min:0,max:1,formatter:function(n){var a=(n*100).toFixed(1);return a+"%"}},this.options.meta=(0,f.deepMix)({},this.options.meta,t),i.prototype.scale.call(this)},r}(ru),ey=ty;en("percentStackedColumn",ty);var AO=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="percentStackedColumn",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=ey.getDefaultOptions,r}(Wr),ry=AO,TO={pie:"interval"},PO=Ei(TO);(0,f.assign)(on,PO);function nu(i,r,t){return{x:i.x+t*Math.cos(r),y:i.y+t*Math.sin(r)}}function SG(i){return{x:i.x+i.width/2,y:i.y+i.height/2}}function _O(i,r,t){t===void 0&&(t=0);var e=Math.max(0,Math.min(i.x+i.width+t,r.x+r.width+t)-Math.max(i.x-t,r.x-t)),n=Math.max(0,Math.min(i.y+i.height+t,r.y+r.height+t)-Math.max(i.y-t,r.y-t));return e*n}function LO(i,r,t){t===void 0&&(t=0);var e=Math.max(0,Math.min(i.x+i.width+t,r.x+r.width+t)-Math.max(i.x-t,r.x-t)),n=Math.max(0,Math.min(i.y+i.height+t,r.y+r.height+t)-Math.max(i.y-t,r.y-t));return e&&i.x<r.x&&(e=-e),n&&i.y<r.y&&(n=-n),i.x===r.x&&i.width===r.width&&(e=r.width),i.y===r.y&&i.height===r.height&&(n=r.height),{xOverlap:e,yOverlap:n}}function CG(i,r){return i.x<r.x&&i.x+i.width>r.x+r.width&&i.y<r.y&&i.y+i.height>r.y+r.height}var OO=function(i,r,t){return t===void 0&&(t=Math.pow(Number.EPSILON,.5)),[i,r].includes(Infinity)?Math.abs(i)===Math.abs(r):Math.abs(i-r)<t};function IO(i,r){var t=i.getCenter();return Math.atan2(r.y-t.y,r.x-t.x)}function kO(i){var r=Math.PI/2,t=i;return(t>r||t<-r)&&(t=t+Math.PI),t}var MG=4;function BO(i){var r=Number(i.endsWith("%")?i.slice(0,-1):i);return r/100}function DO(i,r){var t=i.getBBox();r.y<=t.y&&r.y+r.height>=t.y+t.height||i.get("parent").set("visible",!1)}var FO=function(){function i(r,t){this.destroyed=!1,this.plot=r,this.coordinateBBox=this.plot.view.coordinateBBox;var e=(0,f.deepMix)(this.getDefaultOptions(),t,{});this.adjustOption(e),this.options=e,this.init()}return i.prototype.adjustOverlap=function(r,t){for(var e=1;e<r.length;e++)for(var n=r[e],a=0,o=e-1;o>=0;o--){var s=r[o],l=s.getBBox(),u=n.getBBox();if(s.get("parent").get("visible")&&(a=_O(l,u),!OO(a,0))){n.get("parent").set("visible",!1);break}}r.forEach(function(h){return DO(h,t)})},i.prototype.adjustItem=function(r){},i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.plot.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){this.clear(),this.initArcPoints(),this.drawTexts(),this.drawLines()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getFilteredSum=function(){var r=this.plot.options.angleField,t=this.plot.view.filteredData||[];return t.reduce(function(e,n){return e+n[r]},0)},i.prototype.drawTexts=function(){var r=this,t=this.options,e=t.style,n=t.formatter,a=t.autoRotate,o=t.offsetX,s=t.offsetY,l=t.adjustPosition,u=t.allowOverlap,h=this.getItems(),c=[];h.map(function(v,g){var M=(0,f.deepMix)({},v,e),F=r.getFilteredSum(),Y=r.plot.options.angleField,V=v.origin[Y]/F,z=n?n(v.name,{_origin:v.origin,percent:V},g):v.name,it=r.container.addGroup({name:"itemGroup",index:g,capture:!1}),ot=it.addShape("text",{attrs:(0,f.deepMix)({},M,{x:v.x+o,y:v.y+s,text:z})});ot.set("id","text-"+v.name+"-"+g),c.push(ot)}),c.forEach(function(v){var g=r.coordinateBBox;r.adjustText(v,g)}),l&&this.layout(c,h,this.coordinateBBox),u||this.adjustOverlap(c,this.coordinateBBox),c.forEach(function(v,g){a&&r.rotateLabel(v,kO(h[g].angle))})},i.prototype.adjustText=function(r,t){var e=r.getBBox(),n=e.width,a=0;if(e.maxX>t.maxX?n=t.maxX-e.minX:e.minX<t.minX&&(n=e.maxX-t.minX),r.attr("textAlign")==="left"?r.attr("x",Math.max(e.x-a,0)):r.attr("textAlign")==="right"&&r.attr("x",Math.max(e.maxX-a,0)),n!==e.width){var o={};["fontSize","fontFamily","fontWeight"].forEach(function(l){o[l]=r.attr(l)});var s=r.attr("text").split(`
`).map(function(l){return rp(l,n,o)});r.attr("text",s.join(`
`))}},i.prototype.drawLines=function(){var r=this;if(this.options.line.visible){var t=this.container.get("children"),e=this.getCoordinate().center;t.forEach(function(n,a){var o=n.get("children")[0],s=r.arcPoints[a],l=s.x<e.x,u=r.options.offset>4?4:0,h=r.getLinePath(o,s,u),c=r.options.line;n.addShape("path",{attrs:(0,Yt.__assign)({path:h,stroke:s.color},c)}),o.attr("x",o.attr("x")+(l?-u:u))})}},i.prototype.getLinePath=function(r,t,e){var n=this.options.line?this.options.line.smooth:!1,a=t.angle,o=this.getCoordinate(),s=o.center,l=o.radius,u=nu(s,a,l+e);e<4&&(u=t);var h=t.x<s.x,c=r.getBBox(),v={x:h?c.maxX:c.minX,y:c.y+c.height/2},g=["C",v.x+(h?1:-1)*(e<4?e/2:4),v.y,2*u.x-t.x,2*u.y-t.y,u.x,u.y],M=["L",u.x,u.y],F=n?g:M,Y=["M",v.x,v.y].concat(F).concat("L",t.x,t.y);return Y.join(",")},i.prototype.getGeometry=function(){return this.plot.view.geometries[0]},i.prototype.getCoordinate=function(){var r=this.getGeometry().coordinate,t=r.getCenter(),e=r.getRadius(),n=r.startAngle;return{center:t,radius:e,startAngle:n}},i.prototype.adjustOption=function(r){var t=r.offset,e=this.getCoordinate().radius;(0,f.isString)(t)&&(t=e*BO(t)),r.offset=t},i.prototype.rotateLabel=function(r,t){var e=r.attr("x"),n=r.attr("y"),a=dn.transform(r.getMatrix(),[["t",-e,-n],["r",t],["t",e,n]]);r.setMatrix(a)},i.prototype.getItems=function(){var r=this,t=this.options.offset,e=this.getCoordinate(),n=e.center,a=e.radius,o=this.arcPoints.map(function(s){var l=nu(n,s.angle,a+t),u=(0,Yt.__assign)((0,Yt.__assign)({},s),l);return r.adjustItem(u),u});return o},i.prototype.initArcPoints=function(){var r=this,t=this.plot.options.angleField,e=this.getGeometry().elements,n=this.getCoordinate(),a=n.center,o=n.radius,s=this.getCoordinate().startAngle,l=this.getGeometry().attributes.position.scales,u=l[1],h=u.field,c=e.map(function(v){var g=v.shape.get("origin"),M=g.color,F=g.data[0]||g.data,Y=s+Math.PI*2*u.scale(F[h]),V=(s+Y)/2,z=nu(a,V,o);s=Y;var it=u.getText(F[t]),ot=z.x>a.x?"left":"right";return{x:z.x,y:z.y,color:M,name:it,origin:F,angle:IO(r.getGeometry().coordinate,z),textAlign:ot}});this.arcPoints=c},i}(),kh=FO;function EG(i){var r=Number(i.endsWith("%")?i.slice(0,-1):i);return r/100}var RO=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustOption=function(t){i.prototype.adjustOption.call(this,t),t.offset>0&&(t.offset=0)},r.prototype.adjustItem=function(t){t.textAlign="middle"},r.prototype.drawLines=function(){},r.prototype.layout=function(t,e){var n=this;t.forEach(function(a,o){o>0&&(0,f.each)(t.slice(0,o),function(s){n.resolveCollision(a,s,e[o])})})},r.prototype.getDefaultOptions=function(){var t=this.plot.theme,e=t.label.style;return{offsetX:0,offsetY:0,offset:"-30%",style:(0,Yt.__assign)((0,Yt.__assign)({},e),{textAlign:"center",textBaseline:"middle"})}},r.prototype.resolveCollision=function(t,e,n){var a=this.getCoordinate().center,o=n.angle,s=t.getBBox(),l=e.getBBox(),u={x:(s.minX+s.maxX)/2,y:(s.minY+s.maxY)/2},h=(0,f.clone)(u),c=(0,f.clone)(u);if(e.get("id")!==t.get("id")){var v=LO(s,l),g=v.xOverlap,M=v.yOverlap;if(g&&(h.x=u.x+g,h.y=u.y+Math.tan(o)*g),M){var F=M;u.y<a.y?F=F<0?F:l.minY-s.maxY:F=F>0?F:l.maxY-s.minY,c.y=u.y+F,c.x=u.x+F/Math.tan(o)}var Y=Bd(u,h),V=Bd(u,c),z=Y<V?h:c;t.attr("x",z.x),t.attr("y",z.y)}},r}(kh),NO=RO,AG=16,YO=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustOption=function(t){i.prototype.adjustOption.call(this,t),t.offset<0&&(t.offset=0)},r.prototype.getDefaultOptions=function(){var t=this.plot.theme,e=t.label.style;return{offsetX:0,offsetY:0,offset:12,style:(0,Yt.__assign)((0,Yt.__assign)({},e),{textBaseline:"middle"})}},r.prototype.layout=function(t,e,n){var a=this,o=this.getCoordinate().center,s=(0,f.filter)(t,function(u){return u.attr("x")<=o.x}),l=(0,f.filter)(t,function(u){return u.attr("x")>o.x});[l,s].forEach(function(u,h){a._antiCollision(u,!h,n)})},r.prototype._antiCollision=function(t,e,n){var a=this,o=this.getLabelHeight(t),s=this.getCoordinate(),l=s.center,u=s.radius,h=this.options.offset,c=u+h,v=Math.min(n.height,Math.max(c*2+o*2,t.length*o)),g=Math.floor(v/o);this.options.allowOverlap||t.slice(g).forEach(function(Rt){Rt.get("parent").set("visible",!1)}),t.splice(g,t.length-g),t.sort(function(Rt,re){return Rt.getBBox().y-re.getBBox().y});for(var M=!0,F,Y=l.y+v/2,V=l.y-v/2,z=t.map(function(Rt){var re=Rt.getBBox();return re.maxY>Y&&(Y=Math.min(n.maxY,re.maxY)),re.minY<V&&(V=Math.max(n.minY,re.minY)),{text:Rt.attr("text"),size:o,pos:re.y,targets:[]}}),it=0;it<z.length;)it===z.length-1?z[it].targets[0]=Y:z[it].targets[0]=z[it+1].pos-z[it+1].size/2,it++;for(;M;)for(z.forEach(function(Rt){var re=(0,f.last)(Rt.targets);Rt.pos=Math.max(V,Math.min(Rt.pos,re-Rt.size))}),M=!1,F=z.length;F--;)if(F>0){var ot=z[F-1],yt=z[F];if(ot.pos+ot.size>yt.pos){ot.size+=yt.size,ot.targets=ot.targets.concat(yt.targets);var It=(0,f.last)(ot.targets);ot.pos+ot.size>It&&(ot.pos=It-ot.size),z.splice(F,1),M=!0}else ot.targets.splice(-1,1,yt.pos)}F=0,z.forEach(function(Rt){var re=o/2;Rt.targets.forEach(function(){t[F].attr("y",Rt.pos+re),re+=o,F++})});var zt=[],jt=[];t.forEach(function(Rt,re){var de=a.arcPoints[re];de.angle>=0&&de.angle<=Math.PI?jt.push(Rt):zt.push(Rt)}),[zt,jt].forEach(function(Rt,re){if(!!Rt.length){var de=re?(0,f.last)(Rt).getBBox().maxY-l.y:l.y-(0,f.head)(Rt).getBBox().minY;de=Math.max(c,de);var fe=h>4?4:0,Me=Math.max.apply(0,(0,f.map)(t,function(je){return je.getBBox().width}))+h+fe,Le=Math.max(c,Math.min((de+c)/2,l.x-(n.minX+Me))),_e=Le*Le,He=de*de;Rt.forEach(function(je,Ze){var ze=a.arcPoints[Ze],Xe=je.getBBox(),pr={x:Xe.minX+Xe.width/2,y:Xe.minY+Xe.height/2},cr=Math.pow(pr.y-l.y,2),br=nu(l,ze.angle,u),$e=(e?1:-1)*fe*2;if(cr>He)console.warn("\u5F02\u5E38(\u4E00\u822C\u4E0D\u4F1A\u51FA\u73B0)",je.attr("text")),je.attr("x",br.x+$e);else{var gr=l.x+(e?1:-1)*Math.sqrt((1-cr/He)*_e);(l.x===br.x&&pr.y===br.y||l.y===br.y&&gr===br.x)&&(gr=br.x),je.attr("x",gr+$e)}})}})},r.prototype.getLabelHeight=function(t){return this.options.labelHeight?this.options.labelHeight:(0,f.head)(t)?(0,f.head)(t).getBBox().height:14},r}(kh),GO=YO,TG=16,zO=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustOption=function(t){i.prototype.adjustOption.call(this,t),t.offset<0&&(t.offset=0)},r.prototype.getDefaultOptions=function(){var t=this.plot.theme,e=t.label.style;return{offsetX:0,offsetY:0,offset:12,style:(0,Yt.__assign)((0,Yt.__assign)({},e),{textBaseline:"middle"})}},r.prototype.adjustItem=function(t){var e=this.options.offset;t.textAlign==="left"?t.x+=e>4?4:e/2:t.textAlign==="right"&&(t.x-=e>4?4:e/2)},r.prototype.layout=function(t,e,n){},r}(kh),XO=zO,ny={inner:NO,outer:GO,"outer-center":XO};function VO(i){if(!ny[i]){console.warn("this label "+i+" is not registered");return}return ny[i]}var HO=0,Bh=15,WO="#CCC",jO=2,UO=-2,iy=15;function ay(i,r,t){return{x:i.x+t*Math.cos(r),y:i.y+t*Math.sin(r)}}var ZO=function(){function i(r){this.destroyed=!1,this.view=r.view,this.options=(0,f.deepMix)({},this.getDefaultOptions(),r),this._adjustOptions(this.options),this.init()}return i.prototype.init=function(){var r=this;this.container=this.view.geometries[0].labelsContainer,this.view.on("beforerender",function(){r.clear()})},i.prototype.render=function(){var r=this;if(!(!this.view||this.view.destroyed)){var t=(0,f.clone)(this.view.getData());this.halves=[[],[]];var e=[],n=this.view.geometries[0].elements;(0,f.each)(n,function(yt){e.push(yt.shape)}),this.coord=this.view.geometries[0].coordinate;var a=this.options,o=a.allZero,s=a.angleField,l=this.options.fields[0],u=this.view.getScalesByDim("y")[l],h=this.coord.getCenter(),c=this.coord.startAngle,v=this.coord.polarRadius,g=this.view.coordinateBBox,M=g.width,F=g.height;this.width=M,this.height=F;for(var Y=c,V=function(yt){var It=t[yt],zt=u.scale(It[l]),jt=Y+Math.PI*2*zt,Rt=Y+(jt-Y)/2;Y=jt;var re=ay(h,Rt,v+HO),de=ay(h,Rt,v+Bh),fe=WO;if(z.options.fields.length===2){var Me=z.options.fields[1],Le=z.view.geometries[0].scales[Me],_e=Le.scale(It[Me]);if(_e){var He=Math.floor(_e*(e.length-1));fe=e[He].attr("fill")}}var je={_anchor:re,_inflection:de,_data:It,x:de.x,y:de.y,r:v+Bh,fill:fe,textGroup:null,_side:null},Ze=[];if((0,f.each)(z.options.fields,function(Or){o&&Or===iu?Ze.push(It[s]):Ze.push(It[Or])}),z.options.formatter){var ze=z.options.formatter(It[s],{_origin:It,color:fe},yt);(0,f.isString)(ze)&&(ze=[ze]),Ze=ze}var Xe=z.container.addGroup({capture:!1,visible:!1}),pr={x:0,y:0,fontSize:z.options.text.fontSize,lineHeight:z.options.text.fontSize,fontWeight:z.options.text.fontWeight,fill:z.options.text.fill},cr=It[s];z.options.formatter&&(cr=Ze[0]);var br=(0,f.clone)(pr);Ze.length===2&&(br.fontWeight=700);var $e=Xe.addShape("text",{attrs:(0,f.mix)({textBaseline:Ze.length===2?"top":"middle",text:cr},br),data:It,offsetY:Ze.length===2?jO:0,name:"label"});if($e.name="label",Ze.length===2){var gr=Xe.addShape("text",{attrs:(0,f.mix)({textBaseline:"bottom",text:Ze[1]},pr),data:It,offsetY:UO,name:"label"});gr.name="label"}je.textGroup=Xe,re.x<h.x?(je._side="left",z.halves[0].push(je)):(je._side="right",z.halves[1].push(je))},z=this,it=0;it<t.length;it++)V(it);var ot=Math.floor(F/this.options.lineHeight);(0,f.each)(this.halves,function(yt){yt.length>ot&&yt.splice(ot,yt.length-ot),yt.sort(function(It,zt){return It.y-zt.y}),r._antiCollision(yt)}),this.view.canvas.draw()}},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.view.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.view.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getDefaultOptions=function(){return{text:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12},line:{lineWidth:.5,stroke:"rgba(0, 0, 0, 0.45)"},lineHeight:32,sidePadding:20}},i.prototype._antiCollision=function(r){var t=this,e=this.coord,n=e.getHeight(),a=e.center,o=e.getRadius(),s=a.y-o-Bh-this.options.lineHeight,l=!0,u=n,h,c=0,v=Number.MIN_VALUE,g=0,M=r.map(function(it){var ot=it.y;ot>c&&(c=ot),ot<v&&(v=ot);var yt=it.textGroup,It=yt.getBBox().width;return It>=g&&(g=It),{size:t.options.lineHeight,targets:[ot-s]}});c-s>u&&(u=c-s);for(var F=function(it){it.forEach(function(ot){var yt=(Math.min.apply(v,ot.targets)+Math.max.apply(v,ot.targets))/2;ot.pos=Math.min(Math.max(v,yt-ot.size/2),u-ot.size)})};l;)for(F(M),l=!1,h=M.length;h--;)if(h>0){var Y=M[h-1],V=M[h];Y.pos+Y.size>V.pos&&(Y.size+=V.size,Y.targets=Y.targets.concat(V.targets),Y.pos+Y.size>u&&(Y.pos=u-Y.size),M.splice(h,1),l=!0)}h=0,M.forEach(function(it){var ot=s;it.targets.forEach(function(){r[h].y=it.pos+ot+t.options.lineHeight/2,ot+=t.options.lineHeight,h++})});var z=[];r.forEach(function(it){var ot=t._drawLabel(it);t._drawLabelLine(it,g,ot),z.push(ot)})},i.prototype._drawLabel=function(r){var t=this.coord,e=t.getCenter(),n=t.getRadius(),a=r.y,o=r.textGroup,s=o.get("children"),l=r._side==="left"?1:-1,u=(0,Yt.__assign)({textAlign:r._side==="left"?"right":"left",x:r._side==="left"?e.x-n-this.options.sidePadding:e.x+n+this.options.sidePadding},this.options.style);return this.options.offsetX&&(u.x+=this.options.offsetX*l),s.forEach(function(h){var c=h.get("offsetY"),v=a+c;h.attr(u),h.attr("y",v)}),o.show(),o},i.prototype._drawLabelLine=function(r,t,e){var n=[r._anchor.x,r._anchor.y],a=[r._inflection.x,r._inflection.y],o=r.y,s=r.textGroup;if(!!s){var l=[r._side==="left"?s.getBBox().maxX+4:s.getBBox().minX-4,o],u=[n,a,l];if(a[1]!==o)if(a[1]<this.height/2&&a[1]<o||a[1]>=this.height/2&&a[1]>o){var h=a,c=l[0]+iy,v=l[0]-iy,g=[r._side==="left"?c:v,a[1]];u=[n,h,g,l],(r._side==="right"&&g[0]<h[0]||r._side==="left"&&g[0]>h[0])&&(u=[n,h,l])}else u=[n,[a[0],o],l];for(var M=[],F=0;F<u.length;F++){var Y=u[F],V="L";F===0&&(V="M"),M.push([V,Y[0],Y[1]])}e.addShape("path",{attrs:{path:M,lineWidth:this.options.line.lineWidth,stroke:this.options.line.stroke}})}},i.prototype._adjustOptions=function(r){r.text.fontSize&&(r.lineHeight=r.text.fontSize*3)},i}(),KO=ZO,$O=function(i){var r=i.opacity||1;return{fillOpacity:r*.8}},QO=function(i){var r=i.opacity||1;return{fillOpacity:r*.5}};ea("pie",{columnStyle:{normal:{},active:$O,disable:QO,selected:{lineWidth:1,stroke:"black"}}});var iu="$$percentage$$",JO={pie:"interval"},qO={pie:"column"},oy=function(i){(0,Yt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="pie",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,label:{visible:!0,type:"inner",autoRotate:!1,adjustPosition:!0,allowOverlap:!1,line:{visible:!0,smooth:!0}},legend:{visible:!0,position:"right-center"},tooltip:{visible:!0,shared:!1,showCrosshairs:!1,showMarkers:!1},pieStyle:{stroke:"white",lineWidth:1}})},r.prototype.afterInit=function(){i.prototype.afterInit.call(this);var t=this.options,e=t.angleField,n=t.colorField,a=t.data,o=(0,f.every)(a,function(l){return l[e]===0});if(o){var s=this.view.geometries[0];s.tooltip(n+"*"+e)}},r.prototype.afterRender=function(){i.prototype.afterRender.call(this);var t=this.options;if(t.label&&t.label.visible){this.labelComponent&&this.labelComponent.clear();var e=t.label;if(e.type==="spider"){var n=t.data,a=t.colorField,o=t.angleField,s=(0,f.every)(n,function(h){return h[o]===0}),l=s?iu:o;this.labelComponent=new KO((0,Yt.__assign)({view:this.view,fields:a?[l,a]:[l],angleField:o,allZero:s},this.options.label)),this.labelComponent.render()}else{var u=VO(e.type);this.labelComponent=new u(this,t.label),this.labelComponent.render()}}},r.prototype.getAngleScale=function(){var t=this.options.angleField;if(t)return this.view.getScaleByField(t)},r.prototype.geometryParser=function(t,e){return t==="g2"?JO[e]:qO[e]},r.prototype.scale=function(){var t=this.options;i.prototype.scale.call(this);var e={};e[t.angleField]={},e[t.colorField]={type:"cat"},e=(0,f.deepMix)({},this.config.scales,e),this.setConfig("scales",e)},r.prototype.processData=function(t){var e=this.options.angleField,n=(0,f.every)(t,function(a){return a[e]===0});return n?t.map(function(a){var o;return(0,Yt.__assign)((0,Yt.__assign)({},a),(o={},o[e]=typeof a[e]=="string"?Number.parseFloat(a[e]):a[e],o[iu]=1/t.length,o))}):t.map(function(a){var o,s=a[e];return(0,Yt.__assign)((0,Yt.__assign)({},a),(o={},o[e]=s&&!isNaN(s)?+s:s,o))})},r.prototype.axis=function(){},r.prototype.coord=function(){var t=this.options,e={type:"theta",cfg:{radius:t.radius,innerRadius:t.innerRadius||0}};this.setConfig("coordinate",e)},r.prototype.addGeometry=function(){var t=this.options,e=t.data,n=t.angleField,a,o=(0,f.every)(e,function(s){return s[n]===0});o?a=Jn("interval","main",{plot:this,positionFields:[1,iu]}):a=Jn("interval","main",{plot:this,positionFields:[1,t.angleField]}),a.adjust=[{type:"stack"}],this.pie=a,t.label&&this.label(),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",a)},r.prototype.geometryTooltip=function(){this.pie.tooltip={};var t=this.options.tooltip;t.fields?this.pie.tooltip.fields=t.fields:this.pie.tooltip.fields=[this.options.angleField,this.options.colorField],t.formatter&&(this.pie.tooltip.callback=t.formatter,t.fields||(this.pie.tooltip.fields=[this.options.angleField,this.options.colorField]))},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.pie.animate=!1)},r.prototype.annotation=function(){},r.prototype.parseEvents=function(t){t?i.prototype.parseEvents.call(this,t):i.prototype.parseEvents.call(this,m)},r.prototype.label=function(){this.pie.label=!1},r}(Wn),sy=oy;en("pie",oy);var tI=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="pie",i.prototype.createLayers.call(this,e)},r.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},r.getDefaultOptions=sy.getDefaultOptions,r}(Wr),ly=tI,eI=.3989422804014327,rI=1/255/16,Ys="_origin",nI=function(i){(0,Yt.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.type="heatmap",e.paletteCache={},e.intensity=t.intensity,e.radius=t.radius,e}return r.prototype.createElements=function(t){var e=this.prepareRange(t);return this.prepareSize(),this.prepareBlur(),this.prepareGreyScaleBlurredCircle(this.radius),this.drawWithRange(t,e),null},r.prototype.clear=function(){this.clearShadowCanvasCtx(),i.prototype.clear.call(this)},r.prototype.prepareRange=function(t){var e=this.getAttribute("color"),n=e.getFields()[0],a=Infinity,o=-Infinity;return t.forEach(function(s){var l=s[Ys][n];l>o&&(o=l),l<a&&(a=l)}),a===o&&(a=o-1),[a,o]},r.prototype.prepareSize=function(){var t=this.radius;this.radius||(t=this.getDefaultValue("size"),(0,f.isNumber)(t)||(t=this.getDefaultSize()),this.radius=t)},r.prototype.prepareBlur=function(){var t=(0,f.get)(this.styleOption,["style","shadowBlur"]);(0,f.isNumber)(t)||(t=this.radius/2),this.blur=t},r.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),e=this.coordinate,n=Math.min(e.getWidth()/(t.scales[0].ticks.length*4),e.getHeight()/(t.scales[1].ticks.length*4));return n},r.prototype.colorize=function(t){for(var e=this.getAttribute("color"),n=t.data,a=this.paletteCache,o=3;o<n.length;o+=4){var s=n[o];if(s){var l=void 0;a[s]?l=a[s]:(l=fo(e.gradient(s/256)),a[s]=l),n[o-3]=l[0],n[o-2]=l[1],n[o-1]=l[2],n[o]=s}}},r.prototype.prepareGreyScaleBlurredCircle=function(t){var e=this.grayScaleCanvas;e||(e=document.createElement("canvas"),this.grayScaleCanvas=e);var n=this.intensity?this.intensity:2,a=Math.sqrt(-2*Math.log(rI/t/n/eI))/3*t,o=a-t,s=a+o,l=e.getContext("2d");e.width=e.height=s*2,l.clearRect(0,0,e.width,e.height),l.shadowOffsetX=l.shadowOffsetY=s*2,l.shadowBlur=o,l.shadowColor="black",l.beginPath(),l.arc(-s,-s,t,0,Math.PI*2,!0),l.closePath(),l.fill()},r.prototype.drawGrayScaleBlurredCircle=function(t,e,n,a,o){var s=this.grayScaleCanvas;o.globalAlpha=a,o.drawImage(s,t-n,e-n)},r.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight();var e=t.getContext("2d");return e.globalCompositeOperation="lighter",e},r.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},r.prototype.getImageShape=function(){var t=this.imageShape;if(t)return t;var e=this.container;t=e.addShape({type:"image",attrs:{}}),this.imageShape=t},r.prototype.drawWithRange=function(t,e){var n=this.coordinate,a=n.start,o=n.end,s=this.coordinate.getWidth(),l=this.coordinate.getHeight(),u=this.getAttribute("color"),h=u.getFields()[0];this.clearShadowCanvasCtx();var c=this.getShadowCanvasCtx();e&&(t=t.filter(function(it){return it[Ys][h]<=e[1]&&it[Ys][h]>=e[0]}));for(var v=this.scales[h],g=0;g<t.length;g++){var M=t[g],F=this.getDrawCfg(M),Y=v.scale(M[Ys][h]);this.drawGrayScaleBlurredCircle(F.x-a.x,F.y-o.y,this.radius+this.blur,Y,c)}var V=c.getImageData(0,0,s,l);this.clearShadowCanvasCtx(),this.colorize(V),c.putImageData(V,0,0);var z=new Image;z.src=c.canvas.toDataURL("image/png"),this.getImageShape(),this.imageShape.attr("x",a.x),this.imageShape.attr("y",o.y),this.imageShape.attr("width",s),this.imageShape.attr("height",l),this.imageShape.attr("img",c.canvas),this.imageShape.set("origin",this.getShapeInfo(t))},r.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]);return(0,Yt.__assign)((0,Yt.__assign)({},e),{mappingData:t,data:this.getData(t)})},r.prototype.getData=function(t){return t.map(function(e){return e[Ys]})},r}(ao);ya("linearHeatmap",nI);var iI=function(i){(0,Yt.__extends)(r,i);function r(t){var e=i.call(this)||this;return e.options=t,e.view=e.options.view,e.init(),e}return r.prototype.init=function(){var t=this.getCoordinate();this.width=t.getWidth(),this.height=t.getHeight(),this.x=t.start.x,this.y=t.end.y,this.container=this.view.backgroundGroup.addGroup({})},r.prototype.render=function(){if(this.options.type==="color")this.renderColorBackground();else if(this.options.type==="image")this.renderImageBackground();else if(this.options.callback){var t={x:this.x,y:this.y,width:this.width,height:this.height,container:this.container};this.options.callback(t)}},r.prototype.renderColorBackground=function(){this.container.addShape("rect",{attrs:{x:this.x,y:this.y,width:this.width,height:this.height,fill:this.options.value},name:"heatmap-background"})},r.prototype.renderImageBackground=function(){this.container.addShape("image",{attrs:{x:this.x,y:this.y,width:this.width,height:this.height,img:this.options.src},name:"heatmap-background"})},r.prototype.clear=function(){this.container&&(this.container.clear(),this.emit("background:clear"))},r.prototype.destroy=function(){this.container&&(this.container.remove(),this.emit("background:destroy"))},r.prototype.getCoordinate=function(){var t;return(0,f.each)(this.view.geometries,function(e){e.type==="heatmap"&&(t=e.coordinate)}),t},r}(Be.default),aI=iI,au=4,uy=1,oI=.1,sI=function(){function i(r){this.destroyed=!1,this.dataSlides={};var t=this.getDefaultOptions();r.plot.options.theme&&r.plot.options.theme==="dark"&&(t=this.getDarkOptions()),this.options=(0,f.deepMix)({},t,r),this.view=this.options.view,this.afterRender=!0,this.init()}return i.prototype.init=function(){this.layout=this.getLayout(),this.width=this.options.width?this.options.width:this.getDefaultWidth(),this.height=this.options.height?this.options.height:this.getDefaultHeight();var r=this.options.plot.container;this.container=r.addGroup()},i.prototype.render=function(){var r=this.getScales(),t=this.options.plot.options.colorField;this.colorScale=r[t];var e=this.colorScale,n=e.min,a=e.max,o=this.options.plot.options.color;this.layout==="horizontal"?this.renderHorizontal(n,a,o):this.renderVertical(n,a,o),this.legendLayout(),this.addInteraction(),this.options.plot.canvas.draw()},i.prototype.hide=function(){this.container.set("visible",!1),this.options.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.options.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){var r=this.container.getBBox();return new Zr(this.x,this.y,r.width,r.height)},i.prototype.renderVertical=function(r,t,e){var n=this,a=this.width,o=this.height/e.length,s=this.container.addGroup(),l=(0,f.clone)(e).reverse(),u=(t-r)/e.length;(0,f.each)(l,function(h,c){var v=o*c,g={to:t-u*c,from:t-u*(c+1)},M=n.container.addShape("rect",{attrs:{x:0,y:v,width:a,height:o,fill:h,opacity:uy,cursor:"pointer"},name:"legend"});M.set("info",g);var F=n.getDataSlide(g);n.dataSlides[g.from+"-"+g.to]={mode:"active",data:F},s.addShape("path",{attrs:(0,Yt.__assign)({path:[["M",0,v+o],["L",a,v+o]]},n.options.gridlineStyle)})}),this.container.addShape("text",{attrs:(0,Yt.__assign)({text:t,x:a/2,y:-au,textAlign:"center",textBaseline:"bottom"},this.options.text.style),name:"legend-label"}),this.container.addShape("text",{attrs:(0,Yt.__assign)((0,Yt.__assign)({text:r,x:a/2,y:this.height+au,textAlign:"center",textBaseline:"top"},this.options.text.style),{name:"legend-label"})}),s.addShape("path",{attrs:(0,Yt.__assign)({path:[["M",0,0],["L",this.width,0],["L",this.width,this.height],["L",0,this.height],["L",0,0]]},this.options.gridlineStyle)})},i.prototype.renderHorizontal=function(r,t,e){var n=this,a=this.width/e.length,o=this.height,s=this.container.addGroup(),l=(t-r)/e.length;(0,f.each)(e,function(u,h){var c=a*h,v={from:l*h,to:l*(h+1)},g=n.container.addShape("rect",{attrs:{x:c,y:0,width:a,height:o,fill:u,opacity:.8,cursor:"pointer"},name:"legend"});g.set("info",v),s.addShape("path",{attrs:(0,Yt.__assign)({path:[["M",c+a,0],["L",c+a,o]]},n.options.gridlineStyle)})}),this.container.addShape("text",{attrs:(0,Yt.__assign)((0,Yt.__assign)({text:r,x:-au,y:o/2},this.options.text.style),{textAlign:"right",textBaseline:"middle"}),name:"legend-label"}),this.container.addShape("text",{attrs:(0,Yt.__assign)({text:t,x:this.width+au,y:o/2,textAlign:"left",textBaseline:"middle"},this.options.text.style),name:"legend-label"}),s.addShape("path",{attrs:(0,Yt.__assign)({path:[["M",0,0],["L",this.width,0],["L",this.width,this.height],["L",0,this.height],["L",0,0]]},this.options.gridlineStyle)})},i.prototype.getLayout=function(){var r=this.options.position.split("-");return this.position=r[0],r[0]==="left"||r[0]==="right"?"vertical":"horizontal"},i.prototype.getDefaultWidth=function(){if(this.layout==="horizontal"){var r=this.options.plot.options.width;return r*.5}return 10},i.prototype.getDefaultHeight=function(){if(this.layout==="vertical"){var r=this.options.plot.options.height;return r*.5}return 10},i.prototype.legendLayout=function(){var r=this,t=this.options.plot.getPlotTheme().bleeding;(0,f.isArray)(t)&&(0,f.each)(t,function(u,h){typeof t[h]=="function"&&(t[h]=t[h](r.options.plot.options))});var e=this.container.getBBox(),n=0,a=0,o=this.options.position.split("-"),s=this.options.plot.width,l=this.options.plot.height;o[0]==="left"?n=t[3]:o[0]==="right"?n=s-t[1]-e.width:o[1]==="center"?n=(s-e.width)/2:o[1]==="left"?n=t[3]:o[1]==="right"&&(n=this.options.plot.width-t[1]-e.width),o[0]==="bottom"?a=l-t[2]-e.height:o[0]==="top"?a=this.getTopPosition(t):o[1]==="center"?a=(l-e.height)/2:o[1]==="top"?a=t[0]:o[1]==="bottom"&&(a=l-t[2]-e.height),this.x=n,this.y=a,this.container.translate(n,a)},i.prototype.getDefaultOptions=function(){return{text:{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.45)"}},gridlineStyle:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.45)"}}},i.prototype.getDarkOptions=function(){return{text:{style:{fontSize:12,fill:"rgba(255, 255, 255, 0.45)"}},gridlineStyle:{lineWidth:1,stroke:"rgba(255, 255, 255, 0.25)"}}},i.prototype.addInteraction=function(){var r=this,t=this.options.plot.options.colorField;this.container.on("click",function(e){var n=e.target;if(n.get("name")==="legend"){var a=n.get("info"),o=a.from+"-"+a.to,s=r.dataSlides[o];s.mode==="active"?(s.mode="deactive",n.stopAnimate(),n.animate({opacity:oI},200)):(s.mode="active",n.stopAnimate(),n.animate({opacity:uy},200));var l=r.getFilteredData();l.length>0&&(r.view.changeData(l),r.view.scale(t,{min:r.colorScale.min,max:r.colorScale.max,nice:r.colorScale.nice}),r.view.render())}})},i.prototype.getFilteredData=function(){var r=[];return(0,f.each)(this.dataSlides,function(t){t.mode=="active"&&r.push.apply(r,t.data)}),r},i.prototype.getDataSlide=function(r){var t=[],e=this.options.plot.options,n=e.colorField,a=e.data;return(0,f.each)(a,function(o){var s=o[n];s>=r.from&&s<r.to&&t.push(o)}),t},i.prototype.getTopPosition=function(r){if(this.options.plot.description){var t=this.options.plot.description.getBBox();return t.maxY+10}else if(this.options.plot.title){var t=this.options.plot.title.getBBox();return t.maxY+10}return r[0]},i.prototype.getScales=function(){var r;return(0,f.each)(this.view.geometries,function(t){t.type==="heatmap"&&(r=t.scales)}),r},i}(),lI=sI,uI={background:{Ctr:aI},legend:{Ctr:lI,padding:"outer"}};function fI(i,r,t){if(i.options[r]&&i.options[r].visible){var e=uI[r],n=new e.Ctr(t);return e.padding&&i.paddingController.registerPadding(n,e.padding),n}}var hI={heatmap:"heatmap",legendLabel:"legend-label",heatmapBackground:"heatmap-background"},cI=Ei(hI);(0,f.assign)(on,cI);var fy=function(i){(0,Yt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="densityHeatmap",t.plotComponents=[],t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,autoRotateTitle:!1,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoHide:!0,autoRotate:!0},title:{visible:!1,spacing:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{visible:!1,spacing:12}},tooltip:{visible:!0,showCrosshairs:!0,crosshairs:{type:"xy",line:{style:{stroke:"#000000",lineWidth:1,opacity:.5}}},showMarkers:!1},legend:{visible:!0,position:"bottom-center"},color:["rgba(33,102,172,0)","rgb(103,169,207)","rgb(209,229,240)","rgb(253,219,199)","rgb(239,138,98)","rgb(178,24,43)"],interactions:[{type:"tooltip"}]})},r.prototype.afterRender=function(){this.renderPlotComponents(),i.prototype.afterRender.call(this)},r.prototype.destroy=function(){(0,f.each)(this.plotComponents,function(t){t.destroy()}),i.prototype.destroy.call(this)},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={},(0,f.has)(t,"xAxis")&&bi(e[t.xField],t.xAxis),e[t.yField]={},(0,f.has)(t,"yAxis")&&bi(e[t.yField],t.yAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){},r.prototype.geometryParser=function(){return"heatmap"},r.prototype.addGeometry=function(){if(this.options.data.length>1){var t={type:"linearheatmap",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},cfg:{intensity:this.options.intensity,radius:this.options.radius}};this.options.radius&&(t.radius=this.options.radius),this.options.intensity&&(t.intensity=this.options.intensity),this.options.tooltip&&(this.options.tooltip.fields||this.options.tooltip.formatter)&&this.geometryTooltip(t),this.setConfig("geometry",t),this.addPoint()}},r.prototype.addPoint=function(){var t=this.options,e={visible:!1,size:0};t.point&&t.point.visible?t.point=(0,f.deepMix)(e,t.point):t.point=e;var n=Jn("point","guide",{plot:this});n.active=!1,this.setConfig("geometry",n)},r.prototype.extractLabel=function(){var t=this.options,e=t.label;if(e&&e.visible===!1)return!1;var n=Bi("label",(0,Yt.__assign)({plot:this,labelType:"scatterLabel",fields:[t.xField,t.yField],position:"middle",offset:0},e));return n},r.prototype.legend=function(){this.setConfig("legends",!1)},r.prototype.geometryTooltip=function(t){t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&t.tooltip.fields.push(this.options.colorField)))},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,b)},r.prototype.renderPlotComponents=function(){var t=this;(0,f.each)(this.plotComponents,function(n){n.destroy()});var e=["legend","background"];(0,f.each)(e,function(n){var a=(0,Yt.__assign)({view:t.view,plot:t},t.options[n]),o=fI(t,n,a);o&&(o.render(),t.plotComponents.push(o))})},r}(Wn),vI=fy;en("densityHeatmap",fy);var dI=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="densityHeatmap",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=vI.getDefaultOptions,r}(Wr),hy=dI;function ou(i,r,t,e,n){var a=t*n,o=e*n,s=[["M",i-a/2,r+o/2],["Q",i-a/2,r,i-a/2,r-o/2],["Q",i,r-o/2,i+a/2,r-o/2],["Q",i+a/2,r,i+a/2,r+o/2],["Q",i,r+o/2,i-a/2,r+o/2],["Z"]];return s}function su(i,r,t){var e=[["M",i,r],["l",-t,0],["a",t,t,0,1,0,t*2,0],["a",t,t,0,1,0,-(t*2),0],["Z"]];return e}function cy(i,r,t){var e=[["M",i-t,r],["Q",i-t,r-t,i,r-t],["Q",i+t,r-t,i+t,r],["Q",i+t,r+t,i,r+t],["Q",i-t,r+t,i-t,r],["Z"]];return e}vn("polygon","rect",{draw:function(i,r){var t=this.parsePoints(i.points),e=t[2].x-t[0].x,n=t[0].y-t[1].y,a=t[0].x+e/2,o=t[1].y+n/2,s=ou(a,o,e,n,i.size);return r.addShape("path",{attrs:(0,f.deepMix)({},{path:s,fill:i.color,opacity:1},i.style)})}}),vn("point","curvePoint",{draw:function(i,r){var t=su(i.x,i.y,i.size);return r.addShape("path",{attrs:(0,f.deepMix)({},{path:t,fill:i.color,opacity:1},i.style)})}});var pI=function(){function i(r){this.destroyed=!1,this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,f.deepMix)(t,r,{}),this.init()}return i.prototype.init=function(){var r=this;this.container=this.view.geometries[0].labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.view.geometries[0].elements;(0,f.each)(t,function(e){var n=e.shape,a=r.options,o=a.style,s=a.offsetX,l=a.offsetY,u=r.options.formatter,h=u?u(r.getContent(n)):r.getContent(n),c=r.getPosition(n),v=r.getTextColor(n),g=r.container.addShape("text",{attrs:(0,f.deepMix)({},o,{x:c.x+s,y:c.y+l,text:h,fill:v,textAlign:"center",textBaseline:"middle"}),name:"label"});r.options.adjustPosition&&r.adjustLabel(g,n)})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=r.label.style;return{offsetX:0,offsetY:0,style:(0,f.clone)(t)}},i.prototype.getContent=function(r){var t=r.get("origin").data,e=this.plot.options.colorField;return t[e]},i.prototype.getPosition=function(r){var t=r.getBBox();return{x:t.minX+t.width/2,y:t.minY+t.height/2}},i.prototype.getTextColor=function(r){if(this.options.adjustColor){var t=r.attr("fill"),e=r.attr("opacity")?r.attr("opacity"):1,n=fo(t),a=Math.round(n[0]*.299+n[1]*.587+n[2]*.114)/e,o=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],s=tu(o,a);return s}var l=this.options.style.fill;return l},i.prototype.adjustLabel=function(r,t){var e=r.getBBox(),n=t.getBBox();(e.width>n.width||e.height>n.height)&&r.attr("text","")},i}(),gI=pI,vy=4,yI=function(){function i(r){this.destroyed=!1,this.dataSlides={},this.interactiveEvents={};var t=this.getDefaultOptions();this.options=(0,f.deepMix)({},t,r),this.view=this.options.view,this.afterRender=!0,this.init()}return i.prototype.init=function(){var r=this;this.layout=this.getLayout(),this.width=this.options.width?this.options.width:this.getDefaultWidth(),this.height=this.options.height?this.options.height:this.getDefaultHeight();var t=this.options.plot.container;this.container&&this.container.remove(),this.container=t.addGroup(),this.view.on("beforerender",function(){r.clear(),r.options.plot.canvas.draw()})},i.prototype.render=function(){var r=this.view.geometries[0].scales,t=this.options.plot.options.colorField;this.colorScale=r[t];var e=this.colorScale,n=e.min,a=e.max,o=this.options.plot.options.color;this.layout==="horizontal"?this.renderHorizontal(n,a,o):this.renderVertical(n,a,o),this.legendLayout(),this.addInteraction()},i.prototype.hide=function(){this.container.set("visible",!1),this.options.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.options.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.offEvent(),this.destroyed=!0},i.prototype.getBBox=function(){var r=this.container.getBBox();return new Zr(this.x,this.y,r.width,r.height)},i.prototype.renderVertical=function(r,t,e){var n=this,a=(t-r)/(e.length-1),o=1/(e.length-1),s=this.height/(e.length-1),l="l(90)";(0,f.each)(e,function(v,g){var M=o*g;l+=M+":"+v+" "}),this.container.addShape("rect",{attrs:{x:0,y:0,width:this.width,height:this.height,fill:l},name:"legend"}),(0,f.each)(e,function(v,g){var M=s*g;n.container.addShape("path",{attrs:(0,Yt.__assign)({path:[["M",0,M],["L",n.width,M]]},n.options.ticklineStyle)});var F=Math.round(a*g);n.container.addShape("text",{attrs:(0,Yt.__assign)({text:F,textAlign:"left",textBaseline:"middle",x:n.width+vy,y:M},n.options.text.style),name:"legend-label"})});var u=10,h=14,c=[["M",-u,-h/2],["L",0,0],["L",-u,h/2],["Z"]];this.anchor=this.container.addShape("path",{attrs:(0,Yt.__assign)({path:c},this.options.anchorStyle)}),this.anchor.set("visible",!1)},i.prototype.renderHorizontal=function(r,t,e){var n=this,a=(t-r)/(e.length-1),o=1/(e.length-1),s=this.width/(e.length-1),l="l(0)";(0,f.each)(e,function(v,g){var M=o*g;l+=M+":"+v+" "}),this.container.addShape("rect",{attrs:{x:0,y:0,width:this.width,height:this.height,fill:l},name:"legend"}),(0,f.each)(e,function(v,g){var M=s*g;n.container.addShape("path",{attrs:(0,Yt.__assign)({path:[["M",M,0],["L",M,n.height]]},n.options.ticklineStyle),name:"legend-label"});var F=Math.round(a*g);n.container.addShape("text",{attrs:(0,Yt.__assign)({text:F,textAlign:"center",textBaseline:"top",x:M,y:n.height+vy},n.options.text.style)})});var u=14,h=10,c=[["M",0,0],["L",-u/2,-h],["L",u/2,-h],["Z"]];this.anchor=this.container.addShape("path",{attrs:(0,Yt.__assign)({path:c},this.options.anchorStyle)}),this.anchor.set("visible",!1)},i.prototype.getLayout=function(){var r=this.options.position.split("-");return this.position=r[0],r[0]==="left"||r[0]==="right"?"vertical":"horizontal"},i.prototype.getDefaultWidth=function(){if(this.layout==="horizontal"){var r=this.view.coordinateBBox.width;return r}return 10},i.prototype.getDefaultHeight=function(){if(this.layout==="vertical"){var r=this.view.coordinateBBox.height;return r}return 10},i.prototype.legendLayout=function(){var r=this,t=this.view.coordinateBBox,e=this.options.plot.getPlotTheme().bleeding;(0,f.isArray)(e)&&(0,f.each)(e,function(h,c){typeof e[c]=="function"&&(e[c]=e[c](r.options.plot.options))});var n=this.container.getBBox(),a=0,o=0,s=this.options.position.split("-"),l=this.options.plot.width,u=this.options.plot.height;s[0]==="left"?a=e[3]:s[0]==="right"?a=l-e[1]-n.width:s[1]==="center"?this.width===t.width?a=t.x:a=(l-n.width)/2:s[1]==="left"?a=e[3]:s[1]==="right"&&(a=this.options.plot.width-e[1]-n.width),s[0]==="bottom"?o=u-e[2]-n.height:s[0]==="top"?o=this.getTopPosition(e):s[1]==="center"?this.height===t.height?o=t.y:o=(u-n.height)/2:s[1]==="top"?o=e[0]:s[1]==="bottom"&&(o=u-e[2]-n.height),this.x=a,this.y=o,this.container.translate(a,o)},i.prototype.getDefaultOptions=function(){return{text:{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.45)"}},ticklineStyle:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.8)"},anchorStyle:{fill:"rgba(0,0,0,0.5)"},triggerOn:"mousemove"}},i.prototype.addInteraction=function(){var r=this,t;this.options.plot.options.shapeType==="rect"?t="polygon":t="point";var e=t+":"+this.options.triggerOn,n=this.options.plot.options.colorField,a=this.colorScale,o=a.min,s=a.max,l=function(h){var c=h.data.data[n],v=(c-o)/(s-o);r.moveAnchor(v)};this.view.on(e,l),this.interactiveEvents[e]={target:this.view,handler:l};var u=function(){r.anchor.set("visible",!1)};this.options.plot.canvas.on("mouseleave",u),this.interactiveEvents.mouseleave={target:this.options.plot.canvas,handler:u}},i.prototype.moveAnchor=function(r){if(this.anchor.set("visible",!0),this.layout==="vertical"){var t=this.height*r,e=[1,0,0,0,1,0,0,0,1];e[7]=t,this.anchor.stopAnimate(),this.anchor.animate({matrix:e},400,"easeLinear")}else{var t=this.width*r,e=[1,0,0,0,1,0,0,0,1];e[6]=t,this.anchor.stopAnimate(),this.anchor.animate({matrix:e},400,"easeLinear")}},i.prototype.getTopPosition=function(r){if(this.options.plot.description){var t=this.options.plot.description.getBBox();return t.maxY+10}else if(this.options.plot.title){var t=this.options.plot.title.getBBox();return t.maxY+10}return r[0]},i.prototype.offEvent=function(){(0,f.each)(this.interactiveEvents,function(r,t){var e=r.target,n=r.handler;e.off(t,n)})},i}(),mI=yI,xI={label:{Ctr:gI},legend:{Ctr:mI,padding:"outer"}};function bI(i,r,t){if(i.options[r]&&i.options[r].visible){var e=xI[r],n=new e.Ctr(t);return e.padding&&i.paddingController.registerPadding(n,e.padding),n}}var dy=function(i){(0,Yt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="heatmap",t.gridSize=[],t.plotComponents=[],t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{shapeType:"rect",legend:{visible:!0,position:"right-center"},tooltip:{shared:!1,showCrosshairs:!1,showMarkers:!1},xAxis:{visible:!0,gridAlign:"center",grid:{visible:!0},tickLine:{visible:!0},line:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!0}},yAxis:{visible:!0,gridAlign:"center",grid:{visible:!0,align:"center"},tickLine:{visible:!0},label:{autoHide:!0,autoRotate:!1}},color:["#9ae3d5","#66cdbb","#e7a744","#f1e066","#f27664","#e7c1a2"],label:{visible:!0,adjustColor:!0,adjustPosition:!0,offset:0,style:{stroke:"rgba(255,255,255,0)",lineWidth:0}},interactions:[{type:"tooltip"}]})},r.prototype.afterRender=function(){this.renderPlotComponents(),i.prototype.afterRender.call(this)},r.prototype.changeShape=function(t){if(this.options.shapeType!==t){if(this.options.shapeType=t,t==="rect"){var e=this.getShape();this.circleToRect(e)}else if(t==="circle"){var e=this.getShape();this.rectToCircle(e)}}},r.prototype.mappingSize=function(t){if(!(this.options.sizeField&&this.options.sizeField===t)){this.options.sizeField=t;var e=(0,f.valuesOfKey)(this.options.data,t),n=Math.min.apply(Math,e),a=Math.max.apply(Math,e),o=(0,Nr.getScale)("linear"),s=new o({min:n,max:a}),l=this.getShape();this.options.shapeType==="rect"?this.rectSizeMapping(l,s,t):this.options.shapeType==="circle"&&this.circleSizeMapping(l,s,t)}},r.prototype.disableMappingSize=function(){var t=this.getShape();this.options.shapeType==="rect"?this.rectDisableSizeMapping(t):this.options.shapeType==="circle"&&this.circleDisableSizeMapping(t)},r.prototype.destroy=function(){(0,f.each)(this.plotComponents,function(t){t.destroy()}),i.prototype.destroy.call(this)},r.prototype.getSizeScale=function(){var t=this.options.sizeField;t&&this.view.getScaleByField(t)},r.prototype.geometryParser=function(){return""},r.prototype.coord=function(){},r.prototype.legend=function(){this.setConfig("legends",!1)},r.prototype.addGeometry=function(){this.gridSize=this.getGridSize();var t;if(this.options.shapeType==="rect")t=this.addRect();else{var e=this.addCircle();t=e}if(this.options.shapeStyle){var n={};(0,f.isFunction)(this.options.shapeStyle)?(n.fields=[this.options.colorField,this.options.xField,this.options.yField,this.options.sizeField],n.callback=this.options.shapeStyle):(0,f.isObject)(this.options.shapeStyle)&&(n.cfg=this.options.shapeStyle),t.style=n}this.options.tooltip&&(this.options.tooltip.fields||this.options.tooltip.formatter)&&this.geometryTooltip(t),this.setConfig("geometry",t)},r.prototype.addRect=function(){var t=[.3,.9];this.options.shapeSize&&(t[0]=this.options.shapeSize[0]/this.gridSize[0],t[1]=this.options.shapeSize[1]/this.gridSize[1]);var e={type:"polygon",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},shape:{values:["rect"]},label:!1};return this.options.sizeField?e.size={fields:[this.options.sizeField],values:t}:e.size={values:[1]},e},r.prototype.addCircle=function(){var t=[.3,.9];this.options.shapeSize?t=this.options.shapeSize:(t[0]=this.gridSize[0]*t[0]*.5,t[1]=this.gridSize[1]*t[1]*.5);var e={type:"point",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},shape:{values:["curvePoint"]},label:!1};return this.options.sizeField?e.size={fields:[this.options.sizeField],values:t}:e.size={values:[Math.min(this.gridSize[0],this.gridSize[1])*.5*.9]},e},r.prototype.geometryTooltip=function(t){t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&t.tooltip.fields.push(this.options.colorField)))},r.prototype.getGridSize=function(){if(this.options.padding==="auto")return[0,0];var t=this.getViewRange(),e=this.options,n=e.padding,a=e.xField,o=e.yField,s=e.data,l=t.width-n[1]-n[3],u=t.height-n[0]-n[2],h=(0,f.valuesOfKey)(s,a).length,c=(0,f.valuesOfKey)(s,o).length;return[l/h,u/c]},r.prototype.circleToRect=function(t){var e=this,n=this.gridSize;(0,f.each)(t,function(a){var o=a.get("origin"),s=o.x,l=o.y,u=o.size,h=u*2/Math.min(n[0],n[1]);e.options.sizeField||(h=1);var c=cy(s,l,u),v=ou(s,l,n[0],n[1],h);a.stopAnimate(),a.attr("path",c),a.animate({path:v},500,"easeLinear")})},r.prototype.rectToCircle=function(t){var e=this;(0,f.each)(t,function(n){var a=n.get("coord"),o=n.get("origin").points,s=[];(0,f.each)(o,function(Y){s.push(a.convertPoint(Y))});var l=n.getBBox(),u=l.width,h=l.height,c=l.minX+u/2,v=l.minY+h/2,g=e.options.sizeField?1:.9,M=cy(c,v,Math.min(u,h)/2*g),F=su(c,v,Math.min(u,h)/2*g);n.stopAnimate(),n.animate({path:M},500,"easeLinear",function(){n.attr("path",F)})})},r.prototype.rectSizeMapping=function(t,e,n){(0,f.each)(t,function(a){var o=a.get("origin").data,s=.3+e.scale(o[n])*.6;a.get("origin").size=s;var l=a.getBBox(),u=l.width,h=l.height,c=l.minX+u/2,v=l.minY+h/2,g=ou(c,v,u,h,s);a.stopAnimate(),a.animate({path:g},500,"easeLinear")})},r.prototype.circleSizeMapping=function(t,e,n){(0,f.each)(t,function(a){var o=a.get("origin").data,s=.3+e.scale(o[n])*.6,l=a.get("origin"),u=l.x,h=l.y,c=l.size,v=su(u,h,c*s);a.get("origin").size=c*s,a.stopAnimate(),a.animate({path:v},500,"easeLinear")})},r.prototype.circleDisableSizeMapping=function(t){var e=this;this.options.sizeField=null,(0,f.each)(t,function(n){var a=n.get("origin"),o=a.x,s=a.y,l=Math.min(e.gridSize[0],e.gridSize[1])*.9;n.get("origin").size=l/2;var u=su(o,s,l/2);n.stopAnimate(),n.animate({path:u},500,"easeLinear")})},r.prototype.rectDisableSizeMapping=function(t){var e=this;this.options.sizeField=null,(0,f.each)(t,function(n){var a=n.getBBox(),o=a.width,s=a.height,l=a.minX+o/2,u=a.minY+s/2,h=ou(l,u,e.gridSize[0],e.gridSize[1],1);n.get("origin").size=1,n.stopAnimate(),n.animate({path:h},500,"easeLinear")})},r.prototype.getShape=function(){var t=this.view.geometries[0].elements,e=[];return(0,f.each)(t,function(n){e.push(n.shape)}),e},r.prototype.renderPlotComponents=function(){var t=this;(0,f.each)(this.plotComponents,function(n){n.destroy()}),this.plotComponents=[];var e=["label","legend"];(0,f.each)(e,function(n){var a=(0,Yt.__assign)({view:t.view,plot:t},t.options[n]),o=bI(t,n,a);o&&(o.render(),t.plotComponents.push(o))})},r}(Wn),wI=dy;en("heatmap",dy);var SI=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="heatmap",i.prototype.createLayers.call(this,e)},r.prototype.changeShape=function(t){var e=this.layers[0];e.changeShape(t)},r.prototype.mappingSize=function(t){var e=this.layers[0];e.mappingSize(t)},r.prototype.disableMappingSize=function(){var t=this.layers[0];t.disableMappingSize()},r.prototype.getSizeScale=function(){var t=this.layers[0];return t.getSizeScale()},r.getDefaultOptions=wI.getDefaultOptions,r}(Wr),py=SI,CI=function(i){(0,Yt.__extends)(r,i);function r(t){var e=this,n=(0,f.deepMix)({},t,{itemTpl:`<div data-index={index}>
        <span style="background-color:{color};" class="g2-tooltip-marker"></span>
        {name}<span class="g2-tooltip-value">{value}</span></div>`},t);return e=i.call(this,n)||this,e}return r}(wE.Z),MI=CI;/*!
 * wordcloud2.js
 * http://timdream.org/wordcloud2.js/
 *
 * Copyright 2011 - 2013 Tim Chien
 * Released under the MIT license
 */window.setImmediate||(window.setImmediate=function(){return window.msSetImmediate||window.webkitSetImmediate||window.mozSetImmediate||window.oSetImmediate||function(){if(!window.postMessage||!window.addEventListener)return null;var t=[void 0],e="zero-timeout-message",n=function(o){var s=t.length;return t.push(o),window.postMessage(e+s.toString(36),"*"),s};return window.addEventListener("message",function(o){if(!(typeof o.data!="string"||o.data.substr(0,e.length)!==e)){o.stopImmediatePropagation();var s=parseInt(o.data.substr(e.length),36);!t[s]||(t[s](),t[s]=void 0)}},!0),window.clearImmediate=function(o){!t[o]||(t[o]=void 0)},n}()||function(t){window.setTimeout(t,0)}}()),window.clearImmediate||(window.clearImmediate=function(){return window.msClearImmediate||window.webkitClearImmediate||window.mozClearImmediate||window.oClearImmediate||function(t){window.clearTimeout(t)}}());var Dh=function(){var r=document.createElement("canvas");if(!r||!r.getContext)return!1;var t=r.getContext("2d");return!(!t.getImageData||!t.fillText||!Array.prototype.some||!Array.prototype.push)}(),ls=function(){if(!!Dh){for(var r=document.createElement("canvas").getContext("2d"),t=20,e,n;t;){if(r.font=t.toString(10)+"px sans-serif",r.measureText("\uFF37").width===e&&r.measureText("m").width===n)return t+1;e=r.measureText("\uFF37").width,n=r.measureText("m").width,t--}return 0}}(),EI=function(r){for(var t,e,n=r.length;n;t=Math.floor(Math.random()*n),e=r[--n],r[n]=r[t],r[t]=e);return r},Fh=function(r,t){if(!Dh)return;Array.isArray(r)||(r=[r]),r.forEach(function(Cr,ke){if(typeof Cr=="string"){if(r[ke]=document.getElementById(Cr),!r[ke])throw"The element id specified is not found."}else if(!Cr.tagName&&!Cr.appendChild)throw"You must pass valid HTML elements, or ID of the element."});var e={data:[],fontFamily:'"Trebuchet MS", "Heiti TC", "\u5FAE\u8EDF\u6B63\u9ED1\u9AD4", "Arial Unicode MS", "Droid Fallback Sans", sans-serif',fontWeight:"normal",color:"random-dark",minFontSize:ls,maxFontSize:60,clearCanvas:!0,backgroundColor:"#fff",gridSize:8,drawOutOfBound:!1,origin:null,drawMask:!1,maskColor:"rgba(255,0,0,0.3)",maskGapWidth:.3,wait:0,abortThreshold:0,abort:function(){},minRotation:-Math.PI/2,maxRotation:Math.PI/2,rotateRatio:.5,rotationSteps:1,shuffle:!0,shape:"circle",ellipticity:1,active:!0,animatable:!0,selected:-1,shadowColor:"#333",shadowBlur:10,fontScale:1.2,classes:null,onWordCloudHover:null,onWordCloudClick:null},n=[];if(t)for(var a in t)if(a==="wordStyle")for(var o in t[a])o in e&&(e[o]=t[a][o]);else a in e&&(e[a]=t[a]);if(e.minFontSize<ls&&(e.minFontSize=ls),e.minFontSize>e.maxFontSize){console.error("minSize cant bigger than maxSize");return}for(var s=0,l=0;l<e.data.length;l++)s<e.data[l].weight&&(s=e.data[l].weight);var u=function(ke){var qe=Math.min(Math.max(e.minFontSize,e.maxFontSize*ke/s),e.maxFontSize);return Dr?qe*e.fontScale:qe},h=!1;if(typeof e.shape!="function")switch(e.shape){case"circle":default:e.shape="circle";break;case"cardioid":e.shape=function(ke){return 1-Math.sin(ke)},h=!0;break;case"diamond":e.shape=function(ke){var qe=ke%(2*Math.PI/4);return 1/(Math.cos(qe)+Math.sin(qe))};break;case"square":e.shape=function(ke){var qe=(ke+Math.PI/4)%(2*Math.PI/4);return 1/(Math.cos(qe)+Math.sin(qe))};break;case"triangle-forward":e.shape=function(ke){var qe=ke%(2*Math.PI/3);return 1/(Math.cos(qe)+Math.sqrt(3)*Math.sin(qe))};break;case"triangle-backward":e.shape=function(ke){var qe=(ke+Math.PI)%(2*Math.PI/3);return 1/(Math.cos(qe)+Math.sqrt(3)*Math.sin(qe))};break;case"triangle":case"triangle-up":e.shape=function(ke){var qe=(ke+Math.PI*3/2)%(2*Math.PI/3);return 1/(Math.cos(qe)+Math.sqrt(3)*Math.sin(qe))};break;case"triangle-down":e.shape=function(ke){var qe=(ke+Math.PI*5/2)%(2*Math.PI/3);return 1/(Math.cos(qe)+Math.sqrt(3)*Math.sin(qe))};break;case"pentagon":e.shape=function(ke){var qe=(ke+.955)%(2*Math.PI/5);return 1/(Math.cos(qe)+.726543*Math.sin(qe))};break;case"star":e.shape=function(ke){var qe=(ke+.955)%(2*Math.PI/10);return(ke+.955)%(2*Math.PI/5)-2*Math.PI/10>=0?1/(Math.cos(2*Math.PI/10-qe)+3.07768*Math.sin(2*Math.PI/10-qe)):1/(Math.cos(qe)+3.07768*Math.sin(qe))};break}e.gridSize=Math.max(Math.floor(e.gridSize),4);var c=e.gridSize,v=c-e.maskGapWidth,g=Math.abs(e.maxRotation-e.minRotation),M=Math.min(e.maxRotation,e.minRotation),F=e.rotationSteps,Y,V,z,it,ot,yt,It;function zt(Cr,ke){return"hsl("+(Math.random()*360).toFixed()+","+(Math.random()*30+70).toFixed()+"%,"+(Math.random()*(ke-Cr)+Cr).toFixed()+"%)"}switch(e.color){case"random-dark":It=function(){return zt(10,50)};break;case"random-light":It=function(){return zt(50,90)};break;default:typeof e.color=="function"&&(It=e.color);break}var jt=null;typeof e.classes=="function"&&(jt=e.classes);var Rt=!1,re=[],de,fe=function(ke){var qe=ke.currentTarget,Fr=qe.getBoundingClientRect(),Vr,_r;ke.touches?(Vr=ke.touches[0].clientX,_r=ke.touches[0].clientY):(Vr=ke.clientX,_r=ke.clientY);var Qr=Vr-Fr.left,Ur=_r-Fr.top,Rr=Math.floor(Qr*(qe.width/Fr.width||1)/c),Jr=Math.floor(Ur*(qe.height/Fr.height||1)/c);return re&&re[Rr]&&re[Rr][Jr]},Me=function(ke,qe,Fr,Vr){Vr(ke?ke.id:-1)},Le=function(ke){var qe=fe(ke);if(de!==qe&&!(Dr&&qe&&qe.item&&!(0,f.get)(qe,["item","twiceRender"]))){if(!qe){e.onWordCloudHover(void 0,void 0,ke,Kr),e.active&&Me(void 0,void 0,ke,Kr);return}e.onWordCloudHover(qe.item,qe.dimension,ke,Kr),e.active&&Me(qe.item,qe.dimension,ke,Kr),de=qe}},_e=function(ke){var qe=fe(ke);!qe||(e.onWordCloudClick(qe.item,qe.dimension,ke),ke.preventDefault())},He=[],je=function(ke){if(He[ke])return He[ke];var qe=ke*8,Fr=qe,Vr=[];for(ke===0&&Vr.push([it[0],it[1],0]);Fr--;){var _r=1;e.shape!=="circle"&&(_r=e.shape(Fr/qe*2*Math.PI)),Vr.push([it[0]+ke*_r*Math.cos(-Fr/qe*2*Math.PI),it[1]+ke*_r*Math.sin(-Fr/qe*2*Math.PI)*e.ellipticity,Fr/qe*2*Math.PI])}return He[ke]=Vr,Vr},Ze=function(){return e.abortThreshold>0&&new Date().getTime()-yt>e.abortThreshold},ze=function(){return e.rotateRatio===0||Math.random()>e.rotateRatio?0:g===0?M:F>0?M+Math.floor(Math.random()*F)*g/F:M+Math.random()*g},Xe=function(ke,qe,Fr){var Vr=!1,_r=u(qe);if(_r<=0)return!1;var Qr=1;_r<ls&&(Qr=function(){for(var Uo=2;Uo*_r<ls;)Uo+=2;return Uo}());var Ur=document.createElement("canvas"),Rr=Ur.getContext("2d",{willReadFrequently:!0});Rr.font=e.fontWeight+" "+(_r*Qr).toString(10)+"px "+e.fontFamily;var Jr=Rr.measureText(ke).width/Qr,sn=Math.max(_r*Qr,Rr.measureText("m").width,Rr.measureText("\uFF37").width)/Qr,On=Jr+sn*2,bn=sn*3,zn=Math.ceil(On/c),Kn=Math.ceil(bn/c);On=zn*c,bn=Kn*c;var Ri=-Jr/2,Xi=-sn*.4,gi=Math.ceil((On*Math.abs(Math.sin(Fr))+bn*Math.abs(Math.cos(Fr)))/c),kr=Math.ceil((On*Math.abs(Math.cos(Fr))+bn*Math.abs(Math.sin(Fr)))/c),Xn=kr*c,Ti=gi*c;Ur.setAttribute("width",Xn),Ur.setAttribute("height",Ti),Vr&&(document.body.appendChild(Ur),Rr.save()),Rr.scale(1/Qr,1/Qr),Rr.translate(Xn*Qr/2,Ti*Qr/2),Rr.rotate(-Fr),Rr.font=e.fontWeight+" "+(_r*Qr).toString(10)+"px "+e.fontFamily,Rr.fillStyle="#000",Rr.textBaseline="middle",Rr.fillText(ke,Ri*Qr,(Xi+_r*.5)*Qr);var wi;try{wi=Rr.getImageData(0,0,Xn,Ti).data}catch(Vi){return!1}if(Ze())return!1;Vr&&(Rr.strokeRect(Ri*Qr,Xi,Jr*Qr,sn*Qr),Rr.restore());for(var qa=[],Pi=kr,wn,yn,In,Nn=[gi/2,kr/2,gi/2,kr/2];Pi--;)for(wn=gi;wn--;){In=c;t:{for(;In--;)for(yn=c;yn--;)if(wi[((wn*c+In)*Xn+(Pi*c+yn))*4+3]){qa.push([Pi,wn]),Pi<Nn[3]&&(Nn[3]=Pi),Pi>Nn[1]&&(Nn[1]=Pi),wn<Nn[0]&&(Nn[0]=wn),wn>Nn[2]&&(Nn[2]=wn),Vr&&(Rr.fillStyle="rgba(255, 0, 0, 0.5)",Rr.fillRect(Pi*c,wn*c,c-.5,c-.5));break t}Vr&&(Rr.fillStyle="rgba(0, 0, 255, 0.5)",Rr.fillRect(Pi*c,wn*c,c-.5,c-.5))}}return Vr&&(Rr.fillStyle="rgba(0, 255, 0, 0.5)",Rr.fillRect(Nn[3]*c,Nn[0]*c,(Nn[1]-Nn[3]+1)*c,(Nn[2]-Nn[0]+1)*c)),{mu:Qr,occupied:qa,bounds:Nn,gw:kr,gh:gi,fillTextOffsetX:Ri,fillTextOffsetY:Xi,fillTextWidth:Jr,fillTextHeight:sn,fontSize:_r}},pr=function(ke,qe,Fr,Vr,_r){for(var Qr=_r.length;Qr--;){var Ur=ke+_r[Qr][0],Rr=qe+_r[Qr][1];if(Ur>=V||Rr>=z||Ur<0||Rr<0){if(!e.drawOutOfBound)return!1;continue}if(!Y[Ur][Rr])return!1}return!0},cr=function(ke,qe,Fr,Vr,_r,Qr,Ur,Rr,Jr,sn,On){var bn=Fr.fontSize,zn=e.color,Kn=e.classes;if(!On)It?zn=It(Vr,_r,bn,Qr,Ur):zn=e.color,jt?Kn=jt(Vr,_r,bn,Qr,Ur):Kn=e.classes;else{var Ri=mr(sn);zn=Ri?Ri.color:e.color}var Xi,gi=Fr.bounds;Xi={x:(ke+gi[3])*c,y:(qe+gi[0])*c,w:(gi[1]-gi[3]+1)*c,h:(gi[2]-gi[0]+1)*c},r.forEach(function(kr){if(kr.getContext){var Xn=kr.getContext("2d"),Ti=Fr.mu;Xn.save();var wi=e.fontWeight+" "+(bn*Ti).toString(10)+"px "+e.fontFamily;Xn.scale(1/Ti,1/Ti),Xn.font=wi,Xn.fillStyle=zn;var qa=(ke+Fr.gw/2)*c*Ti,Pi=(qe+Fr.gh/2)*c*Ti;Xn.translate(qa,Pi),Rr!==0&&Xn.rotate(-Rr),Xn.textBaseline="middle",e.selected===sn&&(Xn.shadowColor=e.shadowColor,Xn.shadowBlur=e.shadowBlur),Xn.fillText(Vr,Fr.fillTextOffsetX*Ti,(Fr.fillTextOffsetY+bn*.5)*Ti),On||n.push({gx:ke,gy:qe,info:Fr,word:Vr,weight:_r,distance:Qr,theta:Ur,rotateDeg:Rr,attributes:Jr,id:sn,color:zn}),Xn.restore()}else{var wn=document.createElement("span"),yn="";yn="rotate("+-Rr/Math.PI*180+"deg) ",Fr.mu!==1&&(yn+="translateX(-"+Fr.fillTextWidth/4+"px) scale("+1/Fr.mu+")");var In={position:"absolute",display:"block",font:e.fontWeight+" "+bn*Fr.mu+"px "+e.fontFamily,left:(ke+Fr.gw/2)*c+Fr.fillTextOffsetX+"px",top:(qe+Fr.gh/2)*c+Fr.fillTextOffsetY+"px",width:Fr.fillTextWidth+"px",height:Fr.fillTextHeight+"px",lineHeight:bn+"px",whiteSpace:"nowrap",transform:yn,webkitTransform:yn,msTransform:yn,transformOrigin:"50% 40%",webkitTransformOrigin:"50% 40%",msTransformOrigin:"50% 40%"};zn&&(In.color=zn),wn.textContent=Vr;for(var Nn in In)wn.style[Nn]=In[Nn];if(Jr)for(var Vi in Jr)wn.setAttribute(Vi,Jr[Vi]);Kn&&(wn.className+=Kn),kr.appendChild(wn)}})},br=function(ke,qe,Fr,Vr,_r){if(!(ke>=V||qe>=z||ke<0||qe<0)){if(Y[ke][qe]=!1,Fr){var Qr=r[0].getContext("2d");Qr.fillRect(ke*c,qe*c,v,v)}Rt&&(re[ke][qe]={item:_r,dimension:Vr})}},$e=function(ke,qe,Fr,Vr,_r){var Qr=_r.occupied,Ur=e.drawMask,Rr;Ur&&(Rr=r[0].getContext("2d"),Rr.save(),Rr.fillStyle=e.maskColor);var Jr;if(Rt){var sn=_r.bounds;Jr={x:(ke+sn[3])*c,y:(qe+sn[0])*c,w:(sn[1]-sn[3]+1)*c,h:(sn[2]-sn[0]+1)*c}}for(var On=Qr.length;On--;){var bn=ke+Qr[On][0],zn=qe+Qr[On][1];if(!(bn>=V||zn>=z||bn<0||zn<0)){var Kn=mr(_r.item.id);Kn&&(_r.item.color=Kn.color),br(bn,zn,Ur,Jr,_r.item)}}Ur&&Rr.restore()},gr=function(ke,qe,Fr,Vr,_r,Qr,Ur,Rr){var Jr=Math.floor(ke[0]-qe.gw/2),sn=Math.floor(ke[1]-qe.gh/2),On=qe.gw,bn=qe.gh;return pr(Jr,sn,On,bn,qe.occupied)?(cr(Jr,sn,qe,Fr,Vr,_r,ke[2],Qr,Ur,Rr,!1),$e(Jr,sn,On,bn,qe),{gx:Jr,gy:sn,rot:Qr,info:qe}):!1},Or=function(ke){var qe,Fr,Vr,_r;Array.isArray(ke)?(qe=ke[0],Fr=ke[1]):(qe=ke.word,Fr=ke.weight,Vr=ke.attributes,_r=ke.id);var Qr=(0,f.isNil)(ke.rotateDeg)?ze():ke.rotateDeg,Ur=Xe(qe,Fr,Qr);if(Ur&&(Ur.item=ke),!Ur||Ze())return!1;if(!e.drawOutOfBound){var Rr=Ur.bounds;if(Rr[1]-Rr[3]+1>V||Rr[2]-Rr[0]+1>z)return!1}for(var Jr=ot+1;Jr--;){var sn=je(ot-Jr);e.shuffle&&(sn=[].concat(sn),EI(sn));for(var On=0;On<sn.length;On++){var bn=gr(sn[On],Ur,qe,Fr,ot-Jr,Qr,Vr,_r);if(bn)return bn}}return null},xr=function(ke,qe,Fr){if(qe)return!r.some(function(Vr){var _r=document.createEvent("CustomEvent");return _r.initCustomEvent(ke,!0,qe,Fr||{}),!Vr.dispatchEvent(_r)},this);r.forEach(function(Vr){var _r=document.createEvent("CustomEvent");_r.initCustomEvent(ke,!0,qe,Fr||{}),Vr.dispatchEvent(_r)},this)},mr=function(ke){for(var qe=0;qe<n.length;qe++){var Fr=n[qe];if(n[qe].id===ke)return Fr}},Dr,Kr=function(ke){if(ke!==void 0){if(e.selected!==ke&&r[0].getContext){e.selected=ke;var qe=r[0].getContext("2d");qe.fillStyle=e.backgroundColor,qe.clearRect(0,0,r[0].width,r[0].height),qe.fillRect(0,0,r[0].width,r[0].height);for(var Fr=0;Fr<n.length;Fr++){var Vr=n[Fr];(!Dr||Dr&&(0,f.get)(Vr,["info","item","twiceRender"]))&&cr(Vr.gx,Vr.gy,Vr.info,Vr.word,Vr.weight,Vr.distance,Vr.theta,Vr.rotateDeg,Vr.attributes,Vr.id,!0)}}return}var _r=r[0];if(_r.getContext)V=Math.ceil(_r.width/c),z=Math.ceil(_r.height/c);else{var Qr=_r.getBoundingClientRect();V=Math.ceil(Qr.width/c),z=Math.ceil(Qr.height/c)}if(!!xr("wordcloudstart",!0)){it=e.origin?[e.origin[0]/c,e.origin[1]/c]:[V/2,z/(h?4:2)],ot=Math.floor(Math.sqrt(V*V+z*z)),Y=[];var Ur,Rr,Jr;if(!_r.getContext||e.clearCanvas)for(r.forEach(function(yn){if(yn.getContext){var In=yn.getContext("2d");In.fillStyle=e.backgroundColor,In.clearRect(0,0,V*(c+1),z*(c+1)),In.fillRect(0,0,V*(c+1),z*(c+1))}else yn.textContent="",yn.style.backgroundColor=e.backgroundColor,yn.style.position="relative"}),Ur=V;Ur--;)for(Y[Ur]=[],Rr=z;Rr--;)Y[Ur][Rr]=!0;else{var sn=document.createElement("canvas").getContext("2d");sn.fillStyle=e.backgroundColor,sn.fillRect(0,0,1,1);var On=sn.getImageData(0,0,1,1).data,bn=_r.getContext("2d").getImageData(0,0,V*c,z*c).data;Ur=V;for(var zn,Kn;Ur--;)for(Y[Ur]=[],Rr=z;Rr--;){Kn=c;t:for(;Kn--;)for(zn=c;zn--;)for(Jr=4;Jr--;)if(bn[((Rr*c+Kn)*V*c+(Ur*c+zn))*4+Jr]!==On[Jr]){Y[Ur][Rr]=!1;break t}Y[Ur][Rr]!==!1&&(Y[Ur][Rr]=!0)}bn=sn=On=void 0}if(e.onWordCloudHover||e.onWordCloudClick){for(Rt=!0,Ur=V+1;Ur--;)re[Ur]=[];e.onWordCloudHover&&_r.addEventListener("mousemove",Le),e.onWordCloudClick&&(_r.addEventListener("click",_e),_r.addEventListener("touchstart",_e),_r.addEventListener("touchend",function(yn){yn.preventDefault()}),_r.style.webkitTapHighlightColor="rgba(0, 0, 0, 0)"),_r.addEventListener("wordcloudstart",function yn(){_r.removeEventListener("wordcloudstart",yn),_r.removeEventListener("mousemove",Le),_r.removeEventListener("click",_e),de=void 0})}if(e.animatable){Jr=0;var Xn,Ti;e.wait!==0?(Xn=window.setTimeout,Ti=window.clearTimeout):(Xn=window.setImmediate,Ti=window.clearImmediate);var wi=function(In,Nn){r.forEach(function(Vi){Vi.addEventListener(In,Nn)},this)},qa=function(In,Nn){r.forEach(function(Vi){Vi.removeEventListener(In,Nn)},this)},Pi=function yn(){qa("wordcloudstart",yn),Ti(wn)};wi("wordcloudstart",Pi);var wn=Xn(function yn(){if(Jr>=e.data.length){Ti(wn),xr("wordcloudstop",!1),qa("wordcloudstart",Pi);return}yt=new Date().getTime();var In=Or(e.data[Jr]),Nn=!xr("wordclouddrawn",!0,{item:e.data[Jr],drawn:In});if(Ze()||Nn){Ti(wn),e.abort(),xr("wordcloudabort",!1),xr("wordcloudstop",!1),qa("wordcloudstart",Pi);return}Jr++,wn=Xn(yn,e.wait)},e.wait)}else{t.maskImage&&r.forEach(function(yn){if(yn.getContext){var In=yn.getContext("2d");In.fillStyle=e.backgroundColor,In.clearRect(0,0,V*(c+1),z*(c+1)),In.fillRect(0,0,V*(c+1),z*(c+1))}});for(var Ri=[],Xi=0;Xi<e.data.length;Xi++){var gi=Or(e.data[Xi]);gi&&Ri.push(gi)}if(Ri.length===e.data.length&&!Dr){for(r.forEach(function(yn){if(yn.getContext){var In=yn.getContext("2d");In.fillStyle=e.backgroundColor,In.clearRect(0,0,V*(c+1),z*(c+1)),In.fillRect(0,0,V*(c+1),z*(c+1))}}),Ur=V;Ur--;)for(Y[Ur]=[],Rr=z;Rr--;)Y[Ur][Rr]=!0;Dr=!0;for(var kr=0;kr<e.data.length;kr++)Or((0,Yt.__assign)((0,Yt.__assign)({},e.data[kr]),{twiceRender:Dr}))}}}};Kr()};Fh.isSupported=Dh,Fh.minFontSize=ls;var AI=Fh,TI=function(i){(0,Yt.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e._toolTipsAction=function(n,a,o,s){a?(e._toolTips.update({items:[{color:n.color||"red",name:n.word,value:n.weight}],x:o.offsetX,y:o.offsetY}),e._toolTips.show()):e._toolTips.hide(),e._toolTips.render(),e._configHoverAction&&e._configHoverAction(n,a,o,s)},e._configHoverAction=t.onWordCloudHover,e._enableToolTips=(0,f.get)(t,"tooltip.visible",!0),e.options=(0,f.deepMix)({},{width:400,height:400,enableToolTips:!0},t,{onWordCloudHover:e._enableToolTips?e._toolTipsAction:e._configHoverAction}),e}return r.prototype.init=function(){i.prototype.init.call(this),this._initToolTips()},r.prototype.render=function(){i.prototype.render.call(this),this._render()},r.prototype._initToolTips=function(){this._toolTips=new MI({showTitle:!1,visible:!1,parent:this.options.container,follow:!0,inPanel:!1,items:[]}),this._toolTips.init()},r.prototype._render=function(){this._targetCanvas=this.canvas.get("el"),this.options.maskImage?this._handleMaskImage():this._start()},r.prototype._handleMaskImage=function(){var t=this,e=new Image;e.src=this.options.maskImage+"?"+new Date().getTime(),e.crossOrigin="Anonymous",e.onload=function(){e.naturalHeight+e.naturalWidth===0||e.width+e.height===0?t._start():t._startWithMaskImage(e)},e.onerror=function(){console.error("image %s load failed !!!",t.options.maskImage),t._start()}},r.prototype._start=function(){this._handleG2PlotConfig();var t=this._targetCanvas.getContext("2d"),e=this.canvas.get("width")/this.canvas.get("el").width;t.scale(e,e),AI(this._targetCanvas,this.options)},r.prototype._handleG2PlotConfig=function(){var t=this.options.wordStyle.fontSize||[10,60],e=this.options.wordStyle.rotation||[-Math.PI/2,Math.PI/2],n,a,o;this.options.wordStyle.active?(n=!0,a=this.options.wordStyle.active.shadowColor||"#333",o=this.options.wordStyle.active.shadowBlur||10):n=!1,this.options=(0,f.deepMix)({},this.options,{minFontSize:t[0],maxFontSize:t[1],minRotation:e[0],maxRotation:e[1],active:n,shadowColor:a,shadowBlur:o})},r.prototype._startWithMaskImage=function(t){var e=this._scaleMaskImageCanvas(this._transformWhite2BlackPixels(t)),n=e.maskImageCanvas,a=e.maskImageContext,o=document.createElement("canvas").getContext("2d");o.fillStyle=this.options.backgroundColor||"#fff",o.fillRect(0,0,1,1);for(var s=o.getImageData(0,0,1,1).data,l=a.getImageData(0,0,n.width,n.height),u=a.createImageData(l),h=0;h<l.data.length;h+=4)l.data[h+3]>128?(u.data[h]=s[0],u.data[h+1]=s[1],u.data[h+2]=s[2],u.data[h+3]=s[3]):(u.data[h]=s[0],u.data[h+1]=s[1],u.data[h+2]=s[2],u.data[h+3]=254);a.putImageData(u,0,0);var c=this._targetCanvas.getContext("2d");c.drawImage(n,0,0),this.options=(0,f.deepMix)({},this.options,{clearCanvas:!1}),this._start()},r.prototype._scaleMaskImageCanvas=function(t){var e=document.createElement("canvas");e.width=this.canvas.get("width"),e.height=this.canvas.get("height");var n=e.getContext("2d");return n.imageSmoothingEnabled=!0,n.drawImage(t,0,0,t.width,t.height,0,0,e.width,e.height),{maskImageCanvas:e,maskImageContext:n}},r.prototype._transformWhite2BlackPixels=function(t){var e=document.createElement("canvas");e.width=t.width,e.height=t.height;var n=e.getContext("2d");n.drawImage(t,0,0,t.width,t.height);for(var a=n.getImageData(0,0,e.width,e.height),o=4,s=0,l=255,u=0;u<a.data.length;u+=o){var h=a.data[u]+a.data[u+1]+a.data[u+2],c=a.data[u+3];c<128||h>250*3?(a.data[u]=l,a.data[u+1]=l,a.data[u+2]=l,a.data[u+3]=s):(a.data[u]=s,a.data[u+1]=s,a.data[u+2]=s,a.data[u+3]=l)}return n.putImageData(a,0,0),e},r}(Rl),PI=TI,_I=function(i){(0,Yt.__extends)(r,i);function r(t,e){var n=this;return e.renderer="canvas",n=i.call(this,t,e)||this,n}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="wordCloud",e.container=this.containerDOM,i.prototype.createLayers.call(this,e)},r}(Wr),LI=_I;en("wordCloud",PI);var OI={rose:"interval"},II=Ei(OI);(0,f.assign)(on,II);var kI={rose:"interval"},BI={rose:"column"},gy=function(i){(0,Yt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="rose",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,innerRadius:0,label:{visible:!0,type:"inner",autoRotate:!0,adjustColor:!1},legend:{visible:!0,position:"right"},tooltip:{visible:!0,shared:!1,showCrosshairs:!1,showMarkers:!1},columnStyle:{stroke:"white",lineWidth:1},xAxis:{visible:!1,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,alignTick:!1,style:{lineWidth:.5}},label:{offset:5,autoRotate:!0}},yAxis:{visible:!1}})},r.prototype.getOptions=function(t){var e=i.prototype.getOptions.call(this,t),n=t.sectorStyle,a=t.categoryField,o=t.radiusField;return(0,f.deepMix)({},e,{columnStyle:n,xField:a,yField:o})},r.prototype.getRadiusScale=function(){var t=this.options.radiusField;t&&this.view.getScaleByField(t)},r.prototype.getAngleScale=function(){var t=this.options.categoryField;t&&this.view.getScaleByField(t)},r.prototype.geometryParser=function(t,e){return t==="g2"?kI[e]:BI[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.radiusField]={},e[t.categoryField]={type:"cat"},this.setConfig("scales",e)},r.prototype.coord=function(){var t=this.options,e={type:"polar",cfg:{radius:t.radius,innerRadius:t.innerRadius||0}};this.setConfig("coordinate",e)},r.prototype.addGeometry=function(){var t=this.options,e=Jn("interval","main",{plot:this,positionFields:[t.categoryField,t.radiusField],widthRatio:{rose:1}});e.label=this.extractLabel(),e.adjust=this.adjustRoseAdjust(),this.rose=e,t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},r.prototype.adjustRoseAdjust=function(){},r.prototype.geometryTooltip=function(){this.rose.tooltip={};var t=this.options.tooltip;t.fields&&(this.rose.tooltip.fields=t.fields),t.formatter&&(this.rose.tooltip.callback=t.formatter,t.fields||(this.rose.tooltip.fields=[this.options.radiusField,this.options.categoryField,this.options.colorField]))},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.rose.animate=!1)},r.prototype.annotation=function(){},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,y)},r.prototype.extractLabel=function(){var t=this.options;if(!t.label||!t.label.visible)return!1;var e=(0,f.deepMix)({},t.label);this.adjustLabelOptions(e);var n=[t.categoryField,t.radiusField],a=Bi("label",(0,Yt.__assign)({plot:this,labelType:"polar",fields:n},e));return a},r.prototype.adjustLabelOptions=function(t){var e=this.options.radiusField;if(t){var n=t.offset,a=t.type,o=t.content;a==="inner"?t.offset=n<0?n:-10:a==="outer"&&(t.offset=n>=0?n:10),o||(t.content=function(s,l){return""+l._origin[e]})}},r}(Wn),Rh=gy;en("rose",gy);var DI=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="rose",i.prototype.createLayers.call(this,e)},r.prototype.getRadiusScale=function(){var t=this.layers[0];return t.getRadiusScale()},r.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},r.getDefaultOptions=Rh.getDefaultOptions,r}(Wr),yy=DI,FI=function(i){var r=i.opacity||1;return{opacity:r*.5}},RI=function(i){var r=i.opacity||1;return{opacity:r*.5}};ea("funnel",{columnStyle:{normal:{},active:FI,disable:RI,selected:{lineWidth:1,stroke:"black"}}});var my=d(95280);function NI(i,r){r===void 0&&(r=!1);var t=i.x,e=i.y,n=i.y0,a=i.size,o,s;(0,f.isArray)(e)?(o=e[0],s=e[1]):(o=n,s=e);var l,u;(0,f.isArray)(t)?(l=t[0],u=t[1]):(l=t-a/2,u=t+a/2);var h=[{x:l,y:o},{x:l,y:s}];return r?h.push({x:u,y:(s+o)/2}):h.push({x:u,y:s},{x:u,y:o}),h}function YI(i,r){var t=[],e=i.points,n=i.nextPoints;if(r){var a=r.yValues,o=r.yValuesMax,s=r.yValuesNext,l=(e[0].y+e[1].y)/2,u=a[0]+a[1],h=a.map(function(F){return F/u/.5}),c=(o[0]/(o[0]+o[1])-.5)*.9,v=.001;if((0,f.isNil)(n))t.push(["M",e[0].x,c+(e[0].y-l)*h[0]+l],["L",e[1].x,c+l],["L",e[2].x,c+l],["L",e[3].x,c+(e[3].y-l)*h[0]+l],["Z"]),t.push(["M",e[0].x,c+.002+l],["L",e[1].x,c+.002+(e[1].y-l)*h[1]+l],["L",e[2].x,c+.002+(e[2].y-l)*h[1]+l],["L",e[3].x,c+.002+l],["Z"]);else{var g=s[0]+s[1],M=s.map(function(F){return F/g/.5});t.push(["M",e[0].x,c+(e[0].y-l)*h[0]+l-v],["L",e[1].x,c+l-v],["L",n[1].x,c+l-v],["L",n[0].x,c+(n[3].y-l)*M[0]+l-v],["Z"]),t.push(["M",e[0].x,c+l+v],["L",e[1].x,c+(e[1].y-l)*h[1]+l+v],["L",n[1].x,c+(n[2].y-l)*M[1]+l+v],["L",n[0].x,c+l+v],["Z"])}}else(0,f.isNil)(n)?t.push(["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["L",e[2].x,e[2].y],["L",e[3].x,e[3].y],["Z"]):t.push(["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["L",n[1].x,n[1].y],["L",n[0].x,n[0].y],["Z"]);return t}vn("interval","funnel-basic-rect",{getPoints:function(i){return i.size=i.size*1.8,NI(i)},draw:function(i,r){var t,e=(0,my.getStyle)(i,!1,!0),n=(0,f.get)(i,"data.__compare__"),a=this.parsePath(YI(i,n));return r.addShape("path",(t={name:"interval",attrs:(0,Yt.__assign)((0,Yt.__assign)({},e),{path:a})},t.__compare__=n,t))},getMarker:function(i){var r=i.color;return{symbol:"square",style:{r:4,fill:r}}}});function Nh(i,r,t){return(1-t)*i+t*r}function GI(i,r){var t=r.reverse,e=r.ratioUpper,n=r.ratioLower,a=[],o=i[0],s=(i[1].x+i[2].x)/2,l=1.2,u=.6;if(t){var h=n;n=e,e=h}var c=(o.x-s)*Nh(u,l,n)+s;a.push(["M",c,o.y]);for(var v=1,g=i.length;v<g;v++){var M=i[v].x;switch(v){case 1:case 2:M=(M-s)*Nh(u,l,e)+s;break;case 3:M=(M-s)*Nh(u,l,n)+s;break}a.push(["L",M,i[v].y])}return a.push(["L",c,o.y]),a.push(["z"]),a}vn("interval","funnel-dynamic-rect",{draw:function(i,r){var t=(0,my.getStyle)(i,!1,!0),e=(0,f.get)(i,"data.__custom__"),n=this.parsePath(GI(i.points,e));return r.addShape("path",{attrs:(0,Yt.__assign)((0,Yt.__assign)({},t),{path:n})})},getMarker:function(i){var r=i.color,t=i.isInPolar;return{symbol:t?"circle":"square",style:{r:t?4.5:4,fill:r}}}});function xy(i,r){var t=r||{},e=t.duration,n=e===void 0?200:e,a=t.delay,o=t.easing,s=t.callback,l=t.reverse,u=i.getBBox(),h=l?u.maxX:u.minX,c=(u.minY+u.maxY)/2,v=i.setClip({type:"rect",attrs:{x:u.x,y:u.y,width:u.width,height:u.height}}),g={matrix:[1,0,0,0,1,0,0,0,1]};v.setMatrix(dn.transform(v.getMatrix(),[["t",-h,-c],["s",0,1],["t",h,c]]));var M={fillOpacity:i.attr("fillOpacity"),strokeOpacity:i.attr("strokeOpacity"),opacity:i.attr("opacity")};i.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),v.animate(g,{duration:200,easing:o,callback:function(){i.setClip(null),v.remove()},delay:a}),i.animate(M,{duration:n,easing:o,delay:a}),s&&setTimeout(function(){return s(i)},n+a)}xy.animationName="funnelScaleInX",ui("funnelScaleInX",xy);function by(i,r){var t=r||{},e=t.duration,n=e===void 0?200:e,a=t.delay,o=t.easing,s=t.callback,l=t.reverse,u=i.getBBox(),h=(u.minX+u.maxX)/2,c=l?u.maxY:u.minY,v=i.setClip({type:"rect",attrs:{x:u.x,y:u.y,width:u.width,height:u.height}}),g={matrix:[1,0,0,0,1,0,0,0,1]};v.setMatrix(dn.transform(v.getMatrix(),[["t",-h,-c],["s",1,0],["t",h,c]]));var M={fillOpacity:i.attr("fillOpacity"),strokeOpacity:i.attr("strokeOpacity"),opacity:i.attr("opacity")};i.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),v.animate(g,{duration:200,easing:o,callback:function(){i.setClip(null),v.remove()},delay:a}),i.animate(M,{duration:n,easing:o,delay:a}),s&&setTimeout(function(){return s(i)},n+a)}by.animationName="funnelScaleInY",ui("funnelScaleInY",by);function lu(i,r,t){return(1-t)*i+t*r}var zI={column:"interval"},XI={interval:"funnel"},wy=function(i){(0,Yt.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.type="funnel",e._shouldResetPercentages=!0,e._shouldResetLabels=!0,e._shouldResetCompareTexts=!0,e._legendsListenerAttached=!1,e._onLegendContainerMouseDown=function(n){var a=e.options,o=n.target.get("name");if(o.startsWith("legend-item")){var s=n.target.get("parent");if(s.set("unchecked",!s.get("unchecked")),e.refreshPercentages(),e.refreshLabels(),a.dynamicHeight){var l=e._findCheckedDataByMouseDownLegendItem(s);e._genCustomFieldForDynamicHeight(l)}if(a.compareField){var l=e._findCheckedDataByMouseDownLegendItem(s);e._updateDataForCompare(l),e.refreshCompareTexts()}}},e.adjustProps(e.options),t.dynamicHeight&&e._genCustomFieldForDynamicHeight(e.getData()),t.compareField&&(e.options.data=e._reduceDataForCompare(e.getData())),e}return r.getDefaultOptions=function(t){var e={label:{visible:!0,adjustColor:!0},percentage:{visible:!0,offsetX:t.transpose?0:40,offsetY:t.transpose?40:0,spacing:4,line:{visible:!0,style:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.15)"}},text:{content:"\u8F6C\u5316\u7387",style:{fill:"rgba(0, 0, 0, 0.65)"}},value:{visible:!0,style:{fill:"black"},formatter:function(n,a){return(100*a/n).toFixed(2)+"%"}}},tooltip:{visible:!0,shared:!0,showTitle:!1,showCrosshairs:!1,showMarkers:!1},animation:(0,f.deepMix)({},So.DEFAULT_ANIMATE_CFG,{appear:{duration:800}}),dynamicHeight:!1,compareText:{visible:!0,offsetX:-16,offsetY:-16,style:{fill:"black"}},legend:{position:"bottom-center"},interactions:[{type:"tooltip"},{type:"legend-filter"}]};return(0,f.deepMix)({},i.getDefaultOptions.call(this),e)},r.prototype.getColorScale=function(){var t=this.options.xField;if(t)return this.view.getScaleByField(t)},r.prototype.coord=function(){var t=this.options,e={type:"rect",actions:t.transpose?t.dynamicHeight?[["transpose"],["scale",1,-1]]:[["scale",1,-1]]:t.dynamicHeight?[]:[["transpose"],["scale",1,-1]]};this.setConfig("coordinate",e)},r.prototype.axis=function(){this.setConfig("axes",!1)},r.prototype.adjustFunnel=function(t){var e=this.options;t.shape=e.dynamicHeight?"funnel-dynamic-rect":"funnel-basic-rect",t.color={fields:[e.xField],values:e.color&&(Array.isArray(e.color)?e.color:[e.color])},(0,f.isFunction)(e.funnelStyle)?t.style={callback:e.funnelStyle}:t.style={cfg:e.funnelStyle},t.adjust=[{type:e.dynamicHeight?"stack":"symmetric"}]},r.prototype.tooltip=function(){var t=this.options;t.compareField&&(0,f.deepMix)(t.tooltip,{htmlContent:function(e,n){var a,o,s,l;a=ni.CONTAINER_CLASS,o=(0,St.Z)('<div class="'+a+'"></div>'),(0,Ot.Z)(o,Yo.default[a]);var u=o;if(e){a=ni.TITLE_CLASS,o=(0,St.Z)('<div class="'+a+'"></div>'),(0,Ot.Z)(o,Yo.default[a]),u.appendChild(o);var h=o;a=ni.MARKER_CLASS,o=(0,St.Z)('<span class="'+a+'"></span>'),(0,Ot.Z)(o,Yo.default[a]),(0,Ot.Z)(o,{width:"10px",height:"10px"}),h.appendChild(o),l=o,o=(0,St.Z)("<span>"+e+"</span>"),h.appendChild(o)}if(n){a=ni.LIST_CLASS,o=(0,St.Z)('<ul class="'+a+'"></ul>'),(0,Ot.Z)(o,Yo.default[a]),u.appendChild(o);var c=o;n.reduce(function(v,g){s||(s=g.color);var M=(0,f.get)(g,"point._origin.__compare__.compareValues"),F=(0,f.get)(g,"point._origin.__compare__.yValues");return F.forEach(function(Y,V){return v.push([M[V],Y])}),v},[]).forEach(function(v,g){var M=v[0],F=v[1];a=ni.LIST_ITEM_CLASS,o=(0,St.Z)('<li class="'+a+'" data-index='+g+"></li>"),(0,Ot.Z)(o,Yo.default[a]),c.appendChild(o);var Y=o;a=ni.NAME_CLASS,o=(0,St.Z)('<span class="'+a+'">'+M+"</span>"),(0,Ot.Z)(o,Yo.default[a]),Y.appendChild(o),a=ni.VALUE_CLASS,o=(0,St.Z)('<span class="'+a+'">'+F+"</span>"),(0,Ot.Z)(o,Yo.default[a]),Y.appendChild(o)})}return s&&l&&(0,Ot.Z)(l,{backgroundColor:s}),u}}),i.prototype.tooltip.call(this)},r.prototype.addGeometry=function(){var t=this.options,e=Jn("interval","main",{positionFields:[t.dynamicHeight?"_":t.xField,t.yField],plot:this});this.adjustFunnel(e),this.funnel=e,this.setConfig("geometry",e),t.compareField||this.geometryTooltip()},r.prototype.geometryTooltip=function(){var t=this.options.tooltip;t.fields&&(this.funnel.tooltip||(this.funnel.tooltip={}),this.funnel.tooltip.fields=t.fields),t.formatter&&(this.funnel.tooltip||(this.funnel.tooltip={}),this.funnel.tooltip.callback=t.formatter,t.fields||(this.funnel.tooltip.fields=[this.options.xField,this.options.yField]))},r.prototype.animation=function(){var t=this;i.prototype.animation.call(this);var e=this.options;if(e.animation===!1)this.funnel.animate=!1;else{var n=this.getData(),a=(0,f.get)(e,"animation.appear.duration"),o=a/(n.length||1);this._animationAppearTimeoutHandler&&(clearTimeout(this._animationAppearTimeoutHandler),delete this._animationAppearTimeoutHandler),this._animationAppearTimeoutHandler=setTimeout(function(){t.fadeInPercentages(o),e.compareField&&t.fadeInCompareTexts(o),delete t._animationAppearTimeoutHandler},a),this.funnel.animate=(0,f.deepMix)({},e.animation,{appear:{animation:e.transpose?"funnelScaleInX":"funnelScaleInY",duration:o,delay:function(s){return(0,f.findIndex)(n,function(l){return(0,f.isEqual)(l,s)})*o},callback:function(s){t.fadeInLabels(s,.5*o)}},enter:{animation:"fade-in"}})}},r.prototype.afterRender=function(){var t=this.options;if(this.resetLabels(),this.resetPercentages(),t.compareField&&this.resetCompareTexts(),t.padding=="auto"){var e=this._findPercentageContainer();e&&this.paddingController.registerPadding(e,"inner",!0);var n=this._findCompareTextContainer();n&&this.paddingController.registerPadding(n,"inner",!0)}if(i.prototype.afterRender.call(this),t.animation===!1&&(this.fadeInLabels(),this.fadeInPercentages(),t.compareField&&this.fadeInCompareTexts()),!this._legendsListenerAttached){this._legendsListenerAttached=!0;var a=this.view.getController("legend").container;a.on("mousedown",this._onLegendContainerMouseDown)}},r.prototype.updateConfig=function(t){t=this.adjustProps(t),i.prototype.updateConfig.call(this,t),this._legendsListenerAttached=!1},r.prototype.changeData=function(t){var e=this.options;if(e.animation!==!1&&(this._shouldResetPercentages=!1,this._shouldResetLabels=!1),e.dynamicHeight){var n=this._findCheckedDataInNewData(t);this._genCustomFieldForDynamicHeight(n)}if(e.compareField){t=this._reduceDataForCompare(t);var n=this._findCheckedDataInNewData(t);this._updateDataForCompare(n)}i.prototype.changeData.call(this,t),this.refreshPercentages(),this.refreshLabels(),e.compareField&&this.fadeInCompareTexts()},r.prototype.geometryParser=function(t,e){return t==="g2"?zI[e]:XI[e]},r.prototype.adjustProps=function(t){return t.compareField&&(t.dynamicHeight=!1),t.dynamicHeight&&((0,f.set)(t,"meta."+t.yField+".nice",!1),(0,f.set)(t,"tooltip.shared",!1)),t},r.prototype.resetPercentages=function(){var t=this;if(!!this._shouldResetPercentages){var e=this.options,n=e.percentage||{},a=n.offsetX,o=n.offsetY,s=n.spacing,l=n.line,u=l===void 0?{}:l,h=n.text,c=h===void 0?{}:h,v=n.value,g=v===void 0?{}:v,M=Date.now(),F=this._findPercentageContainer(!0);this._eachShape(function(Y,V,z,it){if(V>0){var ot=Y.getBBox(),yt=ot.minX,It=ot.maxX,zt=ot.maxY,jt=ot.minY,Rt=e.transpose?yt:It,re=e.transpose&&e.compareField?zt:jt,de=t._findPercentageMembersInContainerByIndex(F,V,!0),fe=de.line,Me=de.text,Le=de.value,_e=[function(ze,Xe,pr,cr,br){pr&&(pr.attr((0,f.deepMix)({},u.style,{x1:ze,y1:Xe,x2:e.transpose?ze+a:ze-a,y2:e.transpose?Xe-o:Xe+o,opacity:0})),pr.set("adjustTimestamp",M));var $e=0,gr=0,Or=function(){cr&&(cr.attr((0,f.deepMix)({},c.style,{x:e.transpose?ze+a:ze-a-s-gr-s,y:e.transpose?Xe-o-s:Xe+o,opacity:0,text:c.content,textAlign:e.transpose?"left":"right",textBaseline:e.transpose?"bottom":"middle"})),cr.set("adjustTimestamp",M),$e=cr.getBBox().width)},xr=function(){br&&(br.attr((0,f.deepMix)({},g.style,{x:e.transpose?ze+a+$e+s:ze-a-s,y:e.transpose?Xe-o-s:Xe+o,opacity:0,text:(0,f.isFunction)(g.formatter)?e.compareField?g.formatter((0,f.get)(it,"__compare__.yValues.0"),(0,f.get)(z,"__compare__.yValues.0")):g.formatter(it[e.yField],z[e.yField]):"",textAlign:e.transpose?"left":"right",textBaseline:e.transpose?"bottom":"middle"})),br.set("adjustTimestamp",M),gr=br.getBBox().width)};e.transpose?(Or(),xr()):(xr(),Or())},function(ze,Xe,pr,cr,br){pr&&(pr.attr((0,f.deepMix)({},u.style,{x1:ze,y1:Xe,x2:ze+a,y2:e.transpose?e.compareField?Xe+o:Xe-o:Xe+o,opacity:0})),pr.set("adjustTimestamp",M));var $e=0;cr&&(cr.attr((0,f.deepMix)({},c.style,{x:e.transpose?ze+a:ze+a+s,y:e.transpose?e.compareField?Xe+o+s:Xe-o-s:Xe+o,opacity:0,text:c.content,textAlign:"left",textBaseline:e.transpose?e.compareField?"top":"bottom":"middle"})),cr.set("adjustTimestamp",M),$e=cr.getBBox().width),br&&(br.attr((0,f.deepMix)({},g.style,{x:e.transpose?ze+a+$e+s:ze+a+s+$e+s,y:e.transpose?e.compareField?Xe+o+s:Xe-o-s:Xe+o,opacity:0,text:(0,f.isFunction)(g.formatter)?e.compareField?g.formatter((0,f.get)(it,"__compare__.yValues.1"),(0,f.get)(z,"__compare__.yValues.1")):g.formatter(it[e.yField],z[e.yField]):"",textAlign:"left",textBaseline:e.transpose?e.compareField?"top":"bottom":"middle"})),br.set("adjustTimestamp",M))}];if(e.compareField){var He=[yt,jt],je=He[0],Ze=He[1];[[je,Ze],[Rt,re]].forEach(function(ze,Xe){var pr=ze[0],cr=ze[1];return _e[Xe](pr,cr,fe&&fe[Xe],Me&&Me[Xe],Le&&Le[Xe])})}else _e[1](Rt,re,fe,Me,Le)}it=z,V++}),F.get("children").forEach(function(Y){Y.get("adjustTimestamp")!=M&&(Y.attr({opacity:0}),F.set(Y.get("id"),null),setTimeout(function(){return Y.remove()},0))})}},r.prototype.fadeInPercentages=function(t,e){var n=this,a=this.options,o=this._findPercentageContainer(),s=function(l){var u={minX:Infinity,maxX:-Infinity,minY:Infinity,maxY:-Infinity};n._eachShape(function(h,c){var v=n._findPercentageMembersInContainerByIndex(o,c),g={minX:Infinity,maxX:-Infinity,minY:Infinity,maxY:-Infinity},M=function(Y){if(Y&&Y.get("type")=="text"){var V=Y.getBBox(),z=V.minX,it=V.maxX,ot=V.minY,yt=V.maxY;z<g.minX&&(g.minX=z),it>g.maxX&&(g.maxX=it),ot<g.minY&&(g.minY=ot),yt>g.maxY&&(g.maxY=yt)}};if((0,f.each)(v,function(Y){return(0,f.isArray)(Y)?M(Y[l]):M(Y)}),g.minX>u.maxX||g.maxX<u.minX||g.minY>u.maxY||g.maxY<u.minY){var F=function(Y){if(Y){var V={opacity:1};t?Y.animate(V,t):Y.attr(V)}};(0,f.each)(v,function(Y){return(0,f.isArray)(Y)?F(Y[l]):F(Y)}),(0,f.assign)(u,g)}})};a.compareField?[0,1].forEach(s):s(),t&&e&&setTimeout(e,t)},r.prototype.fadeOutPercentages=function(t,e){var n=this,a=this._findPercentageContainer();this._eachShape(function(o,s){var l=n._findPercentageMembersInContainerByIndex(a,s),u=function(h){if(h){var c={opacity:0};t?h.animate(c,t):h.attr(c)}};(0,f.each)(l,function(h){return(0,f.isArray)(h)?h.forEach(u):u(h)})}),t&&e&&setTimeout(e,t)},r.prototype.refreshPercentages=function(t){var e=this,n=this.options;if(n.animation!==!1){var a=this._calcRefreshFadeDurations(),o=a.fadeOutDuration,s=a.fadeInDuration;this._shouldResetPercentages=!1,this.fadeOutPercentages(o,function(){e._shouldResetPercentages=!0,e.resetPercentages(),e.fadeInPercentages(s,t)})}},r.prototype._findPercentageContainer=function(t){t===void 0&&(t=!1);var e=this.view.middleGroup,n=e.get("percentageContainer");return!n&&t&&(n=e.addGroup(),e.set("percentageContainer",n)),n},r.prototype._findPercentageMembersInContainerByIndex=function(t,e,n){n===void 0&&(n=!1);var a=this.options,o=a.percentage||{},s=o.visible,l=o.line,u=l===void 0?{}:l,h=o.text,c=h===void 0?{}:h,v=o.value,g=v===void 0?{}:v,M={line:void 0,text:void 0,value:void 0};if(s===!1||!t)return M;if(u.visible!==!1){var F=function(it){var ot="_percentage-line-"+e+"-"+it,yt=t.get(ot);return!yt&&n&&(yt=t.addShape({id:ot,type:"line",attrs:{}}),t.set(ot,yt)),yt},Y=a.compareField?[0,1].map(F):F(0);M.line=Y}if(c.visible!==!1){var F=function(ot){var yt="_percentage-text-"+e+"-"+ot,It=t.get(yt);return!It&&n&&(It=t.addShape({id:yt,type:"text",attrs:{}}),t.set(yt,It)),It},V=a.compareField?[0,1].map(F):F(0);M.text=V}if(g.visible!==!1){var F=function(ot){var yt="_percentage-value-"+e+"-"+ot,It=t.get(yt);return!It&&n&&(It=t.addShape({id:yt,type:"text",attrs:{}}),t.set(yt,It)),It},z=a.compareField?[0,1].map(F):F(0);M.value=z}return M},r.prototype._calcRefreshFadeDurations=function(){var t=this.options,e=(0,f.get)(t,"animation.update.duration"),n=(0,f.get)(t,"animation.enter.duration"),a=Math.min(n,e)*.6,o=Math.max(n,e)*1.2;return{fadeInDuration:a,fadeOutDuration:o}},r.prototype.resetLabels=function(){var t=this;if(!!this._shouldResetLabels){var e=this.options,n=e.xField,a=e.yField,o=Date.now(),s=this._getGeometry().labelsContainer,l=e.label||{},u=(0,f.deepMix)((0,Yt.__assign)({},this.theme.label),e.label.style,{opacity:0,textAlign:"center",textBaseline:"middle"}),h;this._eachShape(function(c,v,g,M){var F,Y=c.get("element");v==0&&(h=g);var V=c.getBBox(),z=V.minX,it=V.maxX,ot=V.minY,yt=V.maxY,It=g[n],zt=g[a];l.adjustColor&&(u.fill=t._getAdjustedTextFillByShape(c));var jt=g.__compare__,Rt,re=(F={},F[Bs]=g,F.element=Y,F.elementIndex=M,F.mappingDatum=[].concat(Y.getModel().mappingData)[0],F.mappingDatumIndex=0,F);l.formatter?Rt=l.formatter(It,re,v,zt,h[a]):jt?Rt=[0,1].map(function(){return""+zt}).join(e.transpose?`

`:"    "):Rt=It+" "+zt;var de=t._findLabelInContainerByIndex(s,v,!0),fe=jt?jt.yValues[0]/(jt.yValues[0]+jt.yValues[1]):.5;de&&(de.attr((0,Yt.__assign)((0,Yt.__assign)({},u),{x:lu(z,it,e.transpose?.5:fe),y:lu(ot,yt,e.transpose?fe:.5),text:Rt})),de.set("adjustTimestamp",o))}),s.get("children").forEach(function(c){c.get("adjustTimestamp")!=o&&(c.attr({opacity:0}),s.set(c.get("id"),null),setTimeout(function(){return c.remove()}))})}},r.prototype.fadeInLabels=function(t,e,n){var a=this,o=this._getGeometry().labelsContainer;this._eachShape(function(s,l){if(!t||t==s){var u=a._findLabelInContainerByIndex(o,l);if(u){var h=s.getBBox(),c=u.getBBox();if(c.minX>=h.minX&&c.maxX<=h.maxX&&c.minY>=h.minY&&c.maxY<=h.maxY){var v={opacity:1};e?u.animate(v,e):u.attr(v)}}}}),e&&n&&setTimeout(n,e)},r.prototype.fadeOutLabels=function(t,e,n){var a=this,o=this._getGeometry().labelsContainer;this._eachShape(function(s,l){if(!t||t==s){var u=a._findLabelInContainerByIndex(o,l);if(u){var h={opacity:0};e?u.animate(h,e):u.attr(h)}}}),e&&n&&setTimeout(n,e)},r.prototype.refreshLabels=function(t){var e=this,n=this.options;if(n.animation!==!1){var a=this._calcRefreshFadeDurations(),o=a.fadeOutDuration,s=a.fadeInDuration;this._shouldResetLabels=!1,this.fadeOutLabels(null,o,function(){e._shouldResetLabels=!0,e.resetLabels(),e.fadeInLabels(null,s,t)})}},r.prototype._findLabelInContainerByIndex=function(t,e,n){var a;n===void 0&&(n=!1);var o=this.options,s;if(((a=o.label)===null||a===void 0?void 0:a.visible)===!1)return s;var l="_label-"+e;return s=t.get(l),!s&&n&&(s=t.addShape({id:l,type:"text",attrs:{}}),t.set(l,s)),s},r.prototype.resetCompareTexts=function(){if(!!this._shouldResetCompareTexts){var t=this.options,e,n;if(this._eachShape(function(g,M,F){M==0&&(e=g.get("parent").getBBox(),n=(0,f.get)(F,"__compare__"))}),e&&n&&(0,f.get)(t,"compareText.visible")!==!1){var a=this._findCompareTextContainer(!0),o=n.yValuesMax,s=n.compareValues,l=e.minX,u=e.maxX,h=e.minY,c=e.maxY,v=a.get("children");[0,1].forEach(function(g){var M=v[g];M||(M=a.addShape({type:"text"})),M.attr((0,f.deepMix)({},(0,f.get)(t,"compareText.style"),{text:t.transpose?s[g]:g?"  "+s[g]:s[g]+"  ",x:t.transpose?l+(0,f.get)(t,"compareText.offsetX"):lu(l,u,o[0]/(o[0]+o[1])),y:t.transpose?lu(h,c,o[0]/(o[0]+o[1]))+(g?8:-8):h+(0,f.get)(t,"compareText.offsetY"),opacity:0,textAlign:t.transpose?"right":g?"left":"right",textBaseline:t.transpose&&g?"top":"bottom"}))})}}},r.prototype.fadeInCompareTexts=function(t,e){var n=this._findCompareTextContainer();if(n){var a=n.get("children");[0,1].forEach(function(o){var s=a[o];if(s){var l={opacity:1};t?s.animate(l,t):s.attr(l)}})}t&&e&&setTimeout(e,t)},r.prototype.fadeOutCompareTexts=function(t,e){var n=this._findCompareTextContainer();if(n){var a=n.get("children");[0,1].forEach(function(o){var s=a[o];if(s){var l={opacity:0};t?s.animate(l,t):s.attr(l)}})}t&&e&&setTimeout(e,t)},r.prototype.refreshCompareTexts=function(t){var e=this,n=this.options;if(n.animation!==!1){var a=this._calcRefreshFadeDurations(),o=a.fadeInDuration,s=a.fadeOutDuration;this._shouldResetCompareTexts=!1,this.fadeOutCompareTexts(s,function(){e._shouldResetCompareTexts=!0,e.resetCompareTexts(),e.fadeInCompareTexts(o,t)})}},r.prototype._findCompareTextContainer=function(t){t===void 0&&(t=!1);var e=this.view.middleGroup,n=e.get("compareTextContainer");return!n&&t&&(n=e.addGroup(),e.set("compareTextContainer",n)),n},r.prototype._eachShape=function(t){var e,n=this._findCheckedData(this.getData()),a=n.length,o=0,s;(e=this._getGeometry())===null||e===void 0||e.elements.forEach(function(l,u){var h=l.shape,c=n[o];o<a&&t(h,o,c,s,u),s=c,o++})},r.prototype._getGeometry=function(){return this.view.geometries[0]},r.prototype._getAdjustedTextFillByShape=function(t){var e=t.attr("fill"),n=t.attr("opacity")?t.attr("opacity"):1,a=fo(e),o=Math.round(a[0]*.299+a[1]*.587+a[2]*.114)/n,s=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],l=tu(s,o);return l},r.prototype._genCustomFieldForDynamicHeight=function(t){var e=this.options,n=t.reduce(function(o,s){return o+s[e.yField]},0),a=1;t.forEach(function(o,s){var l=o[e.yField],u=l/n,h=a-u;o.__custom__={datumIndex:s,dataLength:t.length,ratioUpper:a,ratioLower:h,reverse:e.transpose},a=h})},r.prototype._findCheckedDataByMouseDownLegendItem=function(t){var e=t.get("parent").get("children").map(function(a){return!a.get("unchecked")}),n=this.getData().filter(function(a,o){return e[o]});return n},r.prototype._findCheckedDataInNewData=function(t){var e=this.options,n=this.view.getController("legend").container,a=n.findAll(function(s){return s.get("name")=="legend-item"}).filter(function(s){return s.get("unchecked")}).map(function(s){return s.get("id").replace("-legend-item-","")}),o=t.filter(function(s){return!(0,f.contains)(a,s[e.xField])});return o},r.prototype._findCheckedData=function(t){var e,n=this.options;if((e=n.legend)===null||e===void 0?void 0:e.visible){var a=this.view.getController("legend").container,o=a.findAll(function(l){return l.get("name")=="legend-item"}).filter(function(l){return!l.get("unchecked")}).map(function(l){return l.get("id").replace("-legend-item-","")}),s=t.filter(function(l){return(0,f.contains)(o,l[n.xField])});return s}else return this.processData(n.data)},r.prototype._reduceDataForCompare=function(t){var e=this.options,n,a=[-Infinity,-Infinity];return t=t.reduce(function(o,s){var l,u=s[e.xField],h=s[e.yField],c=s[e.compareField];n||(n=c);var v=o.find(function(M){return M[e.xField]==u});v||(v=(l={},l[e.xField]=u,l[e.yField]=0,l.__compare__={compareValues:[],yValues:[],yValuesMax:[],yValuesNext:void 0,transpose:e.transpose},l),o.push(v));var g=c==n?0:1;return v.__compare__.yValues[g]=h,a[g]<h&&(a[g]=h),v.__compare__.compareValues[g]=c,o},[]),t.forEach(function(o,s){o[e.yField]=(0,f.get)(o,"__compare__.yValues",[]).reduce(function(l,u){return l+=u},0),(0,f.set)(o,"__compare__.yValuesMax",a),(0,f.set)(o,"__compare__.yValuesNext",(0,f.get)(t,s+1+".__compare__.yValues"))}),t},r.prototype._updateDataForCompare=function(t){var e=[-Infinity,-Infinity];t.forEach(function(n){var a=(0,f.get)(n,"__compare__.yValues");[0,1].forEach(function(o){a[o]>e[o]&&(e[o]=a[o])})}),t.forEach(function(n,a){(0,f.set)(n,"__compare__.yValuesMax",e),(0,f.set)(n,"__compare__.yValuesNext",(0,f.get)(t,a+1+".__compare__.yValues"))})},r}(Wn),VI=wy;en("funnel",wy);var HI=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="funnel",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=VI.getDefaultOptions,r}(Wr),WI=HI,Sy=function(i){(0,Yt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="stackedRose",t.baseType="rose",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,alignTick:!1,style:{lineWidth:.5}},label:{offset:5,autoRotate:!0}},yAxis:{visible:!1}})},r.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},r.prototype.adjustRoseAdjust=function(){return[{type:"stack"}]},r.prototype.geometryTooltip=function(){this.rose.tooltip={};var t=this.options.tooltip;t.fields&&(this.rose.tooltip.fields=t.fields),t.formatter&&(this.rose.tooltip.callback=t.formatter,t.fields||(this.rose.tooltip.fields=[this.options.radiusField,this.options.categoryField,this.options.stackField]))},r}(Rh),jI=Sy;en("stackedRose",Sy);var UI=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedRose",i.prototype.createLayers.call(this,e)},r.prototype.getRadiusScale=function(){var t=this.layers[0];return t.getRadiusScale()},r.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},r.getDefaultOptions=jI.getDefaultOptions,r}(Wr),Cy=UI,My=function(i){(0,Yt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="groupedRose",t.baseType="rose",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,alignTick:!1,style:{lineWidth:.5}},label:{offset:5,autoRotate:!0}},yAxis:{visible:!1}})},r.prototype.getColorScale=function(){var t=this.options.groupField;if(t)return this.view.getScaleByField(t)},r.prototype.adjustRoseAdjust=function(){return[{type:"dodge",marginRatio:1}]},r.prototype.geometryTooltip=function(){this.rose.tooltip={};var t=this.options.tooltip;t.fields&&(this.rose.tooltip.fields=t.fields),t.formatter&&(this.rose.tooltip.callback=t.formatter,t.fields||(this.rose.tooltip.fields=[this.options.radiusField,this.options.categoryField,this.options.groupField]))},r}(Rh),ZI=My;en("groupedRose",My);var KI=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="groupedRose",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=ZI.getDefaultOptions,r}(Wr),Ey=KI,$I={area:"area",line:"line",point:"point"},QI=Ei($I);(0,f.assign)(on,QI);var JI=function(i){var r=i.opacity||1;return{opacity:r}},qI=function(i){var r=i.opacity||1;return{opacity:r*.5}},tk=function(i){var r=i.opacity||1;return{opacity:r}},ek=function(i){var r=i.opacity||1;return{opacity:r*.5}},rk=function(i){var r=i.lineWidth||1;return{lineWidth:r+2}},nk=function(i){var r=i.fill||i.fillStyle,t=i.size||i.radius;return{radius:t+1,shadowBlur:t,shadowColor:r,stroke:r,strokeOpacity:1,lineWidth:1}},ik=function(i){var r=i.fill||i.fillStyle,t=i.size||i.radius;return{radius:t+2,shadowBlur:t,shadowColor:r,stroke:r,strokeOpacity:1,lineWidth:2}},ak=function(i){var r=i.opacity||i.fillOpacity||1;return{opacity:r*.5}};ea("radar",{areaStyle:{normal:{},active:JI,disable:qI,selected:{lineWidth:1,stroke:"#333333"}},lineStyle:{normal:{},active:tk,disable:ek,selected:rk},pointStyle:{normal:{},active:nk,disable:ak,selected:ik}});var ok={area:"area",line:"line",point:"point"},Ay=function(i){(0,Yt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="radar",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,smooth:!1,line:{visible:!0,size:2,style:{opacity:1}},area:{visible:!0,style:{opacity:.25}},point:{visible:!1,size:4,shape:"point",style:{opacity:1}},angleAxis:{visible:!0,autoRotateTitle:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,line:{style:{lineDash:[0,0]}}},label:{visible:!0,offset:16,autoRotate:!0,autoHide:!0},title:{visible:!1}},radiusAxis:{min:0,visible:!0,nice:!0,autoRotateTitle:!0,line:{visible:!0},tickLine:{visible:!0},gridType:"line",grid:{visible:!0,line:{style:{lineDash:[0,0]}}},label:{visible:!0,autoHide:!0,autoRotate:!0},title:{visible:!1}},label:{visible:!1,type:"point"},legend:{visible:!0,position:"left-top"},tooltip:{visible:!0,shared:!0,showCrosshairs:!1}})},r.prototype.init=function(){var t=this.options;t.xField=t.angleField,t.yField=t.radiusField,i.prototype.init.call(this)},r.prototype.getAngleScale=function(){var t=this.options.angleField;return this.view.getScaleByField(t)},r.prototype.getRadiusScale=function(){var t=this.options.radiusField;return this.view.getScaleByField(t)},r.prototype.getColorScale=function(){var t=this.options.seriesField;return this.view.getScaleByField(t)},r.prototype.geometryParser=function(t,e){return ok[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.angleField]={},(0,f.has)(t,"angleAxis")&&bi(e[t.angleField],t.angleAxis),e[t.radiusField]={},(0,f.has)(t,"radiusAxis")&&bi(e[t.radiusField],t.radiusAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){var t=this.options,e={type:"polar",cfg:{radius:t.radius}};this.setConfig("coordinate",e)},r.prototype.axis=function(){var t=this.options,e=Bi("axis",{plot:this,dim:"angle"}),n=Bi("axis",{plot:this,dim:"radius"}),a={};a[t.angleField]=e,a[t.radiusField]=n,this.setConfig("axes",a)},r.prototype.addGeometry=function(){var t=this.options;if(t.area.visible){var e=Jn("area","main",{plot:this});this.setConfig("geometry",e),this.area=e}if(t.line&&t.line.visible){var n=Jn("line","main",{plot:this});this.setConfig("geometry",n),this.line=n}if(t.point&&t.point.visible){var a=Jn("point","guide",{plot:this});this.setConfig("geometry",a),this.point=a}t.label&&this.label(),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip()},r.prototype.geometryTooltip=function(){var t=this.line?this.line:this.area;t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[this.options.angleField,this.options.radiusField]),this.options.seriesField&&t.tooltip.fields.push(this.options.seriesField))},r.prototype.label=function(){var t=this.options;if(t.label.visible===!1){this.point&&(this.point.label=!1),this.line&&(this.line.label=!1),this.area&&(this.area.label=!1);return}var e=Bi("label",(0,Yt.__assign)({fields:[t.radiusField],cfg:{type:"polar",autoRotate:!1},plot:this},t.label));this.point?this.point.label=e:this.line?this.line.label=e:this.area&&(this.area.label=e)},r.prototype.annotation=function(){},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.area&&(this.area.animate=!1),this.line&&(this.line.animate=!1),this.point&&(this.point.animate=!1))},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,A)},r}(Wn),sk=Ay;en("radar",Ay);var lk=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="radar",i.prototype.createLayers.call(this,e)},r.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},r.prototype.getRadiusScale=function(){var t=this.layers[0];return t.getRadiusScale()},r.prototype.getColorScale=function(){var t=this.layers[0];return t.getColorScale()},r.getDefaultOptions=sk.getDefaultOptions,r}(Wr),Ty=lk,uk=d(89810),fk=d(79189),hk=function(){function i(r){var t=this.getDefaultOptions();this.options=(0,f.deepMix)(t,r,{}),this.x=this.options.x,this.y=this.options.y,this.html=this.options.html,this.container=this.options.container}return i.prototype.render=function(){if((0,f.isElement)(this.container)){this.wrapperNode=(0,St.Z)('<div class="g2plot-htmlStatistic"></div>'),this.container.appendChild(this.wrapperNode),(0,Ot.Z)(this.wrapperNode,{position:"absolute",pointerEvents:"none"});var r=this.html;this.wrapperNode.appendChild(r),this.setDomPosition(this.x,this.y)}},i.prototype.updateHtml=function(r){(0,f.isType)(r,"HTMLDivElement")?(this.wrapperNode.innerHTML="",this.wrapperNode.appendChild(r)):this.wrapperNode.innerHTML=r,this.setDomPosition(this.x,this.y)},i.prototype.updatePosition=function(r,t){this.x=r,this.y=t,this.setDomPosition(r,t)},i.prototype.destroy=function(){this.container.removeChild(this.wrapperNode)},i.prototype.getDefaultOptions=function(){return{x:0,y:0,width:0,height:0,html:"",container:null,alignX:"middle",alignY:"middle"}},i.prototype.setDomPosition=function(r,t){var e=r,n=t,a=(0,uk.Z)(this.wrapperNode),o=(0,fk.Z)(this.wrapperNode);this.options.alignX==="middle"&&(e=r-a/2),this.options.alignY==="middle"&&(n=t-o/2),(0,Ot.Z)(this.wrapperNode,{top:Math.round(n)+"px",left:Math.round(e)+"px",transform:a>0?"none":"translate(-50%, -50%)"})},i}(),Py=hk,ck="color:#4d4d4d;font-size:14px;text-align:center;line-height:2;font-family:'-apple-system',BlinkMacSystemFont,'SegoeUI',Roboto,'HelveticaNeue',Helvetica,'PingFangSC','HiraginoSansGB','MicrosoftYaHei',SimSun,'sans-serif';pointer-events:none;",vk="font-size:32px;font-weight:bold;color:#4D4D4D";function dk(i,r){var t='<span class="liquid-guide-value" style='+vk+">"+i+"</span>";return'<div class="liquid-guide-html '+r+'" style='+ck+">"+t+"</div>"}var pk=function(i){(0,Yt.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.view=t.view,e.plot=t.plot,e.statisticClass=t.statisticClass,e.adjustOptions(),e}return r.prototype.getTotalHtmlString=function(){var t=document.createElement("div"),e=this.plot.options,n=e.value,a=n===void 0?0:n,o=e.statistic;if(o&&!o.visible)return t;var s=this.options.htmlContent(a);return(0,f.isType)(s,"HTMLDivElement")?t.appendChild(s):t.innerHTML=dk(s,this.statisticClass),t},r.prototype.adjustOptions=function(){this.html=this.getTotalHtmlString();var t=this.view.coordinateBBox,e=t.minX,n=t.minY,a=t.width,o=t.height;this.x=e+a/2,this.y=n+o/2},r}(Py),gk=pk,yk={liquid:"intervl",statistic:"annotation-text"},mk=Ei(yk);(0,f.assign)(on,mk);var _y=Yi(),Ly={splitPoints:function(i){var r=[],t=i.x,e=i.y;return e=(0,f.isArray)(e)?e:[e],(0,f.each)(e,function(n,a){var o={x:(0,f.isArray)(t)?t[a]:t,y:n};r.push(o)}),r},addFillAttrs:function(i,r){r.color&&!i.fill&&(i.fill=r.color),(0,f.isNumber)(r.opacity)&&(i.opacity=i.fillOpacity=r.opacity)},addStrokeAttrs:function(i,r){r.color&&!i.stroke&&(i.stroke=r.color),(0,f.isNumber)(r.opacity)&&(i.opacity=i.strokeOpacity=r.opacity)}},Yh={lerp:function(i,r,t){return(1-t)*i+t*r}},xk=function(i){var r={lineWidth:0,fill:_y.color,fillOpacity:.85},t=(0,f.mix)({},r,i.style);return Ly.addFillAttrs(t,i),i.color&&!t.stroke&&(t.stroke=t.stroke||i.color),t},bk=function(i){var r={fill:"#fff",stroke:_y.color,fillOpacity:0,lineWidth:2},t=(0,f.mix)({},r,i.style);return Ly.addStrokeAttrs(t,i),t};function wk(i,r,t,e){return r===0?[[i+1/2*t/Math.PI/2,e/2],[i+1/2*t/Math.PI,e],[i+t/4,e]]:r===1?[[i+1/2*t/Math.PI/2*(Math.PI-2),e],[i+1/2*t/Math.PI/2*(Math.PI-1),e/2],[i+t/4,0]]:r===2?[[i+1/2*t/Math.PI/2,-e/2],[i+1/2*t/Math.PI,-e],[i+t/4,-e]]:[[i+1/2*t/Math.PI/2*(Math.PI-2),-e],[i+1/2*t/Math.PI/2*(Math.PI-1),-e/2],[i+t/4,0]]}function Sk(i,r,t,e,n,a,o){for(var s=Math.ceil(2*i/t*4)*2,l=[],u=e;u<-Math.PI*2;)u+=Math.PI*2;for(;u>0;)u-=Math.PI*2;u=u/Math.PI/2*t;var h=a-i+u-i*2;l.push(["M",h,r]);for(var c=0,v=0;v<s;++v){var g=v%4,M=wk(v*t/4,g,t,n);l.push(["C",M[0][0]+h,-M[0][1]+r,M[1][0]+h,-M[1][1]+r,M[2][0]+h,-M[2][1]+r]),v===s-1&&(c=M[2][0])}return l.push(["L",c+h,o+i]),l.push(["L",h,o+i]),l.push(["L",h,r]),l}function Ck(i,r,t,e,n,a,o,s){for(var l=o.getBBox(),u=l.maxX-l.minX,h=l.maxY-l.minY,c=5e3,v=0;v<e;v++){var g=e<=1?0:v/(e-1),M=a.addShape("path",{attrs:{path:Sk(s,l.minY+h*t,u/4,0,u/Yh.lerp(56,64,g),i,r),fill:n,opacity:Yh.lerp(.6,.3,g)}}),F=ns([["t",u/2,0]]);M.animate({matrix:F},{duration:Yh.lerp(c,.7*c,g),repeat:!0})}}vn("interval","liquid-fill-gauge",{draw:function(i,r){var t=.5,e=Infinity;(0,f.each)(i.points,function(v){v.x<e&&(e=v.x)});var n=.5,a=this.parsePoint({x:n,y:t}),o=this.parsePoint({x:e,y:.5}),s=a.x-o.x,l=Math.min(s,o.y),u=xk(i).fill,h=r.addGroup({name:"waves",attrs:{x:a.x,y:a.y}});h.setClip({type:"circle",attrs:{x:a.x,y:a.y,r:l}});var c=h.get("clipShape");return Ck(a.x,a.y,1-i.points[1].y,3,u,h,c,l*4),r.addShape("circle",{name:"wrap",attrs:(0,f.mix)(bk(i),{x:a.x,y:a.y,r:l,fill:"transparent"})}),h[0]}});function Oy(i,r){var t=i.get("parent"),e=t.getBBox(),n=Math.min(Math.max(0,(0,f.get)(r,"factor",.5)),1),a=(0,f.get)(r,"delay",0),o=(0,f.get)(r,"duration",800),s=r.callback,l=(e.minX+e.maxX)/2,u=e.maxY,h=t.find(function(F){return F.get("name")=="wrap"}),c=h.attr("opacity");h.attr("opacity",0),h.animate({opacity:c},o*n,"easeLinear",null,a);var v=t.find(function(F){return F.get("name")=="waves"}),g=(0,f.clone)(v.attr("matrix"))||[1,0,0,0,1,0,0,0,1],M=ns(g,[["t",-l,-u],["s",1,0],["t",l,u]]);v.setMatrix(M),v.animate({matrix:g},o,r.easing,function(){return s&&s(t,h,v)},a)}Oy.animationName="liquidMoveIn",ui("liquidMoveIn",Oy);var Mk={column:"interval"},Ek={interval:"liquid"},Iy=function(i){(0,Yt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="liquid",t.shouldFadeInAnnotation=!0,t}return r.getDefaultOptions=function(){var t={padding:[0,0,0,0],animation:{factor:.4,easing:"easeExpOut",duration:800},liquidStyle:{lineWidth:2},color:"#6a99f9",interactions:[],statistic:{visible:!0}};return(0,f.deepMix)({},i.getDefaultOptions.call(this),t)},r.prototype.beforeInit=function(){var t=this.options,e=t.min,n=t.max,a=t.value;if(!(0,f.isNumber)(e))throw new Error("The min value of Liquid is required, and the type of min must be Number.");if(!(0,f.isNumber)(n))throw new Error("The max value of Liquid is required, and the type of max must be Number.");if(!(0,f.isNumber)(a))throw new Error("The value of Liquid is required, and the type of value must be Number.")},r.prototype.init=function(){this.options.data=[{}],i.prototype.init.call(this)},r.prototype.coord=function(){},r.prototype.scale=function(){var t=this.options,e=t.min,n=t.max,a={value:{}};bi(a.value,{min:Math.min(e,n),max:Math.max(e,n)}),this.setConfig("scales",a),i.prototype.scale.call(this)},r.prototype.axis=function(){this.setConfig("axes",!1)},r.prototype.adjustLiquid=function(t){var e=this.options;t.shape={values:["liquid-fill-gauge"]},t.tooltip=!1;var n=e.liquidStyle;(0,f.isFunction)(n)&&(n=n()),n&&(t.style=n)},r.prototype.addGeometry=function(){var t=Jn("interval","main",{positionFields:[1,"value"],plot:this});this.adjustLiquid(t);var e=this.getViewRange(),n=Math.min(e.width,e.height)*.8,a=this.options.liquidSize?this.options.liquidSize:n;t.size={values:[a]},this.liquid=t,this.setConfig("geometry",t)},r.prototype.animation=function(){var t=this.options;if(t.animation===!1)this.liquid.animate=!1;else{var e=(0,f.get)(t,"animation.factor"),n=(0,f.get)(t,"animation.easing"),a=(0,f.get)(t,"animation.duration");this.liquid.animate={appear:{animation:"liquidMoveIn",factor:e,easing:n,duration:a}}}},r.prototype.geometryParser=function(t,e){return t==="g2"?Mk[e]:Ek[e]},r.prototype.annotation=function(){var t=[],e=this.extractStatistic();t.push(e),this.setConfig("annotations",t)},r.prototype.useHtmlContent=function(){var t=this.options,e=t.statistic||{};return(0,f.isFunction)(e.htmlContent)},r.prototype.extractStatistic=function(){if(!this.useHtmlContent()){var t=this.options,e=t.statistic||{},n;(0,f.isFunction)(e.formatter)?n=e.formatter(t.value):n=""+t.value;var a,o;if(n){var s=Math.min(this.width,this.height);a=s/n.length*.5,o=Math.max(1,Math.ceil(.025*a))}var l;if(e.visible!==!1){var u=(0,f.deepMix)({style:{fontSize:a,shadowBlur:o}},{top:!0,content:n,type:"text",position:["50%","50%"],style:{opacity:l,fill:"transparent",shadowColor:"transparent",textAlign:"center"}},e);return delete u.visible,delete u.formatter,delete u.adjustColor,u}}},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,B)},r.prototype.afterRender=function(){var t;((t=this.options.statistic)===null||t===void 0?void 0:t.visible)&&!this.useHtmlContent()&&this.fadeInAnnotation();var e=this.options,n=e.padding?e.padding:this.config.theme.padding;if(e.defaultState&&n!=="auto"&&this.stateController.defaultStates(e.defaultState),n==="auto"&&this.paddingController.processAutoPadding(),this.useHtmlContent()){var a=this.canvas.get("container");if(this.statistic&&a.removeChild(this.statistic.wrapperNode),this.options.statistic&&this.options.statistic.visible){var o=this.canvas.get("container");(0,Ot.Z)(o,{position:"relative"}),this.statistic=new gk((0,Yt.__assign)({container:o,view:this.view,plot:this},this.options.statistic)),this.statistic.render()}i.prototype.afterRender.call(this)}},r.prototype.processData=function(){var t=this.options;return[{_:"_",value:t.value}]},r.prototype.changeValue=function(t){var e=this.options;e.value=t,this.changeData([])},r.prototype.fadeInAnnotation=function(){var t=this,e=this.options,n=this.view.foregroundGroup.findAll(function(s){return s.get("name")==="annotation-text"})[0],a=e.animation||{},o=this.calcAnnotationColorStyle();this.shouldFadeInAnnotation?n.animate(o,a.duration*Math.min(1,1.5*a.factor),null,function(){t.shouldFadeInAnnotation=!1}):(0,f.forIn)(o,function(s,l){return n.attr(l,s)})},r.prototype.calcAnnotationColorStyle=function(){var t=this.options,e={fill:"#f6f6f6",shadowColor:"black"},n={fill:"#303030",shadowColor:"white"};if((0,f.get)(t,"statistic.adjustColor")===!1)return{fill:(0,f.get)(t,"statistic.style.fill",n.fill),shadowColor:(0,f.get)(t,"statistic.style.shadowColor",n.shadowColor)};var a=t.min,o=t.max,s=t.value;a=Math.min(a,o),o=Math.max(a,o);var l;if(a==o?l=1:l=(s-a)/(o-a),l>.55){var u=this.options.color,h=.8,c=fo(u),v=Math.round(c[0]*.299+c[1]*.587+c[2]*.114)/h;return v<156?e:n}return n},r.prototype.updateConfig=function(t){i.prototype.updateConfig.call(this,t),this.shouldFadeInAnnotation=!0},r.prototype.getViewRange=function(){var t=i.prototype.getViewRange.call(this),e=this.options.liquidStyle,n=e.lineWidth?e.lineWidth:2,a=t.minX,o=t.minY,s=t.width,l=t.height,u=Math.min(s,l)-n*2,h=a+s/2,c=o+l/2,v=h-u/2,g=c-u/2;return new Zr(v,g,u,u)},r}(Wn),Gh=Iy;en("liquid",Iy);var Ak=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="liquid",i.prototype.createLayers.call(this,e)},r.prototype.changeValue=function(t,e){if(e===void 0&&(e=!1),e)this.eachLayer(function(a){a instanceof Gh&&a.changeValue(t)});else{var n=this.layers[0];n instanceof Gh&&n.changeValue(t)}},r.getDefaultOptions=Gh.getDefaultOptions,r}(Wr),ky=Ak,By=function(i){(0,Yt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="histogram",t}return r.prototype.init=function(){this.options.xField="range",this.options.yField="count",i.prototype.init.call(this)},r.prototype.processData=function(t){var e=this,n=this.options,a=n.binField,o=n.binWidth,s=n.binNumber,l=(0,f.clone)(t);(0,f.sortBy)(l,a);var u=(0,f.valuesOfKey)(l,a),h=(0,f.getRange)(u),c=h.max-h.min,v=o;if(!o&&s&&(v=c/s),!o&&!s){var g=Yd(u);v=c/g}var M={};(0,f.each)(l,function(Y){var V=Y[a],z=e.getBin(V,v),it=z[0]+"-"+z[1];(0,f.hasKey)(M,it)||(M[it]={name:it,range:z,count:0,data:[]}),M[it].data.push(Y),M[it].count+=1});var F=[];return(0,f.each)(M,function(Y){F.push(Y)}),F},r.prototype.scale=function(){i.prototype.scale.call(this);var t=this.config.scales.range;t.nice=!1,t.type="linear"},r.prototype.getBin=function(t,e){var n=Math.floor(t/e);return[e*n,e*(n+1)]},r}(ss),Tk=By;en("histogram",By);var Pk=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="histogram",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Tk.getDefaultOptions,r}(Wr),Dy=Pk,_k={epanechnikov:function(i){return Math.abs(i)<=1?.75*(1-i*i):0},gaussian:function(i){return 1/Math.sqrt(Math.PI*2)*Math.exp(-.5*Math.pow(i,2))},uniform:function(i){return Math.abs(i)<=1?.5:0},triangle:function(i){return Math.abs(i)<=1?1-Math.abs(i):0},quartic:function(i){var r=1-i*i;return Math.abs(i)<=1?15/16*r*r:0},triweight:function(i){var r=1-i*i;return Math.abs(i)<=1?15/16*Math.pow(r,3):0},cosinus:function(i){var r=Math.PI/4*Math.cos(.5*Math.PI*i);return Math.abs(i)<=1?r:0}},Fy=function(i){(0,Yt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="density",t}return r.prototype.init=function(){var t=this.options.xAxis?(0,f.clone)(this.options.xAxis):{};this.options.xField="value",this.options.yField="density",this.options.xAxis=(0,f.deepMix)({},t,{type:"linear"}),this.options.smooth=!0,i.prototype.init.call(this)},r.prototype.processData=function(t){var e=this,n=this.options,a=n.binField,o=n.binWidth,s=n.binNumber,l=n.kernel,u=l||"epanechnikov",h=_k[u],c=(0,f.clone)(t);(0,f.sortBy)(c,a);var v=(0,f.valuesOfKey)(c,a),g=(0,f.getRange)(v),M=g.max-g.min,F=s,Y=o;!s&&o&&(F=Math.floor(M/o)),!o&&s&&(Y=M/s),!s&&!o&&(F=Yd(v),Y=M/s);var V=(0,Nr.getScale)("linear"),z=new V({min:g.min,max:g.max,tickCount:F,nice:!1}),it=z.getTicks(),ot=[];return(0,f.each)(it,function(yt){var It=e.kernelDensityEstimator(Y,h,yt,v);ot.push({value:yt.text,density:It})}),ot},r.prototype.kernelDensityEstimator=function(t,e,n,a){var o=0;return(0,f.each)(a,function(s){var l=(n.tickValue-s)/t;o+=e(l)}),a.length===0?0:o/a.length},r}(Ah),Lk=Fy;en("density",Fy);var PG=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="density",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Lk.getDefaultOptions,r}(Wr),_G=null,Ok={ring:"interval"},Ik=Ei(Ok);(0,f.assign)(on,Ik);var kk="color:#4d4d4d;font-size:14px;text-align:center;line-height:2;font-family:'-apple-system',BlinkMacSystemFont,'SegoeUI',Roboto,'HelveticaNeue',Helvetica,'PingFangSC','HiraginoSansGB','MicrosoftYaHei',SimSun,'sans-serif';pointer-events:none;",Bk="font-weight:300;white-space: nowrap;text-overflow: ellipsis;",Dk="font-size:32px;font-weight:bold;color:#4D4D4D";function Fk(i,r,t,e){var n=kk+"width:"+e+"px;",a=i?'<span class="ring-guide-name" style='+Bk+">"+i+"</span><br/>":"",o='<span class="ring-guide-value" style='+Dk+">"+r+"</span>";return'<div class="ring-guide-html '+t+'" style='+n+">"+a+o+"</div>"}var Rk=function(i){(0,Yt.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.view=t.view,e.plot=t.plot,e.statisticClass=t.statisticClass,e.adjustOptions(),e}return r.prototype.triggerOn=function(){var t=this,e=this.options.triggerOn;this.view.on("interval:"+e,(0,f.debounce)(function(a){var o=t.parseStatisticData("item",a.data.data,a.data.color),s=t.getStatisticHtmlString(o);t.updateHtml(s)},150));var n=this.options.triggerOff?this.options.triggerOff:"mouseleave";this.view.on("interval:"+n,(0,f.debounce)(function(){var a=t.getTotalHtmlString();t.updateHtml(a)},150))},r.prototype.getTotalHtmlString=function(){var t;if(this.options.content)t=this.options.content;else{var e=this.getTotalValue();t=this.parseStatisticData("total",e)}var n;this.options.htmlContent?n=this.options.htmlContent(t,this.getStatisticSize()):n=this.getStatisticTemplate(t);var a=document.createElement("div");return(0,f.isType)(n,"HTMLDivElement")?a.appendChild(n):a.innerHTML=n,a},r.prototype.adjustOptions=function(){this.html=this.getTotalHtmlString();var t=this.view.coordinateBBox,e=t.minX,n=t.minY,a=t.width,o=t.height;this.x=e+a/2,this.y=n+o/2},r.prototype.getTotalValue=function(){var t,e=0,n=this.plot.options,a=n.angleField,o=n.colorField,s=this.options.totalLabel;(0,f.each)(this.plot.options.data,function(u){typeof u[a]=="number"&&(e+=u[a])});var l=(t={},t[a]=e,t[o]=s,t);return l},r.prototype.parseStatisticData=function(t,e,n){var a=this.plot,o=a.options,s=o.angleField,l=o.colorField,u=a.getScaleByField(s),h=a.getScaleByField(l),c={name:h?h.getText(e[l]):null,value:u.getText(e[s])};return t==="item"&&(c.itemData=e,c.color=n),c},r.prototype.getStatisticTemplate=function(t){var e=this.getStatisticSize(),n=Fk(t.name,t.value,this.statisticClass,e);return n},r.prototype.getStatisticSize=function(){var t=this.plot.view.coordinateBBox,e=this.plot.options,n=e.radius,a=e.innerRadius,o=Math.min(t.width,t.height),s=o*n*a;return s},r.prototype.getStatisticHtmlString=function(t){var e=this.options.htmlContent,n;return e?n=e(t,this.getStatisticSize()):n=this.getStatisticTemplate(t),n},r}(Py),Nk=Rk,Yk={ring:"interval"},Gk={interval:"ring"},Ry=function(i){(0,Yt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="donut",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{radius:.8,innerRadius:.64,tooltip:{visible:!1},statistic:{visible:!0,totalLabel:"\u603B\u8BA1",triggerOn:"mouseenter",triggerOff:"mouseleave"}})},r.prototype.beforeInit=function(){i.prototype.beforeInit.call(this),r.centralId++,this.statisticClass="statisticClassId"+r.centralId,this.adjustLabelDefaultOptions()},r.prototype.afterRender=function(){var t=this.canvas.get("container");if(this.statistic&&(t.removeChild(this.statistic.wrapperNode),this.statistic=null),this.options.statistic&&this.options.statistic.visible){var e=this.canvas.get("container");(0,Ot.Z)(e,{position:"relative"}),this.statistic=new Nk((0,Yt.__assign)({container:e,view:this.view,plot:this,statisticClass:this.statisticClass},this.options.statistic)),this.statistic.render(),this.options.statistic.triggerOn&&this.statistic.triggerOn()}i.prototype.afterRender.call(this)},r.prototype.destroy=function(){this.statistic&&this.statistic.destroy(),i.prototype.destroy.call(this)},r.prototype.geometryParser=function(t,e){return t==="g2"?Yk[e]:Gk[e]},r.prototype.coord=function(){var t=this.options,e={type:"theta",cfg:{radius:t.radius,innerRadius:t.innerRadius}};this.setConfig("coordinate",e)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,N)},r.prototype.adjustLabelDefaultOptions=function(){var t=this.options.label;if(t&&t.type==="inner"){var e=t.style||{};e.textAlign||(e.textAlign="center"),t.style=e,t.offset||(t.offset=(this.options.innerRadius-1)/2*100+"%")}},r.centralId=0,r}(sy),Ny=Ry;en("donut",Ry);var zk=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="donut",i.prototype.createLayers.call(this,e)},r.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},r.getDefaultOptions=Ny.getDefaultOptions,r}(Wr),Yy=zk;function Xk(i,r,t){var e=i.style,n=i.defaultStyle,a=i.color,o=(0,Yt.__assign)((0,Yt.__assign)({},n),e);return a&&(r&&(o.stroke=a),t&&(o.fill=a)),o}function Vk(i){var r=[],t=i[0];r.push(["M",t.x,t.y]);for(var e=1,n=i.length;e<n;e++)r.push(["L",i[e].x,i[e].y]);return r.push(["L",t.x,t.y]),r.push(["z"]),r}vn("interval","waterfall",{draw:function(i,r){var t=Xk(i,!1,!0),e=this.parsePath(Vk(i.points)),n=r.addShape("path",{attrs:(0,Yt.__assign)((0,Yt.__assign)({},t),{path:e}),name:"interval"}),a=(0,f.get)(i.style,"leaderLine");if(a&&a.visible){var o=a.style||{};if(i.nextPoints){var s=[["M",i.points[2].x,i.points[2].y],["L",i.nextPoints[0].x,i.nextPoints[0].y]];s=this.parsePath(s),r.addShape("path",{attrs:(0,Yt.__assign)({path:s,stroke:"#d3d3d3",lineDash:[4,2],lineWidth:1},o),name:"leader-line"})}}return n}});var Gy=2,Hk=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustLabel=function(t,e){var n,a,o=e.shape,s=o.getBBox(),l=e.getData(),u=l[ca],h=l[this.layer.options.yField],c=(0,f.isArray)(u)?u[1]:u,v=this.options.formatter,g=[].concat(e.getModel().mappingData),M=v?g[0]&&g[0]._origin[uu]:0,F=v?v(c,(n={},n[Bs]=(a=g[0])===null||a===void 0?void 0:a._origin,n.mappingDatum=g[0],n.mappingDatumIndex=0,n.element=e,n.elementIndex=M,n),M):c,Y=(s.minY+s.maxY)/2,V="bottom";h<0?(Y=s.maxY+Gy,V="top"):Y=s.minY-Gy,t.attr("y",Y),t.attr("text",F),t.attr("textBaseline",V)},r}(_h),LG=null;ta("waterfall",Hk);function Wk(){return{fill:"#fff",fontSize:12,lineHeight:12,stroke:"rgba(0, 0, 0, 0.45)"}}var jk=function(){function i(r){this.textAttrs={},this.view=r.view,this.fields=r.fields,this.formatter=r.formatter,this.textAttrs=(0,f.mix)(Wk(),r.style),this._init()}return i.prototype.draw=function(){var r=this;if(!(!this.view||this.view.destroyed)){var t=(0,f.clone)(this.view.getData());this.container=this.view.foregroundGroup.addGroup();var e=this.view.geometries[0].elements.map(function(n){return n.shape});(0,f.each)(e,function(n,a){if(!!n.cfg.origin){var o=n.cfg.origin.data,s=n.getBBox(),l=o[ca],u=l;(0,f.isArray)(l)&&(u=l[1]-l[0]),u=u>0?"+"+u:u,o[zh]&&(u=l[0]-l[1]);var h=u;if(r.formatter){var c=e[a].attr("fill");h=r.formatter(""+u,{_origin:t[a],color:c},a)}var v=r.container.addShape("text",{attrs:(0,Yt.__assign)({text:h,textBaseline:"middle",textAlign:"center",x:(s.minX+s.maxX)/2,y:(s.minY+s.maxY)/2},r.textAttrs),name:"dill-label"});v.getBBox().height>s.height&&v.set("visible",!1)}}),this.view.getCanvas().draw()}},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype._init=function(){var r=this;this.view.on(gn.VIEW_LIFE_CIRCLE.BEFORE_RENDER,function(){r.clear()}),this.view.on(gn.VIEW_LIFE_CIRCLE.AFTER_RENDER,function(){r.draw()})},i}(),Uk=jk,Zk={waterfall:"interval"},Kk={interval:"waterfall"},ca="$$value$$",zh="$$total$$",uu="$$index$$",zy=function(i){(0,Yt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="watarfall",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{legend:{visible:!1,position:"bottom"},label:{visible:!0,adjustPosition:!0},diffLabel:{visible:!0},leaderLine:{visible:!0},showTotal:{visible:!0,label:"\u603B\u8BA1\u503C"},waterfallStyle:{lineWidth:0},tooltip:{visible:!0,shared:!0,showCrosshairs:!1,showMarkers:!1}})},r.prototype.getOptions=function(t){var e=i.prototype.getOptions.call(this,t);return this.adjustLegendOptions(e),this.adjustMeta(e),e},r.prototype.afterInit=function(){i.prototype.afterInit.call(this);var t=this.options;t.diffLabel&&t.diffLabel.visible?this.diffLabel=new Uk({view:this.view,fields:[t.xField,t.yField,ca],formatter:t.diffLabel.formatter,style:t.diffLabel.style}):this.diffLabel&&(this.diffLabel.clear(),this.diffLabel=null)},r.prototype.afterRender=function(){i.prototype.afterRender.call(this);var t=this.options;this.view.on("tooltip:change",function(e){for(var n=e.items,a=0;a<n.length;a++){var o=n[a],s=(0,f.get)(o,"data",{});if(o.name=s[t.xField],o.value=s[t.yField],!o.value&&s[zh]){var l=s[ca];o.value=l[0]-l[1]}e.items[a]=o}}),this.renderLabel()},r.prototype.renderLabel=function(){var t=Mo(this.view,"interval");this.options.label&&this.options.label.visible&&this.doRenderLabel(t,(0,Yt.__assign)({type:"waterfall"},this.options.label))},r.prototype.geometryParser=function(t,e){return t==="g2"?Zk[e]:Kk[e]},r.prototype.interaction=function(){this.setConfig("interactions",[{type:"tooltip"},{type:"active-region"}])},r.prototype.addGeometry=function(){var t=this.options,e={type:"interval",position:{fields:[t.xField,ca]},shape:{values:["waterfall"]}};e.style=this._parseStyle(),e.color=this._parseColor(),this.waterfall=e,this.options.tooltip&&(this.options.tooltip.fields||this.options.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},r.prototype.processData=function(t){var e,n=[],a=this.options.xField,o=this.options.yField;if((0,f.map)(t,function(u,h){var c,v=u[o];if(h>0){var g=n[h-1][ca];(0,f.isArray)(g)?v=[g[1],u[o]+g[1]]:v=[g,u[o]+g]}n.push((0,Yt.__assign)((0,Yt.__assign)({},u),(c={},c[ca]=v,c[uu]=h,c)))}),this.options.showTotal&&this.options.showTotal.visible){var s=(0,f.map)(t,function(u){return u[o]}),l=(0,f.reduce)(s,function(u,h){return u+h},0);n.push((e={},e[a]=this.options.showTotal.label,e[o]=null,e[ca]=[l,0],e[uu]=n.length,e[zh]=!0,e))}return n},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},(0,f.has)(t,"xAxis")&&bi(e[t.xField],t.xAxis),e[ca]={},(0,f.has)(t,"yAxis")&&bi(e[ca],t.yAxis),this.setConfig("scales",e)},r.prototype.axis=function(){var t=Bi("axis",{plot:this,dim:"x"}),e=Bi("axis",{plot:this,dim:"y"}),n={};n[this.options.xField]=t,n[ca]=e,this.setConfig("axes",n)},r.prototype.coord=function(){},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,G)},r.prototype.geometryTooltip=function(){this.waterfall.tooltip={};var t=this.options.tooltip;t.fields&&(this.waterfall.tooltip.fields=t.fields),t.formatter&&(this.waterfall.tooltip.callback=t.formatter,t.fields||(this.waterfall.tooltip.fields=[this.options.xField,ca]))},r.prototype._parseStyle=function(){var t=this.options.waterfallStyle,e=this.options.leaderLine,n={};return(0,f.isFunction)(t)?n.callback=function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];return Object.assign({},t.apply(void 0,a),{leaderLine:e})}:n.cfg=(0,Yt.__assign)((0,Yt.__assign)({},t),{leaderLine:e}),n},r.prototype._parseColor=function(){var t=this,e=this.options,n=this.options,a=n.xField,o=n.yField,s={fields:[a,o,ca,uu]};if((0,f.isFunction)(e.color))s.callback=e.color;else{var l="#f4664a",u="#30bf78",h="rgba(0, 0, 0, 0.25)";if((0,f.isString)(e.color))l=u=h=e.color;else if((0,f.isObject)(e.color)){var c=e.color,v=c.rising,g=c.falling,M=c.total;l=v,u=g,h=M}s.callback=function(F,Y,V,z){return z===t.options.data.length?h||(V[0]>=0?l:u):((0,f.isArray)(V)?V[1]-V[0]:V)>=0?l:u}}return s},r.prototype.adjustLegendOptions=function(t){var e=t.legend;e&&(e.visible=!1)},r.prototype.adjustMeta=function(t){var e=t.meta;if(e){var n=e?e[t.yField]:{};n.alias=n.alias||t.yField,t.meta[ca]=n}},r}(Wn),$k=zy;en("waterfall",zy);var Qk=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="waterfall",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=$k.getDefaultOptions,r}(Wr),Xy=Qk,Jk=function(){function i(r){this.quadrantGroups=[],this.regionData=[],this.lineData=[],this.options=r,this.view=this.options.view,this.init()}return i.prototype.init=function(){var r=this.options,t=r.xBaseline,e=r.yBaseline,n=this.view.getCoordinate(),a=this.view.getScaleByField(this.options.plotOptions.xField),o=this.view.getScaleByField(this.options.plotOptions.yField),s;if(t>a.min&&t<a.max){var l=(t-a.min)/(a.max-a.min);s=[new Zr(n.start.x,n.end.y,n.getWidth()*l,n.getHeight()),new Zr(n.start.x+n.getWidth()*l,n.end.y,n.getWidth()*(1-l),n.getHeight())];var u={start:{x:n.start.x+n.getWidth()*l,y:n.end.y},end:{x:n.start.x+n.getWidth()*l,y:n.start.y}};this.lineData.push(u)}else s=[new Zr(n.start.x,n.end.y,n.getWidth(),n.getHeight())];if(e>o.min&&e<o.max){var l=(e-o.min)/(o.max-o.min),h={start:{x:n.start.x,y:n.start.y-n.getHeight()*l},end:{x:n.end.x,y:n.start.y-n.getHeight()*l}};this.lineData.push(h);var c={name:t<=a.min?"top-right":"top-left",bbox:new Zr(s[0].minX,s[0].minY,s[0].width,s[0].height*(1-l)),index:t<=a.min?2:0};this.regionData.push(c);var v={name:t<=a.min?"bottom-right":"bottom-left",bbox:new Zr(s[0].minX,s[0].minY+s[0].height*(1-l),s[0].width,s[0].height*l),index:t<=a.min?3:1};if(this.regionData.push(v),s.length>1){var g={name:"top-right",bbox:new Zr(s[1].minX,s[1].minY,s[1].width,s[1].height*(1-l)),index:2};this.regionData.push(g);var M={name:"bottom-right",bbox:new Zr(s[1].minX,s[1].minY+s[1].height*(1-l),s[1].width,s[1].height*l),index:3};this.regionData.push(M)}}else if(s.length===2)if(e<=o.min){var F={name:"top-left",bbox:s[0],index:0};this.regionData.push(F);var g={name:"top-right",bbox:s[1],index:2};this.regionData.push(g)}else{var Y={name:"bottom-left",bbox:s[0],index:1};this.regionData.push(Y);var M={name:"bottom-right",bbox:s[1],index:3};this.regionData.push(M)}else if(t<=a.min)if(e<=o.min){var g={name:"top-right",bbox:s[0],index:2};this.regionData.push(g)}else{var M={name:"bottom-right",bbox:s[0],index:3};this.regionData.push(M)}else if(e<=o.min){var F={name:"top-left",bbox:s[0],index:0};this.regionData.push(F)}else{var Y={name:"bottom-left",bbox:s[0],index:1};this.regionData.push(Y)}this.container=this.view.backgroundGroup.addGroup()},i.prototype.render=function(){var r=this;if(this.regionData.length>0){var t=this.getDefaultStyle(),e=this.getRegionStyle(this.regionData);(0,f.each)(this.regionData,function(a){var o=a.index,s=r.container.addGroup(),l=s.addShape("rect",{attrs:(0,Yt.__assign)({x:a.bbox.minX,y:a.bbox.minY,width:a.bbox.width,height:a.bbox.height},e[o]),name:"quadrant"});if(r.options.label&&r.options.label.text){var u=(0,f.deepMix)({},t.label,r.options.label),h=r.getLabelConfig(a,u);s.addShape("text",{attrs:(0,Yt.__assign)({},h),name:"quadrant-label"})}l.set("data",a),r.quadrantGroups.push(s)});var n=(0,f.deepMix)({},t.line,this.options.lineStyle);(0,f.each)(this.lineData,function(a){r.container.addShape("path",{attrs:(0,Yt.__assign)({path:[["M",a.start.x,a.start.y],["L",a.end.x,a.end.y]]},n),name:"quadrant-line"})}),this.view.canvas.draw()}},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype.getDefaultStyle=function(){return{line:{stroke:"#9ba29a",lineWidth:1},regionStyle:[{fill:"#000000",opacity:.05},{fill:"#ffffff",opacity:0},{fill:"#ffffff",opacity:0},{fill:"#000000",opacity:.05}],label:{position:"outter-inner",offset:10,style:{fontSize:14,fill:"#ccc"}}}},i.prototype.getRegionStyle=function(r){var t=this.getDefaultStyle(),e=t.regionStyle;if(this.options.regionStyle){var n=this.options.regionStyle;(0,f.isArray)(n)?e=e.map(function(a,o){return n.length>o&&n[o]?n[o]:a}):(0,f.isFunction)(n)&&(0,f.each)(r,function(a,o){e[o]=n(a)})}return e},i.prototype.getLabelConfig=function(r,t){var e=r.index,n=0,a=0,o={},s=t.text;(0,f.isFunction)(s)?s=s(r):(0,f.isArray)(s)&&(s=s[e]);var l=t.position,u=l.split("-"),h=r.name.split("-");return h[1]==="left"?(u[0]==="inner"&&(n=r.bbox.maxX-t.offset,o.textAlign="right"),u[0]==="outter"&&(n=r.bbox.minX+t.offset,o.textAlign="left")):h[1]==="right"&&(u[0]==="inner"&&(n=r.bbox.minX+t.offset,o.textAlign="left"),u[0]==="outter"&&(n=r.bbox.maxX-t.offset,o.textAlign="right")),h[0]==="top"?(u[1]==="inner"&&(a=r.bbox.maxY-t.offset,o.textBaseline="bottom"),u[1]==="outter"&&(a=r.bbox.minY+t.offset,o.textBaseline="top")):h[0]==="bottom"&&(u[1]==="inner"&&(a=r.bbox.minY+t.offset,o.textBaseline="top"),u[1]==="outter"&&(a=r.bbox.maxY-t.offset,o.textBaseline="bottom")),o=(0,f.deepMix)({},t.style,o),o.lineHeight=o.fontSize,(0,Yt.__assign)({x:n,y:a,text:s},o)},i}(),qk=Jk,Xo=d(56645),tB={exp:Xo.regressionExp,linear:Xo.regressionLinear,loess:Xo.regressionLoess,log:Xo.regressionLog,poly:Xo.regressionPoly,pow:Xo.regressionPow,quad:Xo.regressionQuad};function eB(i,r){return Math.sqrt(i*(1-i)/r)*1.96}var rB=function(){function i(r){var t={type:"linear",style:{stroke:"#9ba29a",lineWidth:2,opacity:.5,lineJoin:"round",lineCap:"round"},showConfidence:!1,confidenceStyle:{fill:"#ccc",opacity:.1}};this.options=(0,f.deepMix)({},t,r),this.view=this.options.view,this.init()}return i.prototype.init=function(){var r=this.options.plotOptions,t=r.xField,e=r.yField,n=r.data,a=tB[this.options.type]().x(function(o){return o[t]}).y(function(o){return o[e]});this.data=this.processData(a(n)),this.container=this.view.backgroundGroup.addGroup()},i.prototype.render=function(){var r=this.view.getScaleByField(this.options.plotOptions.xField),t=this.view.getScaleByField(this.options.plotOptions.yField),e=this.view.getCoordinate(),n=this.data.trendlineData,a=(0,Nr.getScale)("linear"),o=this.adjustScale(r,n,"x"),s=new a({min:o.min,max:o.max}),l=this.adjustScale(t,n,"y"),u=new a({min:l.min,max:l.max});if(this.options.showConfidence){var h=this.getConfidencePath(s,u,e);this.container.addShape("path",{attrs:(0,Yt.__assign)({path:h},this.options.confidenceStyle),name:"confidence"})}var c=this.getTrendlinePoints(s,u,e),v=[[0,0],[1,1]],g=gh(c,!1,v);this.shape=this.container.addShape("path",{attrs:(0,Yt.__assign)({path:g},this.options.style),name:"trendline"})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.destroy()},i.prototype.processData=function(r){var t=[],e=[];return(0,f.each)(r,function(n){t.push({x:n[0],y:n[1]});var a=eB(r.rSquared,n[1]);e.push({x:n[0],y0:n[1]-a,y1:n[1]+a})}),{trendlineData:t,confidenceData:e}},i.prototype.getTrendlinePoints=function(r,t,e){var n=[];return(0,f.each)(this.data.trendlineData,function(a){var o=r.scale(a.x),s=t.scale(a.y),l=e.start.x+e.width*o,u=e.start.y-e.height*s;n.push({x:l,y:u})}),n},i.prototype.getConfidencePath=function(r,t,e){var n=[],a=[],o=[];(0,f.each)(this.data.confidenceData,function(c){var v=r.scale(c.x),g=t.scale(c.y0),M=t.scale(c.y1),F=e.start.x+e.width*v,Y=e.start.y-e.height*g,V=e.start.y-e.height*M;n.push({x:F,y:Y}),a.push({x:F,y:V})});for(var s=0;s<n.length;s++){var l=s===0?"M":"L",u=n[s];!isNaN(u.x)&&!isNaN(u.y)&&o.push([l,u.x,u.y])}for(var h=a.length-1;h>0;h--){var u=a[h];!isNaN(u.x)&&!isNaN(u.y)&&o.push(["L",u.x,u.y])}return o},i.prototype.adjustScale=function(r,t,e){var n=r.min,a=r.max,o=this.options.plotOptions,s=o.data,l=o.xField,u=o.yField,h=e==="x"?l:u,c=(0,f.minBy)(s,h)[h],v=(0,f.maxBy)(s,h)[h],g=(n-c)/(v-c),M=(a-v)/(v-c),F=(0,f.minBy)(t,e)[e],Y=(0,f.maxBy)(t,e)[e];return{min:F+g*(Y-F),max:Y+M*(Y-F)}},i}(),nB=rB,iB={point:"point",trendline:"trendline",confidence:"confidence",quadrant:"quadrant",quadrantLabel:"quadrant-label",quadrantLine:"quadrant-line"},aB=Ei(iB);(0,f.assign)(on,aB);var oB=function(i){var r=i.stroke||"#000";return{stroke:r}},sB=function(i){var r=i.stroke||"#000",t=i.lineWidth||2;return{stroke:r,lineWidth:t}},lB=function(i){var r=i.fillOpacity||i.opacity||.3;return{fillOpacity:r}};ea("scatter",{pointStyle:{normal:{},active:oB,selected:sB,inactive:lB}});var uB={scatter:"point"},fB={point:"point"},Vy=function(i){(0,Yt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="scatter",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{pointSize:4,pointStyle:{lineWidth:1,strokeOpacity:1,fillOpacity:.95,stroke:"#fff"},xAxis:{nice:!0,grid:{visible:!0},line:{visible:!0}},yAxis:{nice:!0,grid:{visible:!0},line:{visible:!0}},tooltip:{visible:!0,shared:null,showTitle:!1,showMarkers:!1,showCrosshairs:!1},label:{visible:!1},shape:"circle"})},r.prototype.afterRender=function(){i.prototype.afterRender.call(this),this.quadrant&&this.quadrant.destroy(),this.trendline&&this.trendline.destroy(),this.options.quadrant&&this.options.quadrant.visible&&(this.quadrant=new qk((0,Yt.__assign)({view:this.view,plotOptions:this.options},this.options.quadrant)),this.quadrant.render()),this.options.trendline&&this.options.trendline.visible&&(this.trendline=new nB((0,Yt.__assign)({view:this.view,plotOptions:this.options},this.options.trendline)),this.trendline.render())},r.prototype.destroy=function(){this.quadrant&&(this.quadrant.destroy(),this.quadrant=null),this.trendline&&(this.trendline.destroy(),this.trendline=null),i.prototype.destroy.call(this)},r.prototype.isValidLinearValue=function(t){return(0,f.isNil)(t)?!1:!Number.isNaN(Number(t))},r.prototype.processData=function(t){var e=this,n=this.options,a=n.xField,o=n.yField,s=(0,f.get)(this.options,["xAxis","type"],"linear"),l=(0,f.get)(this.options,["yAxis","type"],"linear");if(s&&l){var u=t.filter(function(h){return!(s==="linear"&&!e.isValidLinearValue(h[a])||l==="linear"&&!e.isValidLinearValue(h[o]))}).map(function(h){var c;return(0,Yt.__assign)((0,Yt.__assign)({},h),(c={},c[a]=s==="linear"?Number(h[a]):String(h[a]),c[o]=l==="linear"?Number(h[o]):String(h[o]),c))});return u}return t},r.prototype.geometryParser=function(t,e){return t==="g2"?uB[e]:fB[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={},(0,f.has)(t,"xAxis")&&bi(e[t.xField],t.xAxis),e[t.yField]={},(0,f.has)(t,"yAxis")&&bi(e[t.yField],t.yAxis);var n=(0,f.find)(t.interactions,function(o){return o.type==="timeline"});if(n&&(0,f.get)(n,"cfg.key")){var a=n.cfg.key;e[a]?e[a].key=!0:e[a]={key:!0}}this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){},r.prototype.annotation=function(){},r.prototype.addGeometry=function(){var t=Jn("point","circle",{plot:this});if(this.points=t,this.options.tooltip&&this.options.tooltip.visible){var e=this.options.tooltip,n=e.showTitle,a=e.titleField;this.extractTooltip(),this.setConfig("tooltip",(0,Yt.__assign)({showTitle:n,title:n?a:void 0},this.options.tooltip))}this.options.label&&this.label(),this.setConfig("geometry",t)},r.prototype.label=function(){var t=this.options;if(t.label.visible===!1){this.points&&(this.points.label=!1);return}var e=Bi("label",(0,Yt.__assign)((0,Yt.__assign)({fields:t.label.field?[t.label.field]:[t.yField]},t.label),{plot:this}));this.points&&(this.points.label=e)},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.points.animate=!1)},r.prototype.parseEvents=function(t){i.prototype.parseEvents.call(this,t||j)},r.prototype.extractTooltip=function(){this.points.tooltip={};var t=this.options.tooltip;t.fields?this.points.tooltip.fields=t.fields:this.points.tooltip.fields=[this.options.xField,this.options.yField],t.formatter&&(this.points.tooltip.callback=t.formatter,this.options.colorField&&this.points.tooltip.fields.push(this.options.colorField))},r}(Wn),Hy=Vy;en("scatter",Vy);var hB=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="scatter",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Hy.getDefaultOptions,r}(Wr),Wy=hB,cB=d(78685);vn("point","bubble-point",{draw:function(i,r){var t=(0,cB.iV)(this,i,r,"circle",!1);if(!i.style.stroke){var e=t.attr("fill");t.attr("stroke",e)}return t},getMarker:function(i){var r=i.color;return{symbol:"circle",style:{r:4.5,fill:r}}}});var vB=function(i){var r=i.stroke||"#000",t=i.fillOpacity||i.opacity||.95;return{stroke:r,fillOpacity:t}},dB=function(i){var r=i.stroke||"#000",t=i.lineWidth||2;return{stroke:r,lineWidth:t}},pB=function(i){var r=i.fillOpacity||i.opacity||.3;return{fillOpacity:r}};ea("bubble",{pointStyle:{normal:{},active:vB,selected:dB,inactive:pB}});var jy=function(i){(0,Yt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="bubble",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{pointSize:[2,32],pointStyle:{stroke:null,strokeOpacity:1,fillOpacity:.5},label:{position:"middle",style:{stroke:"#fff",lineWidth:2}},shape:"bubble-point"})},r.prototype.getSizeScale=function(){var t=this.options.sizeField;t&&this.view.getScaleByField(t)},r.prototype.legend=function(){var t;i.prototype.legend.call(this),!(this.options.legend&&this.options.legend.visible===!1)&&this.setConfig("legends",(t={},t[this.options.sizeField]=!1,t))},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,j)},r}(Hy),gB=jy;en("bubble",jy);var yB=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="bubble",i.prototype.createLayers.call(this,e)},r.prototype.getSizeScale=function(){var t=this.layers[0];return t.getSizeScale()},r.getDefaultOptions=gB.getDefaultOptions,r}(Wr),Uy=yB,mB={bullet:"interval",bulletTarget:"bullet-target"},xB=Ei(mB);(0,f.assign)(on,xB);var bB=function(){function i(r,t){this.view=r,this.cfg=t,this._init()}return i.prototype.draw=function(){if(!(!this.view||this.view.destroyed)){this.container=this.view.middleGroup.addGroup(),this.container.set("name","rectGroups"),this.container.setZIndex(-100);for(var r=this.getGeometry(),t=(0,f.map)(r==null?void 0:r.elements,function(o){return o.shape}),e=0;e<this.cfg.ranges.length;e+=1){var n=t[e].getBBox(),a=n.width/t[e].get("origin").data[this.cfg.yField];this.drawRect(n,this.cfg.ranges[e]||[0,1],a)}this.view.canvas.draw()}},i.prototype.drawRect=function(r,t,e){for(var n=this.cfg,a=n.rangeColors,o=r.minX,s=r.minY-r.height*(n.rangeSize-1)/2,l=1;l<t.length;l+=1){var u=(t[l]-t[l-1])*n.rangeMax*e;this.container.addShape("rect",{name:"bullet-rect",attrs:{width:u,height:r.height*n.rangeSize,x:o,y:s,fill:a[(l-1)%a.length],fillOpacity:.25}}).set("zIndex",-1),o+=u}if(n.axis&&n.axis.visible){var h=n.rangeMax/(n.axis.tickCount-1),c=new Zr(r.x,s,o,r.height*n.rangeSize);this.drawBulletTicks(c,h,e)}},i.prototype.drawBulletTicks=function(r,t,e){for(var n=this.cfg,a=n.axis.style,o=n.axis.tickCount,s=n.axis.position,l=(0,f.get)(a,"lineHeight",0)-a.fontSize/2,u=0;u<o;u+=1){var h=r.minX+t*u*e,c=""+t*u;if(n.axis.formatter&&(c=n.axis.formatter(c,u)),this.container.addShape("text",{name:"tick",attrs:(0,Yt.__assign)({x:h,y:s==="before"?r.minY-l:r.maxY+l,text:""+c},a)}),n.axis.tickLine&&n.axis.tickLine.visible){var v=n.axis.tickLine;u>0&&u!==o-1&&this.container.addShape("path",{attrs:(0,Yt.__assign)({path:[["M",h,r.minY],["L",h,r.maxY]]},v)}).set("zIndex",-1)}}},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype._init=function(){var r=this;this.view.on("beforerender",function(){r.clear()}),this.view.on("afterrender",function(){r.draw()})},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="interval"})},i}(),wB=bB,SB=function(){function i(r,t){this.view=r,this.cfg=t,this._init()}return i.prototype.draw=function(){if(!(!this.view||this.view.destroyed)){this.container=this.view.foregroundGroup.addGroup(),this.container.set("name","targetGroups");for(var r=(0,f.map)(this.getGeometry().elements,function(a){return a.shape}),t=0;t<this.cfg.targets.length;t+=1){var e=r[t].getBBox(),n=e.width/r[t].get("origin").data[this.cfg.yField];this.drawTarget(e,this.cfg.targets[t],n)}this.view.canvas.draw()}},i.prototype.drawTarget=function(r,t,e){var n=this,a=this.cfg,o=a.markerColors;t.forEach(function(s,l){var u=a.markerStyle;n.container.addShape("rect",{name:"bullet-target",attrs:(0,Yt.__assign)((0,Yt.__assign)({width:u.width,height:r.height*a.markerSize-u.width/2,x:r.minX+s*e,y:r.minY-r.height*(a.markerSize-1)/2},u),{fill:o[l%o.length]||u.fill})})})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype._init=function(){var r=this;this.view.on("beforerender",function(){r.clear()}),this.view.on("afterrender",function(){r.draw()})},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="interval"})},i}(),CB=SB,MB=function(i){var r=i.opacity||1;return{opacity:r*.5,lineWidth:0}},EB=function(i){var r=i.opacity||1;return{opacity:r*.5}};ea("bullet",{columnStyle:{normal:{},active:MB,disable:EB,selected:{}}});var AB={bullet:"interval"},TB={interval:"bullet"},PB="$$stackField$$",_B="$$xField$$",LB="$$yField$$",Zy=function(i){(0,Yt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="bullet",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{data:[],stackField:PB,xField:_B,yField:LB,rangeColors:["rgba(91, 143, 249, 0.45)"],measureSize:12,rangeSize:2,markerSize:2,markerColors:[],markerStyle:{width:2,fill:"#5B8FF9",lineWidth:0},axis:{visible:!1,position:"before",tickCount:6,formatter:function(t,e){return""+e},style:{fill:"rgba(0, 0, 0, 0.25)",textBaseline:"middle",textAlign:"center",fontSize:12,lineHeight:16},tickLine:{visible:!0,lineWidth:1,stroke:"#FFF",lineDash:[4,2]}},xAxis:{visible:!0,line:{visible:!1},tickLine:{visible:!1},label:{visible:!0}},yAxis:{visible:!1,nice:!1},tooltip:{visible:!1,trigger:"item",crosshairs:!1},label:{visible:!0,offset:4,style:{fill:"rgba(0, 0, 0, 0.45)",stroke:"#fff",lineWidth:1}}})},r.prototype.afterRender=function(){i.prototype.afterRender.call(this),this.view.removeInteraction("legend-filter")},r.prototype.scale=function(){var t=this.options,e={};e[t.yField]={},(0,f.has)(t,"yAxis")&&bi(e[t.yField],t.yAxis),e[t.xField]={type:"cat"},(0,f.has)(t,"xAxis")&&bi(e[t.xField],t.xAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.getOptions=function(t){var e=i.prototype.getOptions.call(this,t);return this.adjustOptions(e),e},r.prototype.afterInit=function(){i.prototype.afterInit.call(this);var t=this.options,e=t.data.map(function(a){return a.ranges}),n=t.data.map(function(a){return a.targets});this.bulletRect=new wB(this.view,{ranges:e,rangeMax:t.rangeMax,yField:t.yField,rangeSize:t.rangeSize,rangeColors:t.rangeColors||[],axis:t.axis}),this.bulletTarget=new CB(this.view,{targets:n,yField:t.yField,markerSize:t.markerSize,markerColors:t.markerColors||[],markerStyle:t.markerStyle})},r.prototype.geometryParser=function(t,e){return t==="g2"?AB[e]:TB[e]},r.prototype.coord=function(){this.setConfig("coordinate",{actions:[["transpose"]]})},r.prototype.legend=function(){var t=this.options,e=t.markerStyle.fill,n=t.measureColors||this.theme.colors,a=[{name:"\u5B9E\u9645\u8FDB\u5EA6",value:"\u5B9E\u9645\u8FDB\u5EA6",marker:{symbol:"square",style:{fill:n[0]}}},{name:"\u76EE\u6807\u503C",value:"\u76EE\u6807\u503C",marker:{symbol:"line",style:{stroke:e,lineWidth:2}}}],o=(0,Yt.__assign)({custom:!0,position:"bottom",items:a},t.legend);this.setConfig("legends",o)},r.prototype.addGeometry=function(){var t=this.options,e=Jn("interval","main",{positionFields:[t.xField,t.yField],plot:this});e.adjust=[{type:"stack"}],t.label&&(e.label=this.extractLabel()),this.bullet=e,this.setConfig("geometry",e)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,J)},r.prototype.extractLabel=function(){var t=this.options,e=(0,f.deepMix)({},t.label);if(e.visible===!1)return!1;var n=Bi("label",(0,Yt.__assign)({plot:this,labelType:"barLabel",fields:[t.yField]},e));return n},r.prototype.adjustOptions=function(t){t.barSize=t.measureSize||12,this.adjustYAxisOptions(t)},r.prototype.adjustYAxisOptions=function(t){var e=[];t.data.forEach(function(n){return e.push(n.measures.reduce(function(a,o){return a+o},0))}),e.push(t.rangeMax),t.yAxis.max=Math.max.apply([],e)},r.prototype.processData=function(t){var e=this.options,n=[];return t.forEach(function(a,o){for(var s,l=0;l<a.measures.length;l+=1){var u=a.measures[l],h=a.title||""+o;n.push((s={},s[e.xField]=h,s[e.yField]=u,s[e.stackField]=""+l,s))}}),n},r}(Wn),OB=Zy;en("bullet",Zy);var IB=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="bullet",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=OB.getDefaultOptions,r}(Wr),Ky=IB,us="$$day$$",fs="$$week$$",$y="$$date$$",OG="$$is_month_center$$",hs="YYYY-MM-DD",kB=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],BB=["S","M","T","W","T","F","S"],Gs=864e5;function DB(i){var r=(0,Yt.__spreadArrays)(i).sort(function(t,e){return t.getTime()-e.getTime()});return[Eo().format((0,f.head)(r),hs),Eo().format((0,f.last)(r),hs)]}function IG(i){var r=i||new Date;return[fecha.format(new Date(r.getFullYear(),0,1),FORMATTER),fecha.format(new Date(r.getFullYear(),11,30),FORMATTER)]}function FB(i){return i.getMonth()!==fu(new Date(i),7*Gs).getMonth()}function RB(i){return i.getMonth()!==fu(new Date(i),Gs).getMonth()}function Qy(i){var r=new Date(i.getFullYear(),0,1);return Math.ceil(((i.getTime()-r.getTime())/Gs+r.getDay()+1)/7)}function NB(i){return i.getDay()}function fu(i,r){return i.setMilliseconds(i.getMilliseconds()+r),i}function Jy(i){var r,t=i[0],e=i[1],n=Eo().parse(t,hs),a=Eo().parse(e,hs);return n>a&&(r=[n,a],a=r[0],n=r[1]),[n,a]}function YB(i,r,t){for(var e=[],n=Jy(r),a=n[0],o=n[1],s=new Date(a),l=function(){var u,h=Eo().format(s,hs),c=(0,f.find)(i,function(v){return v[t]===h});e.push((0,Yt.__assign)((u={},u[us]=NB(s),u[fs]=""+Qy(s),u[t]=h,u[$y]=new Date(s),u),c)),fu(s,Gs)};s<=o;)l();return e}function GB(i){var r=Jy(i),t=r[0],e=r[1],n=new Map;function a(l){var u=l.getMonth(),h=Qy(l);n.has(u)||n.set(u,[]),n.get(u).push(h)}for(var o=new Date(t);o<=e;)a(o),fu(o,Gs*7);e<o&&a(e);var s={};return n.forEach(function(l,u){var h=Math.ceil(((0,f.head)(l)+(0,f.last)(l))/2);s[h]=u}),s}var zB={rect:"polygon"},XB=Ei(zB);(0,f.assign)(on,XB);var qy=function(i){(0,Yt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="calendar",t}return r.getDefaultOptions=function(){var t;return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{line:{visible:!1},grid:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!1,autoHide:!1}},yAxis:{line:{visible:!1},grid:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!1,autoHide:!1}},legend:{visible:!1},meta:(t={},t[us]={type:"cat",alias:"Day",values:[0,1,2,3,4,5,6]},t[fs]={type:"cat",alias:"Month"},t),tooltip:{visible:!0,showTitle:!0,showCrosshairs:!1,showMarkers:!1,title:"date"}})},r.prototype.processData=function(t){var e=this.options.dateField,n=this.options.dateRange;if((0,f.isNil)(n)){var a=(0,f.map)(t,function(o){return Eo().parse(""+o[e],hs)});n=DB(a)}return YB(t,n,e)},r.prototype.addGeometry=function(){var t=this.options,e=t.valueField,n=t.colors,a=t.tooltip,o={type:"polygon",position:{fields:[fs,us]},shape:{values:["calendar-polygon"]},color:{fields:[e],values:n},label:this.extractLabel()};a&&(a.fields||a.formatter)&&this.geometryTooltip(o),this.setConfig("geometry",o)},r.prototype.geometryTooltip=function(t){t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[fs,us]))},r.prototype.extractLabel=function(){var t=this.options,e=t.label;if(e&&e.visible===!1)return!1;var n=this.options.valueField;return Bi("label",(0,Yt.__assign)({plot:this,fields:[n],position:"top",offset:0},e))},r.prototype.coord=function(){var t={type:"rect",cfg:{},actions:[["reflect","y"]]};this.setConfig("coordinate",t)},r.prototype.geometryParser=function(){return""},r.prototype.axis=function(){var t=Bi("axis",{plot:this,dim:"x"}),e=Bi("axis",{plot:this,dim:"y"}),n={};n[fs]=t,n[us]=e,this.setConfig("axes",n)},r.prototype.scale=function(){i.prototype.scale.call(this);var t=GB(this.options.dateRange),e=this.config.scales,n=this.options,a=n.weeks,o=a===void 0?BB:a,s=n.months,l=s===void 0?kB:s,u=e[fs],h=e[us];u.formatter=function(M){var F=t[M];return F!==void 0?l[F]:""},h.formatter=function(M){return o[M]||""};var c=this.options,v=c.xAxis,g=c.yAxis;u.alias=(0,f.get)(v,["title","text"],u.alias),h.alias=(0,f.get)(g,["title","text"],h.alias),this.setConfig("scales",e)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,H)},r}(Wn),VB=qy;en("calendar",qy),vn("polygon","calendar-polygon",{draw:function(i,r){if(!(0,f.isEmpty)(i.points)){var t=i.points,e=[["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["L",t[2].x,t[2].y],["L",t[3].x,t[3].y],["Z"]];e=this.parsePath(e);var n=(0,Yt.__assign)((0,Yt.__assign)({stroke:"#fff",lineWidth:1,fill:i.color},i.style),{path:e}),a=r.addShape("path",{attrs:n}),o=i.data[$y];if(FB(o)){var s=[["M",t[2].x,t[2].y],["L",t[3].x,t[3].y]];r.addShape("path",{zIndex:1,attrs:{path:this.parsePath(s),lineWidth:1,stroke:"#404040"}}),RB(o)&&r.addShape("path",{zIndex:1,attrs:{path:this.parsePath([["M",t[1].x,t[1].y],["L",t[2].x,t[2].y]]),lineWidth:1,stroke:"#404040"}})}return r.sort(),a}}});var HB=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="calendar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=VB.getDefaultOptions,r}(Wr),WB=HB,t0=function(){function i(r){this.uid=r}return i.prototype.setOption=function(r,t){this.type=r,this.options=t,this.axis=t.axis,this.pivot=t.pivot},i.prototype.render=function(){var r=this;vn("point","gauge",{draw:function(t,e){var n,a,o;this.gauge={},this.gauge.options=r.options,this.gauge.axis=r.axis,this.gauge.pivot=r.pivot,this.gauge.type=r.type;var s=this.gauge,l=this.gauge.type,u=t.points[0],h=this.parsePoint({x:0,y:0}),c=this.parsePoint({x:u.x||0,y:1});s.center=h,s.group=e;var v={x:h.x-c.x,y:h.y-c.y};this.gauge.ringRadius=Math.sqrt(v.x*v.x+v.y*v.y);var g=this.getAngleRange(),M=g.starAngle,F=g.endAngle,Y=u.x*(F-M)+M;switch(l){case"meterGauge":this.drawBarGauge(Y),this.gauge.axis.visible&&((n=this.gauge.axis.tickLine)===null||n===void 0?void 0:n.visible)&&this.drawInSideAxis();break;case"fanGauge":this.drawGauge(Y),this.gauge.axis.visible&&((a=this.gauge.axis.tickLine)===null||a===void 0?void 0:a.visible)&&this.drawOutSideAxis();break;case"standardGauge":default:this.drawGauge(Y),this.gauge.axis.visible&&((o=this.gauge.axis.tickLine)===null||o===void 0?void 0:o.visible)&&this.drawAxis();break}this.gauge.pivot.visible&&this.drawPivot(t,e)},drawGauge:function(t){var e=this.gauge.options.range;this.drawBottomRing(),e&&e.length?this.drawRangeColor():this.drawCurrentRing(t)},drawRangeColor:function(){for(var t=this.gauge.options,e=t.min,n=t.max,a=t.range,o=t.color,s=t.rangeStyle,l=o||Yi().colors,u=this.getAngleRange(),h=u.starAngle,c=u.endAngle,v={min:e,max:n,starAngle:h,endAngle:c},g=0;g<a.length;g++){var M=this.valueToAngle(a[g],v),F=this.valueToAngle(a[g+1],v);if(F>=M){var Y=this.getPath(M,F),V=(0,f.deepMix)({fill:l[g]},s);this.drawRing(Y,V)}}},drawBottomRing:function(){var t=this.getAngleRange(),e=t.starAngle,n=t.endAngle,a=this.gauge.options.rangeBackgroundStyle,o=this.getPath(e,n);this.drawRing(o,a)},drawCurrentRing:function(t){var e=this.getAngleRange().starAngle,n=this.gauge.rangeStyle,a=this.getPath(e,t);this.drawRing(a,n)},drawInSideAxis:function(){for(var t=this.gauge.options,e=t.min,n=t.max,a=t.axis,o=this.getAngleRange(),s=o.starAngle,l=o.endAngle,u={min:e,max:n,starAngle:s,endAngle:l},h=(n-e)/a.tickCount,c=0;c<a.tickCount;c++){var v=e+c*h,g=this.valueToAngle(v+h/2,u);this.drawRect(g,{length:a.tickLine.length,style:a.tickLine.style})}},drawAxis:function(){for(var t=this.gauge.axis,e=this.gauge.options,n=e.min,a=e.max,o=this.getAngleRange(),s=o.starAngle,l=o.endAngle,u={min:n,max:a,starAngle:s,endAngle:l},h=(a-n)/(t.tickCount-1),c=0;c<t.tickCount;c++){var v=n+c*h,g=this.valueToAngle(v,u),M=(0,f.clone)(t.tickLine.style);c%5!=0&&(M.lineWidth=M.lineWidth/2),this.drawRect(g,{length:c%5==0?t.tickLine.length:t.tickLine.length/2,style:M})}},drawOutSideAxis:function(){for(var t=this.gauge.axis,e=this.gauge.options,n=e.min,a=e.max,o=this.getAngleRange(),s=o.starAngle,l=o.endAngle,u={min:n,max:a,starAngle:s,endAngle:l},h=(a-n)/(t.tickCount-1),c=0;c<t.tickCount;c++){var v=n+c*h,g=this.valueToAngle(v,u);this.drawRect(g,{length:t.tickLine.length,style:t.tickLine.style})}},drawBarGauge:function(t){for(var e=this,n=this.gauge.options,a=n.min,o=n.max,s=n.range,l=n.color,u=n.rangeStyle,h=n.rangeBackgroundStyle,c=l||Yi().colors,v=this.getAngleRange(),g=v.starAngle,M=v.endAngle,F={min:a,max:o,starAngle:g,endAngle:M},Y=(M-g)/(50-1),V=Y/3,z=0;z<50;z++){var it=g+z*Y,ot=this.getPath(it-V/2,it+V-V/2),yt=h;if(s&&s.length){var It=s.map(function(Rt){return e.valueToAngle(Rt,F)}),zt=DE(It,it),jt=Math.min(zt,s.length-1);yt=(0,f.deepMix)({},{fill:c[jt-1]},u)||h}else yt=t>=it?(0,f.deepMix)({},{fill:l},u):h;this.drawRing(ot,yt)}},getAngleRange:function(){var t=this.gauge.options.angle,e=90-(360-t)*.5,n=(270-90-e)*Math.PI/180,a=(270+90+e)*Math.PI/180;return{starAngle:n,endAngle:a}},valueToAngle:function(t,e){var n=e.min,a=e.max,o=e.starAngle,s=e.endAngle;if(t===a)return s;if(t===n)return o;var l=(t-n)/(a-n);a===n&&(l=1);var u=l*(s-o)+o;return u=Math.max(u,o),u=Math.min(u,s),u},drawRing:function(t,e){this.gauge.group.addShape("path",{attrs:(0,f.deepMix)({},{path:t},e)})},drawRect:function(t,e){var n=this.gauge.axis,a=(0,Yt.__assign)((0,Yt.__assign)({},n),e),o=a.offset,s=a.length,l=this.gauge.center,u;o<0?u=this.gauge.ringRadius-this.gauge.options.rangeSize+o:u=this.gauge.ringRadius+o;var h=u*Math.cos(t)+l.x,c=u*Math.sin(t)+l.y,v=(u+s)*Math.cos(t)+l.x,g=(u+s)*Math.sin(t)+l.y,M=this.gauge.group.addShape("line",{attrs:(0,f.deepMix)({},{x1:h,y1:c,x2:v,y2:g},e.style)});M.set("name","axis-tickLine")},getPath:function(t,e){var n=this.gauge.center,a=this.gauge.ringRadius,o=this.gauge.options.rangeSize,s=a*Math.cos(t)+n.x,l=a*Math.sin(t)+n.y,u=(a-o)*Math.cos(t)+n.x,h=(a-o)*Math.sin(t)+n.y,c=a*Math.cos(e)+n.x,v=a*Math.sin(e)+n.y,g=(a-o)*Math.cos(e)+n.x,M=(a-o)*Math.sin(e)+n.y,F=Math.abs(t-e)>Math.PI?1:0;return[["M",s,l],["A",a,a,0,F,1,c,v],["L",g,M],["A",a-o,a-o,0,F,0,u,h],["Z"]]},drawPivot:function(t){var e=this.getAngleRange(),n=e.starAngle,a=e.endAngle,o=this.gauge.options,s=o.radius,l=o.rangeSize,u=this.gauge.pivot,h=u.thickness,c=u.thickness/2.5,v=this.gauge.group,g=t.points[0],M=this.parsePoint({x:0,y:0}),F=g.x*(a-n)+n,Y=(this.gauge.ringRadius-l)*s*Math.cos(F)+this.gauge.center.x,V=(this.gauge.ringRadius-l)*s*Math.sin(F)+this.gauge.center.y,z={x:Y,y:V};if(u.base.visible&&v.addShape("circle",{attrs:(0,f.deepMix)({},{x:M.x,y:M.y,r:u.base.size?u.base.size/2:h*2.2},u.base.style)}),u.pointer.visible){var it={x:M.x-z.x,y:M.y-z.y},ot=Math.sqrt(it.x*it.x+it.y*it.y);it.x*=1/ot,it.y*=1/ot;var yt=-Math.PI/2,It=Math.cos(yt)*it.x-Math.sin(yt)*it.y,zt=Math.sin(yt)*it.x+Math.cos(yt)*it.y,jt=Math.PI/2,Rt=Math.cos(jt)*it.x-Math.sin(jt)*it.y,re=Math.sin(jt)*it.x+Math.cos(jt)*it.y,de=[["M",z.x+It*c,z.y+zt*c],["L",M.x+It*h,M.y+zt*h],["L",M.x+Rt*h,M.y+re*h],["L",z.x+Rt*c,z.y+re*c],["Z"]];v.addShape("path",{attrs:(0,f.deepMix)({},{path:de},u.pointer.style)}),v.addShape("circle",{attrs:{x:z.x,y:z.y,r:c,fill:u.pointer.style.fill}}),v.addShape("circle",{attrs:{x:M.x,y:M.y,r:h,fill:u.pointer.style.fill}})}u.pin.visible&&v.addShape("circle",{attrs:(0,f.deepMix)({},{x:M.x,y:M.y,r:c/1.2},u.pin.style)})}})},i}(),jB={range:"point",statistic:"annotation-text"},UB=Ei(jB);(0,f.assign)(on,UB);var e0=function(i){(0,Yt.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.type="gauge",e}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{startAngle:-7/6,endAngle:1/6,rangeBackgroundStyle:{fill:"#f0f0f0"},rangeSize:24,statistic:{position:["50%","80%"]},axis:{visible:!0,offset:-10,tickCount:21,subTickCount:4,tickLine:{visible:!0,length:5,style:{stroke:"#aaa",lineWidth:2}},label:{visible:!0,offset:8,style:{fill:"#aaa",fontSize:16,textAlign:"center",textBaseline:"middle"}}},pivot:{visible:!0,thickness:6,pin:{visible:!0,size:2,style:{fill:"#2E364B"}},base:{visible:!0,style:{fill:"#EEEEEE"}},pointer:{visible:!0,style:{fill:"#CFCFCF"}}}})},r.prototype.init=function(){var t=this.options,e=t.value,n=t.range,a=(n||[]).map(function(M){return+M}).sort(function(M,F){return M-F}),o=this.options,s=o.min,l=s===void 0?a[0]:s,u=o.max,h=u===void 0?a[a.length-1]:u,c=o.format,v=c===void 0?function(M){return""+M}:c,g=v(e);this.options.data=[{value:e||0}],this.options.valueText=g,this.options.min=l,this.options.max=h,this.options.format=v,this.initG2Shape(),i.prototype.init.call(this)},r.prototype.initG2Shape=function(){this.gaugeShape=new t0((0,f.uniqueId)()),this.gaugeShape.setOption(this.type,(0,f.deepMix)({},this.options,{radius:.6,angle:240,textPosition:"100%"})),this.gaugeShape.render()},r.prototype.geometryParser=function(){return"gauge"},r.prototype.scale=function(){var t=this.options,e=t.min,n=t.max,a=t.format,o={value:{}};bi(o.value,{min:e,max:n,minLimit:e,maxLimit:n,nice:!0,formatter:a,tickInterval:20}),this.setConfig("scales",o),i.prototype.scale.call(this)},r.prototype.coord=function(){var t={type:"polar",cfg:{radius:1,startAngle:this.options.startAngle*Math.PI,endAngle:this.options.endAngle*Math.PI}};this.setConfig("coordinate",t)},r.prototype.axis=function(){var t=this.options.axis,e={value:{line:null,grid:null,tickLine:null}},n;t.offset<0?n=t.offset-this.options.rangeSize-t.tickLine.length-t.label.offset:n=t.offset+t.tickLine.length+t.label.offset,t.label.visible?e.value.label={offset:n,textStyle:t.label.style,autoRotate:!0}:e.value.label={style:{opacity:0}},e["1"]=!1,e.value=t.visible?e.value:!1,this.setConfig("axes",e)},r.prototype.addGeometry=function(){var t=this.options.pivot.pointer.style.fill||this.theme.defaultColor,e={type:"point",position:{fields:["value","1"]},shape:{values:["gauge"]},color:{values:[t]}};this.setConfig("geometry",e)},r.prototype.annotation=function(){var t=this.options.statistic,e=[];if(t&&t.visible){var n=this.renderStatistic();e.push(n)}this.setConfig("annotations",e)},r.prototype.renderStatistic=function(){var t=Math.max(this.options.width,this.options.height)/20,e=this.options.statistic,n={type:"text",content:e.text,top:!0,position:e.position,style:{fill:e.color,fontSize:e.size?e.size:t*1.2,textAlign:"center",textBaseline:"middle"}};return n},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,K)},r}(Wn),Xh=e0;en("gauge",e0);var ZB=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="gauge",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Xh.getDefaultOptions,r}(Wr),r0=ZB,n0=function(i){(0,Yt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="fanGauge",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{rangeColor:"#F6445A",rangeSize:70,axis:{visible:!0,offset:5,tickCount:10,subTickCount:4,tickLine:{visible:!0,length:3,style:{stroke:"#aaa",lineWidth:3}},label:{visible:!0,style:{fill:"#aaa",fontSize:16,textAlign:"center",textBaseline:"middle"}}}})},r.prototype.initG2Shape=function(){this.gaugeShape=new t0((0,f.uniqueId)()),this.gaugeShape.setOption(this.type,(0,f.deepMix)({},this.options,{radius:1,angle:120,textPosition:"125%",bottomRatio:3.5})),this.gaugeShape.render()},r.prototype.axis=function(){var t={value:!1,1:!1};this.setConfig("axes",t)},r.prototype.annotation=function(){var t=this.options.statistic,e=[];if(t&&t.visible){var n=this.renderStatistic();e.push(n)}var a=this.renderSideText(),o=e.concat(a);this.setConfig("annotations",o)},r.prototype.renderSideText=function(){var t=this.options,e=t.max,n=t.min,a=t.format,o=t.rangeSize,s=t.axis,l=12;return[n,e].map(function(u,h){return{type:"text",top:!0,position:["50%","50%"],content:a(u),style:(0,f.deepMix)({},s.label.style,{textAlign:"center"}),offsetX:h?o:-o,offsetY:l}})},r}(Xh),KB=n0;en("fanGauge",n0);var $B=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="fanGauge",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=KB.getDefaultOptions,r}(Wr),i0=$B,a0=function(i){(0,Yt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="meterGauge",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{axis:{visible:!0,offset:-10,tickCount:25,subTickCount:4,tickLine:{visible:!0,length:2,style:{stroke:"#aaa",lineWidth:1}}}})},r}(Xh),QB=a0;en("meterGauge",a0);var JB=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="meterGauge",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=QB.getDefaultOptions,r}(Wr),o0=JB,qB=d(25155),ho=d.n(qB),kG=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="donut",i.prototype.createLayers.call(this,e),ho()(!1,'Please use "Donut" instead of "Ring" which was not recommended.')},r.getDefaultOptions=Ny.getDefaultOptions,r}(Wr),BG=null,DG=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="groupedColumn",i.prototype.createLayers.call(this,e),ho()(!1,'Please use "GroupedColumn" instead of "GroupColumn" which was not recommended.')},r.getDefaultOptions=Oh.getDefaultOptions,r}(Wr),FG=null,RG=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="groupedBar",i.prototype.createLayers.call(this,e),ho()(!1,'Please use "GroupedBar" instead of "GroupBar" which was not recommended.')},r.getDefaultOptions=mg.getDefaultOptions,r}(Wr),NG=null,YG=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="percentStackedArea",i.prototype.createLayers.call(this,e),ho()(!1,'Please use "PercentStackedArea" instead of "PercentageStackArea" which was not recommended.')},r.getDefaultOptions=Ng.getDefaultOptions,r}(Wr),GG=null,zG=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="percentStackedBar",i.prototype.createLayers.call(this,e),ho()(!1,'Please use "PercentStackedBar" instead of "PercentageStackBar" which was not recommended.')},r.getDefaultOptions=wg.getDefaultOptions,r}(Wr),XG=null,VG=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="percentStackedColumn",i.prototype.createLayers.call(this,e),ho()(!1,'Please use "PercentStackedColumn" instead of "PercentageStackColumn" which was not recommended.')},r.getDefaultOptions=ey.getDefaultOptions,r}(Wr),HG=null,WG=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedArea",i.prototype.createLayers.call(this,e),ho()(!1,'Please use "StackedArea" instead of "StackArea" which was not recommended.')},r.getDefaultOptions=Ph.getDefaultOptions,r}(Wr),jG=null,UG=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedBar",i.prototype.createLayers.call(this,e),ho()(!1,'Please use "StackedBar" instead of "StackBar" which was not recommended.')},r.getDefaultOptions=Mh.getDefaultOptions,r}(Wr),ZG=null,KG=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedColumn",i.prototype.createLayers.call(this,e),ho()(!1,'Please use "StackedColumn" instead of "StackColumn" which was not recommended.')},r.getDefaultOptions=ru.getDefaultOptions,r}(Wr),$G=null,tD=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{title:{visible:!1},description:{visible:!1},padding:[0,0,0,0],legend:{visible:!1},xAxis:{visible:!1},yAxis:{visible:!1},tooltip:{visible:!1}})},r.prototype.coord=function(){},r.prototype.addGeometry=function(){},r.prototype.annotation=function(){var t=this,e=this.options,n=[],a={line:{style:{lineWidth:1,stroke:"#66d6a8"}}};(0,f.each)(e.guideLine,function(o){var s=Bi("guideLine",{plot:t,cfg:(0,f.deepMix)({},a,o)});n.push(s)}),this.setConfig("annotations",n)},r}(Wn),hu=tD,eD=function(){function i(r){(0,f.assign)(this,r),this.init()}return i.prototype.destroy=function(){this.shape&&this.shape.destroy()},i.prototype.update=function(r,t,e){var n={};if((0,f.assign)(this,r),this.coord=this.view.geometries[0].coordinate,r.value){var a=this.coord.convert({x:0,y:this.value}).x,o=[1,0,0,0,1,0,a,0,1];n.matrix=o}if(r.style){var s=this.shape,l=s.attrs,u=(0,f.deepMix)({},l,r.style);n=(0,f.deepMix)({},u,n)}this.shape.stopAnimate(),this.shape.animate(n,t,e)},i.prototype.init=function(){this.coord=this.view.geometries[0].coordinate,this.container=this.view.foregroundGroup.addGroup();var r=this.coord.convert({x:0,y:this.value}).x,t=this.coord.center.y-this.progressSize/2-2,e=this.coord.center.y+this.progressSize/2+2,n=(0,f.deepMix)({},{stroke:"grey",lineWidth:1},this.style);this.shape=this.container.addShape("path",{attrs:(0,Yt.__assign)({path:[["M",0,t],["L",0,e]]},n),name:"progress-marker"}),this.shape.move(r,0),this.canvas.draw()},i}(),s0=eD,rD={progress:"interval"},nD=Ei(rD);(0,f.assign)(on,nD);var iD={progress:"interval"},aD={interval:"progress"},l0=["#55A6F3","#E8EDF3"],u0=function(i){(0,Yt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="progress",t.isEntered=!1,t}return r.prototype.processProps=function(){var t=this.options;t.data=this.processData();var e={padding:[0,0,0,0],xField:"value",yField:"1",stackField:"type",barSize:t.size?t.size:this.getSize(),barStyle:t.progressStyle,color:this.parseColorProps(t)||l0};t=(0,f.mix)(t,e)},r.prototype.init=function(){this.processProps(),i.prototype.init.call(this)},r.prototype.beforeInit=function(){var t=this.options.percent;if(!(0,f.isNumber)(t))throw new Error("Percent value is required, and the type of percent must be Number.")},r.prototype.update=function(t){var e=this.options;if((0,f.hasKey)(t,"percent")&&(e.percent=t.percent,this.changeData(this.processData())),t.style&&(this.styleUpdateAnimation(t.style),this.updateColorConfigByStyle(t.style)),t.color){var n=void 0;(0,f.isArray)(t.color)?(this.options.color=t.color,n=[{fill:t.color[0]},{fill:t.color[1]}]):(this.options.color[0]=t.color,n={fill:t.color}),this.styleUpdateAnimation(n)}t.marker&&(this.updateMarkers(t.marker),this.options.marker=t.marker)},r.prototype.destroy=function(){this.markers&&this.markers.length>0&&((0,f.each)(this.markers,function(t){t.destroy()}),this.markers=[]),i.prototype.destroy.call(this)},r.prototype.afterRender=function(){var t=this;this.options.marker&&!this.markers&&(this.markers=[],(0,f.each)(this.options.marker,function(s){var l=(0,f.mix)({canvas:t.canvas,view:t.view,progressSize:t.options.barSize},s),u=new s0(l);t.markers.push(u)}));var e=this.view.geometries[0].container,n=e.getBBox(),a=e.addShape("rect",{attrs:{width:n.width,height:n.height,x:n.minX,y:n.minY,fill:"rgba(0,0,0,0)"}});this.canvas.draw(),a.on("mouseenter",function(s){t.isEntered=!0,t.view.emit("progress:mouseenter",s)}),a.on("mouseleave",function(s){t.isEntered=!1,t.view.emit("progress:mouseleave",s)});var o=this.canvas.get("container");o.addEventListener("mouseleave",function(s){t.isEntered&&(t.view.emit("progress:mouseleave",s),t.isEntered=!1)})},r.prototype.geometryParser=function(t,e){return t==="g2"?iD[e]:aD[e]},r.prototype.coord=function(){this.setConfig("coordinate",{actions:[["transpose"]]})},r.prototype.addGeometry=function(){var t=this.options,e=Jn("interval","main",{positionFields:[t.yField,t.xField],plot:this});e.adjust=[{type:"stack"}],(0,f.has)(t,"animation")&&(e.animate=t.animation),this.setConfig("geometry",e)},r.prototype.parseEvents=function(t){t?i.prototype.parseEvents.call(this,t):i.prototype.parseEvents.call(this,st)},r.prototype.parseColorProps=function(t){var e;if(t.color)if((0,f.isFunction)(t.color)?e=t.color(t.percent):e=t.color,(0,f.isString)(e)){var n=(0,f.clone)(l0);return n[0]=e,n}else return e;return t.color},r.prototype.processData=function(){var t=this.options,e=[{type:"current",value:t.percent},{type:"rest",value:1-t.percent}];return e},r.prototype.updateMarkers=function(t){var e=t.length,n=this.getUpdateAnimationOptions();if((0,f.each)(this.markers,function(u,h){h>e-1?u.destroy():u.update(t[h],n.duration,n.easing)}),this.markers.length<e)for(var a=this.markers.length,o=a;o<e;o++){var s=(0,f.deepMix)({},{canvas:this.canvas,view:this.view,progressSize:this.options.barSize},t[o]),l=new s0(s);this.markers.push(l)}},r.prototype.getSize=function(){var t=this.height;return t>=50?10:4},r.prototype.styleUpdateAnimation=function(t){var e=this.getUpdateAnimationOptions(),n=e.duration,a=e.easing,o=[],s=this.view,l=s.geometries;(0,f.each)(l,function(u){if(u.type==="interval"){var h=u.elements;(0,f.each)(h,function(c){o.push.apply(o,c.shape)})}}),(0,f.isArray)(t)?(0,f.each)(t,function(u,h){o[h].animate(u,n,a)}):o[0].animate(t,n,a)},r.prototype.getUpdateAnimationOptions=function(){var t=450,e="easeQuadInOut",n=this.options.animation;return n&&n.update&&(n.update.duration&&(t=n.update.duration),n.update.easing&&(e=n.update.easing)),{duration:t,easing:e}},r.prototype.updateColorConfigByStyle=function(t){var e=this;(0,f.isArray)(t)?(0,f.each)(t,function(n,a){n.fill&&(e.options.color[a]=n.fill)}):t.fill&&(this.options.color[0]=t.fill)},r}(hu),f0=u0;en("progress",u0);var oD=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="progress",i.prototype.createLayers.call(this,e)},r.prototype.update=function(t,e){var n=this.layers[0];n.update(t,e)},r.getDefaultOptions=f0.getDefaultOptions,r}(Wr),h0=oD,sD={ringProgress:"interval"},lD=Ei(sD);(0,f.assign)(on,lD);var uD=["#55A6F3","#E8EDF3"],c0=function(i){(0,Yt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="ringProgrsss",t}return r.prototype.processProps=function(){var t=this.options;t.data=this.processData();var e={padding:[0,0,0,0],xField:"value",yField:"1",stackField:"type",barStyle:t.progressStyle,color:this.parseColorProps(t)||uD};t=(0,f.mix)(t,e)},r.prototype.coord=function(){var t={type:"theta",cfg:{radius:1,innerRadius:this.getThickness(this.options.size)}};this.setConfig("coordinate",t)},r.prototype.annotation=function(){},r.prototype.addGeometry=function(){var t=this.options;this.ring=Jn("interval","main",{positionFields:[t.yField,t.xField],plot:this}),this.ring.adjust=[{type:"stack"}],this.setConfig("geometry",this.ring)},r.prototype.animation=function(){this.ring.animate={appear:{duration:1e3}}},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,nt)},r.prototype.getThickness=function(t){var e=this.width,n=this.height,a=Math.min(e,n);return t?1-t/a:a>=60?1-20/a:1-10/a},r}(f0),fD=c0;en("ringProgress",c0);var hD=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="ringProgress",i.prototype.createLayers.call(this,e)},r.prototype.update=function(t){var e=this.layers[0];e.update(t)},r.getDefaultOptions=fD.getDefaultOptions,r}(Wr),v0=hD,cD={onColumnClick:"interval:click",onColumnDblclick:"interval:dblclick",onColumnMousemove:"interval:mousemove",onColumnMousedown:"interval:mousedown",onColumnMouseup:"interval:mouseup",onColumnMouseenter:"interval:mouseenter",onColumnMouseleave:"interval:mouseleave",onColumnContextmenu:"interval:contextmenu"};(0,f.assign)(on,cD);var vD=.6,dD={column:"interval"},pD={interval:"column"},d0=function(i){(0,Yt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="tinyColumn",t}return r.prototype.init=function(){this.processProps(),i.prototype.init.call(this)},r.prototype.geometryParser=function(t,e){return t==="g2"?dD[e]:pD[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},this.setConfig("scales",e)},r.prototype.addGeometry=function(){var t=this.options,e=Jn("interval","main",{positionFields:[t.xField,t.yField],plot:this});this.setConfig("geometry",e)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,wt)},r.prototype.processProps=function(){var t={padding:[0,0,0,0],columnSize:this.getSize()};this.options=(0,f.mix)(this.options,t)},r.prototype.getSize=function(){var t=this.options,e=this.getColumnNum(t.data,t.xField),n=this.width;return n/e*vD},r.prototype.getColumnNum=function(t,e){var n=[];return(0,f.each)(t,function(a){var o=a[e];n.indexOf(o)<0&&n.push(o)}),n.length},r}(hu),gD=d0;en("tinyColumn",d0);var yD=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="tinyColumn",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=gD.getDefaultOptions,r}(Wr),p0=yD,mD={onAreaClick:"area:click",onAreaDblclick:"area:dblclick",onAreaMousemove:"area:mousemove",onAreaMousedown:"area:mousedown",onAreaMouseup:"area:mouseup",onAreaMouseenter:"area:mouseenter",onAreaMouseleave:"area:mouseleave",onAreaContextmenu:"area:contextmenu",onLineClick:"line:click",onLineDblclick:"line:dblclick",onLineMousemove:"line:mousemove",onLineMousedown:"line:mousedown",onLineMouseup:"line:mouseup",onLineMouseenter:"line:mouseenter",onLineMouseleave:"line:mouseleave",onLineContextmenu:"line:contextmenu"};(0,f.assign)(on,mD);var xD={area:"area",line:"line"},g0=function(i){(0,Yt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="tinyArea",t}return r.prototype.geometryParser=function(t,e){return xD[e]},r.prototype.addGeometry=function(){this.area=Jn("area","mini",{plot:this}),this.setConfig("geometry",this.area),this.line=Jn("line","mini",{plot:this}),this.setConfig("geometry",this.line)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,gt)},r}(hu),bD=g0;en("tinyArea",g0);var wD=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="tinyArea",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=bD.getDefaultOptions,r}(Wr),y0=wD,SD={onLineClick:"line:click",onLineDblclick:"line:dblclick",onLineMousemove:"line:mousemove",onLineMousedown:"line:mousedown",onLineMouseup:"line:mouseup",onLineMouseenter:"line:mouseenter",onLineMouseleave:"line:mouseleave",onLineContextmenu:"line:contextmenu"};(0,f.assign)(on,SD);var CD={line:"line"},m0=function(i){(0,Yt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="tinyLine",t}return r.prototype.geometryParser=function(t,e){return CD[e]},r.prototype.addGeometry=function(){this.line=Jn("line","mini",{plot:this}),this.setConfig("geometry",this.line)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,At)},r}(hu),MD=m0;en("tinyLine",m0);var ED=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="tinyLine",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=MD.getDefaultOptions,r}(Wr),x0=ED,Vh=5,AD=function(i){(0,Yt.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.geomLayers=[],e.legends=[],e.requiredField=["xField","yField"],e.options=e.getOptions(t),e.initialOptions=(0,f.deepMix)({},t),e.themeController=new dh,e}return r.getDefaultOptions=function(){return{title:{visible:!1,alignTo:"left",text:""},description:{visible:!1,text:"",alignTo:"left"}}},r.prototype.getOptions=function(t){var e=this.options||{},n=i.prototype.getOptions.call(this,t),a=this.constructor.getDefaultOptions(t);return(0,f.deepMix)({},n,a,e,t)},r.prototype.checkData=function(){for(var t=this,e,n,a=this.options,o=a.data,s=a.xField,l=a.yField,u=0;u<this.requiredField.length;u++){var h=this.requiredField[u];if(!(0,f.hasKey)(this.options,h))return!1}return!(!(0,f.isArray)(l)||l.length<2||!(0,f.isArray)(o)||o.length===0||((e=o[0])===null||e===void 0?void 0:e.length)===0&&((n=o[1])===null||n===void 0?void 0:n.length)===0||((0,f.each)(o,function(c,v){if(!(0,f.isArray)(c)||c.length===0){var g=t.getMockData(v);o[v]=g}}),!o[0][0][s]||!o[1][0][s]))},r.prototype.init=function(){i.prototype.init.call(this),this.theme=this.themeController.getTheme(this.options,this.type),this.drawTitle(),this.drawDescription()},r.prototype.updateConfig=function(t){this.doDestroy(),this.options=this.getOptions(t),this.processOptions(this.options)},r.prototype.changeData=function(t){t&&t.length<2||!(0,f.isArray)(t[0])||(0,f.each)(this.geomLayers,function(e,n){e.changeData(t[n])})},r.prototype.changeDataByIndex=function(t,e){if(!(0,f.isArray)(t[0])){var n=this.geomLayers[e];n.changeData(t)}},r.prototype.doDestroy=function(){(0,f.each)(this.geomLayers,function(t){t.doDestroy()}),this.geomLayers=[],(0,f.each)(this.legends,function(t){t.destroy()}),this.legends=[]},r.prototype.createLayer=function(t,e,n){var a=this.getViewRange(),o=new t((0,Yt.__assign)({canvas:this.canvas,container:this.container,x:a.minX,y:a.minY,width:a.width,height:a.height,data:e},n));return this.geomLayers.push(o),o},r.prototype.getLeftYAxisMax=function(){var t=this.getScaleData(0),e=this.getScaleData(1);return t.min==0&&t.max===0?Math.max(e.max,0):t.max},r.prototype.yAxis=function(t){var e=this.getScaleData(0),n=this.options.yAxis,a=t===0?n.leftConfig:n.rightConfig,o=this.colors[t],s=(0,f.clone)(a),l={title:"stroke",line:"stroke",label:"fill",tickLine:"stroke"};a.visible&&a.colorMapping&&(0,f.each)(s,function(h,c){if(!(0,f.isString)(h)&&(0,f.hasKey)(l,c)){var v=l[c];h.style||(h.style={}),h.style[v]=o}}),a.visible||(s.title.visible=!1,s.tickLine.visible=!1,s.label.visible=!1,s.line.visible=!1,s.visible=!0);var u=this.getYAxisGlobalConfig();return t===0&&e.max===0&&e.min===0&&(s.max=this.getLeftYAxisMax()),(0,f.deepMix)({},u,s)},r.prototype.getTicks=function(){for(var t=this.options.yAxis,e=this.getScaleData(0),n=(0,Nr.getScale)("linear"),a=new n((0,f.deepMix)({},{min:0,max:this.getLeftYAxisMax(),nice:!0,values:e.values},{tickCount:t.tickCount})),o=a.ticks.length,s=t.max?a.max:this.getScaleData(1).max,l=s/(o-1),u=[],h=0;h<o;h++){var c=h*l;Number.isInteger(c)||(c=parseFloat(c.toFixed(1))),u.push(c)}return u},r.prototype.getScaleData=function(t){var e=this.options,n=e.data,a=e.yField,o=e.yAxis,s=[];(0,f.each)(n[t],function(h){s.push(h[a[t]])}),s.sort(function(h,c){return h-c});var l=s[0],u=o.max?o.max:s[s.length-1];return{min:l,max:u,values:s}},r.prototype.getDataByXField=function(t,e){var n=this.options,a=n.data,o=n.xField,s=a[e];return s.filter(function(l){return l[o]===t})},r.prototype.getYAxisGlobalConfig=function(){var t=this.options.yAxis,e=t.min,n=t.max,a=t.tickCount;return{min:e,max:n,tickCount:a}},r.prototype.adjustLayout=function(){var t=this,e,n,a=Yi().bleeding;(0,f.isArray)(a)&&(0,f.each)(a,function(g,M){typeof a[M]=="function"&&(a[M]=a[M](t.options))});var o=this.getViewRange(),s=this.transfromPadding(this.geomLayers[0].options.padding),l=this.transfromPadding(this.geomLayers[1].options.padding),u=0,h,c;((e=this.options.legend)===null||e===void 0?void 0:e.visible)&&(h=this.legends[0].getLayoutBBox(),c=this.legends[1].getLayoutBBox(),u=h.height+Vh*2);var v=s.map(function(g,M){return M===0?Math.max.apply(null,[g+u,l[M]]):Math.max.apply(null,[g,l[M]])});this.geomLayers[0].updateConfig({padding:v}),this.geomLayers[0].render(),this.geomLayers[1].updateConfig({padding:v}),this.geomLayers[1].render(),((n=this.options.legend)===null||n===void 0?void 0:n.visible)&&(this.legends[0].setLocation({x:a[3],y:o.minY+Vh}),this.legends[1].setLocation({x:o.maxX-a[1]-c.width,y:o.minY+Vh}))},r.prototype.transfromPadding=function(t){return typeof t=="string"||typeof t=="number"?[Number(t)]:t},r.prototype.legendFilter=function(t){var e=this,n=this.legends[t],a=n.get("group");a.on("click",function(){var o=n.get("items")[0];o.unchecked?(n.setItemState(o,"unchecked",!1),e.showLayer(t)):(n.setItemState(o,"unchecked",!0),e.hideLayer(t))})},r.prototype.hideLayer=function(t){var e=this.geomLayers[t],n=this.options.yField[t],a=e.view,o=this.getYAxisContainer(a,n);o&&o.set("visible",!1),this.setGeometryVisibility(a,!1),this.canvas.draw()},r.prototype.showLayer=function(t){var e=this.geomLayers[t],n=this.options.yField[t],a=e.view,o=this.getYAxisContainer(a,n);o&&o.set("visible",!0),this.setGeometryVisibility(a,!0),this.canvas.draw()},r.prototype.setGeometryVisibility=function(t,e){(0,f.each)(t.geometries,function(n){var a=n.container,o=n.labelsContainer;a&&a.set("visible",e),o&&o.set("visible",e)})},r.prototype.getYAxisContainer=function(t,e){var n,a=t.controllers.filter(function(l){return(0,f.hasKey)(l,"axisContainer")})[0];if(a){var o=a,s=o.axisContainer.get("children");(0,f.each)(s,function(l){var u=l.get("component").get("field");u===e&&(n=l)})}return n},r.prototype.getUnCheckedValue=function(){var t=[];return(0,f.each)(this.legends,function(e){var n=e.getItemsByState("unchecked");(0,f.each)(n,function(a){t.push(a.name)})}),t},r.prototype.drawTitle=function(){var t=this.options,e=this.layerBBox;if(this.title&&(this.title.destroy(),this.title=null),es(t.title)){var n=this.width,a=this.theme,o=new Nl({leftMargin:e.minX+a.title.padding[3],rightMargin:e.maxX-a.title.padding[1],topMargin:e.minY+a.title.padding[0],text:t.title.text,style:(0,f.mix)(a.title,t.title.style),wrapperWidth:n-a.title.padding[3]-a.title.padding[1],container:this.container.addGroup(),theme:a,index:es(t.description)?0:1,plot:this,alignTo:t.title.alignTo,name:"title"});this.title=o}},r.prototype.drawDescription=function(){var t=this.options,e=this.layerBBox;if(this.description&&(this.description.destroy(),this.description=null),es(t.description)){var n=this.width,a=this.theme,o=0;if(this.title){var s=this.title.getBBox();o+=s.minY+s.height,o+=a.description.padding[0]}else o+=e.minY+a.title.padding[0];var l=new Nl({leftMargin:e.minX+a.description.padding[3],topMargin:o,rightMargin:e.maxX-a.title.padding[1],text:t.description.text,style:(0,f.mix)(a.description,t.description.style),wrapperWidth:n-a.description.padding[3]-a.description.padding[1],container:this.container.addGroup(),theme:a,index:1,plot:this,alignTo:t.description.alignTo,name:"description"});this.description=l}},r.prototype.getViewRange=function(){this.layerBBox||(this.layerBBox=new Zr(this.x,this.y,this.width,this.height));var t=this.layerBBox.minX,e=this.layerBBox.maxX,n=this.layerBBox.minY,a=this.layerBBox.maxY,o=[this.title,this.description];return(0,f.each)(o,function(s){if(s){var l=s.position,u=s.getBBox(),h=u.minX,c=u.maxX,v=u.minY,g=u.maxY;g>=n&&g<=a&&l==="top"&&(n=g),v>=n&&v<=a&&l==="bottom"&&(a=v),c>t&&c<=e&&l==="left"&&(t=c),h>=t&&c<=e&&l==="right"&&(e=h)}}),new Zr(t,n,e-t,a-n)},r.prototype.getMockData=function(t){var e=this.options,n=e.xField,a=e.yField,o={};return o[n]="null",o[a[t]]=0,[o]},r}(Rl),b0=AD,w0={lineSize:2,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},S0={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,offset:12}},C0=function(i){(0,Yt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="dualLine",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{legend:{visible:!0},yAxis:{leftConfig:S0,rightConfig:S0},lineConfigs:[(0,f.deepMix)({},w0,{color:"#5B8FF9"}),(0,f.deepMix)({},w0,{color:"#e76c5e"})]})},r.prototype.init=function(){var t=this;if(i.prototype.init.call(this),!!this.checkData()){var e=this.options,n=e.data,a=e.meta,o=e.xField,s=e.yField,l=e.xAxis,u=e.tooltip,h=e.lineConfigs,c=e.legend,v=e.events,g=e.customMeta;this.colors=[h[0].color,h[1].color];var M=this.getYAxisGlobalConfig(),F=this.createLayer(Rs,n[0],(0,Yt.__assign)({meta:a,xField:o,yField:s[0],xAxis:{visible:!1},yAxis:(0,f.deepMix)({},M,{grid:{visible:!1},nice:!0},this.yAxis(0)),tooltip:{visible:!1},events:v},h[0]));F.render();var Y={};Y[s[1]]={ticks:this.getTicks()};var V=this.createLayer(Rs,n[1],(0,Yt.__assign)({xField:o,yField:s[1],meta:g?a:(0,f.deepMix)({},a,Y),serieField:s[1],xAxis:l,yAxis:(0,f.deepMix)({},M,{position:"right",nice:!1},this.yAxis(1)),tooltip:(0,f.deepMix)({},{showMarkers:!1,custom:{onChange:function(z,it){t.tooltip(z,it)}}},u),events:v},h[1]));V.render(),c.visible&&this.customLegend(),this.adjustLayout()}},r.prototype.tooltip=function(t,e){var n=this.getUnCheckedValue();if(n.length===this.colors.length){t.style.display="none";return}else t.style.display="block";var a=this.options,o=a.yField,s=a.legend,l=(0,f.clone)(e.items[0]),u=this.getDataByXField(e.title,0)[0];u&&(0,f.findIndex)(e.items,function(h){return h.name===o[0]})<0&&e.items.push((0,Yt.__assign)((0,Yt.__assign)({},l),{mappingData:(0,f.deepMix)({},l.mappingData,{_origin:u}),data:u,name:o[0],value:u[o[0]],color:this.colors[0]})),s.visible&&(0,f.each)(this.legends,function(h,c){var v=h.get("items")[0];if(v.unchecked){var g=c===0?1:0;e.items.splice(g,1)}})},r.prototype.customLegend=function(){var t=this,e=this.options,n=e.yField,a=e.legend,o=this.colors,s=this.container.addGroup(),l=a;(0,f.each)(this.geomLayers,function(u,h){var c=(0,f.deepMix)({},{symbol:"circle",style:{r:4,fill:o[h]}},l.marker),v=[{name:n[h],unchecked:!1,marker:c}],g=new nn.Legend.Category({id:t.type,container:s,x:0,y:0,items:v,updateAutoRender:!0,itemBackground:null,itemName:l.text});g.init(),g.render(),t.legends.push(g)}),(0,f.each)(this.geomLayers,function(u,h){t.legendFilter(h)})},r}(b0),TD=C0;en("dualLine",C0);var PD=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="dualLine",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=TD.getDefaultOptions,r}(Wr),M0=PD,_D={color:"#f5bc32",lineSize:4,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},LD={color:"#5B8FF9"},E0={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},A0=function(i){(0,Yt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="columnLine",t.legends=[],t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{leftConfig:E0,rightConfig:E0},lineConfig:_D,columnConfig:LD,legend:{visible:!0}})},r.prototype.beforeInit=function(){var t,e,n=this,a=n.options,o=n.initialOptions;if(a.lineSeriesField&&(a.yAxis.rightConfig.colorMapping=!1,((t=o.lineConfig)===null||t===void 0?void 0:t.lineSize)||(a.lineConfig.lineSize=3),!((e=o.lineConfig)===null||e===void 0?void 0:e.color))){var s=Yi(),l=s.colors,u=s.colors_20,h=this.getValueBySeriesField(),c=h.length>l.length?u:l,v=[];(0,f.each)(h,function(g,M){v.push(c[M+1])}),a.lineConfig.color=v}},r.prototype.init=function(){if(i.prototype.init.call(this),!!this.checkData()){var t=this.options,e=t.data,n=t.meta,a=t.xField,o=t.yField,s=t.lineSeriesField,l=t.legend,u=t.lineConfig,h=t.columnConfig,c=t.events,v=t.customMeta;this.colors=[h.color,u.color],this.drawColumn();var g={};g[o[1]]={ticks:this.getTicks()};var M=this.createLayer(Rs,e[1],(0,Yt.__assign)({xField:a,yField:o[1],seriesField:s,meta:v?n:(0,f.deepMix)({},n,g),xAxis:{visible:!1},yAxis:(0,f.deepMix)({},{position:"right",grid:{visible:!1},nice:!0},this.yAxis(1)),tooltip:{visible:!1},legend:{visible:!1},events:c},u));M.render(),l.visible&&this.customLegend(),this.adjustLayout()}},r.prototype.drawColumn=function(){var t=this,e=this.options,n=e.data,a=e.xField,o=e.yField,s=e.xAxis,l=e.tooltip,u=e.columnConfig,h=e.meta,c=e.events,v=this.createLayer(ss,n[0],(0,Yt.__assign)({xField:a,yField:o[0],meta:h,xAxis:s,yAxis:(0,f.deepMix)({},{grid:{visible:!0},nice:!0},this.yAxis(0)),tooltip:(0,f.deepMix)({},{showMarkers:!1,custom:{onChange:function(g,M){t.tooltip(g,M)}}},l),events:c},u));v.render()},r.prototype.tooltip=function(t,e){var n=this,a=this.options,o=a.xField,s=a.yField,l=a.tooltip,u=(0,f.clone)(e.items[0]),h=this.getDataByXField(e.title,1),c=(0,f.get)(l,"formatter");if(h&&(0,f.each)(h,function(Y,V){var z=n.geomLayers[1].options.seriesField,it=z?Y[z]:s[1],ot=c?c(Y[o],Y[s[1]],Y[z]):{name:it,value:Y[s[1]]};e.items.push((0,Yt.__assign)((0,Yt.__assign)((0,Yt.__assign)((0,Yt.__assign)({},u),{mappingData:(0,f.deepMix)({},u.mappingData,{_origin:h}),data:Y}),ot),{color:(0,f.isArray)(n.colors[1])?n.colors[1][V]:n.colors[1]}))}),this.options.legend.visible){var v=this.getUnCheckedValue(),g=this.legends[0].get("items").length+this.legends[1].get("items").length;if(v.length===g){t.style.display="none";return}else t.style.display="block";var M=[],F=[];(0,f.each)(e.items,function(Y){var V=Y.name;!(0,f.contains)(M,V)&&!(0,f.contains)(v,V)&&(M.push(V),F.push(Y))}),(0,f.each)(e.items,function(Y,V){V<F.length?e.items[V]=F[V]:e.items.pop()})}},r.prototype.customLegend=function(){var t=this,e=this.options,n=e.yField,a=e.legend,o=this.colors,s=this.container.addGroup(),l=a,u=["square","circle"];(0,f.each)(this.geomLayers,function(h,c){var v;if(h.options.seriesField){var g=t.getValueBySeriesField();v=t.createNormalLegend(g,u[c],o[c],l,s)}else v=t.createSingleLegend(n[c],u[c],o[c],l,s);t.legends.push(v)}),(0,f.each)(this.geomLayers,function(h,c){h.options.seriesField?t.multipleLegendFilter(c,h.options.seriesField):t.legendFilter(c)})},r.prototype.createSingleLegend=function(t,e,n,a,o){var s=(0,f.deepMix)({},{symbol:e,style:{r:4,fill:n}},a.marker),l=[{name:t,unchecked:!1,marker:s}],u=new nn.Legend.Category({id:this.type,container:o,x:0,y:0,items:l,updateAutoRender:!0,itemBackground:null,itemName:a.text});return u.init(),u.render(),u},r.prototype.createNormalLegend=function(t,e,n,a,o){var s=[];(0,f.each)(t,function(u,h){s.push({name:u,unchecked:!1,marker:{symbol:e,style:{r:4,fill:n[h]}}})});var l=new nn.Legend.Category({id:this.type,container:o,x:0,y:0,items:s,updateAutoRender:!0,itemBackground:null,itemName:a.text,offsetX:0});return l.init(),l.render(),l},r.prototype.multipleLegendFilter=function(t,e){var n=this,a=this.legends[t],o=[],s=a.get("group"),l=!1;s.on("click",function(u){var h=n.geomLayers[t].view,c=u.target.get("delegateObject").item;c.unchecked?(l===!0&&(n.showLayer(t),l=!1),(0,f.pull)(o,c.name),h.filter(c.value,function(v){return!(0,f.contains)(o,v)}),h.render(),a.setItemState(c,"unchecked",!1)):(a.setItemState(c,"unchecked",!0),o.push(c.name),o.length===n.legends[t].get("items").length?(n.hideLayer(t),l=!0):(h.filter(e,function(v){return!(0,f.contains)(o,v)}),h.render())),n.canvas.draw()})},r.prototype.getValueBySeriesField=function(){var t=this.options,e=t.lineSeriesField,n=t.data,a=n[1],o=[];return(0,f.each)(a,function(s){var l=s[e];(0,f.contains)(o,l)||o.push(l)}),o},r}(b0),Hh=A0;en("columnLine",A0);var OD=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="columnLine",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Hh.getDefaultOptions,r}(Wr),T0=OD,ID={color:"#f5bc32",lineSize:4,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},kD={color:["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E8684A","#6DC8EC","#9270CA","#FF9D4D","#269A99","#FF99C3"]},P0={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},_0=function(i){(0,Yt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="groupedColumnLine",t.requiredField=["xField","yField","columnGroupField"],t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{leftConfig:(0,f.deepMix)({},P0,{colorMapping:!1}),rightConfig:P0},lineConfig:ID,columnConfig:kD,legend:{visible:!0}})},r.prototype.beforeInit=function(){var t,e,n=this,a=n.options,o=n.initialOptions,s=this.getValueByGroupField();if(a.lineSeriesField&&(a.yAxis.rightConfig.colorMapping=!1,((t=o.lineConfig)===null||t===void 0?void 0:t.lineSize)||(a.lineConfig.lineSize=3),!((e=o.lineConfig)===null||e===void 0?void 0:e.color))){var l=Yi(),u=l.colors,h=l.colors_20,c=this.getValueBySeriesField(),v=c.length>u.length?h:u,g=[],M=s.length;(0,f.each)(c,function(Y,V){g.push(v[V+M])}),a.lineConfig.color=g}var F=this.options.columnConfig.color;this.options.columnConfig.color=F.slice(0,s.length)},r.prototype.drawColumn=function(){var t=this,e=this.options,n=e.data,a=e.xField,o=e.yField,s=e.columnGroupField,l=e.xAxis,u=e.tooltip,h=e.columnConfig,c=e.events,v=this.createLayer(Oh,n[0],(0,Yt.__assign)({xField:a,yField:o[0],groupField:s,xAxis:l,yAxis:(0,f.deepMix)({},this.yAxis(0),{grid:{visible:!0},nice:!0}),legend:{visible:!1},tooltip:(0,f.deepMix)({},u,{showMarkers:!1,custom:{onChange:function(g,M){t.tooltip(g,M)}}}),events:c},h));v.render()},r.prototype.customLegend=function(){var t=this,e=this.options,n=e.yField,a=e.legend,o=this.colors,s=this.container.addGroup(),l=a,u=["square","circle"];(0,f.each)(this.geomLayers,function(h,c){var v;if(h.options.seriesField){var g=t.getValueBySeriesField();v=t.createNormalLegend(g,u[c],o[c],l,s)}else if(h.options.groupField){var g=t.getValueByGroupField();v=t.createNormalLegend(g,u[c],o[c],l,s)}else v=t.createSingleLegend(n[c],u[c],o[c],l,s);t.legends.push(v)}),(0,f.each)(this.geomLayers,function(h,c){h.options.seriesField?t.multipleLegendFilter(c,h.options.seriesField):h.options.groupField?t.multipleLegendFilter(c,h.options.groupField):t.legendFilter(c)})},r.prototype.getValueByGroupField=function(){var t=this.options,e=t.columnGroupField,n=t.data,a=n[0],o=[];return(0,f.each)(a,function(s){var l=s[e];(0,f.contains)(o,l)||o.push(l)}),o},r.prototype.getMockData=function(t){var e=this.options,n=e.xField,a=e.yField,o=e.columnGroupField,s={};s[n]="null_1",s[a[t]]=0,s[o]="null_a";var l={};return l[n]="null_1",l[a[t]]=1,l[o]="null_a",[s,l]},r}(Hh),BD=_0;en("groupedColumnLine",_0);var DD=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="groupedColumnLine",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=BD.getDefaultOptions,r}(Wr),L0=DD,FD={color:"#f5bc32",lineSize:4,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},RD={color:["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E8684A","#6DC8EC","#9270CA","#FF9D4D","#269A99","#FF99C3"]},O0={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},I0=function(i){(0,Yt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="groupedColumnLine",t.requiredField=["xField","yField","columnStackField"],t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{leftConfig:(0,f.deepMix)({},O0,{colorMapping:!1}),rightConfig:O0},lineConfig:FD,columnConfig:RD,legend:{visible:!0}})},r.prototype.beforeInit=function(){var t,e,n=this.getValueByStackField(),a=this,o=a.options,s=a.initialOptions;if(o.lineSeriesField&&(o.yAxis.rightConfig.colorMapping=!1,((t=s.lineConfig)===null||t===void 0?void 0:t.lineSize)||(o.lineConfig.lineSize=3),!((e=s.lineConfig)===null||e===void 0?void 0:e.color))){var l=Yi(),u=l.colors,h=l.colors_20,c=this.getValueBySeriesField(),v=c.length>u.length?h:u,g=[],M=n.length;(0,f.each)(c,function(Y,V){g.push(v[V+M])}),o.lineConfig.color=g}var F=this.options.columnConfig.color;this.options.columnConfig.color=F.slice(0,n.length)},r.prototype.drawColumn=function(){var t=this,e=this.options,n=e.data,a=e.xField,o=e.yField,s=e.columnStackField,l=e.xAxis,u=e.tooltip,h=e.columnConfig,c=e.events,v=this.createLayer(ru,n[0],(0,Yt.__assign)({xField:a,yField:o[0],stackField:s,xAxis:l,yAxis:(0,f.deepMix)({},this.yAxis(0),{grid:{visible:!0},nice:!0}),legend:{visible:!1},tooltip:(0,f.deepMix)({},u,{showMarkers:!1,custom:{onChange:function(g,M){t.tooltip(g,M)}}}),events:c},h));v.render()},r.prototype.customLegend=function(){var t=this,e=this.options,n=e.yField,a=e.legend,o=this.colors,s=this.container.addGroup(),l=a,u=["square","circle"];(0,f.each)(this.geomLayers,function(h,c){var v;if(h.options.seriesField){var g=t.getValueBySeriesField();v=t.createNormalLegend(g,u[c],o[c],l,s)}else if(h.options.stackField){var g=t.getValueByStackField();v=t.createNormalLegend(g,u[c],o[c],l,s)}else v=t.createSingleLegend(n[c],u[c],o[c],l,s);t.legends.push(v)}),(0,f.each)(this.geomLayers,function(h,c){h.options.seriesField?t.multipleLegendFilter(c,h.options.seriesField):h.options.stackField?t.multipleLegendFilter(c,h.options.stackField):t.legendFilter(c)})},r.prototype.getValueByStackField=function(){var t=this.options,e=t.columnStackField,n=t.data,a=n[0],o=[];return(0,f.each)(a,function(s){var l=s[e];(0,f.contains)(o,l)||o.push(l)}),o},r.prototype.getUnCheckedValue=function(){var t=[];return(0,f.each)(this.legends,function(e){var n=e.getItemsByState("unchecked");(0,f.each)(n,function(a){t.push(a.name)})}),t},r.prototype.getMockData=function(t){var e=this.options,n=e.xField,a=e.yField,o=e.columnStackField,s={};s[n]="null_1",s[a[t]]=0,s[o]="null_a";var l={};return l[n]="null_1",l[a[t]]=1,l[o]="null_a",[s,l]},r}(Hh),ND=I0;en("stackedColumnLine",I0);var YD=function(i){(0,Yt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedColumnLine",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=ND.getDefaultOptions,r}(Wr),k0=YD,GD=function(r){return r.charAt(0).toUpperCase()+r.slice(1).replace(/-(\w)/g,function(t,e){return e.toUpperCase()})},QG=function(r,t){return JSON.stringify(r)===JSON.stringify(t)},zD=function(r,t){return new Set(r.concat(t)).size===r.length},XD=function(r,t){var e={}.toString;return e.call(r)==="[object "+t+"]"},VD=function(r){if(!r)return r;var t={};for(var e in r)t[e]=r[e];return t},zs={sameArray:zD,camelCase:GD,isType:XD,clone:VD},HD=d(73935),WD=function(r){var t=document.createElement("div");return t.className="g2-tooltip eva-charts-tootip",HD.render(r,t),t},Wh=WD;function B0(i,r){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(i);r&&(e=e.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,e)}return t}function jD(i){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?B0(Object(t),!0).forEach(function(e){UD(i,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):B0(Object(t)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(t,e))})}return i}function UD(i,r,t){return r in i?Object.defineProperty(i,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[r]=t,i}function rn(i,r){var t=(0,rt.useRef)(),e=(0,rt.useRef)(null),n=function(){var l,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"image/png",h=arguments.length>1?arguments[1]:void 0;return(l=t.current)===null||l===void 0?void 0:l.canvas.cfg.el.toDataURL(u,h)},a=function(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"image/png",h=arguments.length>2?arguments[2]:void 0;try{var c;l&&l.indexOf(".")===-1&&(l="".concat(l,".png"));var v=l;if(!v){var g,M=r;v="".concat((M==null||(g=M.title)===null||g===void 0?void 0:g.text)||(i==null?void 0:i.name),".png")}var F=(c=t.current)===null||c===void 0?void 0:c.canvas.cfg.el.toDataURL(u,h),Y=document.createElement("a");Y.href=F,Y.download=v,document.body.appendChild(Y),Y.click(),document.body.removeChild(Y),Y=null}catch(V){console.log(V)}},o=function(){var l,u,h,c,v;if((l=r.statistic)===null||l===void 0?void 0:l.htmlContent){var g=r.statistic.htmlContent;r.statistic.htmlContent=function(){var F=g.apply(void 0,arguments);return zs.isType(F,"String")||zs.isType(F,"Number")||zs.isType(F,"HTMLDivElement")?F:Wh(F)}}if(((u=r.tooltip)===null||u===void 0||(h=u.custom)===null||h===void 0?void 0:h.container)&&(r.tooltip.custom.container=Wh(r.tooltip.custom.container)),(c=r.tooltip)===null||c===void 0||(v=c.custom)===null||v===void 0?void 0:v.customContent){var M=r.tooltip.custom.customContent;r.tooltip.custom.customContent=function(F,Y){var V=M(F,Y)||"";return zs.isType(V,"HTMLDivElement")?V:Wh(V)}}};return(0,rt.useEffect)(function(){t.current&&(r.onlyChangeData?t.current.changeData((r==null?void 0:r.data)||[]):(o(),t.current.updateConfig(r),t.current.render()))},[(r==null?void 0:r.memoData)?r.memoData:JSON.stringify(r)]),(0,rt.useEffect)(function(){if(!e.current)return function(){return null};o();var s=new i(e.current,jD({},r));return s.__proto__.toDataURL=function(l,u){return n(l,u)},s.__proto__.downloadImage=function(l,u,h){return a(l,u,h)},s.render(),t.current=zs.clone(s),function(){return s.destroy()}},[]),{chart:t,container:e,toDataURL:n,downloadImage:a}}var ZD=rt.createContext({});function cu(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?cu=function(t){return typeof t}:cu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cu(i)}function KD(i,r){if(!(i instanceof r))throw new TypeError("Cannot call a class as a function")}function D0(i,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(i,e.key,e)}}function $D(i,r,t){return r&&D0(i.prototype,r),t&&D0(i,t),i}function QD(i,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(r&&r.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),r&&jh(i,r)}function jh(i,r){return jh=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},jh(i,r)}function JD(i){var r=e5();return function(){var e=vu(i),n;if(r){var a=vu(this).constructor;n=Reflect.construct(e,arguments,a)}else n=e.apply(this,arguments);return qD(this,n)}}function qD(i,r){return r&&(cu(r)==="object"||typeof r=="function")?r:t5(i)}function t5(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function e5(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(i){return!1}}function vu(i){return vu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},vu(i)}var r5=function(i){QD(t,i);var r=JD(t);function t(){var e;return KD(this,t),e=r.apply(this,arguments),e.state={hasError:!1},e.renderError=function(n){switch(n){default:return rt.createElement("h5",null,"\u7EC4\u4EF6\u51FA\u9519\u4E86\uFF0C\u8BF7\u6838\u67E5\u540E\u91CD\u8BD5\uFF1A ",n.message)}},e}return $D(t,[{key:"render",value:function(){return this.state.hasError?this.renderError(this.state.error):this.props.children}}],[{key:"getDerivedStateFromError",value:function(n){return{hasError:!0,error:n}}},{key:"getDerivedStateFromProps",value:function(n,a){return a.children!==n.children?{children:n.children,hasError:!1,error:void 0}:null}}]),t}(rt.Component),qr=r5,JG=ZD.Provider;function n5(i,r){if(i==null)return{};var t=i5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function i5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var F0=(0,rt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=n5(i,["chartRef","style","className"]),s=rn(kg,o),l=s.chart,u=s.container;return(0,rt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,rt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),rt.createElement(qr,null,rt.createElement("div",{className:a,style:n,ref:u}))});F0.defaultProps=kg.getDefaultOptions();var a5=F0;function o5(i,r){if(i==null)return{};var t=s5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function s5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var R0=(0,rt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=o5(i,["chartRef","style","className"]),s=rn(dg,o),l=s.chart,u=s.container;return(0,rt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,rt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),rt.createElement(qr,null,rt.createElement("div",{className:a,style:n,ref:u}))});R0.defaultProps=dg.getDefaultOptions();var l5=R0;function u5(i,r){if(i==null)return{};var t=f5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function f5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var N0=(0,rt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=u5(i,["chartRef","style","className"]),s=rn(Uy,o),l=s.chart,u=s.container;return(0,rt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,rt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),rt.createElement(qr,null,rt.createElement("div",{className:a,style:n,ref:u}))});N0.defaultProps=Uy.getDefaultOptions();var h5=N0;function c5(i,r){if(i==null)return{};var t=v5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function v5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Y0=(0,rt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=c5(i,["chartRef","style","className"]),s=rn(Ky,o),l=s.chart,u=s.container;return(0,rt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,rt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),rt.createElement(qr,null,rt.createElement("div",{className:a,style:n,ref:u}))});Y0.defaultProps=Ky.getDefaultOptions();var d5=Y0;function p5(i,r){if(i==null)return{};var t=g5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function g5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var y5=(0,rt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=p5(i,["chartRef","style","className"]),s=rn(WB,o),l=s.chart,u=s.container;return(0,rt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,rt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),rt.createElement(qr,null,rt.createElement("div",{className:a,style:n,ref:u}))}),m5=y5;function x5(i,r){if(i==null)return{};var t=b5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function b5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var G0=(0,rt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=x5(i,["chartRef","style","className"]),s=rn(Vg,o),l=s.chart,u=s.container;return(0,rt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,rt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),rt.createElement(qr,null,rt.createElement("div",{className:a,style:n,ref:u}))});G0.defaultProps=Vg.getDefaultOptions();var z0=G0;function w5(i,r){if(i==null)return{};var t=S5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function S5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var X0=(0,rt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=w5(i,["chartRef","style","className"]),s=rn(T0,o),l=s.chart,u=s.container;return(0,rt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,rt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),rt.createElement(qr,null,rt.createElement("div",{className:a,style:n,ref:u}))});X0.defaultProps=T0.getDefaultOptions();var C5=X0;function M5(i,r){if(i==null)return{};var t=E5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function E5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var V0=(0,rt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=M5(i,["chartRef","style","className"]),s=rn(hy,o),l=s.chart,u=s.container;return(0,rt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,rt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),rt.createElement(qr,null,rt.createElement("div",{className:a,style:n,ref:u}))});V0.defaultProps=hy.getDefaultOptions();var A5=V0;function T5(i,r){if(i==null)return{};var t=P5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function P5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var H0=(0,rt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=T5(i,["chartRef","style","className"]),s=rn(Yy,o),l=s.chart,u=s.container;return(0,rt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,rt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),rt.createElement(qr,null,rt.createElement("div",{className:a,style:n,ref:u}))});H0.defaultProps=Yy.getDefaultOptions();var W0=H0;function _5(i,r){if(i==null)return{};var t=L5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function L5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var j0=(0,rt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=_5(i,["chartRef","style","className"]),s=rn(M0,o),l=s.chart,u=s.container;return(0,rt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,rt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),rt.createElement(qr,null,rt.createElement("div",{className:a,style:n,ref:u}))});j0.defaultProps=M0.getDefaultOptions();var O5=j0;function I5(i,r){if(i==null)return{};var t=k5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function k5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var U0=(0,rt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=I5(i,["chartRef","style","className"]),s=rn(i0,o),l=s.chart,u=s.container;return(0,rt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,rt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),rt.createElement(qr,null,rt.createElement("div",{className:a,style:n,ref:u}))});U0.defaultProps=i0.getDefaultOptions();var B5=U0;function D5(i,r){if(i==null)return{};var t=F5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function F5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var R5=(0,rt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=D5(i,["chartRef","style","className"]),s=rn(WI,o),l=s.chart,u=s.container;return(0,rt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,rt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),rt.createElement(qr,null,rt.createElement("div",{className:a,style:n,ref:u}))}),N5=R5;function Y5(i,r){if(i==null)return{};var t=G5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function G5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Z0=(0,rt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=Y5(i,["chartRef","style","className"]),s=rn(r0,o),l=s.chart,u=s.container;return(0,rt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,rt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),rt.createElement(qr,null,rt.createElement("div",{className:a,style:n,ref:u}))});Z0.defaultProps=r0.getDefaultOptions();var K0=Z0;function z5(i,r){if(i==null)return{};var t=X5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function X5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var $0=(0,rt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=z5(i,["chartRef","style","className"]),s=rn(xg,o),l=s.chart,u=s.container;return(0,rt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,rt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),rt.createElement(qr,null,rt.createElement("div",{className:a,style:n,ref:u}))});$0.defaultProps=xg.getDefaultOptions();var V5=$0;function H5(i,r){if(i==null)return{};var t=W5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function W5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Q0=(0,rt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=H5(i,["chartRef","style","className"]),s=rn(Wg,o),l=s.chart,u=s.container;return(0,rt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,rt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),rt.createElement(qr,null,rt.createElement("div",{className:a,style:n,ref:u}))});Q0.defaultProps=Wg.getDefaultOptions();var j5=Q0;function U5(i,r){if(i==null)return{};var t=Z5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function Z5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var J0=(0,rt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=U5(i,["chartRef","style","className"]),s=rn(L0,o),l=s.chart,u=s.container;return(0,rt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,rt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),rt.createElement(qr,null,rt.createElement("div",{className:a,style:n,ref:u}))});J0.defaultProps=L0.getDefaultOptions();var K5=J0;function $5(i,r){if(i==null)return{};var t=Q5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function Q5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var q0=(0,rt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=$5(i,["chartRef","style","className"]),s=rn(Ey,o),l=s.chart,u=s.container;return(0,rt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,rt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),rt.createElement(qr,null,rt.createElement("div",{className:a,style:n,ref:u}))});q0.defaultProps=Ey.getDefaultOptions();var J5=q0;function q5(i,r){if(i==null)return{};var t=tF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function tF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var tm=(0,rt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=q5(i,["chartRef","style","className"]),s=rn(py,o),l=s.chart,u=s.container;return(0,rt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,rt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),rt.createElement(qr,null,rt.createElement("div",{className:a,style:n,ref:u}))});tm.defaultProps=py.getDefaultOptions();var eF=tm;function rF(i,r){if(i==null)return{};var t=nF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function nF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var em=(0,rt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=rF(i,["chartRef","style","className"]),s=rn(Dy,o),l=s.chart,u=s.container;return(0,rt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,rt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),rt.createElement(qr,null,rt.createElement("div",{className:a,style:n,ref:u}))});em.defaultProps=Dy.getDefaultOptions();var iF=em;function aF(i,r){if(i==null)return{};var t=oF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function oF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var rm=(0,rt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=aF(i,["chartRef","style","className"]),s=rn(Zp,o),l=s.chart,u=s.container;return(0,rt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,rt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),rt.createElement(qr,null,rt.createElement("div",{className:a,style:n,ref:u}))});rm.defaultProps=Zp.getDefaultOptions();var nm=rm;function sF(i,r){if(i==null)return{};var t=lF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function lF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var im=(0,rt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=sF(i,["chartRef","style","className"]),s=rn(ky,o),l=s.chart,u=s.container;return(0,rt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,rt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),rt.createElement(qr,null,rt.createElement("div",{className:a,style:n,ref:u}))});im.defaultProps=ky.getDefaultOptions();var am=im;function uF(i,r){if(i==null)return{};var t=fF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function fF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var om=(0,rt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=uF(i,["chartRef","style","className"]),s=rn(o0,o),l=s.chart,u=s.container;return(0,rt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,rt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),rt.createElement(qr,null,rt.createElement("div",{className:a,style:n,ref:u}))});om.defaultProps=o0.getDefaultOptions();var hF=om;function cF(i,r){if(i==null)return{};var t=vF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function vF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var sm=(0,rt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=cF(i,["chartRef","style","className"]),s=rn(Yg,o),l=s.chart,u=s.container;return(0,rt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,rt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),rt.createElement(qr,null,rt.createElement("div",{className:a,style:n,ref:u}))});sm.defaultProps=Yg.getDefaultOptions();var dF=sm;function pF(i,r){if(i==null)return{};var t=gF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function gF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var lm=(0,rt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=pF(i,["chartRef","style","className"]),s=rn(Sg,o),l=s.chart,u=s.container;return(0,rt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,rt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),rt.createElement(qr,null,rt.createElement("div",{className:a,style:n,ref:u}))});lm.defaultProps=Sg.getDefaultOptions();var yF=lm;function mF(i,r){if(i==null)return{};var t=xF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function xF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var um=(0,rt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=mF(i,["chartRef","style","className"]),s=rn(ry,o),l=s.chart,u=s.container;return(0,rt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,rt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),rt.createElement(qr,null,rt.createElement("div",{className:a,style:n,ref:u}))});um.defaultProps=ry.getDefaultOptions();var bF=um;function wF(i,r){if(i==null)return{};var t=SF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function SF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var fm=(0,rt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=wF(i,["chartRef","style","className"]),s=rn(ly,o),l=s.chart,u=s.container;return(0,rt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,rt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),rt.createElement(qr,null,rt.createElement("div",{className:a,style:n,ref:u}))});fm.defaultProps=ly.getDefaultOptions();var CF=fm;function MF(i,r){if(i==null)return{};var t=EF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function EF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var hm=(0,rt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=MF(i,["chartRef","style","className"]),s=rn(h0,o),l=s.chart,u=s.container;return(0,rt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,rt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),rt.createElement(qr,null,rt.createElement("div",{className:a,style:n,ref:u}))});hm.defaultProps=h0.getDefaultOptions();var cm=hm;function AF(i,r){if(i==null)return{};var t=TF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function TF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var vm=(0,rt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=AF(i,["chartRef","style","className"]),s=rn(Ty,o),l=s.chart,u=s.container;return(0,rt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,rt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),rt.createElement(qr,null,rt.createElement("div",{className:a,style:n,ref:u}))});vm.defaultProps=Ty.getDefaultOptions();var dm=vm;function PF(i,r){if(i==null)return{};var t=_F(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function _F(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var pm=(0,rt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=PF(i,["chartRef","style","className"]),s=rn(Pg,o),l=s.chart,u=s.container;return(0,rt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,rt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),rt.createElement(qr,null,rt.createElement("div",{className:a,style:n,ref:u}))});pm.defaultProps=Pg.getDefaultOptions();var LF=pm;function OF(i,r){if(i==null)return{};var t=IF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function IF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var gm=(0,rt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=OF(i,["chartRef","style","className"]),s=rn(qg,o),l=s.chart,u=s.container;return(0,rt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,rt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),rt.createElement(qr,null,rt.createElement("div",{className:a,style:n,ref:u}))});gm.defaultProps=qg.getDefaultOptions();var kF=gm;function BF(i,r){if(i==null)return{};var t=DF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function DF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var ym=(0,rt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=BF(i,["chartRef","style","className"]),s=rn(v0,o),l=s.chart,u=s.container;return(0,rt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,rt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),rt.createElement(qr,null,rt.createElement("div",{className:a,style:n,ref:u}))});ym.defaultProps=v0.getDefaultOptions();var mm=ym;function FF(i,r){if(i==null)return{};var t=RF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function RF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var xm=(0,rt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=FF(i,["chartRef","style","className"]),s=rn(yy,o),l=s.chart,u=s.container;return(0,rt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,rt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),rt.createElement(qr,null,rt.createElement("div",{className:a,style:n,ref:u}))});xm.defaultProps=yy.getDefaultOptions();var NF=xm;function YF(i,r){if(i==null)return{};var t=GF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function GF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var bm=(0,rt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=YF(i,["chartRef","style","className"]),s=rn(Wy,o),l=s.chart,u=s.container;return(0,rt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,rt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),rt.createElement(qr,null,rt.createElement("div",{className:a,style:n,ref:u}))});bm.defaultProps=Wy.getDefaultOptions();var zF=bm;function XF(i,r){if(i==null)return{};var t=VF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function VF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var wm=(0,rt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=XF(i,["chartRef","style","className"]),s=rn(Fg,o),l=s.chart,u=s.container;return(0,rt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,rt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),rt.createElement(qr,null,rt.createElement("div",{className:a,style:n,ref:u}))});wm.defaultProps=Fg.getDefaultOptions();var HF=wm;function WF(i,r){if(i==null)return{};var t=jF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function jF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Sm=(0,rt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=WF(i,["chartRef","style","className"]),s=rn(gg,o),l=s.chart,u=s.container;return(0,rt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,rt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),rt.createElement(qr,null,rt.createElement("div",{className:a,style:n,ref:u}))});Sm.defaultProps=gg.getDefaultOptions();var UF=Sm;function ZF(i,r){if(i==null)return{};var t=KF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function KF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Cm=(0,rt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=ZF(i,["chartRef","style","className"]),s=rn(Zg,o),l=s.chart,u=s.container;return(0,rt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,rt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),rt.createElement(qr,null,rt.createElement("div",{className:a,style:n,ref:u}))});Cm.defaultProps=Zg.getDefaultOptions();var $F=Cm;function QF(i,r){if(i==null)return{};var t=JF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function JF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Mm=(0,rt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=QF(i,["chartRef","style","className"]),s=rn(k0,o),l=s.chart,u=s.container;return(0,rt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,rt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),rt.createElement(qr,null,rt.createElement("div",{className:a,style:n,ref:u}))});Mm.defaultProps=k0.getDefaultOptions();var qF=Mm;function tR(i,r){if(i==null)return{};var t=eR(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function eR(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Em=(0,rt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=tR(i,["chartRef","style","className"]),s=rn(Cy,o),l=s.chart,u=s.container;return(0,rt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,rt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),rt.createElement(qr,null,rt.createElement("div",{className:a,style:n,ref:u}))});Em.defaultProps=Cy.getDefaultOptions();var rR=Em;function nR(i,r){if(i==null)return{};var t=iR(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function iR(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Am=(0,rt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=nR(i,["chartRef","style","className"]),s=rn(sg,o),l=s.chart,u=s.container;return(0,rt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,rt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),rt.createElement(qr,null,rt.createElement("div",{className:a,style:n,ref:u}))});Am.defaultProps=sg.getDefaultOptions();var aR=Am;function oR(i,r){if(i==null)return{};var t=sR(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function sR(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Tm=(0,rt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=oR(i,["chartRef","style","className"]),s=rn(y0,o),l=s.chart,u=s.container;return(0,rt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,rt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),rt.createElement(qr,null,rt.createElement("div",{className:a,style:n,ref:u}))});Tm.defaultProps=y0.getDefaultOptions();var Pm=Tm;function lR(i,r){if(i==null)return{};var t=uR(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function uR(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var _m=(0,rt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=lR(i,["chartRef","style","className"]),s=rn(p0,o),l=s.chart,u=s.container;return(0,rt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,rt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),rt.createElement(qr,null,rt.createElement("div",{className:a,style:n,ref:u}))});_m.defaultProps=p0.getDefaultOptions();var Lm=_m;function fR(i,r){if(i==null)return{};var t=hR(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function hR(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Om=(0,rt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=fR(i,["chartRef","style","className"]),s=rn(x0,o),l=s.chart,u=s.container;return(0,rt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,rt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),rt.createElement(qr,null,rt.createElement("div",{className:a,style:n,ref:u}))});Om.defaultProps=x0.getDefaultOptions();var cR=Om;function vR(i,r){if(i==null)return{};var t=dR(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function dR(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Im=(0,rt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=vR(i,["chartRef","style","className"]),s=rn(ag,o),l=s.chart,u=s.container;return(0,rt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,rt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),rt.createElement(qr,null,rt.createElement("div",{className:a,style:n,ref:u}))});Im.defaultProps=ag.getDefaultOptions();var pR=Im;function gR(i,r){if(i==null)return{};var t=yR(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function yR(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var km=(0,rt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=gR(i,["chartRef","style","className"]),s=rn(Xy,o),l=s.chart,u=s.container;return(0,rt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,rt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),rt.createElement(qr,null,rt.createElement("div",{className:a,style:n,ref:u}))});km.defaultProps=Xy.getDefaultOptions();var mR=km;function xR(i,r){if(i==null)return{};var t=bR(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function bR(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var wR=(0,rt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=xR(i,["chartRef","style","className"]),s=rn(LI,o),l=s.chart,u=s.container;return(0,rt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,rt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),rt.createElement(qr,null,rt.createElement("div",{className:a,style:n,ref:u}))}),Bm=wR,SR={i8:"3.8.5"},Zn=d(50229),CR={getDefaultCfg:function(){return{}},getEvents:function(){return{}},shouldBegin:function(){return!0},shouldUpdate:function(){return!0},shouldEnd:function(){return!0},bind:function(r){var t=this,e=this.events;this.graph=r,(this.type==="drag-canvas"||this.type==="brush-select"||this.type==="lasso-select")&&r.get("canvas").set("draggable",!0),(0,Cn.default)(e,function(n,a){r.on(a,n)}),document.addEventListener("visibilitychange",function(){t.keydown=!1})},unbind:function(r){var t=this.events;(this.type==="drag-canvas"||this.type==="brush-select"||this.type==="lasso-select")&&r.get("canvas").set("draggable",!1),(0,Cn.default)(t,function(e,n){r.off(n,e)})},get:function(r){return this[r]},set:function(r,t){return this[r]=t,this}},MR=function(){function i(){}return i.registerBehavior=function(r,t){if(!t)throw new Error("please specify handler for this behavior: "+r);var e=(0,Zn.d9)(CR);Object.assign(e,t);var n=function(o){var s=this;Object.assign(this,this.getDefaultCfg(),o);var l=this.getEvents();this.events=null;var u={};l&&((0,Zn.S6)(l,function(h,c){u[c]=(0,Zn.Ko)(s,h)}),this.events=u)};n.prototype=e,i.types[r]=n},i.hasBehavior=function(r){return!!i.types[r]},i.getBehavior=function(r){return i.types[r]},i.types={},i}(),Uh=MR,Zh;(function(i){i.CLICK="click",i.DBLCLICK="dblclick",i.MOUSEDOWN="mousedown",i.MOUDEUP="mouseup",i.CONTEXTMENU="contextmenu",i.MOUSEENTER="mouseenter",i.MOUSEOUT="mouseout",i.MOUSEOVER="mouseover",i.MOUSEMOVE="mousemove",i.MOUSELEAVE="mouseleave",i.DRAGSTART="dragstart",i.DRAGEND="dragend",i.DRAG="drag",i.DRAGENTER="dragenter",i.DRAGLEAVE="dragleave",i.DRAGOVER="dragover",i.DRAGOUT="dragout",i.DDROP="drop",i.KEYUP="keyup",i.KEYDOWN="keydown",i.WHEEL="wheel",i.FOCUS="focus",i.BLUR="blur",i.TOUCHSTART="touchstart",i.TOUCHMOVE="touchmove",i.TOUCHEND="touchend",i.NODE_CONTEXTMENU="node:contextmenu",i.NODE_CLICK="node:click",i.NODE_DBLCLICK="node:dblclick",i.NODE_MOUSEDOWN="node:mousedown",i.NODE_MOUSEUP="node:mouseup",i.NODE_MOUSEENTER="node:mouseenter",i.NODE_MOUSELEAVE="node:mouseleave",i.NODE_MOUSEMOVE="node:mousemove",i.NODE_MOUSEOUT="node:mouseout",i.NODE_MOUSEOVER="node:mouseover",i.NODE_DROP="node:drop",i.NODE_DRAGOVER="node:dragover",i.NODE_DRAGENTER="node:dragenter",i.NODE_DRAGLEAVE="node:dragleave",i.NODE_DRAGSTART="node:dragstart",i.NODE_DRAG="node:drag",i.NODE_DRAGEND="node:dragend",i.COMBO_CONTEXTMENU="combo:contextmenu",i.COMBO_CLICK="combo:click",i.COMBO_DBLCLICK="combo:dblclick",i.COMBO_MOUSEDOWN="combo:mousedown",i.COMBO_MOUSEUP="combo:mouseup",i.COMBO_MOUSEENTER="combo:mouseenter",i.COMBO_MOUSELEAVE="combo:mouseleave",i.COMBO_MOUSEMOVE="combo:mousemove",i.COMBO_MOUSEOUT="combo:mouseout",i.COMBO_MOUSEOVER="combo:mouseover",i.COMBO_DROP="combo:drop",i.COMBO_DRAGOVER="combo:dragover",i.COMBO_DRAGENTER="combo:dragenter",i.COMBO_DRAGLEAVE="combo:dragleave",i.COMBO_DRAGSTART="combo:dragstart",i.COMBO_DRAG="combo:drag",i.COMBO_DRAGEND="combo:dragend",i.EDGE_CONTEXTMENU="edge:contextmenu",i.EDGE_CLICK="edge:click",i.EDGE_DBLCLICK="edge:dblclick",i.EDGE_MOUSEDOWN="edge:mousedown",i.EDGE_MOUSEUP="edge:mouseup",i.EDGE_MOUSEENTER="edge:mouseenter",i.EDGE_MOUSELEAVE="edge:mouseleave",i.EDGE_MOUSEMOVE="edge:mousemove",i.EDGE_MOUSEOUT="edge:mouseout",i.EDGE_MOUSEOVER="edge:mouseover",i.EDGE_DROP="edge:drop",i.EDGE_DRAGOVER="edge:dragover",i.EDGE_DRAGENTER="edge:dragenter",i.EDGE_DRAGLEAVE="edge:dragleave",i.CANVAS_CONTEXTMENU="canvas:contextmenu",i.CANVAS_CLICK="canvas:click",i.CANVAS_DBLCLICK="canvas:dblclick",i.CANVAS_MOUSEDOWN="canvas:mousedown",i.CANVAS_MOUSEUP="canvas:mouseup",i.CANVAS_MOUSEENTER="canvas:mouseenter",i.CANVAS_MOUSELEAVE="canvas:mouseleave",i.CANVAS_MOUSEMOVE="canvas:mousemove",i.CANVAS_MOUSEOUT="canvas:mouseout",i.CANVAS_MOUSEOVER="canvas:mouseover",i.CANVAS_DROP="canvas:drop",i.CANVAS_DRAGENTER="canvas:dragenter",i.CANVAS_DRAGLEAVE="canvas:dragleave",i.CANVAS_DRAGSTART="canvas:dragstart",i.CANVAS_DRAG="canvas:drag",i.CANVAS_DRAGEND="canvas:dragend",i.BEFORERENDER="beforerender",i.AFTERRENDER="afterrender",i.BEFOREADDITEM="beforeadditem",i.AFTERADDITEM="afteradditem",i.BEFOREREMOVEITEM="beforeremoveitem",i.AFTERREMOVEITEM="afterremoveitem",i.BEFOREUPDATEITEM="beforeupdateitem",i.AFTERUPDATEITEM="afterupdateitem",i.BEFOREITEMVISIBILITYCHANGE="beforeitemvisibilitychange",i.AFTERITEMVISIBILITYCHANGE="afteritemvisibilitychange",i.BEFOREITEMSTATECHANGE="beforeitemstatechange",i.AFTERITEMSTATECHANGE="afteritemstatechange",i.BEFOREITEMREFRESH="beforeitemrefresh",i.AFTERITEMREFRESH="afteritemrefresh",i.BEFOREITEMSTATESCLEAR="beforeitemstatesclear",i.AFTERITEMSTATESCLEAR="afteritemstatesclear",i.BEFOREMODECHANGE="beforemodechange",i.AFTERMODECHANGE="aftermodechange",i.BEFORELAYOUT="beforelayout",i.AFTERLAYOUT="afterlayout",i.BEFORECREATEEDGE="beforecreateedge",i.AFTERCREATEEDGE="aftercreateedge",i.BEFOREGRAPHREFRESHPOSITION="beforegraphrefreshposition",i.AFTERGRAPHREFRESHPOSITION="aftergraphrefreshposition",i.BEFOREGRAPHREFRESH="beforegraphrefresh",i.AFTERGRAPHREFRESH="aftergraphrefresh",i.BEFOREANIMATE="beforeanimate",i.AFTERANIMATE="afteranimate",i.BEFOREPAINT="beforepaint",i.AFTERPAINT="afterpaint",i.GRAPHSTATECHANGE="graphstatechange",i.AFTERACTIVATERELATIONS="afteractivaterelations",i.NODESELECTCHANGE="nodeselectchange",i.TOOLTIPCHANGE="tooltipchange",i.WHEELZOOM="wheelzoom",i.VIEWPORTCHANGE="viewportchange",i.DRAGNODEEND="dragnodeend",i.STACKCHANGE="stackchange"})(Zh||(Zh={}));var ka=d(16185);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Kh=function(r,t){return Kh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var a in n)n.hasOwnProperty(a)&&(e[a]=n[a])},Kh(r,t)};function Dn(i,r){Kh(i,r);function t(){this.constructor=i}i.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var Qt=function(){return Qt=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Qt.apply(this,arguments)};function ji(i,r){var t={};for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&r.indexOf(e)<0&&(t[e]=i[e]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(i);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(i,e[n])&&(t[e[n]]=i[e[n]]);return t}function qG(i,r,t,e){var n=arguments.length,a=n<3?r:e===null?e=Object.getOwnPropertyDescriptor(r,t):e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,r,t,e);else for(var s=i.length-1;s>=0;s--)(o=i[s])&&(a=(n<3?o(a):n>3?o(r,t,a):o(r,t))||a);return n>3&&a&&Object.defineProperty(r,t,a),a}function tz(i,r){return function(t,e){r(t,e,i)}}function ez(i,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,r)}function rz(i,r,t,e){function n(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(h){try{u(e.next(h))}catch(c){o(c)}}function l(h){try{u(e.throw(h))}catch(c){o(c)}}function u(h){h.done?a(h.value):n(h.value).then(s,l)}u((e=e.apply(i,r||[])).next())})}function nz(i,r){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},e,n,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(h){return l([u,h])}}function l(u){if(e)throw new TypeError("Generator is already executing.");for(;t;)try{if(e=1,n&&(a=u[0]&2?n.return:u[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,u[1])).done)return a;switch(n=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,n=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){t.label=u[1];break}if(u[0]===6&&t.label<a[1]){t.label=a[1],a=u;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(u);break}a[2]&&t.ops.pop(),t.trys.pop();continue}u=r.call(i,t)}catch(h){u=[6,h],n=0}finally{e=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function iz(i,r,t,e){e===void 0&&(e=t),i[e]=r[t]}function az(i,r){for(var t in i)t!=="default"&&!r.hasOwnProperty(t)&&(r[t]=i[t])}function Dm(i){var r=typeof Symbol=="function"&&Symbol.iterator,t=r&&i[r],e=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&e>=i.length&&(i=void 0),{value:i&&i[e++],done:!i}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function ER(i,r){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var e=t.call(i),n,a=[],o;try{for(;(r===void 0||r-- >0)&&!(n=e.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(t=e.return)&&t.call(e)}finally{if(o)throw o.error}}return a}function oz(){for(var i=[],r=0;r<arguments.length;r++)i=i.concat(ER(arguments[r]));return i}function Xs(){for(var i=0,r=0,t=arguments.length;r<t;r++)i+=arguments[r].length;for(var e=Array(i),n=0,r=0;r<t;r++)for(var a=arguments[r],o=0,s=a.length;o<s;o++,n++)e[n]=a[o];return e}function du(i){return this instanceof du?(this.v=i,this):new du(i)}function sz(i,r,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t.apply(i,r||[]),n,a=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(v){e[v]&&(n[v]=function(g){return new Promise(function(M,F){a.push([v,g,M,F])>1||s(v,g)})})}function s(v,g){try{l(e[v](g))}catch(M){c(a[0][3],M)}}function l(v){v.value instanceof du?Promise.resolve(v.value.v).then(u,h):c(a[0][2],v)}function u(v){s("next",v)}function h(v){s("throw",v)}function c(v,g){v(g),a.shift(),a.length&&s(a[0][0],a[0][1])}}function lz(i){var r,t;return r={},e("next"),e("throw",function(n){throw n}),e("return"),r[Symbol.iterator]=function(){return this},r;function e(n,a){r[n]=i[n]?function(o){return(t=!t)?{value:du(i[n](o)),done:n==="return"}:a?a(o):o}:a}}function uz(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=i[Symbol.asyncIterator],t;return r?r.call(i):(i=typeof Dm=="function"?Dm(i):i[Symbol.iterator](),t={},e("next"),e("throw"),e("return"),t[Symbol.asyncIterator]=function(){return this},t);function e(a){t[a]=i[a]&&function(o){return new Promise(function(s,l){o=i[a](o),n(s,l,o.done,o.value)})}}function n(a,o,s,l){Promise.resolve(l).then(function(u){a({value:u,done:s})},o)}}function fz(i,r){return Object.defineProperty?Object.defineProperty(i,"raw",{value:r}):i.raw=r,i}function hz(i){if(i&&i.__esModule)return i;var r={};if(i!=null)for(var t in i)Object.hasOwnProperty.call(i,t)&&(r[t]=i[t]);return r.default=i,r}function cz(i){return i&&i.__esModule?i:{default:i}}function vz(i,r){if(!r.has(i))throw new TypeError("attempted to get private field on non-instance");return r.get(i)}function dz(i,r,t){if(!r.has(i))throw new TypeError("attempted to set private field on non-instance");return r.set(i,t),t}var AR=d(30490),TR=function(i){Dn(r,i);function r(t,e){var n=i.call(this,t,e)||this;return n.item=e.item,n.canvasX=e.canvasX,n.canvasY=e.canvasY,n.wheelDelta=e.wheelDelta,n.detail=e.detail,n}return r}(AR.Z),$h=function(r){var t=0,e=0,n=0,a=0;if((0,ka.default)(r))t=e=n=a=r;else if((0,mn.default)(r)){var o=parseInt(r,10);t=e=n=a=o}else(0,ki.default)(r)&&(t=r[0],n=(0,Ii.default)(r[1])?r[0]:r[1],a=(0,Ii.default)(r[2])?r[0]:r[2],e=(0,Ii.default)(r[3])?n:r[3]);return[t,n,a,e]},pu=function(r){var t=new TR(r.type,r);return t.clientX=r.clientX,t.clientY=r.clientY,t.x=r.x,t.y=r.y,t.target=r.target,t.currentTarget=r.currentTarget,t.bubbles=!0,t.item=r.item,t},Fm=function(r){if(!r)return!1;for(var t=9,e=[1,0,0,0,1,0,0,0,1],n=0;n<t;n++)if(r[n]!==e[n])return!0;return!1},co=function(r){return Number.isNaN(Number(r))},Rm=function(r){for(var t=Infinity,e=-Infinity,n=Infinity,a=-Infinity,o=0;o<r.length;o++){var s=r[o],l=s.getBBox(),u=l.minX,h=l.minY,c=l.maxX,v=l.maxY;u<t&&(t=u),h<n&&(n=h),c>e&&(e=c),v>a&&(a=v)}var g=Math.floor(t),M=Math.floor(n),F=Math.ceil(e)-Math.floor(t),Y=Math.ceil(a)-Math.floor(n);return{x:g,y:M,width:F,height:Y,minX:t,minY:n,maxX:e,maxY:a}},PR=function(r,t){t===void 0&&(t=15);for(var e=r.length,n=t*2,a=["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left"],o={},s=[],l={},u=0;u<e;u++){var h=r[u],c=h.source,v=h.target,g=c+"-"+v;if(!s[u]){o[g]||(o[g]=[]),s[u]=!0,o[g].push(h);for(var M=0;M<e;M++)if(u!==M){var F=r[M],Y=F.source,V=F.target;s[M]||(c===V&&v===Y?(o[g].push(F),s[M]=!0,l[Y+"|"+V+"|"+(o[g].length-1)]=!0):c===Y&&v===V&&(o[g].push(F),s[M]=!0))}}}for(var z in o)for(var it=o[z],ot=it.length,yt=0;yt<ot;yt++){var It=it[yt];if(It.source===It.target){It.type="loop",It.loopCfg={position:a[yt%8],dist:Math.floor(yt/8)*20+50};continue}It.type="quadratic";var zt=(yt%2==0?1:-1)*(l[It.source+"|"+It.target+"|"+yt]?-1:1);ot%2==1?It.curveOffset=zt*Math.ceil(yt/2)*n:It.curveOffset=zt*(Math.floor(yt/2)*n+t)}return r},Nm=Math.abs,_R=10,LR=["shift","ctrl","alt","control"],OR={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,scalableRange:0}},getEvents:function(){return{dragstart:"onMouseDown",mousedown:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp",mouseup:"onMouseUp","canvas:click":"onMouseUp",keyup:"onKeyUp",focus:"onKeyUp",keydown:"onKeyDown",touchstart:"onMouseDown",touchmove:"onMouseMove",touchend:"onMouseUp"}},updateViewport:function(r){var t=this.origin,e=+r.clientX,n=+r.clientY;if(!(co(e)||co(n))){var a=e-t.x,o=n-t.y;this.get("direction")==="x"?o=0:this.get("direction")==="y"&&(a=0),this.origin={x:e,y:n};var s=this.graph.get("width"),l=this.graph.get("height"),u=this.graph.get("canvas").getCanvasBBox();(u.minX<=s+this.scalableRange&&u.minX+a>s+this.scalableRange||u.maxX+this.scalableRange>=0&&u.maxX+this.scalableRange+a<0)&&(a=0),(u.minY<=l+this.scalableRange&&u.minY+o>l+this.scalableRange||u.maxY+this.scalableRange>=0&&u.maxY+this.scalableRange+o<0)&&(o=0),this.graph.translate(a,o)}},onMouseDown:function(r){var t=this,e=r.originalEvent;if(!(e&&e.button!==0)&&!(r.name!==Zh.TOUCHSTART&&window&&window.event&&typeof window!="undefined"&&!window.event.buttons&&!window.event.button)&&!(t.keydown||r.shape)&&(t.origin={x:r.clientX,y:r.clientY},t.dragging=!1,this.enableOptimize)){for(var n=this.graph,a=n.getEdges(),o=0,s=a.length;o<s;o++){var l=a[o].get("group").get("children");!l||l.forEach(function(z){z.hide()})}for(var u=n.getNodes(),h=0,c=u.length;h<c;h++)for(var v=u[h].getContainer(),g=v.get("children"),M=0,F=g;M<F.length;M++){var Y=F[M],V=Y.get("isKeyShape");V||Y.hide()}}},onMouseMove:function(r){var t=this.graph;if(!(this.keydown||r.shape)&&(r=pu(r),!!this.origin)){if(this.dragging)r.type="drag",t.emit("canvas:drag",r);else{if(Nm(this.origin.x-r.clientX)+Nm(this.origin.y-r.clientY)<_R)return;this.shouldBegin.call(this,r)&&(r.type="dragstart",t.emit("canvas:dragstart",r),this.dragging=!0)}this.shouldUpdate.call(this,r)&&this.updateViewport(r)}},onMouseUp:function(r){var t=this.graph;if(!(this.keydown||r.shape)){if(this.enableOptimize){for(var e=t.getEdges(),n=0,a=e.length;n<a;n++){var o=e[n].get("group").get("children");!o||o.forEach(function(Y){Y.show()})}for(var s=t.getNodes(),l=0,u=s.length;l<u;l++)for(var h=s[l].getContainer(),c=h.get("children"),v=0,g=c;v<g.length;v++){var M=g[v],F=M.get("isKeyShape");F||M.show()}}if(!this.dragging){this.origin=null;return}r=pu(r),this.shouldEnd.call(this,r)&&this.updateViewport(r),r.type="dragend",t.emit("canvas:dragend",r),this.endDrag()}},endDrag:function(){this.origin=null,this.dragging=!1,this.dragbegin=!1},onKeyDown:function(r){var t=this,e=r.key;!e||(LR.indexOf(e.toLowerCase())>-1?t.keydown=!0:t.keydown=!1)},onKeyUp:function(){this.keydown=!1,this.origin=null,this.dragging=!1,this.dragbegin=!1}},IR=d(6767),gu=d.n(IR),kR=d(17621),yu=d.n(kR),mu=2,Ym=.16,BR=.05,DR=.05,FR=.15,Gm=5,zm=4,RR=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function Xm(i,r,t){var e;return Math.round(i.h)>=60&&Math.round(i.h)<=240?e=t?Math.round(i.h)-mu*r:Math.round(i.h)+mu*r:e=t?Math.round(i.h)+mu*r:Math.round(i.h)-mu*r,e<0?e+=360:e>=360&&(e-=360),e}function Vm(i,r,t){if(i.h===0&&i.s===0)return i.s;var e;return t?e=i.s-Ym*r:r===zm?e=i.s+Ym:e=i.s+BR*r,e>1&&(e=1),t&&r===Gm&&e>.1&&(e=.1),e<.06&&(e=.06),Number(e.toFixed(2))}function Hm(i,r,t){var e;return t?e=i.v+DR*r:e=i.v-FR*r,e>1&&(e=1),Number(e.toFixed(2))}function Qh(i){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[],e=yu()(i),n=Gm;n>0;n-=1){var a=e.toHsv(),o=yu()({h:Xm(a,n,!0),s:Vm(a,n,!0),v:Hm(a,n,!0)}).toHexString();t.push(o)}t.push(e.toHexString());for(var s=1;s<=zm;s+=1){var l=e.toHsv(),u=yu()({h:Xm(l,s),s:Vm(l,s),v:Hm(l,s)}).toHexString();t.push(u)}return r.theme==="dark"?RR.map(function(h){var c=h.index,v=h.opacity,g=yu().mix(r.backgroundColor||"#141414",t[c],v*100).toHexString();return g}):t}var Jh={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Ui={},qh={};Object.keys(Jh).forEach(function(i){Ui[i]=Qh(Jh[i]),Ui[i].primary=Ui[i][5],qh[i]=Qh(Jh[i],{theme:"dark",backgroundColor:"#141414"}),qh[i].primary=qh[i][5]});var pz=Ui.red,gz=Ui.volcano,yz=Ui.gold,mz=Ui.orange,xz=Ui.yellow,bz=Ui.lime,wz=Ui.green,Sz=Ui.cyan,Cz=Ui.blue,Mz=Ui.geekblue,Ez=Ui.purple,Az=Ui.magenta,Tz=Ui.grey,Ha=function(r,t,e){var n=gu()(r),a=gu()(t);return gu()([(1-e)*n.color[0]+e*a.color[0],(1-e)*n.color[1]+e*a.color[1],(1-e)*n.color[2]+e*a.color[2]]).rgb()},Wm=function(r,t,e,n){t===void 0&&(t="#fff"),e===void 0&&(e="default"),n===void 0&&(n="rgb(150, 150, 150)");var a=Ha(t,r,.05).rgb().toString(),o=Ha(t,n,.02).rgb().toString(),s=Ha(t,n,.05).rgb().toString(),l=Ha(t,n,.1).rgb().toString(),u=Ha(t,n,.2).rgb().toString(),h=Ha(t,n,.3).rgb().toString(),c=Qh(r,{theme:e,backgroundColor:t}),v=gu()(r).hex().toLowerCase(),g=c.indexOf(v),M=r;return g!==-1&&(M=c[g+1]),{mainStroke:r,mainFill:Ha(t,r,.1).rgb().toString(),activeStroke:r,activeFill:a,inactiveStroke:Ha(t,r,.4).rgb().toString(),inactiveFill:a,selectedStroke:r,selectedFill:t,highlightStroke:M,highlightFill:Ha(t,r,.2).rgb().toString(),disableStroke:h,disableFill:s,edgeMainStroke:h,edgeActiveStroke:r,edgeInactiveStroke:u,edgeSelectedStroke:r,edgeHighlightStroke:r,edgeDisableStroke:l,comboMainStroke:h,comboMainFill:o,comboActiveStroke:r,comboActiveFill:a,comboInactiveStroke:h,comboInactiveFill:o,comboSelectedStroke:r,comboSelectedFill:o,comboHighlightStroke:M,comboHighlightFill:o,comboDisableStroke:u,comboDisableFill:s}},NR="rgb(95, 149, 255)",YR="rgb(255, 255, 255)",jm="rgb(0, 0, 0)",hn=Wm(NR,YR),Ge={version:"3.8.5",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",customGroupContainerClassName:"custom-group-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:hn.mainStroke,fill:hn.mainFill},size:20,color:hn.mainStroke,linkPoints:{size:8,lineWidth:1,fill:hn.activeFill,stroke:hn.activeStroke}},nodeStateStyles:{active:{fill:hn.activeFill,stroke:hn.activeStroke,lineWidth:2,shadowColor:hn.mainStroke,shadowBlur:10},selected:{fill:hn.selectedFill,stroke:hn.selectedStroke,lineWidth:4,shadowColor:hn.selectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:hn.highlightFill,stroke:hn.highlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:hn.inactiveFill,stroke:hn.inactiveStroke,lineWidth:1},disable:{fill:hn.disableFill,stroke:hn.disableStroke,lineWidth:1}},edgeLabel:{style:{fill:jm,textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:hn.edgeMainStroke,lineAppendWidth:2},color:hn.edgeMainStroke},edgeStateStyles:{active:{stroke:hn.edgeActiveStroke,lineWidth:1},selected:{stroke:hn.edgeSelectedStroke,lineWidth:2,shadowColor:hn.edgeSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:hn.edgeHighlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:hn.edgeInactiveStroke,lineWidth:1},disable:{stroke:hn.edgeDisableStroke,lineWidth:1}},comboLabel:{style:{fill:jm,textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:hn.comboMainFill,lineWidth:1,stroke:hn.comboMainStroke,r:5,width:20,height:10},size:[20,5],color:hn.comboMainStroke,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:hn.comboActiveStroke,lineWidth:1,fill:hn.comboActiveFill},selected:{stroke:hn.comboSelectedStroke,lineWidth:2,fill:hn.comboSelectedFill,shadowColor:hn.comboSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:hn.comboHighlightStroke,lineWidth:2,fill:hn.comboHighlightFill,"text-shape":{fontWeight:500}},inactive:{stroke:hn.comboInactiveStroke,fill:hn.comboInactiveFill,lineWidth:1},disable:{stroke:hn.comboDisableStroke,fill:hn.comboDisableFill,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},textWaterMarkerConfig:{width:150,height:100,compatible:!1,text:{x:0,y:60,lineHeight:20,rotate:20,fontSize:14,fontFamily:"Microsoft YaHei",fill:"rgba(0, 0, 0, 0.1)",baseline:"Middle"}},imageWaterMarkerConfig:{width:150,height:130,compatible:!1,image:{x:0,y:0,width:30,height:20,rotate:0}},waterMarkerImage:"https://gw.alipayobjects.com/os/s/prod/antv/assets/image/logo-with-text-73b8a.svg"},GR={getDefaultCfg:function(){return{updateEdge:!0,delegateStyle:{},enableDelegate:!1,onlyChangeComboSize:!1,comboActiveState:"",selectedState:"selected"}},getEvents:function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave","combo:drop":"onDropCombo","node:drop":"onDropNode","canvas:drop":"onDropCanvas"}},validationCombo:function(r){if(!this.origin||!r||r.destroyed)return!1;var t=r.getType();return t==="combo"},onDragStart:function(r){var t=this;if(!!this.shouldBegin.call(this,r)){var e=r.item;if(!(!e||e.destroyed||e.hasLocked())){var n=e.getContainer();n.set("capture",!1);var a=r.target;if(a){var o=a.get("isAnchorPoint");if(o)return}var s=this.graph;this.targets=[],this.targetCombo=null;var l=s.findAllByState("node",this.selectedState),u=e.get("id"),h=l.filter(function(v){var g=v.get("id");return u===g});h.length===0?this.targets.push(e):l.length>1?l.forEach(function(v){var g=v.hasLocked();g||t.targets.push(v)}):this.targets.push(e);var c=[];this.targets.forEach(function(v){c.push((0,Zn.d9)(v.getModel()))}),this.set("beforeDragNodes",c),this.origin={x:r.x,y:r.y},this.point={},this.originPoint={}}}},onDrag:function(r){var t=this;!this.origin||!this.shouldUpdate(this,r)||(this.get("enableDelegate")?this.updateDelegate(r):this.targets.map(function(e){t.update(e,r)}))},onDragEnd:function(r){if(!(!this.origin||!this.shouldEnd.call(this,r))){var t=r.item;if(t){var e=t.getContainer();e.set("capture",!0)}this.delegateRect&&(this.delegateRect.remove(),this.delegateRect=null),this.updatePositions(r);var n=this.graph;if(n.get("enabledStack")){var a={before:{nodes:this.get("beforeDragNodes"),edges:[],combos:[]},after:{nodes:[],edges:[],combos:[]}};this.targets.forEach(function(o){a.after.nodes.push(o.getModel())}),n.pushStack("update",(0,Zn.d9)(a))}n.emit("dragnodeend",{items:this.targets,targetItem:null}),this.point={},this.origin=null,this.originPoint={},this.targets.length=0,this.targetCombo=null}},onDropCombo:function(r){var t=r.item;if(!!this.validationCombo(t)){this.updatePositions(r);var e=this.graph;if(this.comboActiveState&&e.setItemState(t,this.comboActiveState,!1),this.targetCombo=t,this.onlyChangeComboSize)e.updateCombos();else{var n=t.getModel();this.targets.map(function(a){var o=a.getModel();o.comboId!==n.id&&e.updateComboTree(a,n.id)}),e.updateCombo(t)}e.emit("dragnodeend",{items:this.targets,targetItem:this.targetCombo})}},onDropCanvas:function(r){var t=this.graph;!this.targets||this.targets.length===0||(this.updatePositions(r),this.onlyChangeComboSize?t.updateCombos():this.targets.map(function(e){var n=e.getModel();n.comboId&&t.updateComboTree(e)}))},onDropNode:function(r){if(!(!this.targets||this.targets.length===0)){var t=this,e=r.item;this.updatePositions(r);var n=t.graph,a=e.getModel().comboId;if(a){var o=n.findById(a);t.comboActiveState&&n.setItemState(o,t.comboActiveState,!1),this.targets.map(function(s){var l=s.getModel();a!==l.comboId&&n.updateComboTree(s,a)}),n.updateCombo(o)}else this.targets.map(function(s){var l=s.getModel();l.comboId&&n.updateComboTree(s)});n.emit("dragnodeend",{items:this.targets,targetItem:e})}},onDragEnter:function(r){var t=r.item;if(!!this.validationCombo(t)){var e=this.graph;this.comboActiveState&&e.setItemState(t,this.comboActiveState,!0)}},onDragLeave:function(r){var t=r.item;if(!!this.validationCombo(t)){var e=this.graph;this.comboActiveState&&e.setItemState(t,this.comboActiveState,!1)}},updatePositions:function(r){var t=this;!this.targets||this.targets.length===0||this.get("enableDelegate")&&this.targets.map(function(e){return t.update(e,r)})},update:function(r,t){var e=this.origin,n=r.get("model"),a=r.get("id");this.point[a]||(this.point[a]={x:n.x||0,y:n.y||0});var o=t.x-e.x+this.point[a].x,s=t.y-e.y+this.point[a].y,l={x:o,y:s};this.get("updateEdge")?this.graph.updateItem(r,l,!1):r.updatePosition(l)},updateDelegate:function(r){var t=this.graph;if(this.delegateRect){var v=r.x-this.origin.x+this.originPoint.minX,g=r.y-this.origin.y+this.originPoint.minY;this.delegateRect.attr({x:v,y:g})}else{var e=this.graph.get("group"),n=(0,Zn.b$)({},Ge.delegateStyle,this.delegateStyle),a=this.calculationGroupPosition(r),o=a.x,s=a.y,l=a.width,u=a.height,h=a.minX,c=a.minY;this.originPoint={x:o,y:s,width:l,height:u,minX:h,minY:c},this.delegateRect=e.addShape("rect",{attrs:Qt({width:l,height:u,x:o,y:s},n),name:"rect-delegate-shape"}),this.delegateRect.set("capture",!1)}},calculationGroupPosition:function(r){var t=this.graph,e=t.findAllByState("node",this.selectedState);e.length===0&&e.push(r.item);for(var n=Infinity,a=-Infinity,o=Infinity,s=-Infinity,l=0;l<e.length;l++){var u=e[l],h=u.getBBox(),c=h.minX,v=h.minY,g=h.maxX,M=h.maxY;c<n&&(n=c),v<o&&(o=v),g>a&&(a=g),M>s&&(s=M)}var F=Math.floor(n),Y=Math.floor(o),V=Math.ceil(a)-Math.floor(n),z=Math.ceil(s)-Math.floor(o);return{x:F,y:Y,width:V,height:z,minX:n,minY:o}}},zR={getDefaultCfg:function(){return{trigger:"mouseenter",activeState:"active",inactiveState:"inactive",resetSelected:!1,shouldUpdate:function(){return!0}}},getEvents:function(){return this.get("trigger")==="mouseenter"?{"node:mouseenter":"setAllItemStates","node:mouseleave":"clearActiveState"}:{"node:click":"setAllItemStates","canvas:click":"clearAllItemStates"}},setAllItemStates:function(r){var t=r.item,e=this.graph;if(this.item=t,!!this.shouldUpdate(r.item,{event:r,action:"activate"})){for(var n=this,a=this.activeState,o=this.inactiveState,s=e.getNodes(),l=e.getEdges(),u=s.length,h=l.length,c=0;c<u;c++){var v=s[c],g=v.hasState("selected");n.resetSelected&&g&&e.setItemState(v,"selected",!1),e.setItemState(v,a,!1),o&&e.setItemState(v,o,!0)}for(var c=0;c<h;c++){var M=l[c];e.setItemState(M,a,!1),o&&e.setItemState(M,o,!0)}o&&e.setItemState(t,o,!1),e.setItemState(t,a,!0);for(var F=t.getEdges(),Y=F.length,c=0;c<Y;c++){var M=F[c],V=void 0;M.getSource()===t?V=M.getTarget():V=M.getSource(),o&&e.setItemState(V,o,!1),e.setItemState(V,a,!0),e.setItemState(M,o,!1),e.setItemState(M,a,!0),M.toFront()}e.emit("afteractivaterelations",{item:r.item,action:"activate"})}},clearActiveState:function(r){var t=this,e=t.get("graph");if(!!t.shouldUpdate(r.item,{event:r,action:"deactivate"})){var n=this.activeState,a=this.inactiveState,o=e.get("autoPaint");e.setAutoPaint(!1);for(var s=e.getNodes(),l=e.getEdges(),u=s.length,h=l.length,c=0;c<u;c++){var v=s[c];e.clearItemStates(v,[n,a])}for(var c=0;c<h;c++){var g=l[c];e.clearItemStates(g,[n,a,"deactivate"])}e.paint(),e.setAutoPaint(o),e.emit("afteractivaterelations",{item:r.item||t.get("item"),action:"deactivate"})}},clearAllItemStates:function(r){var t=this,e=t.graph;if(!!t.shouldUpdate(r.item,{event:r,action:"deactivate"})){for(var n=this.activeState,a=this.inactiveState,o=e.getNodes(),s=e.getEdges(),l=o.length,u=s.length,h=0;h<l;h++){var c=o[h];e.clearItemStates(c,[n,a])}for(var h=0;h<u;h++){var v=s[h];e.clearItemStates(v,[n,a,"deactivate"])}e.emit("afteractivaterelations",{item:r.item||t.get("item"),action:"deactivate"})}}},xu=Math.min,Um=Math.max,Zm=Math.abs,Km="shift",XR=["drag","shift","ctrl","alt","control"],VR={getDefaultCfg:function(){return{brushStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:Km,includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return XR.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=Km,console.warn("Behavior brush-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.trigger==="drag"?{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates"}:{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates",keyup:"onKeyUp",keydown:"onKeyDown"}},onMouseDown:function(r){var t=r.item,e=this.brush;t||this.trigger!=="drag"&&!this.keydown||(this.selectedNodes&&this.selectedNodes.length!==0&&this.clearStates(),e||(e=this.createBrush()),this.originPoint={x:r.canvasX,y:r.canvasY},e.attr({width:0,height:0}),e.show(),this.dragging=!0)},onMouseMove:function(r){!this.dragging||this.trigger!=="drag"&&!this.keydown||this.updateBrush(r)},onMouseUp:function(r){var t=this.graph;!this.brush&&!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.brush.remove(!0),this.brush=null,this.getSelectedNodes(r),this.dragging=!1)},clearStates:function(){var r=this,t=r.graph,e=r.selectedState,n=t.findAllByState("node",e),a=t.findAllByState("edge",e);n.forEach(function(o){return t.setItemState(o,e,!1)}),a.forEach(function(o){return t.setItemState(o,e,!1)}),this.selectedNodes=[],this.selectedEdges=[],this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedNodes:function(r){var t=this,e=this,n=e.graph,a=e.originPoint,o=e.shouldUpdate,s=this.selectedState,l={x:r.x,y:r.y},u=n.getPointByCanvas(a.x,a.y),h=xu(l.x,u.x),c=Um(l.x,u.x),v=xu(l.y,u.y),g=Um(l.y,u.y),M=[],F=[];n.getNodes().forEach(function(V){var z=V.getBBox();if(z.centerX>=h&&z.centerX<=c&&z.centerY>=v&&z.centerY<=g&&o(V,"select")){M.push(V);var it=V.getModel();F.push(it.id),n.setItemState(V,s,!0)}});var Y=[];this.includeEdges&&M.forEach(function(V){var z=V.getOutEdges();z.forEach(function(it){var ot=it.getModel(),yt=ot.source,It=ot.target;F.includes(yt)&&F.includes(It)&&o(it,"select")&&(Y.push(it),n.setItemState(it,t.selectedState,!0))})}),this.selectedEdges=Y,this.selectedNodes=M,this.onSelect&&this.onSelect(M,Y),n.emit("nodeselectchange",{selectedItems:{nodes:M,edges:Y},select:!0})},createBrush:function(){var r=this,t=r.graph.get("canvas").addShape("rect",{attrs:r.brushStyle,capture:!1,name:"brush-shape"});return this.brush=t,t},updateBrush:function(r){var t=this.originPoint;this.brush.attr({width:Zm(r.canvasX-t.x),height:Zm(r.canvasY-t.y),x:xu(r.canvasX,t.x),y:xu(r.canvasY,t.y)})},onKeyDown:function(r){var t=r.key;if(!!t){var e=this.trigger.toLowerCase(),n=t.toLowerCase();n===e||n==="control"&&e==="ctrl"||n==="ctrl"&&e==="control"?this.keydown=!0:this.keydown=!1}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.keydown=!1}},$m="shift",HR=["shift","ctrl","alt","control"],WR={getDefaultCfg:function(){return{multiple:!0,trigger:$m,selectedState:"selected"}},getEvents:function(){var r=this;return HR.indexOf(r.trigger.toLowerCase())>-1||(r.trigger=$m,console.warn("Behavior brush-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),r.multiple?{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick",keyup:"onKeyUp",keydown:"onKeyDown"}:{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick"}},onClick:function(r){var t=this,e=r.item;if(!(!e||e.destroyed)){var n=e.getType(),a=this,o=a.graph,s=a.keydown,l=a.multiple,u=a.shouldUpdate,h=a.shouldBegin;if(!!h.call(this,r)){if(!s||!l){var c=o.findAllByState(n,this.selectedState);(0,Cn.default)(c,function(M){M!==e&&o.setItemState(M,t.selectedState,!1)})}if(e.hasState(this.selectedState)){u.call(this,r)&&o.setItemState(e,this.selectedState,!1);var v=o.findAllByState("node",this.selectedState),g=o.findAllByState("combo",this.selectedState);o.emit("nodeselectchange",{target:e,selectedItems:{nodes:v,combos:g},select:!1})}else{u.call(this,r)&&o.setItemState(e,this.selectedState,!0);var v=o.findAllByState("node",this.selectedState),g=o.findAllByState("combo",this.selectedState);o.emit("nodeselectchange",{target:e,selectedItems:{nodes:v,combos:g},select:!0})}}}},onCanvasClick:function(){var r=this,t=this.graph,e=t.findAllByState("node",this.selectedState);(0,Cn.default)(e,function(a){t.setItemState(a,r.selectedState,!1)});var n=t.findAllByState("combo",this.selectedState);(0,Cn.default)(n,function(a){t.setItemState(a,r.selectedState,!1)}),t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[],combos:[]},select:!1})},onKeyDown:function(r){var t=r.key;!t||(t.toLowerCase()===this.trigger.toLowerCase()||t.toLowerCase()==="control"?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.keydown=!1}},va=d(31502);va.translate=function(i,r,t){var e=new Array(9);return va.fromTranslation(e,t),va.multiply(i,e,r)},va.rotate=function(i,r,t){var e=new Array(9);return va.fromRotation(e,t),va.multiply(i,e,r)},va.scale=function(i,r,t){var e=new Array(9);return va.fromScaling(e,t),va.multiply(i,e,r)},va.transform=function(i,r){for(var t=[].concat(i),e=0,n=r.length;e<n;e++){var a=r[e];switch(a[0]){case"t":va.translate(t,t,[a[1],a[2]]);break;case"s":va.scale(t,t,[a[1],a[2]]);break;case"r":va.rotate(t,t,a[1]);break;default:break}}return t};var vo=va,Wa=d(76172);Wa.angle=function(i,r){var t=Wa.dot(i,r)/(Wa.length(i)*Wa.length(r));return Math.acos((0,f.clamp)(t,-1,1))},Wa.direction=function(i,r){return i[0]*r[1]-r[0]*i[1]},Wa.angleTo=function(i,r,t){var e=Wa.angle(i,r),n=Wa.direction(i,r)>=0;return t?n?Math.PI*2-e:e:n?e:Math.PI*2-e},Wa.vertical=function(i,r,t){return t?(i[0]=r[1],i[1]=-1*r[0]):(i[0]=-1*r[1],i[1]=r[0]),i};var Fn=Wa,jR=d(88395),Qm=jR,ja=function(i,r){var t=i?(0,f.clone)(i):[1,0,0,0,1,0,0,0,1];return(0,f.each)(r,function(e){switch(e[0]){case"t":vo.translate(t,t,[e[1],e[2]]);break;case"s":vo.scale(t,t,[e[1],e[2]]);break;case"r":vo.rotate(t,t,e[1]);break;case"m":vo.multiply(t,t,e[1]);break;default:return!1}}),t},Jm=.05,UR={getDefaultCfg:function(){return{sensitivity:2,minZoom:void 0,maxZoom:void 0,enableOptimize:!1,optimizeZoom:.7,fixSelectedItems:{fixAll:!1,fixLineWidth:!1,fixLabel:!1,fixState:"selected"}}},getEvents:function(){var r=this.fixSelectedItems;return r.fixState||(r.fixState="selected"),r.fixAll&&(r.fixLineWidth=!0,r.fixLabel=!0),{wheel:"onWheel",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd"}},onTouchStart:function(r){var t=r.originalEvent.touches,e=t[0],n=t[1];r.preventDefault(),!!n&&(this.startPoint={pageX:e.pageX,pageY:e.pageY},this.moveable=!0,n&&(this.endPoint={pageX:n.pageX,pageY:n.pageY}),this.originScale=this.currentScale||1)},onTouchMove:function(r){if(!!this.moveable){r.preventDefault();var t=r.originalEvent.touches,e=t[0],n=t[1];if(!!n){this.endPoint||(this.endPoint={pageX:n.pageX,pageY:n.pageY});var a=function(g,M){return Math.hypot(M.x-g.x,M.y-g.y)},o=a({x:e.pageX,y:e.pageY},{x:n.pageX,y:n.pageY})/a({x:this.startPoint.pageX,y:this.startPoint.pageY},{x:this.endPoint.pageX,y:this.endPoint.pageY}),s=this.originScale*o;this.currentScale=s;var l=this.get("minZoom")||this.graph.get("minZoom"),u=this.get("maxZoom")||this.graph.get("maxZoom");if(!(s>u||s<l)){var h=this.graph.get("canvas"),c=h.getPointByClient(r.clientX,r.clientY);this.graph.zoomTo(s,{x:c.x,y:c.y}),this.graph.emit("wheelzoom",r)}}}},onTouchEnd:function(){this.moveable=!1,this.endPoint=null},onWheel:function(r){var t=this,e=this,n=e.graph,a=e.fixSelectedItems;if(!!this.shouldUpdate.call(this,r)){r.preventDefault();var o=n.get("canvas"),s=o.getPointByClient(r.clientX,r.clientY),l=this.get("sensitivity"),u=n.getZoom(),h=u,c=u;r.wheelDelta<0?h=1-Jm*l:h=1/(1-Jm*l),c=u*h;var v=this.get("minZoom")||n.get("minZoom"),g=this.get("maxZoom")||n.get("maxZoom");if(!(c>g||c<v)){var M=this.get("enableOptimize");if(M){var F=this.get("optimizeZoom"),Y=this.get("optimized"),V=n.getNodes(),z=n.getEdges(),it=V.length,ot=z.length;if(!Y){for(var yt=0;yt<it;yt++){var It=V[yt];if(!It.destroyed)for(var zt=It.get("group").get("children"),jt=zt.length,Rt=0;Rt<jt;Rt++){var re=zt[Rt];!re.destoryed&&!re.get("isKeyShape")&&re.hide()}}for(var de=0;de<ot;de++)for(var fe=z[de],zt=fe.get("group").get("children"),jt=zt.length,Rt=0;Rt<jt;Rt++){var re=zt[Rt];re.hide()}this.set("optimized",!0)}clearTimeout(this.get("timeout"));var Me=setTimeout(function(){var Rr=n.getZoom(),Jr=t.get("optimized");if(Jr){t.set("optimized",!1);for(var sn=0;sn<it;sn++){var On=V[sn],bn=On.get("group").get("children"),zn=bn.length;if(Rr<F)On.getKeyShape().show();else for(var Kn=0;Kn<zn;Kn++){var Ri=bn[Kn];Ri.get("visible")||Ri.show()}}for(var Xi=0;Xi<ot;Xi++){var gi=z[Xi],bn=gi.get("group").get("children"),zn=bn.length;if(Rr<F)gi.getKeyShape().show();else for(var Kn=0;Kn<zn;Kn++){var Ri=bn[Kn];Ri.get("visible")||Ri.show()}}}},500);this.set("timeout",Me)}if(u<=1){var Le=void 0,_e=void 0;if(a.fixAll||a.fixLineWidth||a.fixLabel){Le=n.findAllByState("node",a.fixState),_e=n.findAllByState("edge",a.fixState);for(var He=u/c,je=Le.length,Ze=0;Ze<je;Ze++){var It=Le[Ze],ze=It.getContainer(),Xe=It.getModel(),pr=It.getOriginStyle(),cr=It.getStateStyle(a.fixState),br=It.get("shapeFactory").getShape(Xe.shape||Xe.type).getStateStyle(a.fixState,It)[a.fixState];if(a.fixAll){if(c<=1){var $e=(0,f.clone)(ze.getMatrix());$e||($e=[1,0,0,0,1,0,0,0,1]);var gr=It.getModel(),Or=gr.x,xr=gr.y;vo.translate($e,$e,[-Or,-xr]),vo.scale($e,$e,[He,He]),vo.translate($e,$e,[Or,xr]),ze.setMatrix($e)}}else for(var zt=ze.get("children"),jt=zt.length,Rt=0;Rt<jt;Rt++){var re=zt[Rt],mr=void 0,Dr=void 0;if(a.fixLabel){var Kr=re.get("type");if(Kr==="text"){mr=re.attr("fontSize")||12;var Cr=cr[re.get("name")],ke=br[re.get("name")],qe=Cr?Cr.fontSize:12,Fr=ke?ke.fontSize:12,Vr=qe||Fr||12;if(c<=1&&re.attr("fontSize",Vr/c),Dr)break}}if(a.fixLineWidth&&re.get("isKeyShape")){Dr=re.attr("lineWidth")||0;var _r=cr.lineWidth||br.lineWidth||pr.lineWidth||0;if(c<=1&&re.attr("lineWidth",_r/c),mr)break}}}for(var Qr=_e.length,Ur=0;Ur<Qr;Ur++)for(var fe=_e[Ur],ze=fe.getContainer(),zt=ze.get("children"),Xe=fe.getModel(),cr=fe.getStateStyle(a.fixState),br=fe.get("shapeFactory").getShape(Xe.shape||Xe.type).getStateStyle(a.fixState,fe)[a.fixState],jt=zt.length,Rt=0;Rt<jt;Rt++){var re=zt[Rt],mr=void 0,Dr=void 0;if(a.fixLabel||a.fixAll){var Kr=re.get("type");if(Kr==="text"){mr=re.attr("fontSize")||12;var Cr=cr[re.get("name")],ke=br[re.get("name")],qe=Cr?Cr.fontSize:12,Fr=ke?ke.fontSize:12,Vr=qe||Fr||12;if(c<=1&&re.attr("fontSize",Vr/c),Dr)break}}if((a.fixLineWidth||a.fixAll)&&re.get("isKeyShape")){Dr=re.attr("lineWidth")||0;var _r=cr.lineWidth||br.lineWidth||1;if(c<=1&&re.attr("lineWidth",_r/c),mr)break}}}}n.zoomTo(c,{x:s.x,y:s.y}),n.emit("wheelzoom",r)}}}},Pn=d(1513),pi=d(57821),qm={onMouseEnter:function(r){var t=r.item;this.currentTarget=t,this.showTooltip(r),this.graph.emit("tooltipchange",{item:r.item,action:"show"})},onMouseMove:function(r){if(!this.shouldUpdate(r)){this.hideTooltip();return}!this.currentTarget||r.item!==this.currentTarget||this.updatePosition(r)},onMouseLeave:function(r){!this.shouldEnd(r)||(this.hideTooltip(),this.graph.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null)},showTooltip:function(r){var t=this.container;if(!(!r.item||r.item.destroyed)){t||(t=this.createTooltip(this.graph.get("canvas")),this.container=t);var e=this.formatText(r.item.get("model"),r);t.innerHTML=e,(0,Pn.Z)(this.container,{visibility:"visible"}),this.updatePosition(r)}},hideTooltip:function(){(0,Pn.Z)(this.container,{visibility:"hidden"})},updatePosition:function(r){var t=this.get("shouldBegin"),e=this,n=e.width,a=e.height,o=e.container,s=e.graph;if(!t(r)){(0,Pn.Z)(o,{visibility:"hidden"});return}var l=s.getPointByClient(r.clientX,r.clientY),u=s.getCanvasByPoint(l.x,l.y),h=u.x,c=u.y,v=o.getBoundingClientRect();h>n/2?h-=v.width:h+=this.offset,c>a/2?c-=v.height:c+=this.offset;var g=h+"px",M=c+"px";(0,Pn.Z)(this.container,{left:g,top:M,visibility:"visible"})},createTooltip:function(r){var t=r.get("el");t.style.position="relative";var e=(0,pi.Z)('<div class="g6-tooltip g6-'+this.item+'-tooltip"></div>');return t.parentNode.appendChild(e),(0,Pn.Z)(e,{position:"absolute",visibility:"visible"}),this.width=r.get("width"),this.height=r.get("height"),this.container=e,this.graph.get("tooltips").push(e),e}},ZR=Qt({getDefaultCfg:function(){return{item:"node",offset:12,formatText:function(t){return t.label}}},getEvents:function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},qm),KR=Qt({getDefaultCfg:function(){return{item:"edge",offset:12,formatText:function(t){return"source: "+t.source+" target: "+t.target}}},getEvents:function(){return{"edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},qm),Gi=d(90497),$R={getDefaultCfg:function(){return{delegate:!0,delegateStyle:{},delegateShapes:{},delegateShapeBBoxs:{}}},getEvents:function(){return{dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd","canvas:mouseleave":"onOutOfRange"}},onDragStart:function(r){var t=this.graph,e=r.target,n=e.get("groupId");if(!!n){var a=t.get("customGroupControll"),o=a.customGroup,s=o[n].nodeGroup;this.targetGroup=s,this.mouseOrigin={x:r.x,y:r.y};for(var l=t.save().groups,u=null,h=0;h<l.length;h++){var c=l[h];if(n===c.id){u=c.parentId;break}}if(u){var v=o[u].nodeGroup;a.setGroupStyle(v.get("keyShape"),"hover")}}},onDrag:function(r){!this.mouseOrigin||this.updateDelegate(r)},onDragEnd:function(r){var t=this.graph,e=r.target.get("groupId");if(this.delegateShapes[e]&&(this.delegateShapeBBox=this.delegateShapes[e].getBBox(),this.delegateShapes[e].remove(),delete this.delegateShapes[e]),!!this.delegateShapeBBox){var n=t.get("customGroupControll"),a=this.delegateShapeBBoxs[e];n.updateGroup(e,a,this.mouseOrigin),this.mouseOrigin=null,this.shapeOrigin=null,n.resetNodePoint(),this.delegateShapeBBox=null}},updateDelegate:function(r){var t=this.graph,e=r.target.get("groupId"),n=this.targetGroup.get("keyShape"),a=this.delegateShapes[e],o=n.getBBox(),s=n.get("type");if(a){var V=this,z=V.mouseOrigin,it=V.shapeOrigin,ot=r.x-z.x,yt=r.y-z.y,It=ot+it.x,zt=yt+it.y;a.attr({x:It,y:zt}),this.delegateShapeBBoxs[e]=a.getBBox()}else{var l=t.get("delegateGroup"),u=o.x,h=o.y,c=o.width,v=o.height,g=Qt({width:c,height:v},(0,Gi.default)({},Ge.delegateStyle,this.delegateStyle));if(s==="circle"){var M=c>v?c/2:v/2,F=u+M,Y=h+M;a=l.addShape("circle",{attrs:Qt({x:F,y:Y,r:M},g),name:"circle-delegate-shape"}),this.shapeOrigin={x:F,y:Y}}else a=l.addShape("rect",{attrs:Qt({x:u,y:h},g),name:"rect-delegate-shape"}),this.shapeOrigin={x:u,y:h};this.delegateShapes[e]=a,this.delegateShapeBBoxs[e]=a.getBBox()}},onOutOfRange:function(r){var t=this,e=this.graph.get("canvas").get("el"),n=function a(o){o.target!==e&&(t.onDragEnd(r),document.body.removeEventListener("mouseup",a,!0))};this.mouseOrigin&&document.body.addEventListener("mouseup",n,!0)}},QR=document.body,JR={getDefaultCfg:function(){return{updateEdge:!0,delegate:!0,delegateStyle:{},maxMultiple:1.1,minMultiple:1}},getEvents:function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd","canvas:mouseleave":"onOutOfRange",dragover:"onDragOver",dragleave:"onDragLeave"}},onDragOver:function(r){var t=this.graph,e=r.target,n=e.get("groupId");if(n&&this.origin){var a=t.get("customGroupControll"),o=a.getDeletageGroupById(n);if(o){var s=o.nodeGroup,l=s.get("keyShape");this.inGroupId=n,a.setGroupStyle(l,"hover")}}},onDragLeave:function(r){var t=this.graph,e=r.target,n=e.get("groupId");if(n&&this.origin){var a=t.get("customGroupControll"),o=a.getDeletageGroupById(n);if(o){var s=o.nodeGroup,l=s.get("keyShape");a.setGroupStyle(l,"default")}}n||(this.inGroupId=null)},onDragStart:function(r){var t=this.graph;if(!!this.shouldBegin.call(this,r)){var e=r.item;this.target=e;var n=e.getModel(),a=n.groupId;if(a){var o=t.get("customGroupControll"),s=o.getDeletageGroupById(a);if(s){var l=s.nodeGroup,u=l.get("keyShape");o.setGroupStyle(u,"hover"),this.inGroupId=a}}this.origin={x:r.x,y:r.y},this.point={},this.originPoint={}}},onDrag:function(r){if(!!this.origin&&!!this.get("shouldUpdate").call(this,r)){this.update(this.target,r,!0);var t=r.item,e=this.graph,n=t.getModel(),a=n.groupId;if(a){var o=e.get("customGroupControll"),s=o.getDeletageGroupById(a);if(s){var l=s.nodeGroup,u=l.get("keyShape");this.inGroupId!==a?o.setGroupStyle(u,"default"):o.setGroupStyle(u,"hover")}}}},onDragEnd:function(r){if(!(!this.origin||!this.shouldEnd.call(this,r))){if(this.shape&&(this.shape.remove(),this.shape=null),this.target){var t=this.target.get("delegateShape");t&&(t.remove(),this.target.set("delegateShape",null))}this.target&&this.update(this.target,r),this.point={},this.origin=null,this.originPoint={},this.target=null,this.setCurrentGroupStyle(r)}},setCurrentGroupStyle:function(r){var t=this.graph,e=r.item,n=e.getModel(),a=n.groupId,o=n.id,s=t.get("customGroupControll"),l=s.customGroup,u=t.get("groupNodes");if(this.inGroupId&&a){var h=l[a].nodeGroup;if(!h)return;var c=h.get("keyShape"),v=e.getBBox(),g=c.getBBox(),M=v.centerX,F=v.centerY,Y=g.minX,V=g.minY,z=g.maxX,it=g.maxY;if(!(M<z*this.maxMultiple&&M>Y*this.minMultiple&&F<it*this.maxMultiple&&F>V*this.minMultiple)||this.inGroupId!==a){var ot=u[a];u[a]=ot.filter(function(zt){return zt!==o}),s.dynamicChangeGroupSize(r,h,c),delete n.groupId}if(this.inGroupId!==a){var yt=l[this.inGroupId].nodeGroup;if(!yt)return;var It=yt.get("keyShape");u[this.inGroupId].indexOf(o)===-1&&u[this.inGroupId].push(o),n.groupId=this.inGroupId,s.dynamicChangeGroupSize(r,yt,It)}s.setGroupStyle(c,"default")}else if(this.inGroupId&&!a){var yt=l[this.inGroupId].nodeGroup;if(!yt)return;var c=yt.get("keyShape");u[this.inGroupId].indexOf(o)===-1&&u[this.inGroupId].push(o),n.groupId=this.inGroupId,s.dynamicChangeGroupSize(r,yt,c)}else if(!this.inGroupId&&a){Object.keys(u).forEach(function(Rt){var re=u[Rt];u[Rt]=re.filter(function(de){return de!==o})});var h=l[a].nodeGroup;if(!h)return;var c=h.get("keyShape");s.dynamicChangeGroupSize(r,h,c),delete n.groupId}this.inGroupId=null},onOutOfRange:function(r){var t=this,e=t.graph.get("canvas").get("el");function n(a){a.target!==e&&(r.item=t.target,t.onDragEnd(r),document.body.removeEventListener("mouseup",n,!0))}t.origin&&QR.addEventListener("mouseup",n,!0)},update:function(r,t,e){var n=this.origin,a=r.get("model"),o=r.get("id");this.point[o]||(this.point[o]={x:a.x,y:a.y});var s=t.x-n.x+this.point[o].x,l=t.y-n.y+this.point[o].y;if(e){this.updateDelegate(t,s,l);return}var u={x:s,y:l};this.get("updateEdge")?this.graph.updateItem(r,u):(r.updatePosition(u),this.graph.paint())},updateDelegate:function(r,t,e){var n=this.graph,a=r.item,o=n.get("groupType"),s=a.get("keyShape").getBBox();if(!this.shape){var l=n.get("delegateGroup"),u=(0,Gi.default)({},Ge.delegateStyle,this.delegateStyle);this.target&&(this.shape=l.addShape("rect",{attrs:Qt({width:s.width,height:s.height,x:t-s.width/2,y:e-s.height/2},u),name:"delegate-shape"}),this.target.set("delegateShape",this.shape)),this.shape.set("capture",!1)}this.target&&(o==="circle"?this.shape.attr({x:t-s.width/2,y:e-s.height/2}):o==="rect"&&this.shape.attr({x:t,y:e}))}},tx="dblclick",qR=["click","dblclick"],t3={getDefaultCfg:function(){return{trigger:tx}},getEvents:function(){var r,t;return qR.includes(this.trigger)?t=this.trigger:(t=tx,console.warn("Behavior collapse-expand-group \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),r={},r[""+t]="onGroupClick",r},onGroupClick:function(r){var t=r.target,e=this.graph,n=t.get("groupId");if(!!n){var a=e.get("customGroupControll");a.collapseExpandGroup(n)}}},ex="click",e3=["click","dblclick"],r3={getDefaultCfg:function(){return{trigger:ex,onChange:function(){}}},getEvents:function(){var r,t;return e3.includes(this.trigger)?t=this.trigger:(t=ex,console.warn("Behavior collapse-expand \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),r={},r["node:"+t]="onNodeClick",r.touchstart="onNodeClick",r},onNodeClick:function(r){var t=r.item,e=this.graph.findDataById(t.get("id"));if(!!e){var n=e.children;if(!(!n||n.length===0)){var a=!e.collapsed;if(!!this.shouldBegin(r,a)&&(e.collapsed=a,t.getModel().collapsed=a,this.graph.emit("itemcollapsed",{item:r.item,collapsed:a}),!!this.shouldUpdate(r,a))){try{this.onChange(t,a)}catch(o){console.warn("G6 \u81EA 3.0.4 \u7248\u672C\u652F\u6301\u76F4\u63A5\u4ECE item.getModel() \u83B7\u53D6\u6E90\u6570\u636E(\u4E34\u65F6\u901A\u77E5\uFF0C\u5C06\u57283.2.0\u7248\u672C\u4E2D\u6E05\u9664)",o)}this.graph.layout()}}}}},n3=function i(r,t){if(t(r)!==!1&&r){var e=r.get("combos");if(e.length===0)return!1;(0,Zn.S6)(e,function(n){i(n,t)})}},i3={getDefaultCfg:function(){return{enableDelegate:!1,delegateStyle:{},onlyChangeComboSize:!1,activeState:"",selectedState:"selected"}},getEvents:function(){return{"combo:dragstart":"onDragStart","combo:drag":"onDrag","combo:dragend":"onDragEnd","combo:drop":"onDrop","node:drop":"onNodeDrop","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave"}},validationCombo:function(r){var t=r.item;if(!t||t.destroyed||!this.shouldUpdate(this,r))return!1;var e=t.getType();return e==="combo"},onDragStart:function(r){var t=this,e=this.graph,n=r.item;if(!!this.validationCombo(r)){this.targets=[];var a=e.findAllByState("combo",this.selectedState),o=n.get("id"),s=a.filter(function(l){var u=l.get("id");return o===u});s.length===0?this.targets.push(n):this.targets=a,this.activeState&&this.targets.map(function(l){var u=l.getModel();if(u.parentId){var h=e.findById(u.parentId);h&&e.setItemState(h,t.activeState,!0)}}),this.point={},this.originPoint={},this.origin={x:r.x,y:r.y},this.currentItemChildCombos=[],n3(n,function(l){if(l.destroyed)return!1;var u=l.getModel();return t.currentItemChildCombos.push(u.id),!0})}},onDrag:function(r){var t=this;if(!!this.origin&&!!this.validationCombo(r))if(this.enableDelegate)this.updateDelegate(r);else{if(this.activeState){var e=this.graph,n=r.item,a=n.getModel(),o=e.getCombos(),s=n.getBBox(),l=s.centerX,u=s.centerY,h=s.width,c=o.filter(function(v){var g=v.getModel();return a.parentId,g.id!==a.id&&!t.currentItemChildCombos.includes(g.id)});c.map(function(v){var g=v.getBBox(),M=g.centerX,F=g.centerY,Y=g.width,V=l-M,z=u-F,it=2*Math.sqrt(V*V+z*z);h+Y-it>.8*h?e.setItemState(v,t.activeState,!0):e.setItemState(v,t.activeState,!1)})}(0,Zn.S6)(this.targets,function(v){t.updateCombo(v,r)})}},updatePositions:function(r){var t=this;this.enableDelegate&&(0,Zn.S6)(this.targets,function(e){t.updateCombo(e,r)})},onDrop:function(r){var t=this,e=r.item;if(!(!e||!this.targets||e.destroyed)){this.updatePositions(r);var n=this.graph,a=e.getModel();this.targets.map(function(o){var s=o.getModel();s.parentId!==a.id?(t.activeState&&n.setItemState(e,t.activeState,!1),t.onlyChangeComboSize?n.updateCombo(o):n.updateComboTree(o,a.id)):n.updateCombo(e)}),this.end(e,r),this.endComparison=!0}},onNodeDrop:function(r){var t=this;if(!(!this.targets||this.targets.length===0)){this.updatePositions(r);var e=this.graph,n=r.item,a=n.getModel().comboId,o;if(a){if(this.activeState){var s=e.findById(a);e.setItemState(s,this.activeState,!1)}this.targets.map(function(l){t.onlyChangeComboSize?e.updateCombo(l):a!==l.getID()&&(o=e.findById(a),a!==l.getModel().parentId&&e.updateComboTree(l,a))})}else this.targets.map(function(l){if(t.onlyChangeComboSize)e.updateCombo(l);else{var u=l.getModel();u.comboId&&e.updateComboTree(l)}});this.endComparison=!0,this.end(o,r)}},onDragEnter:function(r){if(!!this.origin&&!!this.validationCombo(r)){var t=r.item,e=this.graph;this.activeState&&e.setItemState(t,this.activeState,!0)}},onDragLeave:function(r){if(!!this.origin&&!!this.validationCombo(r)){var t=r.item,e=this.graph;this.activeState&&e.setItemState(t,this.activeState,!1)}},onDragEnd:function(r){if(!(!this.targets||this.targets.length===0)){var t=r.item;this.updatePositions(r);var e=this.getParentCombo(t.getModel().parentId),n=this.graph;e&&this.activeState&&n.setItemState(e,this.activeState,!1),this.end(void 0,r)}},end:function(r,t){var e=this;if(!!this.origin){var n=this.graph;if(this.delegateShape){var a=n.get("delegateGroup");a.clear(),this.delegateShape=null}r&&this.activeState&&n.setItemState(r,this.activeState,!1),r||this.targets.map(function(o){e.onlyChangeComboSize?n.updateCombo(o):n.updateComboTree(o)}),this.point=[],this.origin=null,this.originPoint=null,this.targets.length=0}},traverse:function(r,t){var e=this;if(t(r)!==!1&&r){var n=r.get("combos");(0,Zn.S6)(n,function(o){e.traverse(o,t)});var a=r.get("nodes");(0,Zn.S6)(a,function(o){e.traverse(o,t)})}},updateCombo:function(r,t){var e=this;this.traverse(r,function(n){return n.destroyed?!1:(e.updateSignleItem(n,t),!0)})},updateSignleItem:function(r,t){var e=this.origin,n=this.graph,a=r.getModel(),o=r.get("id");this.point[o]||(this.point[o]={x:a.x,y:a.y});var s=t.x-e.x+this.point[o].x,l=t.y-e.y+this.point[o].y;n.updateItem(r,{x:s,y:l})},getParentCombo:function(r){var t=this.graph;if(!!r){var e=t.findById(r);if(!!e)return e}},updateDelegate:function(r){var t=this.graph;if(this.delegateShape){var v=r.x-this.origin.x+this.originPoint.minX,g=r.y-this.origin.y+this.originPoint.minY;this.delegateShape.attr({x:v,y:g})}else{var e=t.get("delegateGroup"),n=null;this.targets.length>1?n=Rm(this.targets):n=this.targets[0].getBBox();var a=n.x,o=n.y,s=n.width,l=n.height,u=n.minX,h=n.minY;this.originPoint={x:a,y:o,width:s,height:l,minX:u,minY:h};var c=Qt(Qt({},Ge.delegateStyle),this.delegateStyle);this.delegateShape=e.addShape("rect",{attrs:Qt({width:n.width,height:n.height,x:n.x,y:n.y},c),name:"combo-delegate-shape"})}}},rx="dblclick",a3=["click","dblclick"],o3={getDefaultCfg:function(){return{trigger:rx,relayout:!0}},getEvents:function(){var r,t;return a3.includes(this.trigger)?t=this.trigger:(t=rx,console.warn("Behavior collapse-expand-group \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),r={},r["combo:"+t]="onComboClick",r},onComboClick:function(r){var t=r.item,e=this,n=e.graph,a=e.relayout;if(!(!t||t.destroyed||t.getType()!=="combo")){var o=t.getModel(),s=o.id;!s||(n.collapseExpandCombo(s),a&&n.get("layout")?n.layout():n.refreshPositions())}}},nx=function(r,t,e){return r>=t&&r<=e},Vs=function(r,t,e,n){var a=.001,o={x:e.x-r.x,y:e.y-r.y},s={x:t.x-r.x,y:t.y-r.y},l={x:n.x-e.x,y:n.y-e.y},u=s.x*l.y-s.y*l.x,h=u*u,c=s.x*s.x+s.y*s.y,v=l.x*l.x+l.y*l.y,g=null;if(h>a*c*v){var M=(o.x*l.y-o.y*l.x)/u,F=(o.x*s.y-o.y*s.x)/u;nx(M,0,1)&&nx(F,0,1)&&(g={x:r.x+M*s.x,y:r.y+M*s.y})}return g},ix=function(r,t){var e=r.x,n=r.y,a=r.width,o=r.height,s=e+a/2,l=n+o/2,u=[],h={x:s,y:l};u.push({x:e,y:n}),u.push({x:e+a,y:n}),u.push({x:e+a,y:n+o}),u.push({x:e,y:n+o}),u.push({x:e,y:n});for(var c=null,v=1;v<u.length&&(c=Vs(u[v-1],u[v],h,t),!c);v++);return c},ax=function(r,t){var e=r.x,n=r.y,a=r.r,o=t.x,s=t.y,l=o-e,u=s-n,h=Math.sqrt(l*l+u*u);if(h<a)return null;var c=Math.sign(l),v=Math.sign(u),g=Math.atan(u/l);return{x:e+Math.abs(a*Math.cos(g))*c,y:n+Math.abs(a*Math.sin(g))*v}},ox=function(r,t){var e=r.rx,n=r.ry,a=r.x,o=r.y,s=t.x-a,l=t.y-o,u=Math.atan2(l/n,s/e);return u<0&&(u+=2*Math.PI),{x:a+e*Math.cos(u),y:o+n*Math.sin(u)}},Hs=function(r,t,e){e===void 0&&(e=1);var n=[r.x,r.y,e];return(!t||isNaN(t[0]))&&(t=[1,0,0,0,1,0,0,0,1]),Qm.transformMat3(n,n,t),{x:n[0],y:n[1]}},sx=function(r,t,e){e===void 0&&(e=1),(!t||isNaN(t[0]))&&(t=[1,0,0,0,1,0,0,0,1]);var n=vo.invert([],t);n||(n=[1,0,0,0,1,0,0,0,1]);var a=[r.x,r.y,e];return Qm.transformMat3(a,a,n),{x:a[0],y:a[1]}},tc=function(r,t,e){var n=r.x-t.x,a=r.y-t.y,o=r.x-e.x,s=r.y-e.y,l=(r.x*r.x-t.x*t.x-t.y*t.y+r.y*r.y)/2,u=(r.x*r.x-e.x*e.x-e.y*e.y+r.y*r.y)/2,h=a*o-n*s;return{x:-(s*l-a*u)/h,y:-(n*u-o*l)/h}},Ws=function(r,t){var e=r.x-t.x,n=r.y-t.y;return Math.sqrt(e*e+n*n)},lx=function(r,t){var e=[];return r.forEach(function(n){var a=[];n.forEach(function(o){a.push(o*t)}),e.push(a)}),e},ec=function(r){for(var t=[],e=r.length,n=0;n<e;n+=1){t[n]=[];for(var a=0;a<e;a+=1)n===a?t[n][a]=0:r[n][a]===0||!r[n][a]?t[n][a]=Infinity:t[n][a]=r[n][a]}for(var o=0;o<e;o+=1)for(var n=0;n<e;n+=1)for(var a=0;a<e;a+=1)t[n][a]>t[n][o]+t[o][a]&&(t[n][a]=t[n][o]+t[o][a]);return t},rc=function(r,t){var e=r.nodes,n=r.edges,a=[],o={};if(!e)throw new Error("invalid nodes data!");return e&&e.forEach(function(s,l){o[s.id]=l;var u=[];a.push(u)}),n&&n.forEach(function(s){var l=s.source,u=s.target,h=o[l],c=o[u];a[h][c]=1,t||(a[c][h]=1)}),a},ux=function(r,t){r.translate(t.x,t.y)},fx=function(r,t){var e=r.getMatrix();e||(e=[1,0,0,0,1,0,0,0,1]);var n=r.getCanvasBBox(),a=t.x-n.minX,o=t.y-n.minY,s=ja(e,[["t",a,o]]);r.setMatrix(s)},s3=function(r,t){var e=r.getMatrix();e||(e=[1,0,0,0,1,0,0,0,1]);var n=t;(0,ki.default)(t)||(n=[t,t]),(0,ki.default)(t)&&t.length===1&&(n=[t[0],t[0]]),e=ja(e,[["s",n[0],n[1]]]),r.setMatrix(e)},l3=function(r,t){var e=r.getMatrix();e||(e=[1,0,0,0,1,0,0,0,1]),e=ja(e,[["r",t]]),r.setMatrix(e)},bu=function(r,t,e){for(var n=[],a=0;a<r;a++)n[a]=0;return e.forEach(function(o){o.source&&(n[t[o.source]]+=1),o.target&&(n[t[o.target]]+=1)}),n};function u3(i,r,t){return(t[0]-i[0])*(r[1]-i[1])==(r[0]-i[0])*(t[1]-i[1])&&Math.min(i[0],r[0])<=t[0]&&t[0]<=Math.max(i[0],r[0])&&Math.min(i[1],r[1])<=t[1]&&t[1]<=Math.max(i[1],r[1])}var js=function(r,t,e){var n=!1,a=r.length,o=1e-6;function s(c){return Math.abs(c)<o?0:c<0?-1:1}if(a<=2)return!1;for(var l=0;l<a;l++){var u=r[l],h=r[(l+1)%a];if(u3(u,h,[t,e]))return!0;s(u[1]-e)>0!=s(h[1]-e)>0&&s(t-(e-u[1])*(u[0]-h[0])/(u[1]-h[1])-u[0])<0&&(n=!n)}return n},hx=function(r,t){return!(t.minX>r.maxX||t.maxX<r.minX||t.minY>r.maxY||t.maxY<r.minY)},f3=function(r,t){var e=!1;return(0,f.each)(r,function(n){if(Vs(n.from,n.to,t.from,t.to))return e=!0,!1}),e},nc=function(r,t){var e=function(v){var g=v.map(function(F){return F[0]}),M=v.map(function(F){return F[1]});return{minX:Math.min.apply(null,g),maxX:Math.max.apply(null,g),minY:Math.min.apply(null,M),maxY:Math.max.apply(null,M)}},n=function(v){for(var g=[],M=v.length,F=0;F<M-1;F++){var Y=v[F],V=v[F+1];g.push({from:{x:Y[0],y:Y[1]},to:{x:V[0],y:V[1]}})}if(g.length>1){var z=v[0],it=v[M-1];g.push({from:{x:it[0],y:it[1]},to:{x:z[0],y:z[1]}})}return g};if(r.length<2||t.length<2)return!1;var a=e(r),o=e(t);if(!hx(a,o))return!1;var s=!1;if((0,f.each)(t,function(c){if(js(r,c[0],c[1]))return s=!0,!1}),s||((0,f.each)(r,function(c){if(js(t,c[0],c[1]))return s=!0,!1}),s))return!0;var l=n(r),u=n(t),h=!1;return(0,f.each)(u,function(c){if(f3(l,c))return h=!0,!1}),h},Vo=function(){function i(r,t,e,n){this.x1=r,this.y1=t,this.x2=e,this.y2=n}return i.prototype.getBBox=function(){var r=Math.min(this.x1,this.x2),t=Math.min(this.y1,this.y2),e=Math.max(this.x1,this.x2),n=Math.max(this.y1,this.y2),a={x:r,y:t,minX:r,minY:t,maxX:e,maxY:n,width:e-r,height:n-t};return a},i}(),ic=function(r,t){var e={top:[r.minX,r.minY,r.maxX,r.minY],left:[r.minX,r.minY,r.minX,r.maxY],bottom:[r.minX,r.maxY,r.maxX,r.maxY],right:[r.maxX,r.minY,r.maxX,r.maxY]};return e[t]},h3=function(r,t){var e=(t.x2-t.x1)*(r.y1-t.y1)-(t.y2-t.y1)*(r.x1-t.x1),n=(r.x2-r.x1)*(r.y1-t.y1)-(r.y2-r.y1)*(r.x1-t.x1),a=(t.y2-t.y1)*(r.x2-r.x1)-(t.x2-t.x1)*(r.y2-r.y1);if(a){var o=e/a,s=n/a;if(o>=0&&o<=1&&s>=0&&s<=1)return o}return Number.POSITIVE_INFINITY},cx=function(r,t){for(var e=["top","left","bottom","right"],n=r.getBBox(),a=0,o=[],s=0;s<4;s++){var l=ic(n,e[s]),u=l[0],h=l[1],c=l[2],v=l[3];o[s]=Vs({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},{x:u,y:h},{x:c,y:v}),o[s]&&(a+=1)}return[o,a]},ac=function(r,t){for(var e=["top","left","bottom","right"],n=r.getBBox(),a=Number.POSITIVE_INFINITY,o=0,s=0;s<4;s++){var l=ic(n,e[s]),u=l[0],h=l[1],c=l[2],v=l[3],g=h3(t,new Vo(u,h,c,v));g=Math.abs(g-.5),g>=0&&g<=1&&(o+=1,a=g<a?g:a)}return o===0?-1:a},vx=function(r){var t=0,e=0;if(r.length>0){for(var n=0,a=r;n<a.length;n++){var o=a[n];t+=o.x,e+=o.y}t/=r.length,e/=r.length}return{x:t,y:e}},wu=function(r,t){return Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2)},dx=function(r,t){var e=t.x1,n=t.y1,a=t.x2-e,o=t.y2-n,s=r.x-e,l=r.y-n,u=s*a+l*o,h;u<=0?h=0:(s=a-s,l=o-l,u=s*a+l*o,u<=0?h=0:h=u*u/(a*a+o*o));var c=s*s+l*l-h;return c<0&&(c=0),c},oc=function(r,t,e){return e===void 0&&(e=.001),Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2)<Math.pow(e,2)},px=function(r,t){var e=r.x<t.x,n=r.x>t.x+t.width,a=r.y>t.y+t.height,o=r.y<t.y,s=e||n||a||o;if(!s)return 0;if(a&&!e&&!n)return Math.pow(t.y+t.height-r.y,2);if(o&&!e&&!n)return Math.pow(r.y-t.y,2);if(e&&!a&&!o)return Math.pow(t.x-r.x,2);if(n&&!a&&!o)return Math.pow(t.x+t.width-r.x,2);var l=Math.min(Math.abs(t.x-r.x),Math.abs(t.x+t.width-r.x)),u=Math.min(Math.abs(t.y-r.y),Math.abs(t.y+t.height-r.y));return l*l+u*u},c3=function(r,t){return!r||!t?r:r.replace(/\\?\{([^{}]+)\}/g,function(e,n){if(e.charAt(0)==="\\")return e.slice(1);var a=t[n];return a===0&&(a="0"),a||""})},gx=function(r){var t=[];if(r.length<2)throw new Error("point length must largn than 2, now it's "+r.length);for(var e=0,n=r;e<n.length;e++){var a=n[e],o=a.x,s=a.y;t.push(o),t.push(s)}var l=(0,pl.catmullRom2Bezier)(t);return l.unshift(["M",r[0].x,r[0].y]),l},Su=function(r,t,e,n){e===void 0&&(e=0),n===void 0&&(n=0);var a={x:(1-e)*r.x+e*t.x,y:(1-e)*r.y+e*t.y},o=[];Fn.normalize(o,[t.x-r.x,t.y-r.y]),o.length===0&&(o=[0,0]);var s=[-o[1]*n,o[0]*n];return a.x+=s[0],a.y+=s[1],a},yx=function(r,t){var e=r.length;if(!e)return"";for(var n="",a="",o=0;o<e;o++){var s=r[o];o===0?a="M{x} {y}":a="L{x} {y}",n+=c3(a,s)}return t&&(n+="Z"),n},Cu=function(r){var t=[];return r.forEach(function(e){var n=e[0];if(n!=="A")for(var a=1;a<e.length;a=a+2)t.push([e[a],e[a+1]]);else{var o=e.length;t.push([e[o-2],e[o-1]])}}),t},sc=function(r){if(r.length<2)throw new Error("point length must largn than 2, now it's "+r.length);var t=r[0],e=r[1],n=r[r.length-1],a=r[r.length-2];r.unshift(n),r.unshift(a),r.push(t),r.push(e);for(var o=[],s=1;s<r.length-2;s+=1){var l=r[s-1].x,u=r[s-1].y,h=r[s].x,c=r[s].y,v=r[s+1].x,g=r[s+1].y,M=s!==r.length-2?r[s+2].x:v,F=s!==r.length-2?r[s+2].y:g,Y=h+(v-l)/6,V=c+(g-u)/6,z=v-(M-h)/6,it=g-(F-c)/6;o.push(["C",Y,V,z,it,v,g])}return o.unshift(["M",n.x,n.y]),o},mx=function(r,t){return Fn.scale([],Fn.normalize([],r),t)},xx=function(r,t){var e=[r[1]-t[1],t[0]-r[0]],n=Math.sqrt(e[0]*e[0]+e[1]*e[1]);if(n===0)throw new Error("p0 should not be equal to p1");return[e[0]/n,e[1]/n]},bx=function(r,t){return[t[0]-r[0],t[1]-r[1]]};function wx(i,r){var t=function(c){var v=[c[0][0],c[0][1]-r],g=[c[0][0],c[0][1]+r];return"M "+v+" A "+r+","+r+",0,0,0,"+g+" A "+r+","+r+",0,0,0,"+v},e=function(c){var v=Fn.scale([],xx(c[0],c[1]),r),g=Fn.scale([],v,-1),M=Fn.add([],c[0],v),F=Fn.add([],c[1],v),Y=Fn.add([],c[1],g),V=Fn.add([],c[0],g);return"M "+M+" L "+F+" A "+[r,r,"0,0,0",Y].join(",")+" L "+V+" A "+[r,r,"0,0,0",M].join(",")};if(!i||i.length<1)return"";if(i.length===1)return t(i);if(i.length===2)return e(i);for(var n=new Array(i.length),a=0;a<n.length;++a){var o=a===0?i[i.length-1]:i[a-1],s=i[a],l=Fn.scale([],xx(o,s),r);n[a]=[Fn.add([],o,l),Fn.add([],s,l)]}var u="A "+[r,r,"0,0,0,"].join(",");return n=n.map(function(h,c){var v="";return c===0&&(v="M "+n[n.length-1][1]+" "),v+=u+h[0]+" L "+h[1],v}),n.join(" ")}function Sx(i,r){var t=i.length,e=function(h){var c=[h[0][0],h[0][1]-r],v=[h[0][0],h[0][1]+r];return"M "+c+" A "+[r,r,"0,0,0",v].join(",")+" A "+[r,r,"0,0,0",c].join(",")},n=function(h){var c=bx(h[0],h[1]),v=mx(c,r),g=Fn.add([],h[0],Fn.scale([],v,-1)),M=Fn.add([],h[1],v),F=1.2*r,Y=mx(Fn.normalize([],c),F),V=Fn.scale([],Y,-1),z=Fn.add([],g,V),it=Fn.add([],M,V),ot=Fn.add([],g,Y);return"M "+g+" C "+[z,it,M].join(",")+" S "+[ot,g].join(",")+" Z"};if(!i||t<1)return"";if(t===1)return e(i);if(t===2)return n(i);for(var a=i.map(function(u,h){var c=i[(h+1)%t];return{p:u,v:Fn.normalize([],bx(u,c))}}),o=0;o<a.length;++o){var s=o>0?o-1:t-1,l=Fn.normalize([],Fn.add([],a[s].v,Fn.scale([],a[o].v,-1)));a[o].p=Fn.add([],a[o].p,Fn.scale([],l,r))}return a.map(function(u){var h=u.p;return{x:h[0],y:h[1]}})}var Cx="shift",v3=["drag","shift","ctrl","alt","control"],d3=function(r,t){var e,n=r.getKeyShape();if(r.get("type")==="path")e=Cu(n.attr("path"));else{var a=n.getCanvasBBox();e=[[a.minX,a.minY],[a.maxX,a.minY],[a.maxX,a.maxY],[a.minX,a.maxY]]}return nc(t,e)},p3={getDefaultCfg:function(){return{delegateStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:Cx,includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return v3.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=Cx,console.warn("Behavior lasso-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.trigger==="drag"?{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd","canvas:click":"clearStates"}:{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd",keyup:"onKeyUp",keydown:"onKeyDown","canvas:click":"clearStates"}},onDragStart:function(r){var t=this.lasso,e=r.item;e||this.trigger!=="drag"&&!this.keydown||(this.selectedNodes&&this.selectedNodes.length!==0&&this.clearStates(),t||(t=this.createLasso()),this.dragging=!0,this.originPoint={x:r.x,y:r.y},this.points.push(this.originPoint),t.show())},onDragMove:function(r){!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.points.push({x:r.x,y:r.y}),this.updateLasso(r))},onDragEnd:function(r){!this.lasso&&!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.points.push(this.originPoint),this.getSelectedItems(),this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1)},getLassoPath:function(){var r=this.points,t=[];return r.length&&(r.forEach(function(e,n){n===0?t.push(["M",e.x,e.y]):t.push(["L",e.x,e.y])}),t.push(["L",r[0].x,r[0].y])),t},clearStates:function(){var r=this,t=r.graph,e=r.selectedState,n=t.findAllByState("node",e),a=t.findAllByState("edge",e);n.forEach(function(o){return t.setItemState(o,e,!1)}),a.forEach(function(o){return t.setItemState(o,e,!1)}),this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),this.selectedNodes=[],this.selectedEdges=[],t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedItems:function(){var r=this,t=this,e=t.graph,n=t.shouldUpdate,a=this.points.map(function(h){return[e.getCanvasByPoint(h.x,h.y).x,e.getCanvasByPoint(h.x,h.y).y]}),o=this.selectedState,s=[],l=[];e.getNodes().forEach(function(h){if(d3(h,a)&&n(h,"select")){s.push(h);var c=h.getModel();l.push(c.id),e.setItemState(h,o,!0)}});var u=[];this.includeEdges&&s.forEach(function(h){var c=h.getOutEdges();c.forEach(function(v){var g=v.getModel(),M=g.source,F=g.target;l.includes(M)&&l.includes(F)&&n(v,"select")&&(u.push(v),e.setItemState(v,r.selectedState,!0))})}),this.selectedEdges=u,this.selectedNodes=s,this.onSelect&&this.onSelect(s,u),e.emit("nodeselectchange",{selectedItems:{nodes:s,edges:u},select:!0})},createLasso:function(){var r=this,t=r.graph.get("delegateGroup").addShape("path",{attrs:Qt({path:[]},r.delegateStyle),capture:!1,name:"lasso-shape"});return this.lasso=t,this.points=[],t},updateLasso:function(r){var t=this;this.lasso.attr({path:t.getLassoPath()})},onKeyDown:function(r){var t=r.key;!t||(t.toLowerCase()===this.trigger.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.lasso&&(this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1),this.keydown=!1}},Mx="click",g3=["click","drag"],Ex=void 0,y3=["shift","ctrl","control","alt","meta",void 0],m3={getDefaultCfg:function(){return{trigger:Mx,key:Ex,edgeConfig:{}}},getEvents:function(){var r=this;g3.indexOf(r.trigger.toLowerCase())>-1||(r.trigger=Mx,console.warn("Behavior create-edge \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click'\uFF0C'drag'")),r.key&&y3.indexOf(r.key.toLowerCase())===-1&&(r.trigger=Ex,console.warn("Behavior create-edge \u7684 key \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'shift'\uFF0C'ctrl'\uFF0C'alt'\uFF0C'control'\uFF0C\u6216 undefined"));var t;return r.trigger==="drag"?t={"node:dragstart":"onClick","combo:dragstart":"onClick",drag:"updateEndPoint","node:drop":"onClick","combo:drop":"onClick",dragend:"onDragEnd"}:r.trigger==="click"&&(t={"node:click":"onClick",mousemove:"updateEndPoint","edge:click":"cancelCreating","canvas:click":"cancelCreating","combo:click":"onClick"}),r.key&&(t.keydown="onKeyDown",t.keyup="onKeyUp"),t},onDragEnd:function(r){var t=this;if(!(t.key&&!t.keydown)){var e=r.item;(!e||e.getID()===t.source||e.getType()!=="node")&&t.cancelCreating({item:t.edge,x:r.x,y:r.y})}},onClick:function(r){var t=this;if(!(t.key&&!t.keydown)){var e=r.item,n=t.graph,a=e.getModel();if(t.addingEdge&&t.edge){if(!t.shouldEnd.call(t,r))return;var o={target:a.id};t.source===a.id&&(o.type="loop"),n.emit("beforecreateedge",{}),n.updateItem(t.edge,o),n.emit("aftercreateedge",{edge:t.edge}),t.edge.getKeyShape().set("capture",!0),t.edge=null,t.addingEdge=!1}else{if(!t.shouldBegin.call(t,r))return;t.edge=n.addItem("edge",Qt({source:a.id,target:a.id},t.edgeConfig),!1),t.source=a.id,t.addingEdge=!0,t.edge.getKeyShape().set("capture",!1)}}},updateEndPoint:function(r){var t=this;if(!(t.key&&!t.keydown)){var e={x:r.x,y:r.y};if(!t.graph.findById(t.source)){t.addingEdge=!1;return}t.addingEdge&&t.edge&&t.graph.updateItem(t.edge,{target:e},!1)}},cancelCreating:function(r){var t=this;if(!(t.key&&!t.keydown)){var e=t.graph,n=r.item;if(t.addingEdge&&r.target&&r.target.isCanvas&&r.target.isCanvas()){e.removeItem(t.edge,!1),t.edge=null,t.addingEdge=!1;return}if(t.addingEdge&&t.edge===n){var a=!0;if(!e.get("groupByTypes"))for(var o=r.x,s=r.y,l=e.getNodes(),u=l.length,h=0;h<u;h++){var c=l[h],v=c.getModel(),g=c.getBBox();if(o<=g.maxX&&o>=g.minX&&s<=g.maxY&&s>=g.minY){if(!t.shouldEnd.call(t,{x:r.x,y:r.y,canvasX:r.canvasX,canvasY:r.canvasY,clientX:r.clientX,clientY:r.clientY,item:c}))return;e.emit("beforecreateedge",{}),e.updateItem(t.edge,{target:v.id}),e.emit("aftercreateedge",{edge:t.edge}),a=!1;break}}a&&e.removeItem(t.edge,!1),t.edge=null,t.addingEdge=!1}}},onKeyDown:function(r){var t=this,e=r.key;!e||(e.toLowerCase()===t.key.toLowerCase()?t.keydown=!0:t.keydown=!1)},onKeyUp:function(){var r=this;r.addingEdge&&r.edge&&(r.graph.removeItem(r.edge,!1),r.addingEdge=!1,r.edge=null),this.keydown=!1}},Ax="ctrl",x3=["shift","ctrl","alt","control"],b3="1",w3={getDefaultCfg:function(){return{trigger:Ax,combinedKey:b3,functionName:"fitView",functionParams:[]}},getEvents:function(){return x3.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=Ax,console.warn("Behavior shortcuts-fit-view \u7684 trigger \u53C2\u6570 '"+this.trigger+"' \u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.combinedKey===this.trigger&&(this.combinedKey=void 0),{keyup:"onKeyUp",keydown:"onKeyDown"}},onKeyDown:function(r){var t=r.key;if(!!t){var e=this.trigger.toLowerCase(),n=t.toLowerCase();this.triggerKeydown||(n===e||n==="control"&&e==="ctrl"||n==="ctrl"&&e==="control"?this.triggerKeydown=!0:this.triggerKeydown=!1);var a=this.graph;if(!a[this.functionName])return console.warn("Behavior shortcuts-fit-view \u7684 functionName \u53C2\u6570 '"+this.functionName+"' \u4E0D\u5408\u6CD5\uFF0C\u5B83\u4E0D\u662F Graph \u7684\u4E00\u4E2A\u51FD\u6570\u540D"),{};if(this.triggerKeydown&&!this.combinedKey){this.functionParams&&this.functionParams.length?a[this.functionName].apply(a,this.functionParams):a[this.functionName]();return}var o=this.combinedKey.toLowerCase();this.triggerKeydown&&(n===o||n==="control"&&o==="ctrl"||n==="ctrl"&&o==="control")&&(this.functionParams&&this.functionParams.length?a[this.functionName].apply(a,this.functionParams):a[this.functionName]())}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.triggerKeydown=!1}},S3={"drag-canvas":OR,"zoom-canvas":UR,"drag-node":GR,"activate-relations":zR,"brush-select":VR,"click-select":WR,"lasso-select":p3,tooltip:ZR,"edge-tooltip":KR,"drag-group":$R,"drag-node-with-group":JR,"collapse-expand-group":t3,"collapse-expand":r3,"drag-combo":i3,"collapse-expand-combo":o3,"create-edge":m3,"shortcuts-call":w3};(0,Cn.default)(S3,function(i,r){Uh.registerBehavior(r,i)});var Tx=Uh,Ho=d(14563),Us=d(70673),Ba=d(83077),Px=d(54544),C3=function(r){var t=(0,Px.default)(r.groups,"id"),e=(0,Px.default)(r.groups,"parentId"),n={};for(var a in e)if(!!a){var o=e[a],s=t[a];if(s&&o){var l=Xs(o,s);n[a]=l}else o&&(n[a]=o)}var u=Qt(Qt({},t),n),h={};for(var c in u)if(!(!c||c==="undefined")){var o=u[c].map(function(F){return F.id});h[c]=o}var v={},g=function(F){if(!F||F==="undefined")return"continue";for(var Y=h[F],V=[],z=0,it=Y;z<it.length;z++){var ot=it[z],yt=u[ot].map(function(zt){return zt.id});V.push.apply(V,yt)}var It=r.nodes?r.nodes.filter(function(zt){return V.indexOf(zt.groupId)>-1||V.indexOf(zt.parentId)>-1}).map(function(zt){return zt.id}):[];v[F]=It};for(var c in h)g(c);return v},M3=function(){function i(r){this.graph=r,this.destroyed=!1,this.modes=r.get("modes")||{default:[]},this.formatModes(),this.mode=r.get("defaultMode")||"default",this.currentBehaves=[],this.setMode(this.mode)}return i.prototype.formatModes=function(){var r=this.modes;(0,Cn.default)(r,function(t){(0,Cn.default)(t,function(e,n){(0,mn.default)(e)&&(t[n]={type:e})})})},i.prototype.setBehaviors=function(r){var t=this.graph,e=this.modes[r],n=[],a;(0,Cn.default)(e||[],function(o){var s=Uh.getBehavior(o.type);!s||(a=new s(o),a&&(a.bind(t),n.push(a)))}),this.currentBehaves=n},i.mergeBehaviors=function(r,t){return(0,Cn.default)(t,function(e){r.indexOf(e)<0&&((0,mn.default)(e)&&(e={type:e}),r.push(e))}),r},i.filterBehaviors=function(r,t){var e=[];return r.forEach(function(n){var a="";(0,mn.default)(n)?a=n:a=n.type,t.indexOf(a)<0&&e.push(n)}),e},i.prototype.setMode=function(r){var t=this,e=t.modes,n=t.graph,a=r,o=e[a];!o||(n.emit("beforemodechange",{mode:r}),(0,Cn.default)(this.currentBehaves,function(s){s.unbind(n)}),this.setBehaviors(a),n.emit("aftermodechange",{mode:r}),this.mode=r)},i.prototype.getMode=function(){return this.mode},i.prototype.manipulateBehaviors=function(r,t,e){var n=this,a;if((0,ki.default)(r)?a=r:a=[r],(0,ki.default)(t))return(0,Cn.default)(t,function(s){n.modes[s]?e?n.modes[s]=i.mergeBehaviors(n.modes[s]||[],a):n.modes[s]=i.filterBehaviors(n.modes[s]||[],a):e&&(n.modes[s]=a)}),this;var o=t;return t||(o=this.mode),this.modes[o]||e&&(this.modes[o]=a),e?this.modes[o]=i.mergeBehaviors(this.modes[o]||[],a):this.modes[o]=i.filterBehaviors(this.modes[o]||[],a),this.setMode(this.mode),this},i.prototype.destroy=function(){this.graph=null,this.modes=null,this.currentBehaves=null,this.destroyed=!0},i}(),E3=M3,A3=function(){function i(r){this.destroyed=!1,this.graph=r,this.destroyed=!1}return i.prototype.getViewCenter=function(){var r=this.getFormatPadding(),t=this.graph,e=this.graph.get("width"),n=t.get("height");return{x:(e-r[1]-r[3])/2+r[3],y:(n-r[0]-r[2])/2+r[0]}},i.prototype.fitCenter=function(){var r=this.graph,t=r.get("group");t.resetMatrix();var e=t.getCanvasBBox();if(!(e.width===0||e.height===0)){var n=this.getViewCenter(),a={x:e.x+e.width/2,y:e.y+e.height/2};r.translate(n.x-a.x,n.y-a.y)}},i.prototype.fitView=function(){var r=this.graph,t=this.getFormatPadding(),e=r.get("width"),n=r.get("height"),a=r.get("group");a.resetMatrix();var o=a.getCanvasBBox();if(!(o.width===0||o.height===0)){var s=this.getViewCenter(),l={x:o.x+o.width/2,y:o.y+o.height/2};r.translate(s.x-l.x,s.y-l.y);var u=(e-t[1]-t[3])/o.width,h=(n-t[0]-t[2])/o.height,c=u;u>h&&(c=h),r.zoom(c,s)}},i.prototype.getFormatPadding=function(){var r=this.graph.get("fitViewPadding");return $h(r)},i.prototype.focusPoint=function(r,t,e){var n=this,a=this.getViewCenter(),o=this.getPointByCanvas(a.x,a.y),s=this.graph.get("group").getMatrix();if(s||(s=[1,0,0,0,1,0,0,0,1]),t){var l=(o.x-r.x)*s[0],u=(o.y-r.y)*s[4],h=0,c=0,v=0,g=0;this.graph.get("canvas").animate(function(M){v=l*M,g=u*M,n.graph.translate(v-h,g-c),h=v,c=g},Qt({},e))}else this.graph.translate((o.x-r.x)*s[0],(o.y-r.y)*s[4])},i.prototype.getPointByCanvas=function(r,t){var e=this.graph.get("group").getMatrix();e||(e=[1,0,0,0,1,0,0,0,1]);var n=sx({x:r,y:t},e);return n},i.prototype.getPointByClient=function(r,t){var e=this.graph.get("canvas"),n=e.getPointByClient(r,t);return this.getPointByCanvas(n.x,n.y)},i.prototype.getClientByPoint=function(r,t){var e=this.graph.get("canvas"),n=this.getCanvasByPoint(r,t),a=e.getClientByPoint(n.x,n.y);return{x:a.x,y:a.y}},i.prototype.getCanvasByPoint=function(r,t){var e=this.graph.get("group").getMatrix();return e||(e=[1,0,0,0,1,0,0,0,1]),Hs({x:r,y:t},e)},i.prototype.focus=function(r,t,e){(0,mn.default)(r)&&(r=this.graph.findById(r));var n=r.get("group"),a=n.getMatrix();a||(a=[1,0,0,0,1,0,0,0,1]),r&&this.focusPoint({x:a[6],y:a[7]},t,e)},i.prototype.changeSize=function(r,t){var e=this.graph;if(!(0,ka.default)(r)||!(0,ka.default)(t))throw Error("invalid canvas width & height, please make sure width & height type is number");e.set({width:r,height:t});var n=e.get("canvas");n.changeSize(r,t);var a=e.get("plugins");a.forEach(function(o){if(o.get("gridContainer")){var s=e.get("minZoom");(0,Pn.Z)(o.get("container"),{width:r+"px",height:t+"px"}),(0,Pn.Z)(o.get("gridContainer"),{width:r/s+"px",height:t/s+"px",left:0,top:0})}})},i.prototype.destroy=function(){this.graph=null,this.destroyed=!1},i}(),T3=A3,Zs=d(73136),Mu=d(61262),P3=function(){function i(r){this.preItem=null,this.graph=r,this.extendEvents=[],this.dragging=!1,this.destroyed=!1,this.initEvents()}return i.prototype.initEvents=function(){var r=this,t=r.graph,e=r.extendEvents,n=t.get("canvas"),a=n.get("el"),o=(0,Mu.default)(this,"onCanvasEvents"),s=(0,Mu.default)(this,"onExtendEvents"),l=(0,Mu.default)(this,"onWheelEvent");n.on("*",o),this.canvasHandler=o,e.push((0,Zs.Z)(a,"DOMMouseScroll",l)),e.push((0,Zs.Z)(a,"mousewheel",l)),typeof window!="undefined"&&(e.push((0,Zs.Z)(window,"keydown",s)),e.push((0,Zs.Z)(window,"keyup",s)),e.push((0,Zs.Z)(window,"focus",s)))},i.getItemRoot=function(r){for(;r&&!r.get("item");)r=r.get("parent");return r},i.prototype.onCanvasEvents=function(r){var t=this.graph,e=t.get("canvas"),n=r.target,a=r.type;r.canvasX=r.x,r.canvasY=r.y;var o={x:r.canvasX,y:r.canvasY},s=t.get("group"),l=s.getMatrix();if(l||(l=[1,0,0,0,1,0,0,0,1]),Fm(l)&&(o=t.getPointByClient(r.clientX,r.clientY)),r.x=o.x,r.y=o.y,r.currentTarget=t,n===e){a==="mousemove"&&this.handleMouseMove(r,"canvas"),r.target=e,r.item=null,t.emit(a,r),t.emit("canvas:"+a,r);return}var u=i.getItemRoot(n);if(!u){t.emit(a,r);return}var h=u.get("item");if(!h.destroyed){var c=h.getType();if(r.target=n,r.item=h,r.canvasX===r.x&&r.canvasY===r.y){var v=t.getCanvasByPoint(r.x,r.y);r.canvasX=v.x,r.canvasY=v.y}t.emit(a,r),r.name&&!r.name.includes(":")?t.emit(c+":"+a,r):t.emit(r.name,r),a==="dragstart"&&(this.dragging=!0),a==="dragend"&&(this.dragging=!1),a==="mousemove"&&this.handleMouseMove(r,c)}},i.prototype.onExtendEvents=function(r){this.graph.emit(r.type,r)},i.prototype.onWheelEvent=function(r){(0,Ii.default)(r.wheelDelta)&&(r.wheelDelta=-r.detail),this.graph.emit("wheel",r)},i.prototype.handleMouseMove=function(r,t){var e=this,n=e.graph,a=e.preItem,o=n.get("canvas"),s=r.target===o?null:r.item;r=pu(r),a&&a!==s&&!a.destroyed&&(r.item=a,this.emitCustomEvent(a.getType(),"mouseleave",r),this.dragging&&this.emitCustomEvent(a.getType(),"dragleave",r)),s&&a!==s&&(r.item=s,this.emitCustomEvent(t,"mouseenter",r),this.dragging&&this.emitCustomEvent(t,"dragenter",r)),this.preItem=s},i.prototype.emitCustomEvent=function(r,t,e){e.type=t,this.graph.emit(r+":"+t,e)},i.prototype.destroy=function(){var r=this,t=r.graph,e=r.canvasHandler,n=r.extendEvents,a=t.get("canvas");a.off("*",e),(0,Cn.default)(n,function(o){o.remove()}),this.dragging=!1,this.preItem=null,this.extendEvents.length=0,this.canvasHandler=null,this.destroyed=!0},i}(),_3=P3,_x=d(8289),Lx=d(33643),Ox=d(85260),L3=d(58070),O3={" ":.3329986572265625,a:.5589996337890625,A:.6569992065429687,b:.58599853515625,B:.6769989013671875,c:.5469985961914062,C:.7279998779296875,d:.58599853515625,D:.705999755859375,e:.554998779296875,E:.63699951171875,f:.37299957275390627,F:.5769989013671875,g:.5909988403320312,G:.7479995727539063,h:.555999755859375,H:.7199996948242188,i:.255999755859375,I:.23699951171875,j:.26699981689453123,J:.5169998168945312,k:.5289993286132812,K:.6899993896484375,l:.23499908447265624,L:.5879989624023437,m:.854998779296875,M:.8819992065429687,n:.5589996337890625,N:.7189987182617188,o:.58599853515625,O:.7669998168945312,p:.58599853515625,P:.6419998168945312,q:.58599853515625,Q:.7669998168945312,r:.3649993896484375,R:.6759994506835938,s:.504998779296875,S:.6319992065429687,t:.354998779296875,T:.6189987182617187,u:.5599990844726562,U:.7139999389648437,v:.48199920654296874,V:.6389999389648438,w:.754998779296875,W:.929998779296875,x:.5089996337890625,X:.63699951171875,y:.4959991455078125,Y:.66199951171875,z:.48699951171875,Z:.6239990234375,"0":.6,"1":.40099945068359377,"2":.6,"3":.6,"4":.6,"5":.6,"6":.6,"7":.5469985961914062,"8":.6,"9":.6,"[":.3329986572265625,"]":.3329986572265625,",":.26399993896484375,".":.26399993896484375,";":.26399993896484375,":":.26399993896484375,"{":.3329986572265625,"}":.3329986572265625,"\\":.5,"|":.19499969482421875,"=":.604998779296875,"+":.604998779296875,"-":.604998779296875,_:.5,"`":.3329986572265625," ~":.8329986572265625,"!":.3329986572265625,"@":.8579986572265625,"#":.6,$:.6,"%":.9699996948242188,"^":.517999267578125,"&":.7259994506835937,"*":.505999755859375,"(":.3329986572265625,")":.3329986572265625,"<":.604998779296875,">":.604998779296875,"/":.5,"?":.53699951171875},Ea=Math.PI,lc=Math.sin,uc=Math.cos,Di=lc(Ea/8),Fi=uc(Ea/8),Eu=function(r,t){var e=r.getBBox(),n={x:e.minX,y:e.minY},a={x:e.maxX,y:e.maxY};if(t){var o=t.getMatrix();o||(o=[1,0,0,0,1,0,0,0,1]),n=Hs(n,o),a=Hs(a,o)}var s=n.x,l=n.y,u=a.x,h=a.y;return{x:s,y:l,minX:s,minY:l,maxX:u,maxY:h,width:u-s,height:h-l}},Ix=function(r){var t=r.sourceNode||r.targetNode,e=t.get("group"),n=e.getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]);var a=t.getKeyShape(),o=a.getBBox(),s=r.loopCfg||{},l=s.dist||Math.max(o.width,o.height)*2,u=s.position||Ge.defaultLoopPosition,h=[n[6],n[7]],c=[r.startPoint.x,r.startPoint.y],v=[r.endPoint.x,r.endPoint.y],g=o.height/2,M=o.height/2,F=g*Di,Y=g*Fi,V=M*Di,z=M*Fi;if(c[0]===v[0]&&c[1]===v[1]){switch(u){case"top":c=[h[0]-F,h[1]-Y],v=[h[0]+V,h[1]-z];break;case"top-right":g=o.height/2,M=o.width/2,F=g*Di,Y=g*Fi,V=M*Di,z=M*Fi,c=[h[0]+F,h[1]-Y],v=[h[0]+z,h[1]-V];break;case"right":g=o.width/2,M=o.width/2,F=g*Di,Y=g*Fi,V=M*Di,z=M*Fi,c=[h[0]+Y,h[1]-F],v=[h[0]+z,h[1]+V];break;case"bottom-right":g=o.width/2,M=o.height/2,F=g*Di,Y=g*Fi,V=M*Di,z=M*Fi,c=[h[0]+Y,h[1]+F],v=[h[0]+V,h[1]+z];break;case"bottom":g=o.height/2,M=o.height/2,F=g*Di,Y=g*Fi,V=M*Di,z=M*Fi,c=[h[0]+F,h[1]+Y],v=[h[0]-V,h[1]+z];break;case"bottom-left":g=o.height/2,M=o.width/2,F=g*Di,Y=g*Fi,V=M*Di,z=M*Fi,c=[h[0]-F,h[1]+Y],v=[h[0]-z,h[1]+V];break;case"left":g=o.width/2,M=o.width/2,F=g*Di,Y=g*Fi,V=M*Di,z=M*Fi,c=[h[0]-Y,h[1]+F],v=[h[0]-z,h[1]-V];break;case"top-left":g=o.width/2,M=o.height/2,F=g*Di,Y=g*Fi,V=M*Di,z=M*Fi,c=[h[0]-Y,h[1]-F],v=[h[0]-V,h[1]-z];break;default:g=o.width/2,M=o.width/2,F=g*Di,Y=g*Fi,V=M*Di,z=M*Fi,c=[h[0]-F,h[1]-Y],v=[h[0]+V,h[1]-z]}if(s.clockwise===!1){var it=[c[0],c[1]];c=[v[0],v[1]],v=[it[0],it[1]]}}var ot=[c[0]-h[0],c[1]-h[1]],yt=(g+l)/g,It=(M+l)/M;s.clockwise===!1&&(yt=(M+l)/M,It=(g+l)/g);var zt=Fn.scale([],ot,yt),jt=[h[0]+zt[0],h[1]+zt[1]],Rt=[v[0]-h[0],v[1]-h[1]],re=Fn.scale([],Rt,It),de=[h[0]+re[0],h[1]+re[1]];return r.startPoint={x:c[0],y:c[1]},r.endPoint={x:v[0],y:v[1]},r.controlPoints=[{x:jt[0],y:jt[1]},{x:de[0],y:de[1]}],r},Au=function(r,t,e,n,a){var o=1e-4,s=[],l=r.getPoint(t);if(l===null)return{x:0,y:0,angle:0};if(t<o)s=r.getStartTangent().reverse();else if(t>1-o)s=r.getEndTangent();else{var u=r.getPoint(t+o);s.push([l.x,l.y]),s.push([u.x,u.y])}var h=Math.atan2(s[1][1]-s[0][1],s[1][0]-s[0][0]);if(h<0&&(h+=Ea*2),e&&(l.x+=uc(h)*e,l.y+=lc(h)*e),n){var c=h-Ea/2;h>1/2*Ea&&h<3*1/2*Ea&&(c-=Ea),l.x+=uc(c)*n,l.y+=lc(c)*n}var v={x:l.x,y:l.y,angle:h};return a?(h>1/2*Ea&&h<3*1/2*Ea&&(h-=Ea),Qt({rotate:h},v)):v},kx=function i(r,t){if(t(r)===!1)return!1;if(r&&r.children){for(var e=r.children.length-1;e>=0;e--)if(!i(r.children[e],t))return!1}return!0},I3=function i(r,t){if(r&&r.children){for(var e=r.children.length-1;e>=0;e--)if(!i(r.children[e],t))return}return t(r)!==!1},Zi=function(r,t){typeof t=="function"&&kx(r,t)},Aa=function(r,t){typeof t=="function"&&I3(r,t)},Bx=function(r,t){var e=["V","TB","BT"],n={x:Infinity,y:Infinity},a={x:-Infinity,y:-Infinity},o="x",s="y";t&&e.indexOf(t)>=0&&(s="x",o="y");var l=0;Zi(r,function(c){return l++,c.x>a.x&&(a.x=c.x),c.x<n.x&&(n.x=c.x),c.y>a.y&&(a.y=c.y),c.y<n.y&&(n.y=c.y),!0});var u=Ea*2/l,h=a[s]-n[s];return h===0||Zi(r,function(c){var v=(c[s]-n[s])/h*(Ea*2-u)+u,g=Math.abs(o==="x"?c.x-r.x:c.y-r.y);return c.x=g*Math.cos(v),c.y=g*Math.sin(v),!0}),r},Dx=function(r,t){return t*(O3[r]||1)},Fx=function(r,t){var e=0,n=new RegExp("[\u4E00-\u9FA5]+");return r.split("").forEach(function(a){n.test(a)?e+=t:e+=Dx(a,t)}),[e,t]},fc=function(r,t){var e=[],n={},a={};r.forEach(function(s){a[s.id]=s}),r.forEach(function(s,l){var u=(0,f.clone)(s);u.itemType="combo",u.children=void 0,u.parentId===u.id?(console.warn("The parentId for combo "+u.id+" can not be the same as the combo's id"),delete u.parentId):u.parentId&&!a[u.parentId]&&(console.warn("The parent combo for combo "+u.id+" does not exist!"),delete u.parentId);var h=n[u.id];if(h){if(u.children=h.children,n[u.id]=u,h=u,!h.parentId){e.push(h);return}var c=n[h.parentId];if(c)c.children?c.children.push(u):c.children=[u];else{var v={id:h.parentId,children:[h]};n[h.parentId]=v,n[u.id]=u}return}if((0,f.isString)(s.parentId)){var g=n[s.parentId];if(g)g.children?g.children.push(u):g.children=[u],n[u.id]=u;else{var M={id:s.parentId,children:[u]};n[M.id]=M,n[u.id]=u}}else e.push(u),n[u.id]=u});var o={};return(t||[]).forEach(function(s){o[s.id]=s;var l=n[s.comboId];if(l){var u={id:s.id,comboId:s.comboId};l.children?l.children.push(u):l.children=[u],u.itemType="node",n[s.id]=u}}),e.forEach(function(s){s.depth=0,kx(s,function(l){var u,h=n[l.id].itemType;h==="node"?u=n[l.comboId]:u=n[l.parentId],u?h==="node"?l.depth=u.depth+1:l.depth=u.depth+2:l.depth=0;var c=o[l.id];return c&&(c.depth=l.depth),!0})}),e},hc=function(r,t,e){var n=r,a,o={root:{children:r}},s=!1,l="root";(r||[]).forEach(function(g){if(!s){if(g.id===t){a=g,g.itemType==="combo"?a.parentId=e:a.comboId=e,s=!0;return}Zi(g,function(M){return o[M.id]={children:M.children},n=o[M.parentId||M.comboId||"root"].children,M&&(M.removed||t===M.id)&&n?(l=M.parentId||M.comboId||"root",a=M,M.itemType==="combo"?a.parentId=e:a.comboId=e,s=!0,!1):!0})}}),n=o[l].children;var u=n?n.indexOf(a):-1;if(u>-1&&n.splice(u,1),s||(a={id:t,itemType:"node",comboId:e},o[t]={children:void 0}),t){var h=!1;if(e){var c=0;(r||[]).forEach(function(g){h||Zi(g,function(M){return e===M.id?(h=!0,M.children?M.children.push(a):M.children=[a],c=M.depth,a.itemType==="node"?a.depth=c+2:a.depth=c+1,!1):!0})})}else(!e||!h)&&a.itemType!=="node"&&r.push(a);var v=a.depth;Zi(a,function(g){return g.itemType==="node"?v+=2:v+=1,g.depth=v,!0})}return r},cc=function(r,t){var e={minX:Infinity,minY:Infinity,maxX:-Infinity,maxY:-Infinity,x:void 0,y:void 0,width:void 0,height:void 0,centerX:void 0,centerY:void 0};return!r||r.length===0||(r.forEach(function(n){var a=t.findById(n.id);if(!(!a||!a.isVisible())){a.set("bboxCanvasCache",void 0);var o=a.getCanvasBBox();o.x&&e.minX>o.minX&&(e.minX=o.minX),o.y&&e.minY>o.minY&&(e.minY=o.minY),o.x&&e.maxX<o.maxX&&(e.maxX=o.maxX),o.y&&e.maxY<o.maxY&&(e.maxY=o.maxY)}}),e.x=(e.minX+e.maxX)/2,e.y=(e.minY+e.maxY)/2,e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.centerX=(e.minX+e.maxX)/2,e.centerY=(e.minY+e.maxY)/2,Object.keys(e).forEach(function(n){(e[n]===Infinity||e[n]===-Infinity)&&(e[n]=void 0)})),e},k3=function(r){var t=r.group,e=r.height,n=r.width,a=r.x,o=r.y,s=t.get("canvas"),l=s.get("width"),u=s.get("height"),h={start:{x:0,y:0},end:{x:0,y:0}};return h.start.x=a/l,h.start.y=o/u,h.end.x=(a+n)/l,h.end.y=(o+e)/u,h};function Tu(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Tu=function(t){return typeof t}:Tu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tu(i)}function Rx(i){if(typeof i!="string")return i;var r=function(zt){if(typeof zt!="string")return zt;try{return JSON.parse(zt.trim())}catch(jt){return zt.trim()}},t=r(i);if(typeof t!="string")return t;for(var e=function(zt){return zt[zt.length-1]},n=i.trim(),a=[],o=[],s=function(){for(var zt=[],jt=0;jt<arguments.length;jt++)zt[jt]=arguments[jt];return zt.some(function(Rt){return e(o)===Rt})},l=function(){return e(a)},u=null,h=0,c="";h<n.length;){var v=n[h],g=s('"',"'");if(!g&&!v.trim()){h+=1;continue}var M=n[h-1]==="\\",F=s("}"),Y=s("]"),V=s(","),z=l();if(g)if(e(o)===v&&!M){o.pop();var it=r(c);z.push(it),u=it,c=""}else c+=v;else if(Y&&v===",")c&&(z.push(r(c)),c="");else if(F&&v===":")o.push(","),c&&(z.push(c),c="");else if(V&&v===",")c&&(z.push(r(c)),c=""),o.pop();else if(v==="}"&&(F||V)){c&&(z.push(r(c)),c=""),V&&o.pop();for(var ot={},yt=1;yt<z.length;yt+=2)ot[z[yt-1]]=z[yt];a.pop(),a.length&&e(a).push(ot),o.pop(),u=ot}else v==="]"&&Y?(c&&(z.push(r(c)),c=""),a.pop(),a.length&&e(a).push(z),o.pop(),u=z):v==="{"?(a.push([]),o.push("}")):v==="["?(a.push([]),o.push("]")):v==='"'?o.push('"'):v==="'"?o.push("'"):c+=v;h+=1}return u||c}var B3=function(r){return r.split("-").reduce(function(t,e){return t+e.charAt(0).toUpperCase()+e.slice(1)})},D3=function(r){return function(t){for(var e=r.length,n=[],a=0,o="";a<e;)if(r[a]==="{"&&r[a+1]==="{")n.push(o),o="",a+=2;else if(r[a]==="}"&&r[a+1]==="}"){if(n.length){var s=n.pop();o=(0,L3.default)(t,o,s.endsWith("=")?'"{'+o+'}"':o),n.push(s+o)}a+=2,o=""}else o+=r[a],a+=1;return n.push(o),n.map(function(l,u){return n[u-1]&&n[u-1].endsWith("=")?'"{'+l+'}"':l}).join("")}};function Nx(i,r){var t={},e=i.getAttributeNames&&i.getAttributeNames()||[],n=i.children&&Array.from(i.children).map(function(s){return Nx(s,r)}),a={},o=i.tagName?i.tagName.toLowerCase():"group";return o==="text"&&(t.text=i.innerText),a.type=o,o==="img"&&(a.type="image"),Array.from(e).forEach(function(s){var l=B3(s),u=i.getAttribute(s);try{if(l==="style"||l==="attrs"){var h=Rx(u);t=Qt(Qt({},t),h)}else a[l]=Rx(u)}catch(c){if(l==="style")throw c;a[l]=u}}),a.attrs=t,r&&r.style&&a.name&&Tu(r.style[a.name])==="object"&&(a.attrs=Qt(Qt({},a.attrs),r.style[a.name])),r&&r.style&&a.keyshape&&(a.attrs=Qt(Qt({},a.attrs),r.style)),n.length&&(a.children=n),a}function F3(i,r,t){var e=i.attrs,n=e===void 0?{}:e,a={x:r.x||0,y:r.y||0,width:t.width||0,height:t.height||0},o,s;switch(i.type){case"maker":case"circle":n.r&&(s=2*n.r,o=2*n.r);break;case"text":n.text&&(s=Fx(n.text,n.fontSize||12)[0],o=16,a.y+=o,a.height=o,a.width=s,i.attrs=Qt({fontSize:12,fill:"#000"},n));break;default:n.width&&(s=n.width),n.height&&(o=n.height)}return o>=0&&(a.height=o),s>=0&&(a.width=s),n.marginTop&&(a.y+=n.marginTop),n.marginLeft&&(a.x+=n.marginLeft),a}function Yx(i,r){var t;r===void 0&&(r={x:0,y:0});var e=Qt({x:0,y:0,width:0,height:0},r);if((t=i.children)===null||t===void 0?void 0:t.length){var n=i.attrs,a=n===void 0?{}:n,o=a.marginTop,s=Qt({},r);o&&(s.y+=o);for(var l=0;l<i.children.length;l++){i.children[l].attrs.key=(a.key||"root")+" -"+l+" ";var u=Yx(i.children[l],s);if(u.bbox){var h=u.bbox;u.attrs.next==="inline"?s.x+=u.bbox.width:s.y+=u.bbox.height,h.width+h.x>e.width&&(e.width=h.width+h.x),h.height+h.y>e.height&&(e.height=h.height+h.y)}}}return i.bbox=F3(i,r,e),i.attrs=Qt(Qt({},i.attrs),i.bbox),i}function Gx(i,r){var t,e,n,a,o=(i||{}).type,s=((r==null?void 0:r.attrs)||{}).key;if(s&&i&&(i.attrs.key=s),!i&&r)return{action:"delete",val:r,type:o,key:s};if(i&&!r)return{action:"add",val:i,type:o};if(!i&&!r)return{action:"same",type:o};var l=[];if(((t=i.children)===null||t===void 0?void 0:t.length)>0||((e=r.children)===null||e===void 0?void 0:e.length)>0)for(var u=Math.max((n=i.children)===null||n===void 0?void 0:n.length,(a=r.children)===null||a===void 0?void 0:a.length),h=r.children||[],c=i.children||[],v=0;v<u;v+=1)l.push(Gx(c[v],h[v]));var g=Object.keys(r.attrs),M=Object.keys(i.attrs);return r.type!==i.type?{action:"restructure",nowTarget:i,formerTarget:r,key:s,children:l}:g.filter(function(F){return F!=="children"}).some(function(F){return i.attrs[F]!==r.attrs[F]||!M.includes(F)})?{action:"change",val:i,children:l,type:o,key:s}:{action:"same",children:l,type:o,key:s}}function zx(i){var r={},t=function(n){var a=typeof i=="function"?i(n):i,o=D3(a)(n),s=document.createElement("div");s.innerHTML=o;var l=s.children[0],u=Yx(Nx(l,n));return s.remove(),u};return{draw:function(n,a){var o=t(n),s=a,l=function u(h){var c=h.attrs,v=c===void 0?{}:c,g=h.bbox,M=h.type,F=h.children,Y=ji(h,["attrs","bbox","type","children"]);if(h.type!=="group"){var V=a.addShape(h.type,Qt({attrs:v,origin:{bbox:g,type:M,children:F}},Y));h.keyshape&&(s=V)}h.children&&h.children.forEach(function(z){return u(z)})};return l(o),r[n.id]=[o],s},update:function(n,a){r[n.id]||(r[n.id]=[]);var o=a.getContainer(),s=o.get("children"),l=t(n),u=r[n.id].pop(),h=Gx(l,u),c=function M(F){var Y;F.type!=="group"&&o.addShape(F.type,{attrs:F.attrs}),((Y=F.children)===null||Y===void 0?void 0:Y.length)&&F.children.map(function(V){return M(V)})},v=function M(F){var Y,V=s.find(function(z){return z.attrs.key===F.attrs.key});V&&o.removeChild(V),((Y=F.children)===null||Y===void 0?void 0:Y.length)&&F.children.map(function(z){return M(z)})},g=function M(F){var Y=F.key;if(F.type!=="group"){var V=s.find(function(it){return it.attrs.key===Y});switch(F.action){case"change":if(V){var z=F.val.keyshape?a.getOriginStyle():{};V.attr(Qt(Qt({},z),F.val.attrs))}break;case"add":c(F.val);break;case"delete":v(F.val);break;case"restructure":v(F.formerTarget),c(F.nowTarget);break;default:break}}F.children&&F.children.forEach(function(it){return M(it)})};g(h),r[n.id].push(l)},getAnchorPoints:function(){return[[0,.5],[1,.5],[.5,1],[.5,0]]}}}var vc={};function Xx(i){return vc[i]||(vc[i]=(0,f.upperFirst)(i)),vc[i]}var R3={defaultShapeType:"defaultType",className:null,getShape:function(r){var t=this,e=t[r]||t[t.defaultShapeType];return e},draw:function(r,t,e){var n=this.getShape(r),a=n.draw(t,e);return n.afterDraw&&n.afterDraw(t,e,a),a},baseUpdate:function(r,t,e){var n=this.getShape(r);n.update&&n.update(t,e),n.afterUpdate&&n.afterUpdate(t,e)},setState:function(r,t,e,n){var a=this.getShape(r);a.setState(t,e,n)},shouldUpdate:function(r){var t=this.getShape(r);return!!t.update},getControlPoints:function(r,t){var e=this.getShape(r);return e.getControlPoints(t)},getAnchorPoints:function(r,t){var e=this.getShape(r);return e.getAnchorPoints(t)}},dc={options:{},draw:function(r,t){return this.drawShape(r,t)},drawShape:function(){},afterDraw:function(){},afterUpdate:function(){},setState:function(){},getControlPoints:function(r){return r.controlPoints},getAnchorPoints:function(r){var t=this.options.anchorPoints,e=r.anchorPoints||t;return e}},Pu=function(){function i(){}return i.registerFactory=function(r,t){var e=Xx(r),n=R3,a=Qt(Qt({},n),t);return i[e]=a,a.className=e,a},i.getFactory=function(r){var t=Xx(r);return i[t]},i.registerNode=function(r,t,e){var n=i.Node,a;if(typeof t=="string"||typeof t=="function"){var o=zx(t);a=Qt(Qt({},n.getShape("single-node")),o)}else if(t.jsx){var s=t.jsx,o=zx(s);a=Qt(Qt(Qt({},n.getShape("single-node")),o),t)}else{var l=e?n.getShape(e):dc;a=Qt(Qt({},l),t)}return a.type=r,a.itemType="node",n[r]=a,a},i.registerEdge=function(r,t,e){var n=i.Edge,a=e?n.getShape(e):dc,o=Qt(Qt({},a),t);return o.type=r,o.itemType="edge",n[r]=o,o},i.registerCombo=function(r,t,e){var n=i.Combo,a=e?n.getShape(e):dc,o=Qt(Qt({},a),t);return o.type=r,o.itemType="combo",n[r]=o,o},i}(),qn=Pu;Pu.registerFactory("node",{defaultShapeType:"circle"}),Pu.registerFactory("edge",{defaultShapeType:"line"}),Pu.registerFactory("combo",{defaultShapeType:"circle"});var pc="bboxCache",gc="bboxCanvasCache",N3=function(){function i(r){this._cfg={},this.destroyed=!1;var t={id:void 0,type:"item",model:{},group:void 0,animate:!1,visible:!0,locked:!1,event:!0,keyShape:void 0,states:[]};this._cfg=Object.assign(t,this.getDefaultCfg(),r);var e=this.get("model"),n=e.id,a=this.get("type");n||(n=(0,f.uniqueId)(a),this.get("model").id=n),this.set("id",n);var o=r.group;o&&(o.set("item",this),o.set("id",n)),this.init(),this.draw();var s=e.shape||e.type||(a==="edge"?"line":"circle"),l=this.get("shapeFactory");if(l&&l[s]){var u=l[s].options;if(u&&u.stateStyles){var h=this.get("styles")||e.stateStyles;h=(0,f.deepMix)({},u.stateStyles,h),this.set("styles",h)}}}return i.prototype.calculateBBox=function(){var r=this.get("keyShape"),t=this.get("group"),e=Eu(r,t);return e.x=e.minX,e.y=e.minY,e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.centerX=(e.minX+e.maxX)/2,e.centerY=(e.minY+e.maxY)/2,e},i.prototype.calculateCanvasBBox=function(){var r=this.get("keyShape"),t=this.get("group"),e=Eu(r,t);return e.x=e.minX,e.y=e.minY,e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.centerX=(e.minX+e.maxX)/2,e.centerY=(e.minY+e.maxY)/2,e},i.prototype.drawInner=function(){var r=this,t=r.get("shapeFactory"),e=r.get("group"),n=r.get("model");e.clear();var a=n.visible;if(a!==void 0&&!a&&r.changeVisibility(a),!!t){r.updatePosition(n);var o=r.getShapeCfg(n),s=o.shape||o.type,l=t.draw(s,o,e);l&&(r.set("keyShape",l),l.set("isKeyShape",!0),l.set("draggable",!0)),this.setOriginStyle(),this.set("currentShape",s),this.restoreStates(t,s)}},i.prototype.setOriginStyle=function(r){var t={},e=this.get("group"),n=e.get("children"),a=this.getKeyShape(),o=this;(0,f.each)(n,function(u){var h=u.get("name");if(h)t[h]=o.getShapeStyleByName(h);else{var c=a.get("name"),v=o.getShapeStyleByName();c?t[c]=v:Object.assign(t,v)}});var s=this.getOriginStyle(),l={};r?l=(0,f.deepMix)({},s,t,r.style,{labelCfg:r.labelCfg}):l=(0,f.deepMix)({},s,t),o.set("originStyle",l)},i.prototype.restoreStates=function(r,t){var e=this,n=e.get("states");(0,f.each)(n,function(a){r.setState(t,a,!0,e)})},i.prototype.init=function(){var r=qn.getFactory(this.get("type"));this.set("shapeFactory",r)},i.prototype.get=function(r){return this._cfg[r]},i.prototype.set=function(r,t){(0,f.isPlainObject)(r)?this._cfg=Qt(Qt({},this._cfg),r):this._cfg[r]=t},i.prototype.getDefaultCfg=function(){return{}},i.prototype.clearCache=function(){this.set(pc,null),this.set(gc,null)},i.prototype.beforeDraw=function(){},i.prototype.afterDraw=function(){},i.prototype.afterUpdate=function(){},i.prototype.draw=function(){this.beforeDraw(),this.drawInner(),this.afterDraw()},i.prototype.getShapeStyleByName=function(r){var t=this.get("group"),e=this.getKeyShape();if(r&&(e=t.find(function(a){return a.get("name")===r})),e){var n={};return(0,f.each)(e.attr(),function(a,o){o!=="img"&&(n[o]=a)}),n}return{}},i.prototype.getShapeCfg=function(r){var t=this.get("styles");if(t){var e=r;return e.style=Qt(Qt({},t),r.style),e}return r},i.prototype.getStateStyle=function(r){var t=this.get("styles"),e=t&&t[r];return e},i.prototype.getOriginStyle=function(){return this.get("originStyle")},i.prototype.getCurrentStatesStyle=function(){var r=this,t={};return(0,f.each)(r.getStates(),function(e){t=Object.assign(t,r.getStateStyle(e))}),t},i.prototype.setState=function(r,t){var e=this.get("states"),n=this.get("shapeFactory"),a=r,o=r;(0,f.isString)(t)&&(a=r+":"+t,o=r+":");var s=e;if((0,f.isBoolean)(t)){var l=e.indexOf(o);if(t){if(l>-1)return;e.push(a)}else l>-1&&e.splice(l,1)}else if((0,f.isString)(t)){var u=e.filter(function(v){return v.includes(o)});u.length>0&&this.clearStates(u),s=s.filter(function(v){return!v.includes(o)}),s.push(a),this.set("states",s)}if(n){var h=this.get("model"),c=h.shape||h.type;n.setState(c,r,t,this)}},i.prototype.clearStates=function(r){var t=this,e=t.getStates(),n=t.get("shapeFactory"),a=t.get("model"),o=a.shape||a.type;r||(r=e),(0,f.isString)(r)&&(r=[r]);var s=e.filter(function(l){return r.indexOf(l)===-1});t.set("states",s),r.forEach(function(l){n.setState(o,l,!1,t)})},i.prototype.getContainer=function(){return this.get("group")},i.prototype.getKeyShape=function(){return this.get("keyShape")},i.prototype.getModel=function(){return this.get("model")},i.prototype.getType=function(){return this.get("type")},i.prototype.getID=function(){return this.get("id")},i.prototype.isItem=function(){return!0},i.prototype.getStates=function(){return this.get("states")},i.prototype.hasState=function(r){var t=this.getStates();return t.indexOf(r)>=0},i.prototype.refresh=function(){var r=this.get("model");this.updatePosition(r),this.updateShape(),this.afterUpdate(),this.clearCache()},i.prototype.isOnlyMove=function(r){return!1},i.prototype.update=function(r){var t=this.get("model"),e=t.visible,n=r.visible;e!==n&&n!==void 0&&this.changeVisibility(n);var a={x:t.x,y:t.y};r.x=isNaN(r.x)?t.x:r.x,r.y=isNaN(r.y)?t.y:r.y;var o=this.get("styles");if(r.stateStyles){var s=r.stateStyles;(0,f.mix)(o,s),delete r.stateStyles}Object.assign(t,r);var l=this.isOnlyMove(r);l?this.updatePosition(r):((a.x!==r.x||a.y!==r.y)&&this.updatePosition(r),this.updateShape()),this.afterUpdate(),this.clearCache()},i.prototype.updateShape=function(){var r=this.get("shapeFactory"),t=this.get("model"),e=t.shape||t.type;if(r.shouldUpdate(e)&&e===this.get("currentShape")){var n=this.getShapeCfg(t);r.baseUpdate(e,n,this)}else this.draw();this.setOriginStyle(t),this.restoreStates(r,e)},i.prototype.updatePosition=function(r){var t=this.get("model"),e=(0,f.isNil)(r.x)?t.x:r.x,n=(0,f.isNil)(r.y)?t.y:r.y,a=this.get("group");(0,f.isNil)(e)||(0,f.isNil)(n)||(a.resetMatrix(),ux(a,{x:e,y:n}),t.x=e,t.y=n,this.clearCache())},i.prototype.getBBox=function(){var r=this.get(pc);return r||(r=this.calculateBBox(),this.set(pc,r)),r},i.prototype.getCanvasBBox=function(){var r=this.get(gc);return r||(r=this.calculateCanvasBBox(),this.set(gc,r)),r},i.prototype.toFront=function(){var r=this.get("group");r.toFront()},i.prototype.toBack=function(){var r=this.get("group");r.toBack()},i.prototype.show=function(){this.changeVisibility(!0)},i.prototype.hide=function(){this.changeVisibility(!1)},i.prototype.changeVisibility=function(r){var t=this.get("group");r?t.show():t.hide(),this.set("visible",r)},i.prototype.isVisible=function(){return this.get("visible")},i.prototype.enableCapture=function(r){var t=this.get("group");t&&t.set("capture",r)},i.prototype.destroy=function(){if(!this.destroyed){var r=this.get("animate"),t=this.get("group");r&&t.stopAnimate(),this.clearCache(),t.remove(),this._cfg=null,this.destroyed=!0}},i}(),Vx=N3,_u={source:"start",target:"end"},Ua="Node",cs="Point",Y3="Anchor",G3=function(i){Dn(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return{type:"edge",sourceNode:null,targetNode:null,startPoint:null,endPoint:null,linkCenter:!1}},r.prototype.setEnd=function(t,e){var n=_u[t]+cs,a=t+Ua,o=this.get(a);o&&!o.destroyed&&o.removeEdge(this),(0,f.isPlainObject)(e)?(this.set(n,e),this.set(a,null)):(e.addEdge(this),this.set(a,e),this.set(n,null))},r.prototype.getLinkPoint=function(t,e,n){var a=_u[t]+cs,o=t+Ua,s=this.get(a);if(!s){var l=this.get(o),u=t+Y3,h=this.getPrePoint(t,n),c=e[u];(0,f.isNil)(c)||(s=l.getLinkPointByAnchor(c)),s=s||l.getLinkPoint(h),(0,f.isNil)(s.index)||this.set(t+"AnchorIndex",s.index)}return s},r.prototype.getPrePoint=function(t,e){if(e&&e.length){var n=t==="source"?0:e.length-1;return e[n]}var a=t==="source"?"target":"source";return this.getEndPoint(a)},r.prototype.getEndPoint=function(t){var e=t+Ua,n=_u[t]+cs,a=this.get(e);return a?a.get("model"):this.get(n)},r.prototype.getControlPointsByCenter=function(t){var e=this.getEndPoint("source"),n=this.getEndPoint("target"),a=this.get("shapeFactory"),o=t.shape||t.type;return a.getControlPoints(o,{startPoint:e,endPoint:n})},r.prototype.getEndCenter=function(t){var e=t+Ua,n=_u[t]+cs,a=this.get(e);if(a){var o=a.getBBox();return{x:o.centerX,y:o.centerY}}return this.get(n)},r.prototype.init=function(){i.prototype.init.call(this),this.setSource(this.get("source")),this.setTarget(this.get("target"))},r.prototype.getShapeCfg=function(t){var e=this,n=e.get("linkCenter"),a=i.prototype.getShapeCfg.call(this,t);if(n)a.startPoint=e.getEndCenter("source"),a.endPoint=e.getEndCenter("target");else{var o=a.controlPoints||e.getControlPointsByCenter(a);a.startPoint=e.getLinkPoint("source",t,o),a.endPoint=e.getLinkPoint("target",t,o)}return a.sourceNode=e.get("sourceNode"),a.targetNode=e.get("targetNode"),a},r.prototype.getModel=function(){var t=this.get("model"),e=this.get("source"+Ua),n=this.get("target"+Ua);return e?delete t["source"+Ua]:t.source=this.get("start"+cs),n?delete t["target"+Ua]:t.target=this.get("end"+cs),!(0,f.isString)(t.source)&&!(0,f.isPlainObject)(t.source)&&(t.source=t.source.getID()),!(0,f.isString)(t.target)&&!(0,f.isPlainObject)(t.target)&&(t.target=t.target.getID()),t},r.prototype.setSource=function(t){this.setEnd("source",t),this.set("source",t)},r.prototype.setTarget=function(t){this.setEnd("target",t),this.set("target",t)},r.prototype.getSource=function(){return this.get("source")},r.prototype.getTarget=function(){return this.get("target")},r.prototype.updatePosition=function(){},r.prototype.update=function(t){var e=this.get("model"),n=e.visible,a=t.visible;n!==a&&a!==void 0&&this.changeVisibility(a);var o=this.get("styles");if(t.stateStyles){var s=t.stateStyles;(0,f.mix)(o,s),delete t.stateStyles}Object.assign(e,t),this.updateShape(),this.afterUpdate(),this.clearCache()},r.prototype.destroy=function(){var t=this.get("source"+Ua),e=this.get("target"+Ua);t&&!t.destroyed&&t.removeEdge(this),e&&!e.destroyed&&e.removeEdge(this),i.prototype.destroy.call(this)},r}(Vx),z3=G3,Ks=d(66974),yc="anchorPointsCache",X3="bboxCache",V3=function(i){Dn(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getNearestPoint=function(t,e){for(var n=0,a=t[0],o=Ws(t[0],e),s=0;s<t.length;s++){var l=t[s],u=Ws(l,e);u<o&&(a=l,o=u,n=s)}return a.anchorIndex=n,a},r.prototype.getDefaultCfg=function(){return{type:"node",edges:[]}},r.prototype.getEdges=function(){return this.get("edges")},r.prototype.getInEdges=function(){var t=this;return this.get("edges").filter(function(e){return e.get("target")===t})},r.prototype.getOutEdges=function(){var t=this;return this.get("edges").filter(function(e){return e.get("source")===t})},r.prototype.getNeighbors=function(t){var e=this,n=this.get("edges");if(t==="target"){var a=function(u){return u.getSource()===e};return n.filter(a).map(function(l){return l.getTarget()})}if(t==="source"){var o=function(u){return u.getTarget()===e};return n.filter(o).map(function(l){return l.getSource()})}var s=function(u){return u.getSource()===e?u.getTarget():u.getSource()};return n.map(s)},r.prototype.getLinkPointByAnchor=function(t){var e=this.getAnchorPoints();return e[t]},r.prototype.getLinkPoint=function(t){var e=this.get("keyShape"),n=e.get("type"),a=this.get("type"),o,s,l=this.getBBox();a==="combo"?(o=(l.maxX+l.minX)/2,s=(l.maxY+l.minY)/2):(o=l.centerX,s=l.centerY);var u=this.getAnchorPoints(),h;switch(n){case"circle":h=ax({x:o,y:s,r:l.width/2},t);break;case"ellipse":h=ox({x:o,y:s,rx:l.width/2,ry:l.height/2},t);break;default:h=ix(l,t)}var c=h;return u.length&&(c||(c=t),c=this.getNearestPoint(u,c)),c||(c={x:o,y:s}),c},r.prototype.getAnchorPoints=function(){var t=this.get(yc);if(!t){t=[];var e=this.get("shapeFactory"),n=this.getBBox(),a=this.get("model"),o=this.getShapeCfg(a),s=a.shape||a.type,l=e.getAnchorPoints(s,o)||[];(0,Cn.default)(l,function(u,h){var c=(0,Ks.default)({x:n.minX+u[0]*n.width,y:n.minY+u[1]*n.height},u[2],{index:h});t.push(c)}),this.set(yc,t)}return t},r.prototype.addEdge=function(t){this.get("edges").push(t)},r.prototype.lock=function(){this.set("locked",!0)},r.prototype.unlock=function(){this.set("locked",!1)},r.prototype.hasLocked=function(){return this.get("locked")},r.prototype.removeEdge=function(t){var e=this.getEdges(),n=e.indexOf(t);n>-1&&e.splice(n,1)},r.prototype.clearCache=function(){this.set(X3,null),this.set(yc,null)},r.prototype.isOnlyMove=function(t){if(!t)return!1;var e=!(0,Ii.default)(t.x),n=!(0,Ii.default)(t.y),a=Object.keys(t);return a.length===1&&(e||n)||a.length===2&&e&&n},r}(Vx),Hx=V3,H3="bboxCache",Wx="bboxCanvasCache",mc="sizeCache",W3="anchorPointsCache",j3=function(i){Dn(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return{type:"combo",nodes:[],edges:[],combos:[]}},r.prototype.getShapeCfg=function(t){var e=this.get("styles"),n=this.get("bbox");if(e&&n){var a=t,o={r:Math.hypot(n.height,n.width)/2||Ge.defaultCombo.size[0]/2,width:n.width||Ge.defaultCombo.size[0],height:n.height||Ge.defaultCombo.size[1]};a.style=Qt(Qt(Qt({},e),t.style),o);var s=t.padding||Ge.defaultCombo.padding;return(0,ka.default)(s)?(o.r+=s,o.width+=s*2,o.height+=s*2):(o.r+=s[0],o.width+=s[1]+s[3]||s[1]*2,o.height+=s[0]+s[2]||s[0]*2),this.set(mc,o),a}return t},r.prototype.calculateCanvasBBox=function(){var t=this.get("keyShape"),e=this.get("group"),n=Eu(t,e);n.x=n.minX,n.y=n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2;var a=this.get(mc);if(a){var o=t.get("type");o==="circle"?(n.width=a.r*2,n.height=a.r*2):(n.width=a.width,n.height=a.height),n.minX=n.centerX-n.width/2,n.minY=n.centerY-n.height/2,n.maxX=n.centerX+n.width/2,n.maxY=n.centerY+n.height/2}else n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2;return n},r.prototype.getChildren=function(){var t=this;return{nodes:t.getNodes(),combos:t.getCombos()}},r.prototype.getNodes=function(){var t=this;return t.get("nodes")},r.prototype.getCombos=function(){var t=this;return t.get("combos")},r.prototype.addChild=function(t){var e=this,n=t.getType();switch(n){case"node":e.addNode(t);break;case"combo":e.addCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},r.prototype.addCombo=function(t){var e=this;return e.get("combos").push(t),!0},r.prototype.addNode=function(t){var e=this;return e.get("nodes").push(t),!0},r.prototype.removeChild=function(t){var e=this,n=t.getType();switch(n){case"node":e.removeNode(t);break;case"combo":e.removeCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},r.prototype.removeCombo=function(t){if(!!t){var e=this.getCombos(),n=e.indexOf(t);return n>-1?(e.splice(n,1),!0):!1}},r.prototype.removeNode=function(t){if(!!t){var e=this.getNodes(),n=e.indexOf(t);return n>-1?(e.splice(n,1),!0):!1}},r.prototype.isOnlyMove=function(t){return!1},r.prototype.getBBox=function(){this.set(Wx,null);var t=this.calculateCanvasBBox();return t},r.prototype.clearCache=function(){this.set(H3,null),this.set(Wx,null),this.set(W3,null)},r.prototype.destroy=function(){if(!this.destroyed){var t=this.get("animate"),e=this.get("group");t&&e.stopAnimate(),this.clearCache(),this.set(mc,null),this.set("bbox",null),e.remove(),this._cfg=null,this.destroyed=!0}},r}(Hx),U3=j3,Lu="node",Ou="edge",jx="vedge",Iu="combo",Z3="default",Ux="Mapper",po="stateStyles",K3=Object.hasOwnProperty,$3=function(){function i(r){this.graph=r,this.destroyed=!1}return i.prototype.addItem=function(r,t){var e=this,n=this.graph,a=r===jx?Ou:r,o=n.get(a+"Group")||n.get("group"),s=(0,Ox.default)(a),l=null,u=n.get(a+(0,Ox.default)(po))||{},h=n.get(Z3+s);t[po]&&(u=t[po]);var c=n.get(a+Ux);if(c){var v=c(t);v[po]&&(u=v[po],delete v[po]),t=(0,Gi.default)({},h,t,v)}else h&&(0,Cn.default)(h,function(it,ot){K3.call(t,ot)||((0,Lx.default)(it)?t[ot]=(0,_x.default)(it):t[ot]=h[ot])});if(t.shape&&!t.type&&console.warn("shape \u5B57\u6BB5\u5373\u5C06\u88AB\u5E9F\u5F03\uFF0C\u8BF7\u4F7F\u7528 type \u4EE3\u66FF"),n.emit("beforeadditem",{type:r,model:t}),r===Ou||r===jx){var g=void 0,M=void 0;if(g=t.source,M=t.target,g&&(0,mn.default)(g)&&(g=n.findById(g)),M&&(0,mn.default)(M)&&(M=n.findById(M)),!g||!M){console.warn("The source or target node of edge "+t.id+" does not exist!");return}g.getType&&g.getType()==="combo"&&(t.isComboEdge=!0,n.updateCombo(g)),M.getType&&M.getType()==="combo"&&(t.isComboEdge=!0,n.updateCombo(M)),l=new z3({model:t,source:g,target:M,styles:u,linkCenter:n.get("linkCenter"),group:o.addGroup()})}else if(r===Lu)l=new Hx({model:t,styles:u,group:o.addGroup()});else if(r===Iu){var F=t.children,Y=cc(F,n);t.x=Y.x||t.x||Math.random()*100,t.y=Y.y||t.y||Math.random()*100;var V=o.addGroup();V.setZIndex(t.depth),l=new U3({model:t,styles:u,bbox:Y,group:V});var z=l.getModel();(F||[]).forEach(function(it){var ot=n.findById(it.id);l.addChild(ot),it.depth=z.depth+2}),t.collapsed&&setTimeout(function(){n.collapseCombo(l),e.updateCombo(l,[])},250)}if(l)return n.get(r+"s").push(l),n.get("itemMap")[l.get("id")]=l,n.emit("afteradditem",{item:l,model:t}),l},i.prototype.updateItem=function(r,t){var e=this.graph;if((0,mn.default)(r)&&(r=e.findById(r)),!(!r||r.destroyed)){var n="";r.getType&&(n=r.getType());var a=e.get(n+Ux),o=r.getModel();if(a){var s=(0,Gi.default)({},o,t),l=a(s),u=(0,Gi.default)({},o,l,t);l[po]&&(r.set("styles",u[po]),delete u[po]),(0,Cn.default)(u,function(g,M){t[M]=g})}else(0,Cn.default)(t,function(g,M){o[M]&&(0,Lx.default)(g)&&!(0,ki.default)(g)&&(t[M]=Qt(Qt({},o[M]),t[M]))});if(e.emit("beforeupdateitem",{item:r,cfg:t}),n===Ou){if(t.source){var h=t.source;(0,mn.default)(h)&&(h=e.findById(h)),r.setSource(h)}if(t.target){var c=t.target;(0,mn.default)(c)&&(c=e.findById(c)),r.setTarget(c)}}if(r.update(t),n===Lu||n===Iu){var v=r.getEdges();(0,Cn.default)(v,function(g){g.refresh()})}e.emit("afterupdateitem",{item:r,cfg:t})}},i.prototype.updateCombo=function(r,t){var e=this.graph;if((0,mn.default)(r)&&(r=e.findById(r)),!(!r||r.destroyed)){var n=cc(t,e);r.set("bbox",n),r.update({x:n.x,y:n.y});for(var a=r.getEdges()||[],o=a.length,s=0;s<o;s++){var l=a[s];l==null||l.refresh()}}},i.prototype.collapseCombo=function(r){var t=this.graph;(0,mn.default)(r)&&(r=t.findById(r));var e=r.getChildren();e.nodes.forEach(function(n){t.hideItem(n)}),e.combos.forEach(function(n){t.hideItem(n)})},i.prototype.expandCombo=function(r){var t=this.graph;(0,mn.default)(r)&&(r=t.findById(r));var e=r.getChildren();e.nodes.forEach(function(n){t.showItem(n)}),e.combos.forEach(function(n){n.getModel().collapsed?n.show():t.showItem(n)})},i.prototype.removeItem=function(r){var t=this,e=this.graph;if((0,mn.default)(r)&&(r=e.findById(r)),!(!r||r.destroyed)){var n=(0,_x.default)(r.getModel());e.emit("beforeremoveitem",{item:n});var a="";r.getType&&(a=r.getType());var o=e.get(a+"s"),s=o.indexOf(r);if(s>-1&&o.splice(s,1),a===Ou){var l=e.get("v"+a+"s"),u=l.indexOf(r);u>-1&&l.splice(u,1)}var h=r.get("id"),c=e.get("itemMap");delete c[h];var v=e.get("comboTrees"),g=r.get("id");if(a===Lu){var M=r.getModel().comboId;if(v){var F=v,Y=!1;v.forEach(function(It){Y||Zi(It,function(zt){if(zt.id===g&&F){var jt=F.indexOf(zt);return F.splice(jt,1),Y=!0,!1}return F=zt.children,!0})})}for(var V=r.getEdges(),z=V.length-1;z>=0;z--)e.removeItem(V[z],!1);M&&e.updateCombo(M)}else if(a===Iu){var it=r.getModel().parentId,ot,yt=!1;(v||[]).forEach(function(zt){yt||Zi(zt,function(jt){return jt.id===g?(ot=jt,yt=!0,!1):!0})}),ot.removed=!0,ot&&ot.children&&ot.children.forEach(function(zt){t.removeItem(zt.id)});for(var V=r.getEdges(),z=V.length;z>=0;z--)e.removeItem(V[z],!1);it&&e.updateCombo(it)}r.destroy(),e.emit("afterremoveitem",{item:n})}},i.prototype.setItemState=function(r,t,e){var n=this.graph,a=t;(0,mn.default)(e)&&(a=t+":"+e),!(r.hasState(a)===e||(0,mn.default)(e)&&r.hasState(a))&&(n.emit("beforeitemstatechange",{item:r,state:a,enabled:e}),r.setState(t,e),n.autoPaint(),n.emit("afteritemstatechange",{item:r,state:a,enabled:e}))},i.prototype.priorityState=function(r,t){var e=this.graph,n=r;(0,mn.default)(r)&&(n=e.findById(r)),this.setItemState(n,t,!1),this.setItemState(n,t,!0)},i.prototype.clearItemStates=function(r,t){var e=this.graph;(0,mn.default)(r)&&(r=e.findById(r)),e.emit("beforeitemstatesclear",{item:r,states:t}),r.clearStates(t),e.emit("afteritemstatesclear",{item:r,states:t})},i.prototype.refreshItem=function(r){var t=this.graph;(0,mn.default)(r)&&(r=t.findById(r)),t.emit("beforeitemrefresh",{item:r}),r.refresh(),t.emit("afteritemrefresh",{item:r})},i.prototype.addCombos=function(r,t){var e=this,n=this.graph;(r||[]).forEach(function(o){Aa(o,function(s){var l;return t.forEach(function(u){u.id===s.id&&(u.children=s.children,u.depth=s.depth,l=u)}),l&&e.addItem("combo",l),!0})});var a=n.get("comboGroup");a&&a.sort()},i.prototype.changeItemVisibility=function(r,t){var e=this,n=this.graph;if((0,mn.default)(r)&&(r=n.findById(r)),!r){console.warn("The item to be shown or hidden does not exist!");return}if(n.emit("beforeitemvisibilitychange",{item:r,visible:t}),r.changeVisibility(t),r.getType&&r.getType()===Lu){var a=r.getEdges();(0,Cn.default)(a,function(h){t&&!(h.get("source").isVisible()&&h.get("target").isVisible())||e.changeItemVisibility(h,t)})}else if(r.getType&&r.getType()===Iu){var o=n.get("comboTrees"),s=r.get("id"),l=[],u=!1;(o||[]).forEach(function(c){u||!c.children||c.children.length===0||Zi(c,function(v){return v.id===s?(l=v.children,u=!0,!1):!0})}),l.forEach(function(c){var v=n.findById(c.id);e.changeItemVisibility(v,t)});var a=r.getEdges();(0,Cn.default)(a,function(c){t&&!(c.get("source").isVisible()&&c.get("target").isVisible())||e.changeItemVisibility(c,t)})}return n.emit("afteritemvisibilitychange",{item:r,visible:t}),r},i.prototype.destroy=function(){this.graph=null,this.destroyed=!0},i}(),Q3=$3,Ta=function(){function i(){this.nodes=[],this.edges=[],this.combos=[],this.positions=[],this.destroyed=!1}return i.prototype.init=function(r){var t=this;t.nodes=r.nodes||[],t.edges=r.edges||[],t.combos=r.combos||[]},i.prototype.execute=function(){},i.prototype.layout=function(r){var t=this;t.init(r),t.execute()},i.prototype.getDefaultCfg=function(){return{}},i.prototype.updateCfg=function(r){var t=this;(0,Ks.default)(t,r)},i.prototype.destroy=function(){var r=this;r.positions=null,r.nodes=null,r.edges=null,r.destroyed=!0},i}(),Zx={registerLayout:function(r,t,e){if(e===void 0&&(e=Ta),!t)throw new Error("please specify handler for this layout: "+r);var n=function(a){Dn(o,a);function o(s){var l=a.call(this)||this,u=l,h={},c=u.getDefaultCfg();return(0,Ks.default)(h,c,t,s),(0,Cn.default)(h,function(v,g){u[g]=v}),l}return o}(e);Zx[r]=n}},Kx=Zx;function J3(i,r,t,e){i.forEach(function(n,a){i[a].children=[],i[a].parent=[]}),e?r.forEach(function(n){var a=0;n.source&&(a=t[n.source]);var o=0;n.target&&(o=t[n.target]),i[a].children.push(i[o].id),i[o].parent.push(i[a].id)}):r.forEach(function(n){var a=0;n.source&&(a=t[n.source]);var o=0;n.target&&(o=t[n.target]),i[a].children.push(i[o].id),i[o].children.push(i[a].id)})}function q3(i,r,t){for(var e=t.length,n=0;n<e;n++)if(i.id===t[n].source&&r.id===t[n].target||r.id===t[n].source&&i.id===t[n].target)return!0;return!1}function tN(i,r){return i.degree<r.degree?-1:i.degree>r.degree?1:0}var eN=function(i){Dn(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.radius=null,t.startRadius=null,t.endRadius=null,t.startAngle=0,t.endAngle=2*Math.PI,t.clockwise=!0,t.divisions=1,t.ordering=null,t.angleRatio=1,t.nodes=[],t.edges=[],t.nodeMap={},t.degrees=[],t.width=300,t.height=300,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.edges,a=e.length,o=t.center;if(a!==0){if(a===1){e[0].x=o[0],e[0].y=o[1];return}var s=t.radius,l=t.startRadius,u=t.endRadius,h=t.divisions,c=t.startAngle,v=t.endAngle,g=(v-c)/a,M={};e.forEach(function(Rt,re){M[Rt.id]=re}),t.nodeMap=M;var F=bu(e.length,M,n);t.degrees=F,!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight),!s&&!l&&!u?s=t.height>t.width?t.width/2:t.height/2:!l&&u?l=u:l&&!u&&(u=l);var Y=t.angleRatio,V=g*Y;t.astep=V;var z=t.ordering,it=[];z==="topology"?it=t.topologyOrdering():z==="topology-directed"?it=t.topologyOrdering(!0):z==="degree"?it=t.degreeOrdering():it=e;for(var ot=t.clockwise,yt=Math.ceil(a/h),It=0;It<a;++It){var zt=s;!zt&&l!==null&&u!==null&&(zt=l+It*(u-l)/(a-1)),zt||(zt=10+It*100/(a-1));var jt=c+It%yt*V+2*Math.PI/h*Math.floor(It/yt);ot||(jt=v-It%yt*V-2*Math.PI/h*Math.floor(It/yt)),it[It].x=o[0]+Math.cos(jt)*zt,it[It].y=o[1]+Math.sin(jt)*zt,it[It].weight=F[It]}}},r.prototype.topologyOrdering=function(t){t===void 0&&(t=!1);var e=this,n=e.degrees,a=e.edges,o=e.nodes,s=(0,f.clone)(o),l=e.nodeMap,u=[s[0]],h=[o[0]],c=[],v=o.length;c[0]=!0,J3(s,a,l,t);var g=0;return s.forEach(function(M,F){if(F!==0)if((F===v-1||n[F]!==n[F+1]||q3(u[g],M,a))&&c[F]!==!0)u.push(M),h.push(o[l[M.id]]),c[F]=!0,g++;else{for(var Y=u[g].children,V=!1,z=0;z<Y.length;z++){var it=l[Y[z]];if(n[it]===n[F]&&c[it]!==!0){u.push(s[it]),h.push(o[l[s[it].id]]),c[it]=!0,V=!0;break}}for(var ot=0;!V&&(c[ot]||(u.push(s[ot]),h.push(o[l[s[ot].id]]),c[ot]=!0,V=!0),ot++,ot!==v););}}),h},r.prototype.degreeOrdering=function(){var t=this,e=t.nodes,n=[],a=t.degrees;return e.forEach(function(o,s){o.degree=a[s],n.push(o)}),n.sort(tN),n},r}(Ta),rN=eN,nN=function(i){Dn(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.nodeSize=30,t.minNodeSpacing=10,t.preventOverlap=!1,t.equidistant=!1,t.startAngle=3/2*Math.PI,t.clockwise=!0,t.sortBy="degree",t.nodes=[],t.edges=[],t.width=300,t.height=300,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],nodeSize:30,minNodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:3/2*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.edges,a=e.length,o=t.center;if(a!==0){if(a===1){e[0].x=o[0],e[0].y=o[1];return}var s=[],l;(0,ki.default)(t.nodeSize)?l=Math.max(t.nodeSize[0],t.nodeSize[1]):l=t.nodeSize,e.forEach(function(jt){s.push(jt);var Rt=l;(0,ki.default)(jt.size)?Rt=Math.max(jt.size[0],jt.size[1]):(0,f.isNumber)(jt.size)&&(Rt=jt.size),l=Math.max(l,Rt)}),!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight),t.clockwise=t.counterclockwise!==void 0?!t.counterclockwise:t.clockwise;var u={},h={};if(s.forEach(function(jt,Rt){u[jt.id]=jt,h[jt.id]=Rt}),(t.sortBy==="degree"||!(0,mn.default)(t.sortBy)||s[0][t.sortBy]===void 0)&&(t.sortBy="degree",!(0,f.isNumber)(e[0].degree))){var c=bu(e.length,h,n);s.forEach(function(jt,Rt){jt.degree=c[Rt]})}s.sort(function(jt,Rt){return Rt[t.sortBy]-jt[t.sortBy]}),t.maxValueNode=s[0],t.maxLevelDiff=t.maxLevelDiff||t.maxValueNode[t.sortBy]/4;var v=[[]],g=v[0];s.forEach(function(jt){if(g.length>0){var Rt=Math.abs(g[0][t.sortBy]-jt[t.sortBy]);t.maxLevelDiff&&Rt>=t.maxLevelDiff&&(g=[],v.push(g))}g.push(jt)});var M=l+t.minNodeSpacing;if(!t.preventOverlap){var F=v.length>0&&v[0].length>1,Y=Math.min(t.width,t.height)/2-M,V=Y/(v.length+(F?1:0));M=Math.min(M,V)}var z=0;if(v.forEach(function(jt){var Rt=t.sweep;Rt===void 0&&(Rt=2*Math.PI-2*Math.PI/jt.length);var re=jt.dTheta=Rt/Math.max(1,jt.length-1);if(jt.length>1&&t.preventOverlap){var de=Math.cos(re)-Math.cos(0),fe=Math.sin(re)-Math.sin(0),Me=Math.sqrt(M*M/(de*de+fe*fe));z=Math.max(Me,z)}jt.r=z,z+=M}),t.equidistant){for(var it=0,ot=0,yt=0;yt<v.length;yt++){var It=v[yt],zt=It.r-ot;it=Math.max(it,zt)}ot=0,v.forEach(function(jt,Rt){Rt===0&&(ot=jt.r),jt.r=ot,ot+=it})}v.forEach(function(jt){var Rt=jt.dTheta,re=jt.r;jt.forEach(function(de,fe){var Me=t.startAngle+(t.clockwise?1:-1)*Rt*fe;de.x=o[0]+re*Math.cos(Me),de.y=o[1]+re*Math.sin(Me)})})}},r}(Ta),iN=nN,aN=d(49772),$x=d.n(aN),oN=function(i){Dn(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.rankdir="TB",t.nodesep=50,t.ranksep=50,t.controlPoints=!1,t.sortByCombo=!1,t}return r.prototype.getDefaultCfg=function(){return{rankdir:"TB",align:void 0,nodeSize:void 0,nodesepFunc:void 0,ranksepFunc:void 0,nodesep:50,ranksep:50,controlPoints:!1}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.nodeSize,a=t.rankdir;if(!!e){var o=t.edges||[],s=new($x()).graphlib.Graph,l;n?(0,ki.default)(n)?l=function(){return n}:l=function(){return[n,n]}:l=function(g){return g.size?(0,ki.default)(g.size)?g.size:[g.size,g.size]:[40,40]};var u=ku(t.nodesepFunc,t.nodesep,50),h=ku(t.ranksepFunc,t.ranksep,50);(a==="LR"||a==="RL")&&(u=ku(t.ranksepFunc,t.ranksep,50),h=ku(t.nodesepFunc,t.nodesep,50)),s.setDefaultEdgeLabel(function(){return{}}),s.setGraph(t),e.forEach(function(v){var g=l(v),M=h(v),F=u(v),Y=g[0]+2*F,V=g[1]+2*M;s.setNode(v.id,{width:Y,height:V})}),o.forEach(function(v){s.setEdge(v.source,v.target,{weight:v.weight||1})}),$x().layout(s);var c;s.nodes().forEach(function(v){c=s.node(v);var g=e.findIndex(function(M){return M.id===v});e[g].x=c.x,e[g].y=c.y}),s.edges().forEach(function(v){c=s.edge(v);var g=o.findIndex(function(M){return M.source===v.v&&M.target===v.w});t.controlPoints&&o[g].type!=="loop"&&o[g].shape!=="loop"&&(o[g].controlPoints=c.points.slice(1,c.points.length-1))}),t.sortByCombo&&t.sortLevel("comboId")}},r.prototype.sortLevel=function(t){var e=this,n=e.nodes,a={};n.forEach(function(o){a[o.y]||(a[o.y]={y:o.y,nodes:[]}),a[o.y].nodes.push(o)}),Object.keys(a).forEach(function(o){var s=a[o].nodes,l=s.length,u={};if(s.forEach(function(F){var Y=F.comboId;u[Y]||(u[Y]={x:0,y:0,count:0}),u[Y].x+=F.x,u[Y].y+=F.y,u[Y].count++}),Object.keys(u).forEach(function(F){u[F].x/=u[F].count,u[F].y/=u[F].count}),l!==1){var h=s.sort(function(F,Y){return F.x-Y.x}),c=h[0].x,v=h[l-1].x,g=(v-c)/(l-1),M=s.sort(function(F,Y){var V=F[t]||"undefined",z=Y[t]||"undefined";return V<z?-1:V>z?1:0});M.forEach(function(F,Y){F.x=c+Y*g})}})},r}(Ta),sN=oN;function ku(i,r,t){var e;return i?e=i:(0,f.isNumber)(r)?e=function(){return r}:e=function(){return t},e}function lN(i){const r=+this._x.call(null,i),t=+this._y.call(null,i);return Qx(this.cover(r,t),r,t,i)}function Qx(i,r,t,e){if(isNaN(r)||isNaN(t))return i;var n,a=i._root,o={data:e},s=i._x0,l=i._y0,u=i._x1,h=i._y1,c,v,g,M,F,Y,V,z;if(!a)return i._root=o,i;for(;a.length;)if((F=r>=(c=(s+u)/2))?s=c:u=c,(Y=t>=(v=(l+h)/2))?l=v:h=v,n=a,!(a=a[V=Y<<1|F]))return n[V]=o,i;if(g=+i._x.call(null,a.data),M=+i._y.call(null,a.data),r===g&&t===M)return o.next=a,n?n[V]=o:i._root=o,i;do n=n?n[V]=new Array(4):i._root=new Array(4),(F=r>=(c=(s+u)/2))?s=c:u=c,(Y=t>=(v=(l+h)/2))?l=v:h=v;while((V=Y<<1|F)==(z=(M>=v)<<1|g>=c));return n[z]=a,n[V]=o,i}function uN(i){var r,t,e=i.length,n,a,o=new Array(e),s=new Array(e),l=Infinity,u=Infinity,h=-Infinity,c=-Infinity;for(t=0;t<e;++t)isNaN(n=+this._x.call(null,r=i[t]))||isNaN(a=+this._y.call(null,r))||(o[t]=n,s[t]=a,n<l&&(l=n),n>h&&(h=n),a<u&&(u=a),a>c&&(c=a));if(l>h||u>c)return this;for(this.cover(l,u).cover(h,c),t=0;t<e;++t)Qx(this,o[t],s[t],i[t]);return this}function fN(i,r){if(isNaN(i=+i)||isNaN(r=+r))return this;var t=this._x0,e=this._y0,n=this._x1,a=this._y1;if(isNaN(t))n=(t=Math.floor(i))+1,a=(e=Math.floor(r))+1;else{for(var o=n-t||1,s=this._root,l,u;t>i||i>=n||e>r||r>=a;)switch(u=(r<e)<<1|i<t,l=new Array(4),l[u]=s,s=l,o*=2,u){case 0:n=t+o,a=e+o;break;case 1:t=n-o,a=e+o;break;case 2:n=t+o,e=a-o;break;case 3:t=n-o,e=a-o;break}this._root&&this._root.length&&(this._root=s)}return this._x0=t,this._y0=e,this._x1=n,this._y1=a,this}function hN(){var i=[];return this.visit(function(r){if(!r.length)do i.push(r.data);while(r=r.next)}),i}function cN(i){return arguments.length?this.cover(+i[0][0],+i[0][1]).cover(+i[1][0],+i[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function ra(i,r,t,e,n){this.node=i,this.x0=r,this.y0=t,this.x1=e,this.y1=n}function vN(i,r,t){var e,n=this._x0,a=this._y0,o,s,l,u,h=this._x1,c=this._y1,v=[],g=this._root,M,F;for(g&&v.push(new ra(g,n,a,h,c)),t==null?t=Infinity:(n=i-t,a=r-t,h=i+t,c=r+t,t*=t);M=v.pop();)if(!(!(g=M.node)||(o=M.x0)>h||(s=M.y0)>c||(l=M.x1)<n||(u=M.y1)<a))if(g.length){var Y=(o+l)/2,V=(s+u)/2;v.push(new ra(g[3],Y,V,l,u),new ra(g[2],o,V,Y,u),new ra(g[1],Y,s,l,V),new ra(g[0],o,s,Y,V)),(F=(r>=V)<<1|i>=Y)&&(M=v[v.length-1],v[v.length-1]=v[v.length-1-F],v[v.length-1-F]=M)}else{var z=i-+this._x.call(null,g.data),it=r-+this._y.call(null,g.data),ot=z*z+it*it;if(ot<t){var yt=Math.sqrt(t=ot);n=i-yt,a=r-yt,h=i+yt,c=r+yt,e=g.data}}return e}function dN(i){if(isNaN(h=+this._x.call(null,i))||isNaN(c=+this._y.call(null,i)))return this;var r,t=this._root,e,n,a,o=this._x0,s=this._y0,l=this._x1,u=this._y1,h,c,v,g,M,F,Y,V;if(!t)return this;if(t.length)for(;;){if((M=h>=(v=(o+l)/2))?o=v:l=v,(F=c>=(g=(s+u)/2))?s=g:u=g,r=t,!(t=t[Y=F<<1|M]))return this;if(!t.length)break;(r[Y+1&3]||r[Y+2&3]||r[Y+3&3])&&(e=r,V=Y)}for(;t.data!==i;)if(n=t,!(t=t.next))return this;return(a=t.next)&&delete t.next,n?(a?n.next=a:delete n.next,this):r?(a?r[Y]=a:delete r[Y],(t=r[0]||r[1]||r[2]||r[3])&&t===(r[3]||r[2]||r[1]||r[0])&&!t.length&&(e?e[V]=t:this._root=t),this):(this._root=a,this)}function pN(i){for(var r=0,t=i.length;r<t;++r)this.remove(i[r]);return this}function gN(){return this._root}function yN(){var i=0;return this.visit(function(r){if(!r.length)do++i;while(r=r.next)}),i}function mN(i){var r=[],t,e=this._root,n,a,o,s,l;for(e&&r.push(new ra(e,this._x0,this._y0,this._x1,this._y1));t=r.pop();)if(!i(e=t.node,a=t.x0,o=t.y0,s=t.x1,l=t.y1)&&e.length){var u=(a+s)/2,h=(o+l)/2;(n=e[3])&&r.push(new ra(n,u,h,s,l)),(n=e[2])&&r.push(new ra(n,a,h,u,l)),(n=e[1])&&r.push(new ra(n,u,o,s,h)),(n=e[0])&&r.push(new ra(n,a,o,u,h))}return this}function xN(i){var r=[],t=[],e;for(this._root&&r.push(new ra(this._root,this._x0,this._y0,this._x1,this._y1));e=r.pop();){var n=e.node;if(n.length){var a,o=e.x0,s=e.y0,l=e.x1,u=e.y1,h=(o+l)/2,c=(s+u)/2;(a=n[0])&&r.push(new ra(a,o,s,h,c)),(a=n[1])&&r.push(new ra(a,h,s,l,c)),(a=n[2])&&r.push(new ra(a,o,c,h,u)),(a=n[3])&&r.push(new ra(a,h,c,l,u))}t.push(e)}for(;e=t.pop();)i(e.node,e.x0,e.y0,e.x1,e.y1);return this}function bN(i){return i[0]}function wN(i){return arguments.length?(this._x=i,this):this._x}function SN(i){return i[1]}function CN(i){return arguments.length?(this._y=i,this):this._y}function xc(i,r,t){var e=new bc(r==null?bN:r,t==null?SN:t,NaN,NaN,NaN,NaN);return i==null?e:e.addAll(i)}function bc(i,r,t,e,n,a){this._x=i,this._y=r,this._x0=t,this._y0=e,this._x1=n,this._y1=a,this._root=void 0}function Jx(i){for(var r={data:i.data},t=r;i=i.next;)t=t.next={data:i.data};return r}var na=xc.prototype=bc.prototype;na.copy=function(){var i=new bc(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root,t,e;if(!r)return i;if(!r.length)return i._root=Jx(r),i;for(t=[{source:r,target:i._root=new Array(4)}];r=t.pop();)for(var n=0;n<4;++n)(e=r.source[n])&&(e.length?t.push({source:e,target:r.target[n]=new Array(4)}):r.target[n]=Jx(e));return i},na.add=lN,na.addAll=uN,na.cover=fN,na.data=hN,na.extent=cN,na.find=vN,na.remove=dN,na.removeAll=pN,na.root=gN,na.size=yN,na.visit=mN,na.visitAfter=xN,na.x=wN,na.y=CN;function ia(i){return function(){return i}}function To(i){return(i()-.5)*1e-6}var MN={value:function(){}};function qx(){for(var i=0,r=arguments.length,t={},e;i<r;++i){if(!(e=arguments[i]+"")||e in t||/[\s.]/.test(e))throw new Error("illegal type: "+e);t[e]=[]}return new Bu(t)}function Bu(i){this._=i}function EN(i,r){return i.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})}Bu.prototype=qx.prototype={constructor:Bu,on:function(r,t){var e=this._,n=EN(r+"",e),a,o=-1,s=n.length;if(arguments.length<2){for(;++o<s;)if((a=(r=n[o]).type)&&(a=AN(e[a],r.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(a=(r=n[o]).type)e[a]=t1(e[a],r.name,t);else if(t==null)for(a in e)e[a]=t1(e[a],r.name,null);return this},copy:function(){var r={},t=this._;for(var e in t)r[e]=t[e].slice();return new Bu(r)},call:function(r,t){if((a=arguments.length-2)>0)for(var e=new Array(a),n=0,a,o;n<a;++n)e[n]=arguments[n+2];if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(o=this._[r],n=0,a=o.length;n<a;++n)o[n].value.apply(t,e)},apply:function(r,t,e){if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(var n=this._[r],a=0,o=n.length;a<o;++a)n[a].value.apply(t,e)}};function AN(i,r){for(var t=0,e=i.length,n;t<e;++t)if((n=i[t]).name===r)return n.value}function t1(i,r,t){for(var e=0,n=i.length;e<n;++e)if(i[e].name===r){i[e]=MN,i=i.slice(0,e).concat(i.slice(e+1));break}return t!=null&&i.push({name:r,value:t}),i}var TN=qx,vs=0,$s=0,Qs=0,e1=1e3,Du,Js,Fu=0,Wo=0,Ru=0,qs=typeof performance=="object"&&performance.now?performance:Date,r1=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(i){setTimeout(i,17)};function n1(){return Wo||(r1(PN),Wo=qs.now()+Ru)}function PN(){Wo=0}function wc(){this._call=this._time=this._next=null}wc.prototype=i1.prototype={constructor:wc,restart:function(i,r,t){if(typeof i!="function")throw new TypeError("callback is not a function");t=(t==null?n1():+t)+(r==null?0:+r),!this._next&&Js!==this&&(Js?Js._next=this:Du=this,Js=this),this._call=i,this._time=t,Sc()},stop:function(){this._call&&(this._call=null,this._time=Infinity,Sc())}};function i1(i,r,t){var e=new wc;return e.restart(i,r,t),e}function _N(){n1(),++vs;for(var i=Du,r;i;)(r=Wo-i._time)>=0&&i._call.call(null,r),i=i._next;--vs}function a1(){Wo=(Fu=qs.now())+Ru,vs=$s=0;try{_N()}finally{vs=0,ON(),Wo=0}}function LN(){var i=qs.now(),r=i-Fu;r>e1&&(Ru-=r,Fu=i)}function ON(){for(var i,r=Du,t,e=Infinity;r;)r._call?(e>r._time&&(e=r._time),i=r,r=r._next):(t=r._next,r._next=null,r=i?i._next=t:Du=t);Js=i,Sc(e)}function Sc(i){if(!vs){$s&&($s=clearTimeout($s));var r=i-Wo;r>24?(i<Infinity&&($s=setTimeout(a1,i-qs.now()-Ru)),Qs&&(Qs=clearInterval(Qs))):(Qs||(Fu=qs.now(),Qs=setInterval(LN,e1)),vs=1,r1(a1))}}var IN=1664525,kN=1013904223,o1=4294967296;function BN(){var i=1;return function(){return(i=(IN*i+kN)%o1)/o1}}function DN(i){return i.x}function FN(i){return i.y}var RN=10,NN=Math.PI*(3-Math.sqrt(5));function s1(i){var r,t=1,e=.001,n=1-Math.pow(e,1/300),a=0,o=.6,s=new Map,l=i1(c),u=TN("tick","end"),h=BN();i==null&&(i=[]);function c(){v(),u.call("tick",r),t<e&&(l.stop(),u.call("end",r))}function v(F){var Y,V=i.length,z;F===void 0&&(F=1);for(var it=0;it<F;++it)for(t+=(a-t)*n,s.forEach(function(ot){ot(t)}),Y=0;Y<V;++Y)z=i[Y],z.fx==null?z.x+=z.vx*=o:(z.x=z.fx,z.vx=0),z.fy==null?z.y+=z.vy*=o:(z.y=z.fy,z.vy=0);return r}function g(){for(var F=0,Y=i.length,V;F<Y;++F){if(V=i[F],V.index=F,V.fx!=null&&(V.x=V.fx),V.fy!=null&&(V.y=V.fy),isNaN(V.x)||isNaN(V.y)){var z=RN*Math.sqrt(.5+F),it=F*NN;V.x=z*Math.cos(it),V.y=z*Math.sin(it)}(isNaN(V.vx)||isNaN(V.vy))&&(V.vx=V.vy=0)}}function M(F){return F.initialize&&F.initialize(i,h),F}return g(),r={tick:v,restart:function(){return l.restart(c),r},stop:function(){return l.stop(),r},nodes:function(Y){return arguments.length?(i=Y,g(),s.forEach(M),r):i},alpha:function(Y){return arguments.length?(t=+Y,r):t},alphaMin:function(Y){return arguments.length?(e=+Y,r):e},alphaDecay:function(Y){return arguments.length?(n=+Y,r):+n},alphaTarget:function(Y){return arguments.length?(a=+Y,r):a},velocityDecay:function(Y){return arguments.length?(o=1-Y,r):1-o},randomSource:function(Y){return arguments.length?(h=Y,s.forEach(M),r):h},force:function(Y,V){return arguments.length>1?(V==null?s.delete(Y):s.set(Y,M(V)),r):s.get(Y)},find:function(Y,V,z){var it=0,ot=i.length,yt,It,zt,jt,Rt;for(z==null?z=Infinity:z*=z,it=0;it<ot;++it)jt=i[it],yt=Y-jt.x,It=V-jt.y,zt=yt*yt+It*It,zt<z&&(Rt=jt,z=zt);return Rt},on:function(Y,V){return arguments.length>1?(u.on(Y,V),r):u.on(Y)}}}function l1(){var i,r,t,e,n=ia(-30),a,o=1,s=Infinity,l=.81;function u(g){var M,F=i.length,Y=xc(i,DN,FN).visitAfter(c);for(e=g,M=0;M<F;++M)r=i[M],Y.visit(v)}function h(){if(!!i){var g,M=i.length,F;for(a=new Array(M),g=0;g<M;++g)F=i[g],a[F.index]=+n(F,g,i)}}function c(g){var M=0,F,Y,V=0,z,it,ot;if(g.length){for(z=it=ot=0;ot<4;++ot)(F=g[ot])&&(Y=Math.abs(F.value))&&(M+=F.value,V+=Y,z+=Y*F.x,it+=Y*F.y);g.x=z/V,g.y=it/V}else{F=g,F.x=F.data.x,F.y=F.data.y;do M+=a[F.data.index];while(F=F.next)}g.value=M}function v(g,M,F,Y){if(!g.value)return!0;var V=g.x-r.x,z=g.y-r.y,it=Y-M,ot=V*V+z*z;if(it*it/l<ot)return ot<s&&(V===0&&(V=To(t),ot+=V*V),z===0&&(z=To(t),ot+=z*z),ot<o&&(ot=Math.sqrt(o*ot)),r.vx+=V*g.value*e/ot,r.vy+=z*g.value*e/ot),!0;if(g.length||ot>=s)return;(g.data!==r||g.next)&&(V===0&&(V=To(t),ot+=V*V),z===0&&(z=To(t),ot+=z*z),ot<o&&(ot=Math.sqrt(o*ot)));do g.data!==r&&(it=a[g.data.index]*e/ot,r.vx+=V*it,r.vy+=z*it);while(g=g.next)}return u.initialize=function(g,M){i=g,t=M,h()},u.strength=function(g){return arguments.length?(n=typeof g=="function"?g:ia(+g),h(),u):n},u.distanceMin=function(g){return arguments.length?(o=g*g,u):Math.sqrt(o)},u.distanceMax=function(g){return arguments.length?(s=g*g,u):Math.sqrt(s)},u.theta=function(g){return arguments.length?(l=g*g,u):Math.sqrt(l)},u}function YN(i,r){var t,e=1;i==null&&(i=0),r==null&&(r=0);function n(){var a,o=t.length,s,l=0,u=0;for(a=0;a<o;++a)s=t[a],l+=s.x,u+=s.y;for(l=(l/o-i)*e,u=(u/o-r)*e,a=0;a<o;++a)s=t[a],s.x-=l,s.y-=u}return n.initialize=function(a){t=a},n.x=function(a){return arguments.length?(i=+a,n):i},n.y=function(a){return arguments.length?(r=+a,n):r},n.strength=function(a){return arguments.length?(e=+a,n):e},n}function GN(i){return i.index}function u1(i,r){var t=i.get(r);if(!t)throw new Error("node not found: "+r);return t}function f1(i){var r=GN,t=c,e,n=ia(30),a,o,s,l,u,h=1;i==null&&(i=[]);function c(Y){return 1/Math.min(s[Y.source.index],s[Y.target.index])}function v(Y){for(var V=0,z=i.length;V<h;++V)for(var it=0,ot,yt,It,zt,jt,Rt,re;it<z;++it)ot=i[it],yt=ot.source,It=ot.target,zt=It.x+It.vx-yt.x-yt.vx||To(u),jt=It.y+It.vy-yt.y-yt.vy||To(u),Rt=Math.sqrt(zt*zt+jt*jt),Rt=(Rt-a[it])/Rt*Y*e[it],zt*=Rt,jt*=Rt,It.vx-=zt*(re=l[it]),It.vy-=jt*re,yt.vx+=zt*(re=1-re),yt.vy+=jt*re}function g(){if(!!o){var Y,V=o.length,z=i.length,it=new Map(o.map(function(yt,It){return[r(yt,It,o),yt]})),ot;for(Y=0,s=new Array(V);Y<z;++Y)ot=i[Y],ot.index=Y,typeof ot.source!="object"&&(ot.source=u1(it,ot.source)),typeof ot.target!="object"&&(ot.target=u1(it,ot.target)),s[ot.source.index]=(s[ot.source.index]||0)+1,s[ot.target.index]=(s[ot.target.index]||0)+1;for(Y=0,l=new Array(z);Y<z;++Y)ot=i[Y],l[Y]=s[ot.source.index]/(s[ot.source.index]+s[ot.target.index]);e=new Array(z),M(),a=new Array(z),F()}}function M(){if(!!o)for(var Y=0,V=i.length;Y<V;++Y)e[Y]=+t(i[Y],Y,i)}function F(){if(!!o)for(var Y=0,V=i.length;Y<V;++Y)a[Y]=+n(i[Y],Y,i)}return v.initialize=function(Y,V){o=Y,u=V,g()},v.links=function(Y){return arguments.length?(i=Y,g(),v):i},v.id=function(Y){return arguments.length?(r=Y,v):r},v.iterations=function(Y){return arguments.length?(h=+Y,v):h},v.strength=function(Y){return arguments.length?(t=typeof Y=="function"?Y:ia(+Y),M(),v):t},v.distance=function(Y){return arguments.length?(n=typeof Y=="function"?Y:ia(+Y),F(),v):n},v}function zN(i){return i.x+i.vx}function XN(i){return i.y+i.vy}function h1(i){var r,t,e,n=1,a=1;typeof i!="function"&&(i=ia(i==null?1:+i));function o(){for(var u,h=r.length,c,v,g,M,F,Y,V=0;V<a;++V)for(c=xc(r,zN,XN).visitAfter(s),u=0;u<h;++u)v=r[u],F=t[v.index],Y=F*F,g=v.x+v.vx,M=v.y+v.vy,c.visit(z);function z(it,ot,yt,It,zt){var jt=it.data,Rt=it.r,re=F+Rt;if(jt){if(jt.index>v.index){var de=g-jt.x-jt.vx,fe=M-jt.y-jt.vy,Me=de*de+fe*fe;Me<re*re&&(de===0&&(de=To(e),Me+=de*de),fe===0&&(fe=To(e),Me+=fe*fe),Me=(re-(Me=Math.sqrt(Me)))/Me*n,v.vx+=(de*=Me)*(re=(Rt*=Rt)/(Y+Rt)),v.vy+=(fe*=Me)*re,jt.vx-=de*(re=1-re),jt.vy-=fe*re)}return}return ot>g+re||It<g-re||yt>M+re||zt<M-re}}function s(u){if(u.data)return u.r=t[u.data.index];for(var h=u.r=0;h<4;++h)u[h]&&u[h].r>u.r&&(u.r=u[h].r)}function l(){if(!!r){var u,h=r.length,c;for(t=new Array(h),u=0;u<h;++u)c=r[u],t[c.index]=+i(c,u,r)}}return o.initialize=function(u,h){r=u,e=h,l()},o.iterations=function(u){return arguments.length?(a=+u,o):a},o.strength=function(u){return arguments.length?(n=+u,o):n},o.radius=function(u){return arguments.length?(i=typeof u=="function"?u:ia(+u),l(),o):i},o}function VN(i){var r=ia(.1),t,e,n;typeof i!="function"&&(i=ia(i==null?0:+i));function a(s){for(var l=0,u=t.length,h;l<u;++l)h=t[l],h.vx+=(n[l]-h.x)*e[l]*s}function o(){if(!!t){var s,l=t.length;for(e=new Array(l),n=new Array(l),s=0;s<l;++s)e[s]=isNaN(n[s]=+i(t[s],s,t))?0:+r(t[s],s,t)}}return a.initialize=function(s){t=s,o()},a.strength=function(s){return arguments.length?(r=typeof s=="function"?s:ia(+s),o(),a):r},a.x=function(s){return arguments.length?(i=typeof s=="function"?s:ia(+s),o(),a):i},a}function HN(i){var r=ia(.1),t,e,n;typeof i!="function"&&(i=ia(i==null?0:+i));function a(s){for(var l=0,u=t.length,h;l<u;++l)h=t[l],h.vy+=(n[l]-h.y)*e[l]*s}function o(){if(!!t){var s,l=t.length;for(e=new Array(l),n=new Array(l),s=0;s<l;++s)e[s]=isNaN(n[s]=+i(t[s],s,t))?0:+r(t[s],s,t)}}return a.initialize=function(s){t=s,o()},a.strength=function(s){return arguments.length?(r=typeof s=="function"?s:ia(+s),o(),a):r},a.y=function(s){return arguments.length?(i=typeof s=="function"?s:ia(+s),o(),a):i},a}function WN(){function i($e){return function(){return $e}}var r=function(gr){return gr.cluster},t=i(1),e=i(-1),n=i(100),a=i(.1),o=[0,0],s=[],l={},u=[],h=100,c=100,v={none:{x:0,y:0}},g=[],M,F="force",Y=!0,V=.1;function z($e){if(!Y)return z;M.tick(),jt();for(var gr=0,Or=s.length,xr=void 0,mr=$e*V;gr<Or;++gr)xr=s[gr],xr.vx+=(v[r(xr)].x-xr.x)*mr,xr.vy+=(v[r(xr)].y-xr.y)*mr}function it(){!s||ot()}function ot(){if(!(!s||!s.length)){if(r(s[0])===void 0)throw Error("Couldnt find the grouping attribute for the nodes. Make sure to set it up with forceInABox.groupBy('clusterAttr') before calling .links()");var $e=yt();M=s1($e.nodes).force("x",VN(h).strength(.1)).force("y",HN(c).strength(.1)).force("collide",h1(function(gr){return gr.r}).iterations(4)).force("charge",l1().strength(e)).force("links",f1($e.nodes.length?$e.links:[]).distance(n).strength(a)),g=M.nodes(),jt()}}function yt(){var $e=[],gr=[],Or={},xr=[],mr={},Dr=[];return mr=It(s),Dr=zt(u),xr=Object.keys(mr),xr.forEach(function(Kr,Cr){var ke=mr[Kr];$e.push({id:Kr,size:ke.count,r:Math.sqrt(ke.sumforceNodeSize/Math.PI)}),Or[Kr]=Cr}),Dr.forEach(function(Kr){var Cr=Or[Kr.source],ke=Or[Kr.target];Cr!==void 0&&ke!==void 0&&gr.push({source:Cr,target:ke,count:Kr.count})}),{nodes:$e,links:gr}}function It($e){var gr={};return $e.forEach(function(Or){var xr=r(Or);gr[xr]||(gr[xr]={count:0,sumforceNodeSize:0})}),$e.forEach(function(Or){var xr=r(Or),mr=t(Or),Dr=gr[xr];Dr.count=Dr.count+1,Dr.sumforceNodeSize=Dr.sumforceNodeSize+Math.PI*(mr*mr)*1.3,gr[xr]=Dr}),gr}function zt($e){var gr={},Or=[];$e.forEach(function(mr){var Dr=Rt(mr),Kr=0;gr[Dr]!==void 0&&(Kr=gr[Dr]),Kr+=1,gr[Dr]=Kr});var xr=Object.entries(gr);return xr.forEach(function(mr){var Dr=mr[0],Kr=mr[1],Cr=Dr.split("~")[0],ke=Dr.split("~")[1];Cr!==void 0&&ke!==void 0&&Or.push({source:Cr,target:ke,count:Kr})}),Or}function jt(){return v={none:{x:0,y:0}},g.forEach(function($e){v[$e.id]={x:$e.x-o[0],y:$e.y-o[1]}}),v}function Rt($e){var gr=r(l[$e.source]),Or=r(l[$e.target]);return gr<=Or?gr+"~"+Or:Or+"~"+gr}function re($e){l={},$e.forEach(function(gr){l[gr.id]=gr})}function de($e){return arguments.length?(F=$e,it(),z):F}function fe($e){return arguments.length?typeof $e=="string"?(r=function(Or){return Or[$e]},z):(r=$e,z):r}function Me($e){return arguments.length?(Y=$e,z):Y}function Le($e){return arguments.length?(V=$e,z):V}function _e($e){return arguments.length?(h=$e,z):h}function He($e){return arguments.length?(c=$e,z):c}function je($e){return arguments.length?(re($e||[]),s=$e||[],z):s}function Ze($e){return arguments.length?(u=$e||[],it(),z):u}function ze($e){return arguments.length?(typeof $e=="function"?t=$e:t=i(+$e),it(),z):t}function Xe($e){return arguments.length?(typeof $e=="function"?e=$e:e=i(+$e),it(),z):e}function pr($e){return arguments.length?(typeof $e=="function"?n=$e:n=i(+$e),it(),z):n}function cr($e){return arguments.length?(typeof $e=="function"?a=$e:a=i(+$e),it(),z):a}function br($e){return arguments.length?(o=$e,z):o}return z.initialize=function($e){s=$e,it()},z.template=de,z.groupBy=fe,z.enableGrouping=Me,z.strength=Le,z.centerX=_e,z.centerY=He,z.nodes=je,z.links=Ze,z.forceNodeSize=ze,z.nodeSize=z.forceNodeSize,z.forceCharge=Xe,z.forceLinkDistance=pr,z.forceLinkStrength=cr,z.offset=br,z.getFocis=jt,z}var go={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK"},jN=function(i){Dn(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.nodeStrength=null,t.edgeStrength=null,t.preventOverlap=!1,t.clusterNodeStrength=null,t.clusterEdgeStrength=null,t.clusterEdgeDistance=null,t.clusterNodeSize=null,t.clusterFociStrength=null,t.linkDistance=50,t.alphaDecay=.028,t.alphaMin=.001,t.alpha=.3,t.collideStrength=1,t.workerEnabled=!1,t.tick=function(){},t.onLayoutEnd=function(){},t.onTick=function(){},t.ticking=void 0,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],nodeStrength:null,edgeStrength:null,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,linkDistance:50,forceSimulation:null,alphaDecay:.028,alphaMin:.001,alpha:.3,collideStrength:1,clustering:!1,clusterNodeStrength:-1,clusterEdgeStrength:.1,clusterEdgeDistance:100,clusterFociStrength:.8,clusterNodeSize:10,tick:function(){},onLayoutEnd:function(){},onTick:function(){},workerEnabled:!1}},r.prototype.init=function(t){var e=this;e.nodes=t.nodes||[];var n=t.edges||[];e.edges=n.map(function(a){var o={},s=["targetNode","sourceNode","startPoint","endPoint"];return Object.keys(a).forEach(function(l){s.indexOf(l)>-1||(o[l]=a[l])}),o}),e.ticking=!1},r.prototype.execute=function(t){var e=this,n=e.nodes,a=e.edges;if(!e.ticking){var o=e.forceSimulation,s=e.alphaMin,l=e.alphaDecay,u=e.alpha;if(o)t&&(e.clustering&&e.clusterForce&&(e.clusterForce.nodes(n),e.clusterForce.links(a)),o.nodes(n),e.edgeForce.links(a)),e.preventOverlap&&e.overlapProcess(o),o.alpha(u).restart(),this.ticking=!0;else try{var h=l1();if(e.nodeStrength&&h.strength(e.nodeStrength),o=s1().nodes(n),e.clustering){var c=WN();c.centerX(e.center[0]).centerY(e.center[1]).template("force").strength(e.clusterFociStrength),a&&c.links(a),n&&c.nodes(n),c.forceLinkDistance(e.clusterEdgeDistance).forceLinkStrength(e.clusterEdgeStrength).forceCharge(e.clusterNodeStrength).forceNodeSize(e.clusterNodeSize),e.clusterForce=c,o.force("group",c)}if(o.force("center",YN(e.center[0],e.center[1])).force("charge",h).alpha(u).alphaDecay(l).alphaMin(s),e.preventOverlap&&e.overlapProcess(o),a){var v=f1().id(function(F){return F.id}).links(a);e.edgeStrength&&v.strength(e.edgeStrength),e.linkDistance&&v.distance(e.linkDistance),e.edgeForce=v,o.force("link",v)}if(e.workerEnabled&&!KN()&&(e.workerEnabled=!1,console.warn("workerEnabled option is only supported when running in web worker.")),!e.workerEnabled)o.on("tick",function(){e.tick()}).on("end",function(){e.ticking=!1,e.onLayoutEnd&&e.onLayoutEnd()}),e.ticking=!0;else{o.stop();for(var g=ZN(o),M=1;M<=g;M++)o.tick(),postMessage({type:go.TICK,currentTick:M,totalTicks:g,nodes:n},void 0);e.ticking=!1}e.forceSimulation=o,e.ticking=!0}catch(F){e.ticking=!1,console.warn(F)}}},r.prototype.overlapProcess=function(t){var e=this,n=e.nodeSize,a=e.nodeSpacing,o,s,l=e.collideStrength;if((0,ka.default)(a)?s=function(){return a}:(0,ml.default)(a)?s=a:s=function(){return 0},!n)o=function(g){if(g.size){if((0,ki.default)(g.size)){var M=g.size[0]>g.size[1]?g.size[0]:g.size[1];return M/2+s(g)}return g.size/2+s(g)}return 10+s(g)};else if((0,ml.default)(n))o=function(g){var M=n(g);return M+s(g)};else if((0,ki.default)(n)){var u=n[0]>n[1]?n[0]:n[1],h=u/2;o=function(g){return h+s(g)}}else if((0,ka.default)(n)){var c=n/2;o=function(g){return c+s(g)}}else o=function(){return 10};t.force("collisionForce",h1(o).strength(l))},r.prototype.updateCfg=function(t){var e=this;e.ticking&&(e.forceSimulation.stop(),e.ticking=!1),e.forceSimulation=null,(0,Ks.default)(e,t)},r.prototype.destroy=function(){var t=this;t.ticking&&(t.forceSimulation.stop(),t.ticking=!1),t.nodes=null,t.edges=null,t.destroyed=!0},r}(Ta),UN=jN;function ZN(i){var r=i.alphaMin(),t=i.alphaTarget(),e=i.alpha(),n=Math.log((r-t)/(e-t))/Math.log(1-i.alphaDecay()),a=Math.ceil(n);return a}function KN(){return typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope}var $N=function(i){Dn(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=500,t.gravity=10,t.clustering=!1,t.clusterGravity=10,t.linkDistance=50,t.alpha=1,t.alphaMin=.001,t.alphaDecay=1-Math.pow(t.alphaMin,1/300),t.alphaTarget=0,t.velocityDecay=.6,t.linkStrength=1,t.nodeStrength=30,t.preventOverlap=!1,t.collideStrength=1,t.optimizeRangeFactor=1,t.tick=function(){},t.nodes=[],t.edges=[],t.width=300,t.height=300,t.bias=[],t.nodeMap={},t.nodeIdxMap={},t}return r.prototype.getDefaultCfg=function(){return{maxIteration:1e3,center:[0,0],gravity:10,clustering:!1,clusterGravity:10,preventOverlap:!1,nodeSpacing:void 0,collideStrength:10}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.center;if(!(!e||e.length===0)){if(e.length===1){e[0].x=n[0],e[0].y=n[1];return}var a={},o={};e.forEach(function(s,l){a[s.id]=s,o[s.id]=l}),t.nodeMap=a,t.nodeIdxMap=o,t.run()}},r.prototype.run=function(){var t=this,e=t.nodes,n=t.edges,a=t.maxIteration;!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var o=t.center,s=t.velocityDecay,l=t.clustering,u;t.initVals(),l&&(u=t.getClusterMap());for(var h=function(Y){var V=[];e.forEach(function(z,it){V[it]={x:0,y:0}}),t.applyCalculate(e,n,V),l&&t.applyClusterForce(u,V),e.forEach(function(z,it){!(0,f.isNumber)(z.x)||!(0,f.isNumber)(z.y)||(z.x+=V[it].x*s,z.y+=V[it].y*s)}),c.alpha+=(c.alphaTarget-c.alpha)*c.alphaDecay,t.tick()},c=this,v=0;v<a;v++)h(v);var g=[0,0];e.forEach(function(F){!(0,f.isNumber)(F.x)||!(0,f.isNumber)(F.y)||(g[0]+=F.x,g[1]+=F.y)}),g[0]/=e.length,g[1]/=e.length;var M=[o[0]-g[0],o[1]-g[1]];e.forEach(function(F,Y){!(0,f.isNumber)(F.x)||!(0,f.isNumber)(F.y)||(F.x+=M[0],F.y+=M[1])})},r.prototype.initVals=function(){for(var t=this,e=t.edges,n={},a=0;a<e.length;++a)n[e[a].source]?n[e[a].source]++:n[e[a].source]=1,n[e[a].target]?n[e[a].target]++:n[e[a].target]=1;for(var o=[],a=0;a<e.length;++a)o[a]=n[e[a].source]/(n[e[a].source]+n[e[a].target]);this.bias=o;var s=t.nodeSize,l=t.nodeSpacing,u,h;if((0,f.isNumber)(l)?h=function(){return l}:(0,f.isFunction)(l)?h=l:h=function(){return 0},!s)u=function(yt){if(yt.size){if((0,f.isArray)(yt.size)){var It=yt.size[0]>yt.size[1]?yt.size[0]:yt.size[1];return It/2+h(yt)}return yt.size/2+h(yt)}return 10+h(yt)};else if((0,f.isFunction)(s))u=function(yt){var It=s(yt);return It+h(yt)};else if((0,f.isArray)(s)){var c=s[0]>s[1]?s[0]:s[1],v=c/2;u=function(yt){return v+h(yt)}}else if((0,f.isNumber)(s)){var g=s/2;u=function(yt){return g+h(yt)}}else u=function(){return 10};this.nodeSize=u;var M=this.linkDistance,F;M||(M=50),(0,f.isNumber)(M)&&(F=function(yt){return M}),this.linkDistance=F;var Y=this.linkStrength,V;Y||(Y=1),(0,f.isNumber)(Y)&&(V=function(yt){return Y}),this.linkStrength=V;var z=this.nodeStrength,it;z||(z=30),(0,f.isNumber)(z)&&(it=function(yt){return z}),this.nodeStrength=it},r.prototype.getClusterMap=function(){var t=this,e=t.nodes,n={};e.forEach(function(o){if(n[o.cluster]===void 0){var s={name:o.cluster,cx:0,cy:0,count:0};n[o.cluster]=s}var l=n[o.cluster];(0,f.isNumber)(o.x)&&(l.cx+=o.x),(0,f.isNumber)(o.y)&&(l.cy+=o.y),l.count++});for(var a in n)n[a].cx/=n[a].count,n[a].cy/=n[a].count;return n},r.prototype.applyClusterForce=function(t,e){var n=this,a=n.gravity,o=n.nodes,s=n.clusterGravity||a,l=this.alpha;o.forEach(function(h,c){if(!(!(0,f.isNumber)(h.x)||!(0,f.isNumber)(h.y))){var v=t[h.cluster],g=h.x-v.cx,M=h.y-v.cy,F=Math.sqrt(g*g+M*M);e[c].x-=g*s*l/F,e[c].y-=M*s*l/F}});for(var u in t)t[u].cx=0,t[u].cy=0,t[u].count=0;o.forEach(function(h){var c=t[h.cluster];(0,f.isNumber)(h.x)&&(c.cx+=h.x),(0,f.isNumber)(h.y)&&(c.cy+=h.y),c.count++});for(var u in t)t[u].cx/=t[u].count,t[u].cy/=t[u].count},r.prototype.applyCalculate=function(t,e,n){var a=this,o={};t.forEach(function(s,l){n[l]={x:0,y:0},t.forEach(function(u,h){if(!(l<h)){var c=s.x-u.x,v=s.y-u.y,g=c*c+v*v;g<1&&(g=Math.sqrt(g)),c===0&&(c=Math.random()*.01,g+=c*c),v===0&&(v=Math.random()*.01,g+=v*v);var M=Math.sqrt(g);o[s.id+"-"+u.id]={vx:c,vy:v,vl:g,sqrtVl:M},o[u.id+"-"+s.id]={vx:-c,vy:-v,vl:g,sqrtVl:M}}})}),a.calRepulsive(t,n,o),a.calAttractive(e,n,o)},r.prototype.calRepulsive=function(t,e,n){var a=this.width*this.optimizeRangeFactor*this.width*this.optimizeRangeFactor,o=this.nodeStrength,s=this.alpha,l=this.collideStrength,u=this.preventOverlap,h=this.nodeSize;t.forEach(function(c,v){t.forEach(function(g,M){if(v!==M&&!(!(0,f.isNumber)(c.x)||!(0,f.isNumber)(g.x)||!(0,f.isNumber)(c.y)||!(0,f.isNumber)(g.y))){var F=n[c.id+"-"+g.id],Y=F.vl,V=F.vx,z=F.vy;if(!(Y>a)&&(e[v].x+=V*o(g)*s/Y,e[v].y+=z*o(g)*s/Y,u&&v<M)){var it=h(c),ot=h(g),yt=it+ot;if(Y<yt*yt){var It=n[c.id+"-"+g.id].sqrtVl,zt=(yt-It)/It*l,jt=ot*ot/(it*it+ot*ot),Rt=V*zt,re=z*zt;e[v].x+=Rt*jt,e[v].y+=re*jt,jt=1-jt,e[M].x-=Rt*jt,e[M].y-=re*jt}}}})})},r.prototype.calAttractive=function(t,e,n){var a=this,o=this.linkDistance,s=this.alpha,l=this.linkStrength,u=this.bias;t.forEach(function(h,c){if(!(!h.source||!h.target)){var v=a.nodeIdxMap[h.source],g=a.nodeIdxMap[h.target];if(v!==g){var M=a.nodeMap[h.source],F=a.nodeMap[h.target];if(!(!(0,f.isNumber)(F.x)||!(0,f.isNumber)(M.x)||!(0,f.isNumber)(F.y)||!(0,f.isNumber)(M.y))){var Y=n[h.target+"-"+h.source],V=Y.vl,z=Y.sqrtVl,it=Y.vx,ot=Y.vy,yt=(z-o(h))/z*s*l(h),It=it*yt,zt=ot*yt,jt=u[c];e[g].x-=It*jt,e[g].y-=zt*jt,e[v].x+=It*(1-jt),e[v].y+=zt*(1-jt)}}}})},r}(Ta),QN=$N,JN=800,qN=function(i){Dn(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=1e3,t.gravity=10,t.speed=1,t.clustering=!1,t.clusterGravity=10,t.nodes=[],t.edges=[],t.width=300,t.height=300,t.nodeMap={},t.nodeIdxMap={},t}return r.prototype.getDefaultCfg=function(){return{maxIteration:1e3,center:[0,0],gravity:10,speed:1,clustering:!1,clusterGravity:10}},r.prototype.execute=function(){var t=this,e=this,n=e.nodes,a=e.center;if(!(!n||n.length===0)){if(n.length===1){n[0].x=a[0],n[0].y=a[1];return}var o={},s={};n.forEach(function(l,u){(0,f.isNumber)(l.x)||(l.x=Math.random()*t.width),(0,f.isNumber)(l.y)||(l.y=Math.random()*t.height),o[l.id]=l,s[l.id]=u}),e.nodeMap=o,e.nodeIdxMap=s,e.run()}},r.prototype.run=function(){var t=this,e=t.nodes,n=t.edges,a=t.maxIteration;!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var o=t.center,s=t.width/10,l=Math.sqrt(t.width*t.height/(e.length+1)),u=t.gravity,h=t.speed,c=t.clustering,v={};if(c){e.forEach(function(Y){if(v[Y.cluster]===void 0){var V={name:Y.cluster,cx:0,cy:0,count:0};v[Y.cluster]=V}var z=v[Y.cluster];(0,f.isNumber)(Y.x)&&(z.cx+=Y.x),(0,f.isNumber)(Y.y)&&(z.cy+=Y.y),z.count++});for(var g in v)v[g].cx/=v[g].count,v[g].cy/=v[g].count}for(var M=function(V){var z=[];if(e.forEach(function(yt,It){z[It]={x:0,y:0}}),t.applyCalculate(e,n,z,l),c){var it=t.clusterGravity||u;e.forEach(function(yt,It){if(!(!(0,f.isNumber)(yt.x)||!(0,f.isNumber)(yt.y))){var zt=v[yt.cluster],jt=Math.sqrt((yt.x-zt.cx)*(yt.x-zt.cx)+(yt.y-zt.cy)*(yt.y-zt.cy)),Rt=l*it;z[It].x-=Rt*(yt.x-zt.cx)/jt,z[It].y-=Rt*(yt.y-zt.cy)/jt}});for(var ot in v)v[ot].cx=0,v[ot].cy=0,v[ot].count=0;e.forEach(function(yt){var It=v[yt.cluster];(0,f.isNumber)(yt.x)&&(It.cx+=yt.x),(0,f.isNumber)(yt.y)&&(It.cy+=yt.y),It.count++});for(var ot in v)v[ot].cx/=v[ot].count,v[ot].cy/=v[ot].count}e.forEach(function(yt,It){if(!(!(0,f.isNumber)(yt.x)||!(0,f.isNumber)(yt.y))){var zt=.01*l*u;z[It].x-=zt*(yt.x-o[0]),z[It].y-=zt*(yt.y-o[1])}}),e.forEach(function(yt,It){if(!(!(0,f.isNumber)(yt.x)||!(0,f.isNumber)(yt.y))){var zt=Math.sqrt(z[It].x*z[It].x+z[It].y*z[It].y);if(zt>0){var jt=Math.min(s*(h/JN),zt);yt.x+=z[It].x/zt*jt,yt.y+=z[It].y/zt*jt}}})},F=0;F<a;F++)M(F)},r.prototype.applyCalculate=function(t,e,n,a){var o=this;o.calRepulsive(t,n,a),o.calAttractive(e,n,a)},r.prototype.calRepulsive=function(t,e,n){t.forEach(function(a,o){e[o]={x:0,y:0},t.forEach(function(s,l){if(o!==l&&!(!(0,f.isNumber)(a.x)||!(0,f.isNumber)(s.x)||!(0,f.isNumber)(a.y)||!(0,f.isNumber)(s.y))){var u=a.x-s.x,h=a.y-s.y,c=u*u+h*h;if(c===0){c=1;var v=o>l?1:-1;u=.01*v,h=.01*v}var g=n*n/c;e[o].x+=u*g,e[o].y+=h*g}})})},r.prototype.calAttractive=function(t,e,n){var a=this;t.forEach(function(o){if(!(!o.source||!o.target)){var s=a.nodeIdxMap[o.source],l=a.nodeIdxMap[o.target];if(s!==l){var u=a.nodeMap[o.source],h=a.nodeMap[o.target];if(!(!(0,f.isNumber)(h.x)||!(0,f.isNumber)(u.x)||!(0,f.isNumber)(h.y)||!(0,f.isNumber)(u.y))){var c=h.x-u.x,v=h.y-u.y,g=Math.sqrt(c*c+v*v),M=g*g/n;e[l].x-=c/g*M,e[l].y-=v/g*M,e[s].x+=c/g*M,e[s].y+=v/g*M}}}})},r}(Ta),t4=qN,e4=function(i){Dn(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.begin=[0,0],t.preventOverlap=!0,t.preventOverlapPadding=10,t.condense=!1,t.sortBy="degree",t.nodeSize=30,t.nodes=[],t.edges=[],t.center=[0,0],t.width=300,t.height=300,t.row=0,t.col=0,t.cellWidth=0,t.cellHeight=0,t.cellUsed={},t.id2manPos={},t}return r.prototype.getDefaultCfg=function(){return{begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30}},r.prototype.execute=function(){var t=this,e=t.nodes,n=e.length,a=t.center;if(n!==0){if(n===1){e[0].x=a[0],e[0].y=a[1];return}var o=t.edges,s=[];e.forEach(function(z){s.push(z)});var l={};if(s.forEach(function(z,it){l[z.id]=it}),(t.sortBy==="degree"||!(0,mn.default)(t.sortBy)||s[0][t.sortBy]===void 0)&&(t.sortBy="degree",co(e[0].degree))){var u=bu(s.length,l,o);s.forEach(function(z,it){z.degree=u[it]})}s.sort(function(z,it){return it[t.sortBy]-z[t.sortBy]}),!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var h=t.rows,c=t.cols!=null?t.cols:t.columns;if(t.cells=n,h!=null&&c!=null?(t.rows=h,t.cols=c):h!=null&&c==null?(t.rows=h,t.cols=Math.ceil(t.cells/t.rows)):h==null&&c!=null?(t.cols=c,t.rows=Math.ceil(t.cells/t.cols)):(t.splits=Math.sqrt(t.cells*t.height/t.width),t.rows=Math.round(t.splits),t.cols=Math.round(t.width/t.height*t.splits)),t.cols*t.rows>t.cells){var v=t.small(),g=t.large();(v-1)*g>=t.cells?t.small(v-1):(g-1)*v>=t.cells&&t.large(g-1)}else for(;t.cols*t.rows<t.cells;){var v=t.small(),g=t.large();(g+1)*v>=t.cells?t.large(g+1):t.small(v+1)}t.cellWidth=t.width/t.cols,t.cellHeight=t.height/t.rows,t.condense&&(t.cellWidth=0,t.cellHeight=0),t.preventOverlap&&s.forEach(function(z){(!z.x||!z.y)&&(z.x=0,z.y=0);var it,ot;(0,f.isArray)(z.size)?(it=z.size[0],ot=z.size[1]):(0,f.isNumber)(z.size)&&(it=z.size,ot=z.size),(it===void 0||ot===void 0)&&((0,f.isArray)(t.nodeSize)?(it=t.nodeSize[0],ot=t.nodeSize[1]):(0,f.isNumber)(t.nodeSize)?(it=t.nodeSize,ot=t.nodeSize):(it=30,ot=30));var yt=t.preventOverlapPadding,It=it+yt,zt=ot+yt;t.cellWidth=Math.max(t.cellWidth,It),t.cellHeight=Math.max(t.cellHeight,zt)}),t.cellUsed={},t.row=0,t.col=0,t.id2manPos={};for(var M=0;M<s.length;M++){var F=s[M],Y=void 0;if(t.position&&(Y=t.position(F)),Y&&(Y.row!==void 0||Y.col!==void 0)){var V={row:Y.row,col:Y.col};if(V.col===void 0)for(V.col=0;t.used(V.row,V.col);)V.col++;else if(V.row===void 0)for(V.row=0;t.used(V.row,V.col);)V.row++;t.id2manPos[F.id]=V,t.use(V.row,V.col)}t.getPos(F)}}},r.prototype.small=function(t){var e=this,n,a=e.rows||5,o=e.cols||5;if(t==null)n=Math.min(a,o);else{var s=Math.min(a,o);s===e.rows?e.rows=t:e.cols=t}return n},r.prototype.large=function(t){var e=this,n,a=e.rows||5,o=e.cols||5;if(t==null)n=Math.max(a,o);else{var s=Math.max(a,o);s===e.rows?e.rows=t:e.cols=t}return n},r.prototype.used=function(t,e){var n=this;return n.cellUsed["c-"+t+"-"+e]||!1},r.prototype.use=function(t,e){var n=this;n.cellUsed["c-"+t+"-"+e]=!0},r.prototype.moveToNextCell=function(){var t=this,e=t.cols||5;t.col++,t.col>=e&&(t.col=0,t.row++)},r.prototype.getPos=function(t){var e=this,n=e.begin,a=e.cellWidth,o=e.cellHeight,s,l,u=e.id2manPos[t.id];if(u)s=u.col*a+a/2+n[0],l=u.row*o+o/2+n[1];else{for(;e.used(e.row,e.col);)e.moveToNextCell();s=e.col*a+a/2+n[0],l=e.row*o+o/2+n[1],e.use(e.row,e.col),e.moveToNextCell()}t.x=s,t.y=l},r}(Ta),r4=e4,n4=d(40670),c1=d(81306),v1=d(59206),Nu=d(69610),Yu=d(54941);const i4=Object.prototype.toString;function ma(i){return i4.call(i).endsWith("Array]")}function a4(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!ma(i))throw new TypeError("input must be an array");if(i.length===0)throw new TypeError("input must not be empty");var t=r.fromIndex,e=t===void 0?0:t,n=r.toIndex,a=n===void 0?i.length:n;if(e<0||e>=i.length||!Number.isInteger(e))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=e||a>i.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var o=i[e],s=e+1;s<a;s++)i[s]>o&&(o=i[s]);return o}function o4(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!ma(i))throw new TypeError("input must be an array");if(i.length===0)throw new TypeError("input must not be empty");var t=r.fromIndex,e=t===void 0?0:t,n=r.toIndex,a=n===void 0?i.length:n;if(e<0||e>=i.length||!Number.isInteger(e))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=e||a>i.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var o=i[e],s=e+1;s<a;s++)i[s]<o&&(o=i[s]);return o}function d1(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(ma(i)){if(i.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var t;if(r.output!==void 0){if(!ma(r.output))throw new TypeError("output option must be an array if specified");t=r.output}else t=new Array(i.length);var e=o4(i),n=a4(i);if(e===n)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var a=r.min,o=a===void 0?r.autoMinMax?e:0:a,s=r.max,l=s===void 0?r.autoMinMax?n:1:s;if(o>=l)throw new RangeError("min option must be smaller than max option");for(var u=(l-o)/(n-e),h=0;h<i.length;h++)t[h]=(i[h]-e)*u+o;return t}var Gu=" ".repeat(2),p1=" ".repeat(4);function s4(){return g1(this)}function g1(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=r.maxRows,e=t===void 0?15:t,n=r.maxColumns,a=n===void 0?10:n,o=r.maxNumSize,s=o===void 0?8:o;return"".concat(i.constructor.name,` {
`).concat(Gu,`[
`).concat(p1).concat(l4(i,e,a,s),`
`).concat(Gu,`]
`).concat(Gu,"rows: ").concat(i.rows,`
`).concat(Gu,"columns: ").concat(i.columns,`
}`)}function l4(i,r,t,e){for(var n=i.rows,a=i.columns,o=Math.min(n,r),s=Math.min(a,t),l=[],u=0;u<o;u++){for(var h=[],c=0;c<s;c++)h.push(u4(i.get(u,c),e));l.push("".concat(h.join(" ")))}return s!==a&&(l[l.length-1]+=" ... ".concat(a-t," more columns")),o!==n&&l.push("... ".concat(n-r," more rows")),l.join(`
`.concat(p1))}function u4(i,r){var t=String(i);if(t.length<=r)return t.padEnd(r," ");var e=i.toPrecision(r-2);if(e.length<=r)return e;var n=i.toExponential(r-2),a=n.indexOf("e"),o=n.slice(a);return n.slice(0,r-o.length)+o}function f4(i,r){i.prototype.add=function(e){return typeof e=="number"?this.addS(e):this.addM(e)},i.prototype.addS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)+e);return this},i.prototype.addM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)+e.get(n,a));return this},i.add=function(e,n){var a=new r(e);return a.add(n)},i.prototype.sub=function(e){return typeof e=="number"?this.subS(e):this.subM(e)},i.prototype.subS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)-e);return this},i.prototype.subM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)-e.get(n,a));return this},i.sub=function(e,n){var a=new r(e);return a.sub(n)},i.prototype.subtract=i.prototype.sub,i.prototype.subtractS=i.prototype.subS,i.prototype.subtractM=i.prototype.subM,i.subtract=i.sub,i.prototype.mul=function(e){return typeof e=="number"?this.mulS(e):this.mulM(e)},i.prototype.mulS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)*e);return this},i.prototype.mulM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)*e.get(n,a));return this},i.mul=function(e,n){var a=new r(e);return a.mul(n)},i.prototype.multiply=i.prototype.mul,i.prototype.multiplyS=i.prototype.mulS,i.prototype.multiplyM=i.prototype.mulM,i.multiply=i.mul,i.prototype.div=function(e){return typeof e=="number"?this.divS(e):this.divM(e)},i.prototype.divS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)/e);return this},i.prototype.divM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)/e.get(n,a));return this},i.div=function(e,n){var a=new r(e);return a.div(n)},i.prototype.divide=i.prototype.div,i.prototype.divideS=i.prototype.divS,i.prototype.divideM=i.prototype.divM,i.divide=i.div,i.prototype.mod=function(e){return typeof e=="number"?this.modS(e):this.modM(e)},i.prototype.modS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)%e);return this},i.prototype.modM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)%e.get(n,a));return this},i.mod=function(e,n){var a=new r(e);return a.mod(n)},i.prototype.modulus=i.prototype.mod,i.prototype.modulusS=i.prototype.modS,i.prototype.modulusM=i.prototype.modM,i.modulus=i.mod,i.prototype.and=function(e){return typeof e=="number"?this.andS(e):this.andM(e)},i.prototype.andS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)&e);return this},i.prototype.andM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)&e.get(n,a));return this},i.and=function(e,n){var a=new r(e);return a.and(n)},i.prototype.or=function(e){return typeof e=="number"?this.orS(e):this.orM(e)},i.prototype.orS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)|e);return this},i.prototype.orM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)|e.get(n,a));return this},i.or=function(e,n){var a=new r(e);return a.or(n)},i.prototype.xor=function(e){return typeof e=="number"?this.xorS(e):this.xorM(e)},i.prototype.xorS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)^e);return this},i.prototype.xorM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)^e.get(n,a));return this},i.xor=function(e,n){var a=new r(e);return a.xor(n)},i.prototype.leftShift=function(e){return typeof e=="number"?this.leftShiftS(e):this.leftShiftM(e)},i.prototype.leftShiftS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)<<e);return this},i.prototype.leftShiftM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)<<e.get(n,a));return this},i.leftShift=function(e,n){var a=new r(e);return a.leftShift(n)},i.prototype.signPropagatingRightShift=function(e){return typeof e=="number"?this.signPropagatingRightShiftS(e):this.signPropagatingRightShiftM(e)},i.prototype.signPropagatingRightShiftS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)>>e);return this},i.prototype.signPropagatingRightShiftM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)>>e.get(n,a));return this},i.signPropagatingRightShift=function(e,n){var a=new r(e);return a.signPropagatingRightShift(n)},i.prototype.rightShift=function(e){return typeof e=="number"?this.rightShiftS(e):this.rightShiftM(e)},i.prototype.rightShiftS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)>>>e);return this},i.prototype.rightShiftM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)>>>e.get(n,a));return this},i.rightShift=function(e,n){var a=new r(e);return a.rightShift(n)},i.prototype.zeroFillRightShift=i.prototype.rightShift,i.prototype.zeroFillRightShiftS=i.prototype.rightShiftS,i.prototype.zeroFillRightShiftM=i.prototype.rightShiftM,i.zeroFillRightShift=i.rightShift,i.prototype.not=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,~this.get(e,n));return this},i.not=function(e){var n=new r(e);return n.not()},i.prototype.abs=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.abs(this.get(e,n)));return this},i.abs=function(e){var n=new r(e);return n.abs()},i.prototype.acos=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.acos(this.get(e,n)));return this},i.acos=function(e){var n=new r(e);return n.acos()},i.prototype.acosh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.acosh(this.get(e,n)));return this},i.acosh=function(e){var n=new r(e);return n.acosh()},i.prototype.asin=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.asin(this.get(e,n)));return this},i.asin=function(e){var n=new r(e);return n.asin()},i.prototype.asinh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.asinh(this.get(e,n)));return this},i.asinh=function(e){var n=new r(e);return n.asinh()},i.prototype.atan=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.atan(this.get(e,n)));return this},i.atan=function(e){var n=new r(e);return n.atan()},i.prototype.atanh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.atanh(this.get(e,n)));return this},i.atanh=function(e){var n=new r(e);return n.atanh()},i.prototype.cbrt=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.cbrt(this.get(e,n)));return this},i.cbrt=function(e){var n=new r(e);return n.cbrt()},i.prototype.ceil=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.ceil(this.get(e,n)));return this},i.ceil=function(e){var n=new r(e);return n.ceil()},i.prototype.clz32=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.clz32(this.get(e,n)));return this},i.clz32=function(e){var n=new r(e);return n.clz32()},i.prototype.cos=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.cos(this.get(e,n)));return this},i.cos=function(e){var n=new r(e);return n.cos()},i.prototype.cosh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.cosh(this.get(e,n)));return this},i.cosh=function(e){var n=new r(e);return n.cosh()},i.prototype.exp=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.exp(this.get(e,n)));return this},i.exp=function(e){var n=new r(e);return n.exp()},i.prototype.expm1=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.expm1(this.get(e,n)));return this},i.expm1=function(e){var n=new r(e);return n.expm1()},i.prototype.floor=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.floor(this.get(e,n)));return this},i.floor=function(e){var n=new r(e);return n.floor()},i.prototype.fround=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.fround(this.get(e,n)));return this},i.fround=function(e){var n=new r(e);return n.fround()},i.prototype.log=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.log(this.get(e,n)));return this},i.log=function(e){var n=new r(e);return n.log()},i.prototype.log1p=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.log1p(this.get(e,n)));return this},i.log1p=function(e){var n=new r(e);return n.log1p()},i.prototype.log10=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.log10(this.get(e,n)));return this},i.log10=function(e){var n=new r(e);return n.log10()},i.prototype.log2=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.log2(this.get(e,n)));return this},i.log2=function(e){var n=new r(e);return n.log2()},i.prototype.round=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.round(this.get(e,n)));return this},i.round=function(e){var n=new r(e);return n.round()},i.prototype.sign=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.sign(this.get(e,n)));return this},i.sign=function(e){var n=new r(e);return n.sign()},i.prototype.sin=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.sin(this.get(e,n)));return this},i.sin=function(e){var n=new r(e);return n.sin()},i.prototype.sinh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.sinh(this.get(e,n)));return this},i.sinh=function(e){var n=new r(e);return n.sinh()},i.prototype.sqrt=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.sqrt(this.get(e,n)));return this},i.sqrt=function(e){var n=new r(e);return n.sqrt()},i.prototype.tan=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.tan(this.get(e,n)));return this},i.tan=function(e){var n=new r(e);return n.tan()},i.prototype.tanh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.tanh(this.get(e,n)));return this},i.tanh=function(e){var n=new r(e);return n.tanh()},i.prototype.trunc=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.trunc(this.get(e,n)));return this},i.trunc=function(e){var n=new r(e);return n.trunc()},i.pow=function(e,n){var a=new r(e);return a.pow(n)},i.prototype.pow=function(e){return typeof e=="number"?this.powS(e):this.powM(e)},i.prototype.powS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,Math.pow(this.get(n,a),e));return this},i.prototype.powM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,Math.pow(this.get(n,a),e.get(n,a)));return this}}function Da(i,r,t){var e=t?i.rows:i.rows-1;if(r<0||r>e)throw new RangeError("Row index out of range")}function Fa(i,r,t){var e=t?i.columns:i.columns-1;if(r<0||r>e)throw new RangeError("Column index out of range")}function ds(i,r){if(r.to1DArray&&(r=r.to1DArray()),r.length!==i.columns)throw new RangeError("vector size must be the same as the number of columns");return r}function ps(i,r){if(r.to1DArray&&(r=r.to1DArray()),r.length!==i.rows)throw new RangeError("vector size must be the same as the number of rows");return r}function h4(i,r){if(!ma(r))throw new TypeError("row indices must be an array");for(var t=0;t<r.length;t++)if(r[t]<0||r[t]>=i.rows)throw new RangeError("row indices are out of range")}function c4(i,r){if(!ma(r))throw new TypeError("column indices must be an array");for(var t=0;t<r.length;t++)if(r[t]<0||r[t]>=i.columns)throw new RangeError("column indices are out of range")}function y1(i,r,t,e,n){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(Xu("startRow",r),Xu("endRow",t),Xu("startColumn",e),Xu("endColumn",n),r>t||e>n||r<0||r>=i.rows||t<0||t>=i.rows||e<0||e>=i.columns||n<0||n>=i.columns)throw new RangeError("Submatrix indices are out of range")}function zu(i){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=[],e=0;e<i;e++)t.push(r);return t}function Xu(i,r){if(typeof r!="number")throw new TypeError("".concat(i," must be a number"))}function gs(i){if(i.isEmpty())throw new Error("Empty matrix has no elements to index")}function v4(i){for(var r=zu(i.rows),t=0;t<i.rows;++t)for(var e=0;e<i.columns;++e)r[t]+=i.get(t,e);return r}function d4(i){for(var r=zu(i.columns),t=0;t<i.rows;++t)for(var e=0;e<i.columns;++e)r[e]+=i.get(t,e);return r}function p4(i){for(var r=0,t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)r+=i.get(t,e);return r}function g4(i){for(var r=zu(i.rows,1),t=0;t<i.rows;++t)for(var e=0;e<i.columns;++e)r[t]*=i.get(t,e);return r}function y4(i){for(var r=zu(i.columns,1),t=0;t<i.rows;++t)for(var e=0;e<i.columns;++e)r[e]*=i.get(t,e);return r}function m4(i){for(var r=1,t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)r*=i.get(t,e);return r}function x4(i,r,t){for(var e=i.rows,n=i.columns,a=[],o=0;o<e;o++){for(var s=0,l=0,u=0,h=0;h<n;h++)u=i.get(o,h)-t[o],s+=u,l+=u*u;r?a.push((l-s*s/n)/(n-1)):a.push((l-s*s/n)/n)}return a}function b4(i,r,t){for(var e=i.rows,n=i.columns,a=[],o=0;o<n;o++){for(var s=0,l=0,u=0,h=0;h<e;h++)u=i.get(h,o)-t[o],s+=u,l+=u*u;r?a.push((l-s*s/e)/(e-1)):a.push((l-s*s/e)/e)}return a}function w4(i,r,t){for(var e=i.rows,n=i.columns,a=e*n,o=0,s=0,l=0,u=0;u<e;u++)for(var h=0;h<n;h++)l=i.get(u,h)-t,o+=l,s+=l*l;return r?(s-o*o/a)/(a-1):(s-o*o/a)/a}function S4(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)-r[t])}function C4(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)-r[e])}function M4(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)-r)}function E4(i){for(var r=[],t=0;t<i.rows;t++){for(var e=0,n=0;n<i.columns;n++)e+=Math.pow(i.get(t,n),2)/(i.columns-1);r.push(Math.sqrt(e))}return r}function A4(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)/r[t])}function T4(i){for(var r=[],t=0;t<i.columns;t++){for(var e=0,n=0;n<i.rows;n++)e+=Math.pow(i.get(n,t),2)/(i.rows-1);r.push(Math.sqrt(e))}return r}function P4(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)/r[e])}function _4(i){for(var r=i.size-1,t=0,e=0;e<i.columns;e++)for(var n=0;n<i.rows;n++)t+=Math.pow(i.get(n,e),2)/r;return Math.sqrt(t)}function L4(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)/r)}var Ai=function(){function i(){(0,Nu.Z)(this,i)}return(0,Yu.Z)(i,[{key:"size",get:function(){return this.rows*this.columns}},{key:"apply",value:function(t){if(typeof t!="function")throw new TypeError("callback must be a function");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.call(this,e,n);return this}},{key:"to1DArray",value:function(){for(var t=[],e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.push(this.get(e,n));return t}},{key:"to2DArray",value:function(){for(var t=[],e=0;e<this.rows;e++){t.push([]);for(var n=0;n<this.columns;n++)t[e].push(this.get(e,n))}return t}},{key:"toJSON",value:function(){return this.to2DArray()}},{key:"isRowVector",value:function(){return this.rows===1}},{key:"isColumnVector",value:function(){return this.columns===1}},{key:"isVector",value:function(){return this.rows===1||this.columns===1}},{key:"isSquare",value:function(){return this.rows===this.columns}},{key:"isEmpty",value:function(){return this.rows===0||this.columns===0}},{key:"isSymmetric",value:function(){if(this.isSquare()){for(var t=0;t<this.rows;t++)for(var e=0;e<=t;e++)if(this.get(t,e)!==this.get(e,t))return!1;return!0}return!1}},{key:"isEchelonForm",value:function(){for(var t=0,e=0,n=-1,a=!0,o=!1;t<this.rows&&a;){for(e=0,o=!1;e<this.columns&&o===!1;)this.get(t,e)===0?e++:this.get(t,e)===1&&e>n?(o=!0,n=e):(a=!1,o=!0);t++}return a}},{key:"isReducedEchelonForm",value:function(){for(var t=0,e=0,n=-1,a=!0,o=!1;t<this.rows&&a;){for(e=0,o=!1;e<this.columns&&o===!1;)this.get(t,e)===0?e++:this.get(t,e)===1&&e>n?(o=!0,n=e):(a=!1,o=!0);for(var s=e+1;s<this.rows;s++)this.get(t,s)!==0&&(a=!1);t++}return a}},{key:"echelonForm",value:function(){for(var t=this.clone(),e=0,n=0;e<t.rows&&n<t.columns;){for(var a=e,o=e;o<t.rows;o++)t.get(o,n)>t.get(a,n)&&(a=o);if(t.get(a,n)===0)n++;else{t.swapRows(e,a);for(var s=t.get(e,n),l=n;l<t.columns;l++)t.set(e,l,t.get(e,l)/s);for(var u=e+1;u<t.rows;u++){var h=t.get(u,n)/t.get(e,n);t.set(u,n,0);for(var c=n+1;c<t.columns;c++)t.set(u,c,t.get(u,c)-t.get(e,c)*h)}e++,n++}}return t}},{key:"reducedEchelonForm",value:function(){for(var t=this.echelonForm(),e=t.columns,n=t.rows,a=n-1;a>=0;)if(t.maxRow(a)===0)a--;else{for(var o=0,s=!1;o<n&&s===!1;)t.get(a,o)===1?s=!0:o++;for(var l=0;l<a;l++)for(var u=t.get(l,o),h=o;h<e;h++){var c=t.get(l,h)-u*t.get(a,h);t.set(l,h,c)}a--}return t}},{key:"set",value:function(){throw new Error("set method is unimplemented")}},{key:"get",value:function(){throw new Error("get method is unimplemented")}},{key:"repeat",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof t!="object")throw new TypeError("options must be an object");var e=t.rows,n=e===void 0?1:e,a=t.columns,o=a===void 0?1:a;if(!Number.isInteger(n)||n<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(o)||o<=0)throw new TypeError("columns must be a positive integer");for(var s=new $r(this.rows*n,this.columns*o),l=0;l<n;l++)for(var u=0;u<o;u++)s.setSubMatrix(this,this.rows*l,this.columns*u);return s}},{key:"fill",value:function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,t);return this}},{key:"neg",value:function(){return this.mulS(-1)}},{key:"getRow",value:function(t){Da(this,t);for(var e=[],n=0;n<this.columns;n++)e.push(this.get(t,n));return e}},{key:"getRowVector",value:function(t){return $r.rowVector(this.getRow(t))}},{key:"setRow",value:function(t,e){Da(this,t),e=ds(this,e);for(var n=0;n<this.columns;n++)this.set(t,n,e[n]);return this}},{key:"swapRows",value:function(t,e){Da(this,t),Da(this,e);for(var n=0;n<this.columns;n++){var a=this.get(t,n);this.set(t,n,this.get(e,n)),this.set(e,n,a)}return this}},{key:"getColumn",value:function(t){Fa(this,t);for(var e=[],n=0;n<this.rows;n++)e.push(this.get(n,t));return e}},{key:"getColumnVector",value:function(t){return $r.columnVector(this.getColumn(t))}},{key:"setColumn",value:function(t,e){Fa(this,t),e=ps(this,e);for(var n=0;n<this.rows;n++)this.set(n,t,e[n]);return this}},{key:"swapColumns",value:function(t,e){Fa(this,t),Fa(this,e);for(var n=0;n<this.rows;n++){var a=this.get(n,t);this.set(n,t,this.get(n,e)),this.set(n,e,a)}return this}},{key:"addRowVector",value:function(t){t=ds(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t[n]);return this}},{key:"subRowVector",value:function(t){t=ds(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t[n]);return this}},{key:"mulRowVector",value:function(t){t=ds(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t[n]);return this}},{key:"divRowVector",value:function(t){t=ds(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t[n]);return this}},{key:"addColumnVector",value:function(t){t=ps(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t[e]);return this}},{key:"subColumnVector",value:function(t){t=ps(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t[e]);return this}},{key:"mulColumnVector",value:function(t){t=ps(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t[e]);return this}},{key:"divColumnVector",value:function(t){t=ps(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t[e]);return this}},{key:"mulRow",value:function(t,e){Da(this,t);for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e);return this}},{key:"mulColumn",value:function(t,e){Fa(this,t);for(var n=0;n<this.rows;n++)this.set(n,t,this.get(n,t)*e);return this}},{key:"max",value:function(){if(this.isEmpty())return NaN;for(var t=this.get(0,0),e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.get(e,n)>t&&(t=this.get(e,n));return t}},{key:"maxIndex",value:function(){gs(this);for(var t=this.get(0,0),e=[0,0],n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.get(n,a)>t&&(t=this.get(n,a),e[0]=n,e[1]=a);return e}},{key:"min",value:function(){if(this.isEmpty())return NaN;for(var t=this.get(0,0),e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.get(e,n)<t&&(t=this.get(e,n));return t}},{key:"minIndex",value:function(){gs(this);for(var t=this.get(0,0),e=[0,0],n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.get(n,a)<t&&(t=this.get(n,a),e[0]=n,e[1]=a);return e}},{key:"maxRow",value:function(t){if(Da(this,t),this.isEmpty())return NaN;for(var e=this.get(t,0),n=1;n<this.columns;n++)this.get(t,n)>e&&(e=this.get(t,n));return e}},{key:"maxRowIndex",value:function(t){Da(this,t),gs(this);for(var e=this.get(t,0),n=[t,0],a=1;a<this.columns;a++)this.get(t,a)>e&&(e=this.get(t,a),n[1]=a);return n}},{key:"minRow",value:function(t){if(Da(this,t),this.isEmpty())return NaN;for(var e=this.get(t,0),n=1;n<this.columns;n++)this.get(t,n)<e&&(e=this.get(t,n));return e}},{key:"minRowIndex",value:function(t){Da(this,t),gs(this);for(var e=this.get(t,0),n=[t,0],a=1;a<this.columns;a++)this.get(t,a)<e&&(e=this.get(t,a),n[1]=a);return n}},{key:"maxColumn",value:function(t){if(Fa(this,t),this.isEmpty())return NaN;for(var e=this.get(0,t),n=1;n<this.rows;n++)this.get(n,t)>e&&(e=this.get(n,t));return e}},{key:"maxColumnIndex",value:function(t){Fa(this,t),gs(this);for(var e=this.get(0,t),n=[0,t],a=1;a<this.rows;a++)this.get(a,t)>e&&(e=this.get(a,t),n[0]=a);return n}},{key:"minColumn",value:function(t){if(Fa(this,t),this.isEmpty())return NaN;for(var e=this.get(0,t),n=1;n<this.rows;n++)this.get(n,t)<e&&(e=this.get(n,t));return e}},{key:"minColumnIndex",value:function(t){Fa(this,t),gs(this);for(var e=this.get(0,t),n=[0,t],a=1;a<this.rows;a++)this.get(a,t)<e&&(e=this.get(a,t),n[0]=a);return n}},{key:"diag",value:function(){for(var t=Math.min(this.rows,this.columns),e=[],n=0;n<t;n++)e.push(this.get(n,n));return e}},{key:"norm",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"frobenius",e=0;if(t==="max")return this.max();if(t==="frobenius"){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)e=e+this.get(n,a)*this.get(n,a);return Math.sqrt(e)}else throw new RangeError("unknown norm type: ".concat(t))}},{key:"cumulativeSum",value:function(){for(var t=0,e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t+=this.get(e,n),this.set(e,n,t);return this}},{key:"dot",value:function(t){i.isMatrix(t)&&(t=t.to1DArray());var e=this.to1DArray();if(e.length!==t.length)throw new RangeError("vectors do not have the same size");for(var n=0,a=0;a<e.length;a++)n+=e[a]*t[a];return n}},{key:"mmul",value:function(t){t=$r.checkMatrix(t);for(var e=this.rows,n=this.columns,a=t.columns,o=new $r(e,a),s=new Float64Array(n),l=0;l<a;l++){for(var u=0;u<n;u++)s[u]=t.get(u,l);for(var h=0;h<e;h++){for(var c=0,v=0;v<n;v++)c+=this.get(h,v)*s[v];o.set(h,l,c)}}return o}},{key:"strassen2x2",value:function(t){t=$r.checkMatrix(t);var e=new $r(2,2),n=this.get(0,0),a=t.get(0,0),o=this.get(0,1),s=t.get(0,1),l=this.get(1,0),u=t.get(1,0),h=this.get(1,1),c=t.get(1,1),v=(n+h)*(a+c),g=(l+h)*a,M=n*(s-c),F=h*(u-a),Y=(n+o)*c,V=(l-n)*(a+s),z=(o-h)*(u+c),it=v+F-Y+z,ot=M+Y,yt=g+F,It=v-g+M+V;return e.set(0,0,it),e.set(0,1,ot),e.set(1,0,yt),e.set(1,1,It),e}},{key:"strassen3x3",value:function(t){t=$r.checkMatrix(t);var e=new $r(3,3),n=this.get(0,0),a=this.get(0,1),o=this.get(0,2),s=this.get(1,0),l=this.get(1,1),u=this.get(1,2),h=this.get(2,0),c=this.get(2,1),v=this.get(2,2),g=t.get(0,0),M=t.get(0,1),F=t.get(0,2),Y=t.get(1,0),V=t.get(1,1),z=t.get(1,2),it=t.get(2,0),ot=t.get(2,1),yt=t.get(2,2),It=(n+a+o-s-l-c-v)*V,zt=(n-s)*(-M+V),jt=l*(-g+M+Y-V-z-it+yt),Rt=(-n+s+l)*(g-M+V),re=(s+l)*(-g+M),de=n*g,fe=(-n+h+c)*(g-F+z),Me=(-n+h)*(F-z),Le=(h+c)*(-g+F),_e=(n+a+o-l-u-h-c)*z,He=c*(-g+F+Y-V-z-it+ot),je=(-o+c+v)*(V+it-ot),Ze=(o-v)*(V-ot),ze=o*it,Xe=(c+v)*(-it+ot),pr=(-o+l+u)*(z+it-yt),cr=(o-u)*(z-yt),br=(l+u)*(-it+yt),$e=a*Y,gr=u*ot,Or=s*F,xr=h*M,mr=v*yt,Dr=de+ze+$e,Kr=It+Rt+re+de+je+ze+Xe,Cr=de+fe+Le+_e+ze+pr+br,ke=zt+jt+Rt+de+ze+pr+cr,qe=zt+Rt+re+de+gr,Fr=ze+pr+cr+br+Or,Vr=de+fe+Me+He+je+Ze+ze,_r=je+Ze+ze+Xe+xr,Qr=de+fe+Me+Le+mr;return e.set(0,0,Dr),e.set(0,1,Kr),e.set(0,2,Cr),e.set(1,0,ke),e.set(1,1,qe),e.set(1,2,Fr),e.set(2,0,Vr),e.set(2,1,_r),e.set(2,2,Qr),e}},{key:"mmulStrassen",value:function(t){t=$r.checkMatrix(t);var e=this.clone(),n=e.rows,a=e.columns,o=t.rows,s=t.columns;a!==o&&console.warn("Multiplying ".concat(n," x ").concat(a," and ").concat(o," x ").concat(s," matrix: dimensions do not match."));function l(v,g,M){var F=v.rows,Y=v.columns;if(F===g&&Y===M)return v;var V=i.zeros(g,M);return V=V.setSubMatrix(v,0,0),V}var u=Math.max(n,o),h=Math.max(a,s);e=l(e,u,h),t=l(t,u,h);function c(v,g,M,F){if(M<=512||F<=512)return v.mmul(g);M%2==1&&F%2==1?(v=l(v,M+1,F+1),g=l(g,M+1,F+1)):M%2==1?(v=l(v,M+1,F),g=l(g,M+1,F)):F%2==1&&(v=l(v,M,F+1),g=l(g,M,F+1));var Y=parseInt(v.rows/2,10),V=parseInt(v.columns/2,10),z=v.subMatrix(0,Y-1,0,V-1),it=g.subMatrix(0,Y-1,0,V-1),ot=v.subMatrix(0,Y-1,V,v.columns-1),yt=g.subMatrix(0,Y-1,V,g.columns-1),It=v.subMatrix(Y,v.rows-1,0,V-1),zt=g.subMatrix(Y,g.rows-1,0,V-1),jt=v.subMatrix(Y,v.rows-1,V,v.columns-1),Rt=g.subMatrix(Y,g.rows-1,V,g.columns-1),re=c(i.add(z,jt),i.add(it,Rt),Y,V),de=c(i.add(It,jt),it,Y,V),fe=c(z,i.sub(yt,Rt),Y,V),Me=c(jt,i.sub(zt,it),Y,V),Le=c(i.add(z,ot),Rt,Y,V),_e=c(i.sub(It,z),i.add(it,yt),Y,V),He=c(i.sub(ot,jt),i.add(zt,Rt),Y,V),je=i.add(re,Me);je.sub(Le),je.add(He);var Ze=i.add(fe,Le),ze=i.add(de,Me),Xe=i.sub(re,de);Xe.add(fe),Xe.add(_e);var pr=i.zeros(2*je.rows,2*je.columns);return pr=pr.setSubMatrix(je,0,0),pr=pr.setSubMatrix(Ze,je.rows,0),pr=pr.setSubMatrix(ze,0,je.columns),pr=pr.setSubMatrix(Xe,je.rows,je.columns),pr.subMatrix(0,M-1,0,F-1)}return c(e,t,u,h)}},{key:"scaleRows",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof t!="object")throw new TypeError("options must be an object");var e=t.min,n=e===void 0?0:e,a=t.max,o=a===void 0?1:a;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(o))throw new TypeError("max must be a number");if(n>=o)throw new RangeError("min must be smaller than max");for(var s=new $r(this.rows,this.columns),l=0;l<this.rows;l++){var u=this.getRow(l);u.length>0&&d1(u,{min:n,max:o,output:u}),s.setRow(l,u)}return s}},{key:"scaleColumns",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof t!="object")throw new TypeError("options must be an object");var e=t.min,n=e===void 0?0:e,a=t.max,o=a===void 0?1:a;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(o))throw new TypeError("max must be a number");if(n>=o)throw new RangeError("min must be smaller than max");for(var s=new $r(this.rows,this.columns),l=0;l<this.columns;l++){var u=this.getColumn(l);u.length&&d1(u,{min:n,max:o,output:u}),s.setColumn(l,u)}return s}},{key:"flipRows",value:function(){for(var t=Math.ceil(this.columns/2),e=0;e<this.rows;e++)for(var n=0;n<t;n++){var a=this.get(e,n),o=this.get(e,this.columns-1-n);this.set(e,n,o),this.set(e,this.columns-1-n,a)}return this}},{key:"flipColumns",value:function(){for(var t=Math.ceil(this.rows/2),e=0;e<this.columns;e++)for(var n=0;n<t;n++){var a=this.get(n,e),o=this.get(this.rows-1-n,e);this.set(n,e,o),this.set(this.rows-1-n,e,a)}return this}},{key:"kroneckerProduct",value:function(t){t=$r.checkMatrix(t);for(var e=this.rows,n=this.columns,a=t.rows,o=t.columns,s=new $r(e*a,n*o),l=0;l<e;l++)for(var u=0;u<n;u++)for(var h=0;h<a;h++)for(var c=0;c<o;c++)s.set(a*l+h,o*u+c,this.get(l,u)*t.get(h,c));return s}},{key:"kroneckerSum",value:function(t){if(t=$r.checkMatrix(t),!this.isSquare()||!t.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");var e=this.rows,n=t.rows,a=this.kroneckerProduct($r.eye(n,n)),o=$r.eye(e,e).kroneckerProduct(t);return a.add(o)}},{key:"transpose",value:function(){for(var t=new $r(this.columns,this.rows),e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.set(n,e,this.get(e,n));return t}},{key:"sortRows",value:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m1,e=0;e<this.rows;e++)this.setRow(e,this.getRow(e).sort(t));return this}},{key:"sortColumns",value:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m1,e=0;e<this.columns;e++)this.setColumn(e,this.getColumn(e).sort(t));return this}},{key:"subMatrix",value:function(t,e,n,a){y1(this,t,e,n,a);for(var o=new $r(e-t+1,a-n+1),s=t;s<=e;s++)for(var l=n;l<=a;l++)o.set(s-t,l-n,this.get(s,l));return o}},{key:"subMatrixRow",value:function(t,e,n){if(e===void 0&&(e=0),n===void 0&&(n=this.columns-1),e>n||e<0||e>=this.columns||n<0||n>=this.columns)throw new RangeError("Argument out of range");for(var a=new $r(t.length,n-e+1),o=0;o<t.length;o++)for(var s=e;s<=n;s++){if(t[o]<0||t[o]>=this.rows)throw new RangeError("Row index out of range: ".concat(t[o]));a.set(o,s-e,this.get(t[o],s))}return a}},{key:"subMatrixColumn",value:function(t,e,n){if(e===void 0&&(e=0),n===void 0&&(n=this.rows-1),e>n||e<0||e>=this.rows||n<0||n>=this.rows)throw new RangeError("Argument out of range");for(var a=new $r(n-e+1,t.length),o=0;o<t.length;o++)for(var s=e;s<=n;s++){if(t[o]<0||t[o]>=this.columns)throw new RangeError("Column index out of range: ".concat(t[o]));a.set(s-e,o,this.get(s,t[o]))}return a}},{key:"setSubMatrix",value:function(t,e,n){if(t=$r.checkMatrix(t),t.isEmpty())return this;var a=e+t.rows-1,o=n+t.columns-1;y1(this,e,a,n,o);for(var s=0;s<t.rows;s++)for(var l=0;l<t.columns;l++)this.set(e+s,n+l,t.get(s,l));return this}},{key:"selection",value:function(t,e){h4(this,t),c4(this,e);for(var n=new $r(t.length,e.length),a=0;a<t.length;a++)for(var o=t[a],s=0;s<e.length;s++){var l=e[s];n.set(a,s,this.get(o,l))}return n}},{key:"trace",value:function(){for(var t=Math.min(this.rows,this.columns),e=0,n=0;n<t;n++)e+=this.get(n,n);return e}},{key:"clone",value:function(){for(var t=new $r(this.rows,this.columns),e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.set(e,n,this.get(e,n));return t}},{key:"sum",value:function(t){switch(t){case"row":return v4(this);case"column":return d4(this);case void 0:return p4(this);default:throw new Error("invalid option: ".concat(t))}}},{key:"product",value:function(t){switch(t){case"row":return g4(this);case"column":return y4(this);case void 0:return m4(this);default:throw new Error("invalid option: ".concat(t))}}},{key:"mean",value:function(t){var e=this.sum(t);switch(t){case"row":{for(var n=0;n<this.rows;n++)e[n]/=this.columns;return e}case"column":{for(var a=0;a<this.columns;a++)e[a]/=this.rows;return e}case void 0:return e/this.size;default:throw new Error("invalid option: ".concat(t))}}},{key:"variance",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof t=="object"&&(e=t,t=void 0),typeof e!="object")throw new TypeError("options must be an object");var n=e,a=n.unbiased,o=a===void 0?!0:a,s=n.mean,l=s===void 0?this.mean(t):s;if(typeof o!="boolean")throw new TypeError("unbiased must be a boolean");switch(t){case"row":{if(!ma(l))throw new TypeError("mean must be an array");return x4(this,o,l)}case"column":{if(!ma(l))throw new TypeError("mean must be an array");return b4(this,o,l)}case void 0:{if(typeof l!="number")throw new TypeError("mean must be a number");return w4(this,o,l)}default:throw new Error("invalid option: ".concat(t))}}},{key:"standardDeviation",value:function(t,e){typeof t=="object"&&(e=t,t=void 0);var n=this.variance(t,e);if(t===void 0)return Math.sqrt(n);for(var a=0;a<n.length;a++)n[a]=Math.sqrt(n[a]);return n}},{key:"center",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof t=="object"&&(e=t,t=void 0),typeof e!="object")throw new TypeError("options must be an object");var n=e,a=n.center,o=a===void 0?this.mean(t):a;switch(t){case"row":{if(!ma(o))throw new TypeError("center must be an array");return S4(this,o),this}case"column":{if(!ma(o))throw new TypeError("center must be an array");return C4(this,o),this}case void 0:{if(typeof o!="number")throw new TypeError("center must be a number");return M4(this,o),this}default:throw new Error("invalid option: ".concat(t))}}},{key:"scale",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof t=="object"&&(e=t,t=void 0),typeof e!="object")throw new TypeError("options must be an object");var n=e.scale;switch(t){case"row":{if(n===void 0)n=E4(this);else if(!ma(n))throw new TypeError("scale must be an array");return A4(this,n),this}case"column":{if(n===void 0)n=T4(this);else if(!ma(n))throw new TypeError("scale must be an array");return P4(this,n),this}case void 0:{if(n===void 0)n=_4(this);else if(typeof n!="number")throw new TypeError("scale must be a number");return L4(this,n),this}default:throw new Error("invalid option: ".concat(t))}}},{key:"toString",value:function(t){return g1(this,t)}}],[{key:"from1DArray",value:function(t,e,n){var a=t*e;if(a!==n.length)throw new RangeError("data length does not match given dimensions");for(var o=new $r(t,e),s=0;s<t;s++)for(var l=0;l<e;l++)o.set(s,l,n[s*e+l]);return o}},{key:"rowVector",value:function(t){for(var e=new $r(1,t.length),n=0;n<t.length;n++)e.set(0,n,t[n]);return e}},{key:"columnVector",value:function(t){for(var e=new $r(t.length,1),n=0;n<t.length;n++)e.set(n,0,t[n]);return e}},{key:"zeros",value:function(t,e){return new $r(t,e)}},{key:"ones",value:function(t,e){return new $r(t,e).fill(1)}},{key:"rand",value:function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof n!="object")throw new TypeError("options must be an object");for(var a=n.random,o=a===void 0?Math.random:a,s=new $r(t,e),l=0;l<t;l++)for(var u=0;u<e;u++)s.set(l,u,o());return s}},{key:"randInt",value:function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof n!="object")throw new TypeError("options must be an object");var a=n.min,o=a===void 0?0:a,s=n.max,l=s===void 0?1e3:s,u=n.random,h=u===void 0?Math.random:u;if(!Number.isInteger(o))throw new TypeError("min must be an integer");if(!Number.isInteger(l))throw new TypeError("max must be an integer");if(o>=l)throw new RangeError("min must be smaller than max");for(var c=l-o,v=new $r(t,e),g=0;g<t;g++)for(var M=0;M<e;M++){var F=o+Math.round(h()*c);v.set(g,M,F)}return v}},{key:"eye",value:function(t,e,n){e===void 0&&(e=t),n===void 0&&(n=1);for(var a=Math.min(t,e),o=this.zeros(t,e),s=0;s<a;s++)o.set(s,s,n);return o}},{key:"diag",value:function(t,e,n){var a=t.length;e===void 0&&(e=a),n===void 0&&(n=e);for(var o=Math.min(a,e,n),s=this.zeros(e,n),l=0;l<o;l++)s.set(l,l,t[l]);return s}},{key:"min",value:function(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);for(var n=t.rows,a=t.columns,o=new $r(n,a),s=0;s<n;s++)for(var l=0;l<a;l++)o.set(s,l,Math.min(t.get(s,l),e.get(s,l)));return o}},{key:"max",value:function(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);for(var n=t.rows,a=t.columns,o=new this(n,a),s=0;s<n;s++)for(var l=0;l<a;l++)o.set(s,l,Math.max(t.get(s,l),e.get(s,l)));return o}},{key:"checkMatrix",value:function(t){return i.isMatrix(t)?t:new $r(t)}},{key:"isMatrix",value:function(t){return t!=null&&t.klass==="Matrix"}}]),i}();Ai.prototype.klass="Matrix",typeof Symbol!="undefined"&&(Ai.prototype[Symbol.for("nodejs.util.inspect.custom")]=s4);function m1(i,r){return i-r}Ai.random=Ai.rand,Ai.randomInt=Ai.randInt,Ai.diagonal=Ai.diag,Ai.prototype.diagonal=Ai.prototype.diag,Ai.identity=Ai.eye,Ai.prototype.negate=Ai.prototype.neg,Ai.prototype.tensorProduct=Ai.prototype.kroneckerProduct;var $r=function(i){(0,c1.Z)(t,i);var r=(0,v1.Z)(t);function t(e,n){var a;if((0,Nu.Z)(this,t),a=r.call(this),t.isMatrix(e))return(0,n4.Z)(a,e.clone());if(Number.isInteger(e)&&e>=0)if(a.data=[],Number.isInteger(n)&&n>=0)for(var o=0;o<e;o++)a.data.push(new Float64Array(n));else throw new TypeError("nColumns must be a positive integer");else if(ma(e)){var s=e;if(e=s.length,n=e?s[0].length:0,typeof n!="number")throw new TypeError("Data must be a 2D array with at least one element");a.data=[];for(var l=0;l<e;l++){if(s[l].length!==n)throw new RangeError("Inconsistent array dimensions");a.data.push(Float64Array.from(s[l]))}}else throw new TypeError("First argument must be a positive number or an array");return a.rows=e,a.columns=n,a}return(0,Yu.Z)(t,[{key:"set",value:function(n,a,o){return this.data[n][a]=o,this}},{key:"get",value:function(n,a){return this.data[n][a]}},{key:"removeRow",value:function(n){return Da(this,n),this.data.splice(n,1),this.rows-=1,this}},{key:"addRow",value:function(n,a){return a===void 0&&(a=n,n=this.rows),Da(this,n,!0),a=Float64Array.from(ds(this,a)),this.data.splice(n,0,a),this.rows+=1,this}},{key:"removeColumn",value:function(n){Fa(this,n);for(var a=0;a<this.rows;a++){for(var o=new Float64Array(this.columns-1),s=0;s<n;s++)o[s]=this.data[a][s];for(var l=n+1;l<this.columns;l++)o[l-1]=this.data[a][l];this.data[a]=o}return this.columns-=1,this}},{key:"addColumn",value:function(n,a){typeof a=="undefined"&&(a=n,n=this.columns),Fa(this,n,!0),a=ps(this,a);for(var o=0;o<this.rows;o++){for(var s=new Float64Array(this.columns+1),l=0;l<n;l++)s[l]=this.data[o][l];for(s[l++]=a[o];l<this.columns+1;l++)s[l]=this.data[o][l-1];this.data[o]=s}return this.columns+=1,this}}]),t}(Ai);f4(Ai,$r);var O4=function(i){(0,c1.Z)(t,i);var r=(0,v1.Z)(t);function t(e){var n;return(0,Nu.Z)(this,t),n=r.call(this),n.data=e,n.rows=e.length,n.columns=e[0].length,n}return(0,Yu.Z)(t,[{key:"set",value:function(n,a,o){return this.data[n][a]=o,this}},{key:"get",value:function(n,a){return this.data[n][a]}}]),t}(Ai);function ys(i,r){var t=0;return Math.abs(i)>Math.abs(r)?(t=r/i,Math.abs(i)*Math.sqrt(1+t*t)):r!==0?(t=i/r,Math.abs(r)*Math.sqrt(1+t*t)):0}var x1=function(){function i(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if((0,Nu.Z)(this,i),r=O4.checkMatrix(r),r.isEmpty())throw new Error("Matrix must be non-empty");var e=r.rows,n=r.columns,a=t.computeLeftSingularVectors,o=a===void 0?!0:a,s=t.computeRightSingularVectors,l=s===void 0?!0:s,u=t.autoTranspose,h=u===void 0?!1:u,c=Boolean(o),v=Boolean(l),g=!1,M;if(e<n)if(!h)M=r.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{M=r.transpose(),e=M.rows,n=M.columns,g=!0;var F=c;c=v,v=F}else M=r.clone();for(var Y=Math.min(e,n),V=Math.min(e+1,n),z=new Float64Array(V),it=new $r(e,Y),ot=new $r(n,n),yt=new Float64Array(n),It=new Float64Array(e),zt=new Float64Array(V),jt=0;jt<V;jt++)zt[jt]=jt;for(var Rt=Math.min(e-1,n),re=Math.max(0,Math.min(n-2,e)),de=Math.max(Rt,re),fe=0;fe<de;fe++){if(fe<Rt){z[fe]=0;for(var Me=fe;Me<e;Me++)z[fe]=ys(z[fe],M.get(Me,fe));if(z[fe]!==0){M.get(fe,fe)<0&&(z[fe]=-z[fe]);for(var Le=fe;Le<e;Le++)M.set(Le,fe,M.get(Le,fe)/z[fe]);M.set(fe,fe,M.get(fe,fe)+1)}z[fe]=-z[fe]}for(var _e=fe+1;_e<n;_e++){if(fe<Rt&&z[fe]!==0){for(var He=0,je=fe;je<e;je++)He+=M.get(je,fe)*M.get(je,_e);He=-He/M.get(fe,fe);for(var Ze=fe;Ze<e;Ze++)M.set(Ze,_e,M.get(Ze,_e)+He*M.get(Ze,fe))}yt[_e]=M.get(fe,_e)}if(c&&fe<Rt)for(var ze=fe;ze<e;ze++)it.set(ze,fe,M.get(ze,fe));if(fe<re){yt[fe]=0;for(var Xe=fe+1;Xe<n;Xe++)yt[fe]=ys(yt[fe],yt[Xe]);if(yt[fe]!==0){yt[fe+1]<0&&(yt[fe]=0-yt[fe]);for(var pr=fe+1;pr<n;pr++)yt[pr]/=yt[fe];yt[fe+1]+=1}if(yt[fe]=-yt[fe],fe+1<e&&yt[fe]!==0){for(var cr=fe+1;cr<e;cr++)It[cr]=0;for(var br=fe+1;br<e;br++)for(var $e=fe+1;$e<n;$e++)It[br]+=yt[$e]*M.get(br,$e);for(var gr=fe+1;gr<n;gr++)for(var Or=-yt[gr]/yt[fe+1],xr=fe+1;xr<e;xr++)M.set(xr,gr,M.get(xr,gr)+Or*It[xr])}if(v)for(var mr=fe+1;mr<n;mr++)ot.set(mr,fe,yt[mr])}}var Dr=Math.min(n,e+1);if(Rt<n&&(z[Rt]=M.get(Rt,Rt)),e<Dr&&(z[Dr-1]=0),re+1<Dr&&(yt[re]=M.get(re,Dr-1)),yt[Dr-1]=0,c){for(var Kr=Rt;Kr<Y;Kr++){for(var Cr=0;Cr<e;Cr++)it.set(Cr,Kr,0);it.set(Kr,Kr,1)}for(var ke=Rt-1;ke>=0;ke--)if(z[ke]!==0){for(var qe=ke+1;qe<Y;qe++){for(var Fr=0,Vr=ke;Vr<e;Vr++)Fr+=it.get(Vr,ke)*it.get(Vr,qe);Fr=-Fr/it.get(ke,ke);for(var _r=ke;_r<e;_r++)it.set(_r,qe,it.get(_r,qe)+Fr*it.get(_r,ke))}for(var Qr=ke;Qr<e;Qr++)it.set(Qr,ke,-it.get(Qr,ke));it.set(ke,ke,1+it.get(ke,ke));for(var Ur=0;Ur<ke-1;Ur++)it.set(Ur,ke,0)}else{for(var Rr=0;Rr<e;Rr++)it.set(Rr,ke,0);it.set(ke,ke,1)}}if(v)for(var Jr=n-1;Jr>=0;Jr--){if(Jr<re&&yt[Jr]!==0)for(var sn=Jr+1;sn<n;sn++){for(var On=0,bn=Jr+1;bn<n;bn++)On+=ot.get(bn,Jr)*ot.get(bn,sn);On=-On/ot.get(Jr+1,Jr);for(var zn=Jr+1;zn<n;zn++)ot.set(zn,sn,ot.get(zn,sn)+On*ot.get(zn,Jr))}for(var Kn=0;Kn<n;Kn++)ot.set(Kn,Jr,0);ot.set(Jr,Jr,1)}for(var Ri=Dr-1,Xi=0,gi=Number.EPSILON;Dr>0;){var kr=void 0,Xn=void 0;for(kr=Dr-2;kr>=-1&&kr!==-1;kr--){var Ti=Number.MIN_VALUE+gi*Math.abs(z[kr]+Math.abs(z[kr+1]));if(Math.abs(yt[kr])<=Ti||Number.isNaN(yt[kr])){yt[kr]=0;break}}if(kr===Dr-2)Xn=4;else{var wi=void 0;for(wi=Dr-1;wi>=kr&&wi!==kr;wi--){var qa=(wi!==Dr?Math.abs(yt[wi]):0)+(wi!==kr+1?Math.abs(yt[wi-1]):0);if(Math.abs(z[wi])<=gi*qa){z[wi]=0;break}}wi===kr?Xn=3:wi===Dr-1?Xn=1:(Xn=2,kr=wi)}switch(kr++,Xn){case 1:{var Pi=yt[Dr-2];yt[Dr-2]=0;for(var wn=Dr-2;wn>=kr;wn--){var yn=ys(z[wn],Pi),In=z[wn]/yn,Nn=Pi/yn;if(z[wn]=yn,wn!==kr&&(Pi=-Nn*yt[wn-1],yt[wn-1]=In*yt[wn-1]),v)for(var Vi=0;Vi<n;Vi++)yn=In*ot.get(Vi,wn)+Nn*ot.get(Vi,Dr-1),ot.set(Vi,Dr-1,-Nn*ot.get(Vi,wn)+In*ot.get(Vi,Dr-1)),ot.set(Vi,wn,yn)}break}case 2:{var Uo=yt[kr-1];yt[kr-1]=0;for(var Ra=kr;Ra<Dr;Ra++){var al=ys(z[Ra],Uo),Fc=z[Ra]/al,Rc=Uo/al;if(z[Ra]=al,Uo=-Rc*yt[Ra],yt[Ra]=Fc*yt[Ra],c)for(var Po=0;Po<e;Po++)al=Fc*it.get(Po,Ra)+Rc*it.get(Po,kr-1),it.set(Po,kr-1,-Rc*it.get(Po,Ra)+Fc*it.get(Po,kr-1)),it.set(Po,Ra,al)}break}case 3:{var ol=Math.max(Math.abs(z[Dr-1]),Math.abs(z[Dr-2]),Math.abs(yt[Dr-2]),Math.abs(z[kr]),Math.abs(yt[kr])),xs=z[Dr-1]/ol,gb=z[Dr-2]/ol,lf=yt[Dr-2]/ol,Nc=z[kr]/ol,AY=yt[kr]/ol,Zo=((gb+xs)*(gb-xs)+lf*lf)/2,uf=xs*lf*(xs*lf),sl=0;(Zo!==0||uf!==0)&&(Zo<0?sl=0-Math.sqrt(Zo*Zo+uf):sl=Math.sqrt(Zo*Zo+uf),sl=uf/(Zo+sl));for(var Ko=(Nc+xs)*(Nc-xs)+sl,bs=Nc*AY,Sn=kr;Sn<Dr-1;Sn++){var aa=ys(Ko,bs);aa===0&&(aa=Number.MIN_VALUE);var Na=Ko/aa,Ya=bs/aa;if(Sn!==kr&&(yt[Sn-1]=aa),Ko=Na*z[Sn]+Ya*yt[Sn],yt[Sn]=Na*yt[Sn]-Ya*z[Sn],bs=Ya*z[Sn+1],z[Sn+1]=Na*z[Sn+1],v)for(var _o=0;_o<n;_o++)aa=Na*ot.get(_o,Sn)+Ya*ot.get(_o,Sn+1),ot.set(_o,Sn+1,-Ya*ot.get(_o,Sn)+Na*ot.get(_o,Sn+1)),ot.set(_o,Sn,aa);if(aa=ys(Ko,bs),aa===0&&(aa=Number.MIN_VALUE),Na=Ko/aa,Ya=bs/aa,z[Sn]=aa,Ko=Na*yt[Sn]+Ya*z[Sn+1],z[Sn+1]=-Ya*yt[Sn]+Na*z[Sn+1],bs=Ya*yt[Sn+1],yt[Sn+1]=Na*yt[Sn+1],c&&Sn<e-1)for(var Lo=0;Lo<e;Lo++)aa=Na*it.get(Lo,Sn)+Ya*it.get(Lo,Sn+1),it.set(Lo,Sn+1,-Ya*it.get(Lo,Sn)+Na*it.get(Lo,Sn+1)),it.set(Lo,Sn,aa)}yt[Dr-2]=Ko,Xi=Xi+1;break}case 4:{if(z[kr]<=0&&(z[kr]=z[kr]<0?-z[kr]:0,v))for(var ff=0;ff<=Ri;ff++)ot.set(ff,kr,-ot.get(ff,kr));for(;kr<Ri&&!(z[kr]>=z[kr+1]);){var ll=z[kr];if(z[kr]=z[kr+1],z[kr+1]=ll,v&&kr<n-1)for(var ws=0;ws<n;ws++)ll=ot.get(ws,kr+1),ot.set(ws,kr+1,ot.get(ws,kr)),ot.set(ws,kr,ll);if(c&&kr<e-1)for(var Ss=0;Ss<e;Ss++)ll=it.get(Ss,kr+1),it.set(Ss,kr+1,it.get(Ss,kr)),it.set(Ss,kr,ll);kr++}Xi=0,Dr--;break}}}if(g){var TY=ot;ot=it,it=TY}this.m=e,this.n=n,this.s=z,this.U=it,this.V=ot}return(0,Yu.Z)(i,[{key:"solve",value:function(t){for(var e=t,n=this.threshold,a=this.s.length,o=$r.zeros(a,a),s=0;s<a;s++)Math.abs(this.s[s])<=n?o.set(s,s,0):o.set(s,s,1/this.s[s]);for(var l=this.U,u=this.rightSingularVectors,h=u.mmul(o),c=u.rows,v=l.rows,g=$r.zeros(c,v),M=0;M<c;M++)for(var F=0;F<v;F++){for(var Y=0,V=0;V<a;V++)Y+=h.get(M,V)*l.get(F,V);g.set(M,F,Y)}return g.mmul(e)}},{key:"solveForDiagonal",value:function(t){return this.solve($r.diag(t))}},{key:"inverse",value:function(){for(var t=this.V,e=this.threshold,n=t.rows,a=t.columns,o=new $r(n,this.s.length),s=0;s<n;s++)for(var l=0;l<a;l++)Math.abs(this.s[l])>e&&o.set(s,l,t.get(s,l)/this.s[l]);for(var u=this.U,h=u.rows,c=u.columns,v=new $r(n,h),g=0;g<n;g++)for(var M=0;M<h;M++){for(var F=0,Y=0;Y<c;Y++)F+=o.get(g,Y)*u.get(M,Y);v.set(g,M,F)}return v}},{key:"condition",get:function(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}},{key:"norm2",get:function(){return this.s[0]}},{key:"rank",get:function(){for(var t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,e=0,n=this.s,a=0,o=n.length;a<o;a++)n[a]>t&&e++;return e}},{key:"diagonal",get:function(){return Array.from(this.s)}},{key:"threshold",get:function(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}},{key:"leftSingularVectors",get:function(){return this.U}},{key:"rightSingularVectors",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){return $r.diag(this.s)}}]),i}(),I4=function(i){Dn(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.linkDistance=50,t.scaledDistances=null,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],linkDistance:50}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.edges,a=n===void 0?[]:n,o=t.center;if(!(!e||e.length===0)){if(e.length===1){e[0].x=o[0],e[0].y=o[1];return}var s=t.linkDistance,l=rc({nodes:e,edges:a},!1),u=ec(l);t.handleInfinity(u);var h=lx(u,s);t.scaledDistances=h;var c=t.runMDS();t.positions=c,c.forEach(function(v,g){e[g].x=v[0]+o[0],e[g].y=v[1]+o[1]})}},r.prototype.runMDS=function(){var t=this,e=2,n=t.scaledDistances,a=$r.mul($r.pow(n,2),-.5),o=a.mean("row"),s=a.mean("column"),l=a.mean();a.add(l).subRowVector(o).subColumnVector(s);var u=new x1(a),h=$r.sqrt(u.diagonalMatrix).diagonal();return u.leftSingularVectors.toJSON().map(function(c){return $r.mul([c],[h]).toJSON()[0].splice(0,e)})},r.prototype.handleInfinity=function(t){var e=-999999;t.forEach(function(n){n.forEach(function(a){a!==Infinity&&e<a&&(e=a)})}),t.forEach(function(n,a){n.forEach(function(o,s){o===Infinity&&(t[a][s]=e)})})},r}(Ta),k4=I4,B4=function(){function i(r){this.distances=r.distances,this.dimension=r.dimension||2,this.linkDistance=r.linkDistance}return i.prototype.layout=function(){var r=this,t=r.dimension,e=r.distances,n=r.linkDistance;try{var a=$r.mul($r.pow(e,2),-.5),o=a.mean("row"),s=a.mean("column"),l=a.mean();a.add(l).subRowVector(o).subColumnVector(s);var u=new x1(a),h=$r.sqrt(u.diagonalMatrix).diagonal();return u.leftSingularVectors.toJSON().map(function(F){return $r.mul([F],[h]).toJSON()[0].splice(0,t)})}catch(F){for(var c=[],v=0;v<e.length;v++){var g=Math.random()*n,M=Math.random()*n;c.push([g,M])}return c}},i}(),D4=B4,F4=800,R4=function(){function i(r){this.disp=[],this.positions=r.positions,this.adjMatrix=r.adjMatrix,this.focusID=r.focusID,this.radii=r.radii,this.iterations=r.iterations||10,this.height=r.height||10,this.width=r.width||10,this.speed=r.speed||100,this.gravity=r.gravity||10,this.nodeSizeFunc=r.nodeSizeFunc,this.k=r.k||5,this.strictRadial=r.strictRadial,this.nodes=r.nodes}return i.prototype.layout=function(){var r=this,t=r.positions,e=[],n=r.iterations,a=r.width/10;r.maxDisplace=a,r.disp=e;for(var o=0;o<n;o++)t.forEach(function(s,l){e[l]={x:0,y:0}}),r.getRepulsion(),r.updatePositions();return t},i.prototype.getRepulsion=function(){var r=this,t=r.positions,e=r.nodes,n=r.disp,a=r.k,o=r.radii||[];t.forEach(function(s,l){n[l]={x:0,y:0},t.forEach(function(u,h){if(l!==h&&o[l]===o[h]){var c=s[0]-u[0],v=s[1]-u[1],g=Math.sqrt(c*c+v*v);if(g===0){g=1;var M=l>h?1:-1;c=.01*M,v=.01*M}if(g<r.nodeSizeFunc(e[l])/2+r.nodeSizeFunc(e[h])/2){var F=a*a/g;n[l].x+=c/g*F,n[l].y+=v/g*F}}})})},i.prototype.updatePositions=function(){var r=this,t=r.positions,e=r.disp,n=r.speed,a=r.strictRadial,o=r.focusID,s=r.maxDisplace||r.width/10;a&&e.forEach(function(u,h){var c=t[h][0]-t[o][0],v=t[h][1]-t[o][1],g=Math.sqrt(c*c+v*v),M=v/g,F=-c/g,Y=Math.sqrt(u.x*u.x+u.y*u.y),V=Math.acos((M*u.x+F*u.y)/Y);V>Math.PI/2&&(V-=Math.PI/2,M*=-1,F*=-1);var z=Math.cos(V)*Y;u.x=M*z,u.y=F*z});var l=r.radii;t.forEach(function(u,h){if(h!==o){var c=Math.sqrt(e[h].x*e[h].x+e[h].y*e[h].y);if(c>0&&h!==o){var v=Math.min(s*(n/F4),c);if(u[0]+=e[h].x/c*v,u[1]+=e[h].y/c*v,a){var g=u[0]-t[o][0],M=u[1]-t[o][1],F=Math.sqrt(g*g+M*M);g=g/F*l[h],M=M/F*l[h],u[0]=t[o][0]+g,u[1]=t[o][1]+M}}}})},i}(),N4=R4;function Y4(i){for(var r=i.length,t=i[0].length,e=[],n=0;n<r;n++){for(var a=[],o=0;o<t;o++)i[n][o]!==0?a.push(1/(i[n][o]*i[n][o])):a.push(0);e.push(a)}return e}function G4(i,r){var t=-1;return i.forEach(function(e,n){e.id===r&&(t=n)}),t}function b1(i,r){return Math.sqrt((i[0]-r[0])*(i[0]-r[0])+(i[1]-r[1])*(i[1]-r[1]))}var z4=function(i){Dn(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=1e3,t.focusNode=null,t.unitRadius=null,t.linkDistance=50,t.preventOverlap=!1,t.strictRadial=!0,t.maxPreventOverlapIteration=200,t.sortStrength=10,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,strictRadial:!0,maxPreventOverlapIteration:200,sortBy:void 0,sortStrength:10}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.edges||[],a=t.center;if(!(!e||e.length===0)){if(e.length===1){e[0].x=a[0],e[0].y=a[1];return}var o=t.linkDistance,s=null;if((0,mn.default)(t.focusNode)){for(var l=!1,u=0;u<e.length;u++)e[u].id===t.focusNode&&(s=e[u],t.focusNode=s,l=!0,u=e.length);l||(s=null)}else s=t.focusNode;s||(s=e[0],t.focusNode=s);var h=G4(e,s.id);t.focusIndex=h;var c=rc({nodes:e,edges:n},!1),v=ec(c),g=t.maxToFocus(v,h);t.handleInfinity(v,h,g+1),t.distances=v;var M=v[h];!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var F=t.width||500,Y=t.height||500,V=F-a[0]>a[0]?a[0]:F-a[0],z=Y-a[1]>a[1]?a[1]:Y-a[1];V===0&&(V=F/2),z===0&&(z=Y/2);var it=z>V?V:z,ot=Math.max.apply(Math,M),yt=[];M.forEach(function(Ze,ze){t.unitRadius||(t.unitRadius=it/ot),yt[ze]=Ze*t.unitRadius}),t.radii=yt;var It=t.eIdealDisMatrix();t.eIdealDistances=It;var zt=Y4(It);t.weights=zt;var jt=new D4({distances:It,linkDistance:o}),Rt=jt.layout();Rt.forEach(function(Ze){co(Ze[0])&&(Ze[0]=Math.random()*o),co(Ze[1])&&(Ze[1]=Math.random()*o)}),t.positions=Rt,Rt.forEach(function(Ze,ze){e[ze].x=Ze[0]+a[0],e[ze].y=Ze[1]+a[1]}),Rt.forEach(function(Ze){Ze[0]-=Rt[h][0],Ze[1]-=Rt[h][1]}),t.run();var re=t.preventOverlap,de=t.nodeSize,fe,Me=t.strictRadial;if(re){var Le=t.nodeSpacing,_e;(0,ka.default)(Le)?_e=function(){return Le}:(0,ml.default)(Le)?_e=Le:_e=function(){return 0},de?(0,ki.default)(de)?fe=function(ze){var Xe=de[0]>de[1]?de[0]:de[1];return Xe+_e(ze)}:fe=function(ze){return de+_e(ze)}:fe=function(ze){if(ze.size){if((0,ki.default)(ze.size)){var Xe=ze.size[0]>ze.size[1]?ze.size[0]:ze.size[1];return Xe+_e(ze)}return ze.size+_e(ze)}return 10+_e(ze)};var He={nodeSizeFunc:fe,adjMatrix:c,positions:Rt,radii:yt,height:Y,width:F,strictRadial:Me,focusID:h,iterations:t.maxPreventOverlapIteration||200,k:Rt.length/4.5,nodes:e},je=new N4(He);Rt=je.layout()}Rt.forEach(function(Ze,ze){e[ze].x=Ze[0]+a[0],e[ze].y=Ze[1]+a[1]})}},r.prototype.run=function(){for(var t=this,e=t.maxIteration,n=t.positions||[],a=t.weights||[],o=t.eIdealDistances||[],s=t.radii||[],l=0;l<=e;l++){var u=l/e;t.oneIteration(u,n,s,o,a)}},r.prototype.oneIteration=function(t,e,n,a,o){var s=this,l=1-t,u=s.focusIndex;e.forEach(function(h,c){var v=b1(h,[0,0]),g=v===0?0:1/v;if(c!==u){var M=0,F=0,Y=0;e.forEach(function(z,it){if(c!==it){var ot=b1(h,z),yt=ot===0?0:1/ot,It=a[it][c];Y+=o[c][it],M+=o[c][it]*(z[0]+It*(h[0]-z[0])*yt),F+=o[c][it]*(z[1]+It*(h[1]-z[1])*yt)}});var V=n[c]===0?0:1/n[c];Y*=l,Y+=t*V*V,M*=l,M+=t*V*h[0]*g,h[0]=M/Y,F*=l,F+=t*V*h[1]*g,h[1]=F/Y}})},r.prototype.eIdealDisMatrix=function(){var t=this,e=t.nodes;if(!e)return[];var n=t.distances,a=t.linkDistance,o=t.radii||[],s=t.unitRadius||50,l=[];return n&&n.forEach(function(u,h){var c=[];u.forEach(function(v,g){if(h===g)c.push(0);else if(o[h]===o[g])if(t.sortBy==="data")c.push(v*(Math.abs(h-g)*t.sortStrength)/(o[h]/s));else if(t.sortBy){var M=e[h][t.sortBy]||0,F=e[g][t.sortBy]||0;(0,mn.default)(M)&&(M=M.charCodeAt(0)),(0,mn.default)(F)&&(F=F.charCodeAt(0)),c.push(v*(Math.abs(M-F)*t.sortStrength)/(o[h]/s))}else c.push(v*a/(o[h]/s));else{var Y=(a+s)/2;c.push(v*Y)}}),l.push(c)}),l},r.prototype.handleInfinity=function(t,e,n){for(var a=t.length,o=0;o<a;o++)if(t[e][o]===Infinity){t[e][o]=n,t[o][e]=n;for(var s=0;s<a;s++)t[o][s]!==Infinity&&t[e][s]===Infinity&&(t[e][s]=n+t[o][s],t[s][e]=n+t[o][s])}for(var o=0;o<a;o++)if(o!==e){for(var s=0;s<a;s++)if(t[o][s]===Infinity){var l=Math.abs(t[e][o]-t[e][s]);l=l===0?1:l,t[o][s]=l}}},r.prototype.maxToFocus=function(t,e){for(var n=0,a=0;a<t[e].length;a++)t[e][a]!==Infinity&&(n=t[e][a]>n?t[e][a]:n);return n},r}(Ta),X4=z4,V4=function(i){Dn(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.width=300,t.height=300,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],width:300,height:300}},r.prototype.execute=function(){var t=this,e=t.nodes,n=.9,a=t.center;!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight),e&&e.forEach(function(o){o.x=(Math.random()-.5)*n*t.width+a[0],o.y=(Math.random()-.5)*n*t.height+a[1]})},r}(Ta),H4=V4,W4=function(i){Dn(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=100,t.gravity=10,t.comboGravity=10,t.linkDistance=10,t.alpha=1,t.alphaMin=.001,t.alphaDecay=1-Math.pow(t.alphaMin,1/300),t.alphaTarget=0,t.velocityDecay=.6,t.edgeStrength=.2,t.nodeStrength=30,t.preventOverlap=!1,t.preventNodeOverlap=!1,t.preventComboOverlap=!1,t.collideStrength=void 0,t.nodeCollideStrength=void 0,t.comboCollideStrength=void 0,t.optimizeRangeFactor=1,t.onTick=function(){},t.onLayoutEnd=function(){},t.depthAttractiveForceScale=.5,t.depthRepulsiveForceScale=2,t.nodes=[],t.edges=[],t.combos=[],t.comboTrees=[],t.width=300,t.height=300,t.bias=[],t.nodeMap={},t.oriComboMap={},t.nodeIdxMap={},t.comboMap={},t.previousLayouted=!1,t}return r.prototype.getDefaultCfg=function(){return{maxIteration:100,center:[0,0],gravity:10,speed:1,comboGravity:30,preventOverlap:!1,preventComboOverlap:!0,preventNodeOverlap:!0,nodeSpacing:void 0,collideStrength:void 0,nodeCollideStrength:.5,comboCollideStrength:.5,comboSpacing:20,comboPadding:10,edgeStrength:.2,nodeStrength:30,linkDistance:10}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.center;if(t.comboTree={id:"comboTreeRoot",depth:-1,children:t.comboTrees},!(!e||e.length===0)){if(e.length===1){e[0].x=n[0],e[0].y=n[1];return}t.initVals(),t.run(),t.onLayoutEnd()}},r.prototype.run=function(){var t=this,e=t.nodes,n=t.previousLayouted?t.maxIteration/5:t.maxIteration;!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var a=t.center,o=t.velocityDecay,s=t.comboMap;t.previousLayouted||t.initPos(s);for(var l=function(g){var M=[];e.forEach(function(F,Y){M[Y]={x:0,y:0}}),t.applyCalculate(M),t.applyComboCenterForce(M),e.forEach(function(F,Y){!(0,f.isNumber)(F.x)||!(0,f.isNumber)(F.y)||(F.x+=M[Y].x*o,F.y+=M[Y].y*o)}),t.alpha+=(t.alphaTarget-t.alpha)*t.alphaDecay,t.onTick()},u=0;u<n;u++)l(u);var h=[0,0];e.forEach(function(v){!(0,f.isNumber)(v.x)||!(0,f.isNumber)(v.y)||(h[0]+=v.x,h[1]+=v.y)}),h[0]/=e.length,h[1]/=e.length;var c=[a[0]-h[0],a[1]-h[1]];e.forEach(function(v,g){!(0,f.isNumber)(v.x)||!(0,f.isNumber)(v.y)||(v.x+=c[0],v.y+=c[1])}),t.combos.forEach(function(v){var g=s[v.id];g&&g.empty&&(v.x=g.cx||v.x,v.y=g.cy||v.y)}),t.previousLayouted=!0},r.prototype.initVals=function(){var t=this,e=t.edges,n=t.nodes,a=t.combos,o={},s={},l={};n.forEach(function(_e,He){s[_e.id]=_e,l[_e.id]=He}),t.nodeMap=s,t.nodeIdxMap=l;var u={};a.forEach(function(_e){u[_e.id]=_e}),t.oriComboMap=u,t.comboMap=t.getComboMap();var h=t.preventOverlap;t.preventComboOverlap=t.preventComboOverlap||h,t.preventNodeOverlap=t.preventNodeOverlap||h;var c=t.collideStrength;c&&(t.comboCollideStrength=c,t.nodeCollideStrength=c);for(var v=0;v<e.length;++v)o[e[v].source]?o[e[v].source]++:o[e[v].source]=1,o[e[v].target]?o[e[v].target]++:o[e[v].target]=1;for(var g=[],v=0;v<e.length;++v)g[v]=o[e[v].source]/(o[e[v].source]+o[e[v].target]);this.bias=g;var M=t.nodeSize,F=t.nodeSpacing,Y,V;if((0,f.isNumber)(F)?V=function(){return F}:(0,f.isFunction)(F)?V=F:V=function(){return 0},this.nodeSpacing=V,!M)Y=function(He){if(He.size){if((0,f.isArray)(He.size)){var je=He.size[0]>He.size[1]?He.size[0]:He.size[1];return je/2}return He.size/2}return 10};else if((0,f.isFunction)(M))Y=function(He){return M(He)};else if((0,f.isArray)(M)){var z=M[0]>M[1]?M[0]:M[1],it=z/2;Y=function(He){return it}}else{var ot=M/2;Y=function(He){return ot}}this.nodeSize=Y;var yt=t.comboSpacing,It;(0,f.isNumber)(yt)?It=function(){return yt}:(0,f.isFunction)(yt)?It=yt:It=function(){return 0},this.comboSpacing=It;var zt=t.comboPadding,jt;(0,f.isNumber)(zt)?jt=function(){return zt}:(0,f.isArray)(zt)?jt=function(){return Math.max.apply(null,zt)}:(0,f.isFunction)(zt)?jt=zt:jt=function(){return 0},this.comboPadding=jt;var Rt=this.linkDistance,re;Rt||(Rt=10),(0,f.isNumber)(Rt)?re=function(He){return Rt}:re=Rt,this.linkDistance=re;var de=this.edgeStrength,fe;de||(de=1),(0,f.isNumber)(de)?fe=function(He){return de}:fe=de,this.edgeStrength=fe;var Me=this.nodeStrength,Le;Me||(Me=30),(0,f.isNumber)(Me)?Le=function(He){return Me}:Le=Me,this.nodeStrength=Le},r.prototype.initPos=function(t){var e=this,n=e.nodes;n.forEach(function(a,o){if(a.comboId){var s=t[a.comboId];a.x=s.cx+100/(o+1),a.y=s.cy+100/(o+1)}else a.x=100/(o+1),a.y=100/(o+1)})},r.prototype.getComboMap=function(){var t=this,e=t.nodeMap,n=t.nodeIdxMap,a=t.comboTrees,o=t.oriComboMap,s={};return(a||[]).forEach(function(l){var u=[];Aa(l,function(h){if(h.itemType==="node"||!o[h.id])return!0;if(s[h.id]===void 0){var c={name:h.id,cx:0,cy:0,count:0,depth:t.oriComboMap[h.id].depth,children:[]};s[h.id]=c}var v=h.children;v&&v.forEach(function(z){if(!s[z.id]&&!e[z.id])return!0;u.push(z)});var g=s[h.id];if(g.cx=0,g.cy=0,u.length===0){g.empty=!0;var M=o[h.id],F=Object.keys(e).length,Y=h.id+"-visual-child-"+F,V={id:Y,x:M.x,y:M.y,depth:g.depth+1,itemType:"node"};t.nodes.push(V),e[Y]=V,n[Y]=F,g.cx=M.x,g.cy=M.y,u.push(V)}return u.forEach(function(z){if(g.count++,z.itemType!=="node"){var it=s[z.id];(0,f.isNumber)(it.cx)&&(g.cx+=it.cx),(0,f.isNumber)(it.cy)&&(g.cy+=it.cy);return}var ot=e[z.id];!ot||((0,f.isNumber)(ot.x)&&(g.cx+=ot.x),(0,f.isNumber)(ot.y)&&(g.cy+=ot.y))}),g.cx/=g.count,g.cy/=g.count,g.children=u,!0})}),s},r.prototype.applyComboCenterForce=function(t){var e=this,n=e.gravity,a=e.comboGravity||n,o=this.alpha,s=e.comboTrees,l=e.nodeIdxMap,u=e.nodeMap,h=e.comboMap;(s||[]).forEach(function(c){Aa(c,function(v){if(v.itemType==="node")return!0;var g=h[v.id];if(!g)return!0;var M=h[v.id],F=(M.depth+1)*.5,Y=M.cx,V=M.cy;return M.cx=0,M.cy=0,M.children.forEach(function(z){if(z.itemType!=="node"){var it=h[z.id];it&&(0,f.isNumber)(it.cx)&&(M.cx+=it.cx),it&&(0,f.isNumber)(it.cy)&&(M.cy+=it.cy);return}var ot=u[z.id],yt=ot.x-Y||.005,It=ot.y-V||.005,zt=Math.sqrt(yt*yt+It*It),jt=l[ot.id],Rt=a*o/zt*F;t[jt].x-=yt*Rt,t[jt].y-=It*Rt,(0,f.isNumber)(ot.x)&&(M.cx+=ot.x),(0,f.isNumber)(ot.y)&&(M.cy+=ot.y)}),M.cx/=M.count,M.cy/=M.count,!0})})},r.prototype.applyCalculate=function(t){var e=this,n=e.comboMap,a=e.nodes,o={};a.forEach(function(l,u){a.forEach(function(h,c){if(!(u<c)){var v=l.x-h.x||.005,g=l.y-h.y||.005,M=v*v+g*g,F=Math.sqrt(M);M<1&&(M=F),o[l.id+"-"+h.id]={vx:v,vy:g,vl2:M,vl:F},o[h.id+"-"+l.id]={vx:-v,vy:-g,vl2:M,vl:F}}})}),e.updateComboSizes(n),e.calRepulsive(t,o),e.calAttractive(t,o);var s=e.preventComboOverlap;s&&e.comboNonOverlapping(t,n)},r.prototype.updateComboSizes=function(t){var e=this,n=e.comboTrees,a=e.nodeMap,o=e.nodeSize,s=e.comboSpacing,l=e.comboPadding;(n||[]).forEach(function(u){var h=[];Aa(u,function(c){if(c.itemType==="node")return!0;var v=t[c.id];if(!!v){var g=c.children;g&&g.forEach(function(Y){!t[Y.id]&&!a[Y.id]||h.push(Y)}),v.minX=Infinity,v.minY=Infinity,v.maxX=-Infinity,v.maxY=-Infinity,h.forEach(function(Y){if(Y.itemType!=="node")return!0;var V=a[Y.id];if(!V)return!0;var z=o(V),it=V.x-z,ot=V.y-z,yt=V.x+z,It=V.y+z;v.minX>it&&(v.minX=it),v.minY>ot&&(v.minY=ot),v.maxX<yt&&(v.maxX=yt),v.maxY<It&&(v.maxY=It)});var M=e.oriComboMap[c.id].size||Ge.defaultCombo.size;(0,f.isArray)(M)&&(M=M[0]);var F=Math.max(v.maxX-v.minX,v.maxY-v.minY,M);return v.r=F/2+s(v)/2+l(v),!0}})})},r.prototype.comboNonOverlapping=function(t,e){var n=this,a=n.comboTree,o=n.comboCollideStrength,s=n.nodeIdxMap,l=n.nodeMap;Aa(a,function(u){if(!(!e[u.id]&&!l[u.id]&&u.id!=="comboTreeRoot")){var h=u.children;return h&&h.length>1&&h.forEach(function(c,v){if(c.itemType!=="node"){var g=e[c.id];!g||h.forEach(function(M,F){if(!(v<=F)&&M.itemType!=="node"){var Y=e[M.id];if(!!Y){var V=g.cx-Y.cx||.005,z=g.cy-Y.cy||.005,it=V*V+z*z,ot=g.r,yt=Y.r,It=ot+yt,zt=yt*yt,jt=ot*ot;if(it<It*It){var Rt=c.children;if(!Rt||Rt.length===0)return;var re=M.children;if(!re||re.length===0)return;var de=Math.sqrt(it),fe=(It-de)/de*o,Me=V*fe,Le=z*fe,_e=zt/(jt+zt),He=1-_e;Rt.forEach(function(je){if(je.itemType==="node"&&!!l[je.id]){var Ze=s[je.id];re.forEach(function(ze){if(ze.itemType==="node"&&!!l[ze.id]){var Xe=s[ze.id];t[Ze].x+=Me*_e,t[Ze].y+=Le*_e,t[Xe].x-=Me*He,t[Xe].y-=Le*He}})}})}}}})}}),!0}})},r.prototype.calRepulsive=function(t,e){var n=this,a=n.nodes,o=n.width*n.optimizeRangeFactor,s=n.nodeStrength,l=n.alpha,u=n.nodeCollideStrength,h=n.preventNodeOverlap,c=n.nodeSize,v=n.nodeSpacing,g=n.depthRepulsiveForceScale,M=n.center;a.forEach(function(F,Y){if(!(!F.x||!F.y)){if(M){var V=n.gravity,z=F.x-M[0]||.005,it=F.y-M[1]||.005,ot=Math.sqrt(z*z+it*it);t[Y].x-=z*V*l/ot,t[Y].y-=it*V*l/ot}a.forEach(function(yt,It){if(Y!==It&&!(!yt.x||!yt.y)){var zt=e[F.id+"-"+yt.id],jt=zt.vl2,Rt=zt.vl;if(!(Rt>o)){var re=e[F.id+"-"+yt.id],de=re.vx,fe=re.vy,Me=Math.abs(yt.depth-F.depth)+1||1;yt.comboId!==F.comboId&&Me++;var Le=Me?Math.pow(g,Me):1,_e=s(yt)*l/jt*Le;if(t[Y].x+=de*_e,t[Y].y+=fe*_e,Y<It&&h){var He=c(F)+v(F),je=c(yt)+v(yt),Ze=He+je;if(jt<Ze*Ze){var ze=(Ze-Rt)/Rt*u,Xe=je*je,pr=Xe/(He*He+Xe),cr=de*ze,br=fe*ze;t[Y].x+=cr*pr,t[Y].y+=br*pr,pr=1-pr,t[It].x-=cr*pr,t[It].y-=br*pr}}}}})}})},r.prototype.calAttractive=function(t,e){var n=this,a=n.edges,o=n.linkDistance,s=n.alpha,l=n.edgeStrength,u=n.bias,h=n.depthAttractiveForceScale;a.forEach(function(c,v){if(!(!c.source||!c.target||c.source===c.target)){var g=n.nodeIdxMap[c.source],M=n.nodeIdxMap[c.target],F=n.nodeMap[c.source],Y=n.nodeMap[c.target],V=Math.abs(F.depth-Y.depth);F.comboId===Y.comboId&&(V=V/2);var z=V?Math.pow(h,V):1;if(F.comboId!==Y.comboId&&z===1?z=h/2:F.comboId===Y.comboId&&(z=2),!(!(0,f.isNumber)(Y.x)||!(0,f.isNumber)(F.x)||!(0,f.isNumber)(Y.y)||!(0,f.isNumber)(F.y))){var it=e[c.target+"-"+c.source],ot=it.vl,yt=it.vx,It=it.vy,zt=(ot-o(c))/ot*s*l(c)*z,jt=yt*zt,Rt=It*zt,re=u[v];t[M].x-=jt*re,t[M].y-=Rt*re,t[g].x+=jt*(1-re),t[g].y+=Rt*(1-re)}}})},r}(Ta),j4=W4,U4={circular:rN,concentric:iN,dagre:sN,force:UN,g6force:QN,comboForce:j4,fruchterman:t4,grid:r4,mds:k4,radial:X4,random:H4};(0,Cn.default)(U4,function(i,r){Kx.registerLayout(r,{},i)});var tl=Kx,Cc=self;function Z4(i){var r=i.data.type;return r===go.RUN}function K4(i){var r=i.data.type;switch(r){case go.RUN:{var t=i.data,e=t.nodes,n=t.edges,a=t.layoutCfg,o=a===void 0?{}:a,s=o.type,l=tl[s];if(!l){Cc.postMessage({type:go.ERROR,message:"layout "+s+" not found"});break}var u=new l(o);u.init({nodes:e,edges:n}),u.execute(),Cc.postMessage({type:go.END,nodes:e}),u.destroy();break}default:break}}Cc.onmessage=function(i){Z4(i)&&K4(i)};var $4=null;function Vu(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Vu=function(t){return typeof t}:Vu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vu(i)}var Q4=function(r){return setTimeout(r,16)},J4=function(r){return clearTimeout(r)},Hu={requestAnimationFrame:function(r){var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||Q4;return t(r)},cancelAnimationFrame:function(r){var t=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||J4;return t(r)}},q4=function(){function i(r){this.graph=r,this.layoutCfg=r.get("layout")||{},this.layoutType=this.layoutCfg.type,this.worker=null,this.workerData={},this.initLayout()}return i.prototype.initLayout=function(){},i.prototype.getWorker=function(){return this.worker?this.worker:(typeof Worker=="undefined"?(console.warn("Web worker is not supported in current browser."),this.worker=null):this.worker=new $4,this.worker)},i.prototype.stopWorker=function(){var r=this.workerData;!this.worker||(this.worker.terminate(),this.worker=null,r.requestId&&(Hu.cancelAnimationFrame(r.requestId),r.requestId=null),r.requestId2&&(Hu.cancelAnimationFrame(r.requestId2),r.requestId2=null))},i.prototype.getLayoutType=function(){return this.layoutCfg.type},i.prototype.layout=function(r){var t=this.graph;this.data=this.setDataFromGraph();var e=this.data.nodes;if(!e)return!1;var n=t.get("width"),a=t.get("height"),o={};Object.assign(o,{width:n,height:a,center:[n/2,a/2]},this.layoutCfg),this.layoutCfg=o;var s=!!this.layoutType,l=this.layoutMethod;l&&l.destroy(),t.emit("beforelayout");var u=this.initPositions(o.center,e);if(this.stopWorker(),o.workerEnabled&&this.layoutWithWorker(this.data,r))return!0;if(this.layoutType==="force"||this.layoutType==="g6force"){var h=o.onTick,c=function(){h&&h(),t.refreshPositions()};o.tick=c;var v=o.onLayoutEnd;o.onLayoutEnd=function(){v&&v(),t.emit("afterlayout")}}else this.layoutType==="comboForce"&&(o.comboTrees=t.get("comboTrees"));var g=!1;if(this.layoutType!==void 0){try{l=new tl[this.layoutType](o)}catch(V){return console.warn("The layout method: "+this.layoutType+" does not exist! Please specify it first."),!1}if(g=l.enableTick,g){var M=o.onTick,F=o.onLayoutEnd,c=function(){M&&M(),t.refreshPositions()};l.tick=c;var Y=function(){F&&F(),t.emit("afterlayout")};l.onLayoutEnd=Y}l.init(this.data),s&&l.execute(),this.layoutMethod=l}return(s||!u)&&this.layoutType!=="force"&&!g&&(t.emit("afterlayout"),this.refreshLayout()),!1},i.prototype.layoutWithWorker=function(r,t){var e=this,n=r.nodes,a=r.edges,o=this,s=o.layoutCfg,l=o.graph,u=this.getWorker(),h=this.workerData;if(!u)return!1;h.requestId=null,h.requestId2=null,h.currentTick=null,h.currentTickData=null;var c=e6(s,function(v){return typeof v!="function"});return u.postMessage({type:go.RUN,nodes:n,edges:a,layoutCfg:c}),u.onmessage=function(v){e.handleWorkerMessage(v,r,t)},!0},i.prototype.handleWorkerMessage=function(r,t,e){var n=this,a=n.graph,o=n.workerData,s=n.layoutCfg,l=r.data,u=l.type,h=function(){s.onTick&&s.onTick()},c=function(){s.onLayoutEnd&&s.onLayoutEnd(),a.emit("afterlayout")};switch(u){case go.TICK:o.currentTick=l.currentTick,o.currentTickData=l,o.requestId||(o.requestId=Hu.requestAnimationFrame(function(){Mc(t,l),a.refreshPositions(),h(),l.currentTick===1&&e&&e(),l.currentTick===l.totalTicks?c():o.currentTick===l.totalTicks&&(o.requestId2=Hu.requestAnimationFrame(function(){Mc(t,o.currentTickData),a.refreshPositions(),o.requestId2=null,h(),c()})),o.requestId=null}));break;case go.END:o.currentTick==null&&(Mc(t,l),this.refreshLayout(),e&&e(),a.emit("afterlayout"));break;case go.ERROR:break;default:break}},i.prototype.refreshLayout=function(){var r=this.graph;r.get("animate")?r.positionsAnimate():r.refreshPositions()},i.prototype.updateLayoutCfg=function(r){var t=this,e=t.graph,n=t.layoutMethod;if(this.layoutType=r.type,!n){console.warn("You did not assign any layout type and the graph has no previous layout method!");return}this.data=this.setDataFromGraph(),this.stopWorker(),!(r.workerEnabled&&this.layoutWithWorker(this.data,null))&&(n.init(this.data),n.updateCfg(r),e.emit("beforelayout"),n.execute(),this.layoutType!=="force"&&!n.enableTick&&e.emit("afterlayout"),this.refreshLayout())},i.prototype.changeLayout=function(r){var t=this,e=t.graph,n=t.layoutMethod;this.layoutType=r,this.layoutCfg=e.get("layout")||{},this.layoutCfg.type=r,n&&n.destroy(),this.layout()},i.prototype.changeData=function(){var r=this.layoutMethod;r&&r.destroy(),this.layout()},i.prototype.destroyLayout=function(){var r=this,t=r.layoutMethod,e=r.graph;t&&t.destroy(),e.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethod=void 0},i.prototype.setDataFromGraph=function(){var r=[],t=[],e=[],n=this.graph.getNodes(),a=this.graph.getEdges(),o=this.graph.getCombos();n.forEach(function(l){if(!!l.isVisible()){var u=l.getModel();r.push(u)}}),a.forEach(function(l){if(!(l.destroyed||!l.isVisible())){var u=l.getModel();u.isComboEdge||t.push(u)}}),o.forEach(function(l){if(!(l.destroyed||!l.isVisible())){var u=l.getModel();e.push(u)}});var s={nodes:r,edges:t,combos:e};return s},i.prototype.relayout=function(r){var t=this,e=t.graph,n=t.layoutMethod,a=t.layoutCfg;if(r){this.data=this.setDataFromGraph();var o=this.data.nodes;if(!o)return!1;this.initPositions(a.center,o),n.init(this.data)}this.layoutType==="force"&&(n.ticking=!1,n.forceSimulation.stop()),e.emit("beforelayout"),n.execute(r),this.layoutType!=="force"&&!n.enableTick&&e.emit("afterlayout"),this.refreshLayout()},i.prototype.layoutAnimate=function(){},i.prototype.moveToZero=function(){var r=this.graph,t=r.get("data"),e=t.nodes;if(!(e[0].x===void 0||e[0].x===null||co(e[0].x))){var n=[0,0];e.forEach(function(a){n[0]+=a.x,n[1]+=a.y}),n[0]/=e.length,n[1]/=e.length,e.forEach(function(a){a.x-=n[0],a.y-=n[1]})}},i.prototype.initPositions=function(r,t){var e=this.graph;if(!t)return!1;var n=!0,a=e.get("width")*.85,o=e.get("height")*.85,s=t.length,l=Math.ceil(Math.sqrt(s)*(a/o)),u=Math.ceil(s/l),h=a/(l-1),c=o/(u-1);(!isFinite(h)||!h)&&(h=0),(!isFinite(c)||!h)&&(c=0);var v=r[0]-a/2,g=r[1]-o/2;return t.forEach(function(M,F){co(M.x)&&(n=!1,M.x=F%l*h+v),co(M.y)&&(n=!1,M.y=Math.floor(F/l)*c+g)}),n},i.prototype.destroy=function(){var r=this.layoutMethod;this.graph=null,r&&r.destroy();var t=this.worker;t&&(t.terminate(),this.worker=null),this.destroyed=!0},i}(),t6=q4;function Mc(i,r){var t=i.nodes,e=r.nodes;t.forEach(function(n,a){n.x=e[a].x,n.y=e[a].y})}function e6(i,r){var t={};return i&&Vu(i)==="object"?(Object.keys(i).forEach(function(e){i.hasOwnProperty(e)&&r(i[e])&&(t[e]=i[e])}),t):i}var jo=null,r6=function(){function i(r){this.graph=r,this.cachedStates={enabled:{},disabled:{}},this.destroyed=!1}return i.checkCache=function(r,t,e){if(!!e[t]){var n=e[t].indexOf(r);n>=0&&e[t].splice(n,1)}},i.cacheState=function(r,t,e){e[t]||(e[t]=[]),e[t].push(r)},i.prototype.updateState=function(r,t,e){var n=this,a=i.checkCache,o=i.cacheState;if(!r.destroyed){var s=this.cachedStates,l=s.enabled,u=s.disabled;e?(a(r,t,u),o(r,t,l)):(a(r,t,l),o(r,t,u)),jo&&clearTimeout(jo),jo=setTimeout(function(){jo=null,n.updateGraphStates()},16)}},i.prototype.updateStates=function(r,t,e){var n=this;(0,mn.default)(t)?this.updateState(r,t,e):t.forEach(function(a){n.updateState(r,a,e)})},i.prototype.updateGraphStates=function(){var r=this.graph.get("states"),t=this.cachedStates;(0,Cn.default)(t.disabled,function(e,n){r[n]&&(r[n]=r[n].filter(function(a){return e.indexOf(a)<0&&!e.destroyed}))}),(0,Cn.default)(t.enabled,function(e,n){if(!r[n])r[n]=e;else{var a={};r[n].forEach(function(o){o.destroyed||(a[o.get("id")]=!0)}),e.forEach(function(o){if(!o.destroyed){var s=o.get("id");a[s]||(a[s]=!0,r[n].push(o))}})}}),this.graph.emit("graphstatechange",{states:r}),this.cachedStates={enabled:{},disabled:{}}},i.prototype.destroy=function(){this.graph=null,this.cachedStates=null,jo&&clearTimeout(jo),jo=null,this.destroyed=!0},i}(),n6=r6,Ec=null,i6=function(){function i(r){this.graph=r;var t=r.get("groupStyle");this.styles=(0,Gi.default)({},i.getDefaultCfg(),t),this.customGroup={},this.delegateInGroup={},this.nodePoint=[],this.destroyed=!1}return i.getDefaultCfg=function(){return{default:{lineWidth:1,stroke:"#A3B1BF",strokeOpacity:.9,fill:"#F3F9FF",fillOpacity:.8,opacity:.8,disCoefficient:.6,minDis:30,maxDis:30},hover:{stroke:"#faad14",fill:"#ffe58f",fillOpacity:.3,opacity:.3,lineWidth:3},collapse:{r:30,width:80,height:40,stroke:"#A3B1BF",lineWidth:3,fill:"#F3F9FF",offsetX:-15,offsetY:5},icon:"https://gw.alipayobjects.com/zos/rmsportal/MXXetJAxlqrbisIuZxDO.svg",operatorBtn:{collapse:{img:"https://gw.alipayobjects.com/zos/rmsportal/uZVdwjJGqDooqKLKtvGA.svg",width:16,height:16},expand:{width:16,height:16,img:"https://gw.alipayobjects.com/zos/rmsportal/MXXetJAxlqrbisIuZxDO.svg"}},visible:!1}},i.prototype.create=function(r,t,e,n,a,o){e===void 0&&(e="circle"),n===void 0&&(n=0),a===void 0&&(a=!1),o===void 0&&(o={});var s=this.graph,l=s.get("customGroup"),u=l.get("children").map(function(br){return br.get("id")});if(u.indexOf(r)>-1){console.warn("\u5DF2\u7ECF\u5B58\u5728ID\u4E3A "+r+" \u7684\u5206\u7EC4\uFF0C\u8BF7\u91CD\u65B0\u8BBE\u7F6E\u5206\u7EC4ID\uFF01");return}var h=l.addGroup({id:r,zIndex:n}),c=this.styles.default,v=this.calculationGroupPosition(t),g=v.x,M=v.y,F=v.width,Y=v.height,V=v.maxX,z=this.getGroupPadding(r),it=s.get("groupBBoxs");it[r]={x:g,y:M,width:F,height:Y,maxX:V};var ot=null;if(a){var yt=s.get("groups");t.forEach(function(br){var $e=s.findById(br),gr=$e.getModel();gr.groupId||(gr.groupId=r)}),yt.find(function(br){return br.id===r})||(yt.push({id:r,title:o}),s.set({groups:yt}))}var It=s.get("groups").filter(function(br){return br.id===r});It&&It.length>0&&(ot=It[0].title);var zt=0,jt=0,Rt=null;if(e==="circle"){var re=F>Y?F/2:Y/2,de=(F+2*g)/2,fe=(Y+2*M)/2,Me=re+z;Rt=h.addShape("circle",{attrs:Qt(Qt({},c),{x:de,y:fe,r:Me}),draggable:!0,capture:!0,zIndex:n,groupId:r,name:"circle-group-shape"}),zt=de,jt=fe-Me,this.setDeletageGroupByStyle(r,h,{width:F,height:Y,x:de,y:fe,r:Me})}else{var Le=z*c.disCoefficient;Rt=h.addShape("rect",{attrs:Qt(Qt({},c),{x:g-Le,y:M-Le,width:F+Le*2,height:Y+Le*2}),draggable:!0,capture:!0,zIndex:n,groupId:r,name:"rect-group-shape"}),zt=g-Le+15,jt=M-Le+15,this.setDeletageGroupByStyle(r,h,{x:g-Le,y:M-Le,width:F+Le,height:Y+Le,btnOffset:V-3})}if(ot){var _e=ot.offsetX,He=_e===void 0?0:_e,je=ot.offsetY,Ze=je===void 0?0:je,ze=ot.text,Xe=ze===void 0?ot:ze,pr=ji(ot,["offsetX","offsetY","text"]),cr=h.addShape("text",{attrs:Qt({text:Xe,stroke:"#444",x:zt+He,y:jt+Ze},pr),className:"group-title",name:"group-title-shape"});cr.set("capture",!1)}h.set("keyShape",Rt),s.get("groupNodes")[r]=t},i.prototype.setGroupStyle=function(r,t){if(!(!r||r.get("destroyed"))){var e={},n=this.styles,a=n.hover,o=n.default;(0,mn.default)(t)?t==="default"?e=(0,Gi.default)({},o):t==="hover"&&(e=(0,Gi.default)({},a)):e=(0,Gi.default)({},o,t),Object.keys(e).forEach(function(s){r.attr(s,e[s])})}},i.prototype.calculationGroupPosition=function(r,t){if(t===void 0&&(t={x:100,y:100}),r.length===0)return{x:t.x,y:t.y,width:100,height:100};var e=this.graph,n=Infinity,a=-Infinity,o=Infinity,s=-Infinity;r.forEach(function(v){var g=(0,mn.default)(v)?e.findById(v):v,M=g.getBBox(),F=M.minX,Y=M.minY,V=M.maxX,z=M.maxY;F<n&&(n=F),Y<o&&(o=Y),V>a&&(a=V),z>s&&(s=z)});var l=Math.floor(n),u=Math.floor(o),h=Math.ceil(a)-l,c=Math.ceil(s)-u;return{x:l,y:u,width:h,height:c,maxX:Math.ceil(a)}},i.prototype.flatToTree=function(r,t,e){t===void 0&&(t="id"),e===void 0&&(e="parentId");var n="children",a=[],o=[];return r.forEach(function(s){a[s[t]]=s}),r.forEach(function(s){var l=a[s[e]];l?(l[n]=l[n]||[],l[n].push(s)):o.push(s)}),o},i.prototype.getGroupPadding=function(r){var t=this.graph,e=this.styles.default,n=t.get("groups"),a=n.filter(function(h){return h.parentId===r}),o=1;a.length>0&&(Ec||(Ec=this.flatToTree(n)),Zi(Ec[0],function(h){if(h.parentId===r&&h.children)return o+=h.children.length,!0}));var s=n.filter(function(h){return h.id===r&&!h.parentId});s.length>0&&(o+=1);var l=n.filter(function(h){return h.parentId===r}).length>0,u=l?e.maxDis+(o>1?o/2:1)*30:e.minDis;return u},i.prototype.setDeletageGroupByStyle=function(r,t,e){var n=e.width,a=e.height,o=e.x,s=e.y,l=e.r,u=e.btnOffset,h=this.customGroup[r];if(!h)this.customGroup[r]={nodeGroup:t,groupStyle:{width:n,height:a,x:o,y:s,r:l,btnOffset:u}};else{var c=h.groupStyle,v=(0,Gi.default)({},c,e);this.customGroup[r]={nodeGroup:t,groupStyle:v}}},i.prototype.getDeletageGroupById=function(r){return this.customGroup[r]},i.prototype.collapseExpandGroup=function(r){var t=this.getDeletageGroupById(r),e=t.nodeGroup,n=e.get("hasHidden");n?(e.set("hasHidden",!1),this.expandGroup(r)):(e.set("hasHidden",!0),this.collapseGroup(r))},i.prototype.setGroupTmpNode=function(r,t){var e=this.graph,n=e.get("groupNodes"),a=e.get("groups");n[r].indexOf(t)<0&&n[r].push(t);var o=a.filter(function(l){return l.id===r}),s=null;o.length>0&&(s=o[0].parentId),s&&this.setGroupTmpNode(s,t)},i.prototype.collapseGroup=function(r){var t=this,e=this.getDeletageGroupById(r),n=e.nodeGroup,a=this.styles.collapse,o=this.graph,s=o.get("groupType"),l=o.get("groupNodes")[r],u=n.get("keyShape"),h=a.r,c=a.width,v=a.height,g=a.offsetX,M=a.offsetY,F=ji(a,["r","width","height","offsetX","offsetY"]);Object.keys(F).forEach(function(zt){u.attr(zt,F[zt])});var Y={groupId:r,id:r+"-custom-node",x:u.attr("x"),y:u.attr("y"),style:{r:h},type:"circle"},V=n.find(function(zt){return zt.get("className")==="group-title"});s==="circle"?(u.animate({r:h},{duration:500,easing:"easeCubic"}),V&&V.attr({x:u.attr("x")+g,y:u.attr("y")+M})):s==="rect"&&(u.animate({width:c,height:v},{duration:500,easing:"easeCubic"}),V&&V.attr({x:u.attr("x")+10,y:u.attr("y")+v/2+5}),Y={groupId:r,id:r+"-custom-node",x:u.attr("x")+c/2,y:u.attr("y")+v/2,size:[c,v],type:"rect"});var z=o.getEdges(),it=z.filter(function(zt){var jt=zt.getModel();return!l.includes(jt.source)&&l.includes(jt.target)}),ot=z.filter(function(zt){var jt=zt.getModel();return l.includes(jt.source)&&!l.includes(jt.target)}),yt=z.filter(function(zt){var jt=zt.getModel();return l.includes(jt.source)&&l.includes(jt.target)});if(l.forEach(function(zt){var jt=o.findById(zt),Rt=jt.getModel(),re=Rt.groupId;if(re&&re!==r){var de=t.getDeletageGroupById(re),fe=de.nodeGroup;fe.hide()}jt.hide()}),yt.forEach(function(zt){var jt=zt.getSource(),Rt=zt.getTarget();jt.isVisible()&&Rt.isVisible()?zt.show():zt.hide()}),it.length>0||ot.length>0){var It=o.add("node",Y);It.set("capture",!1),It.hide(),this.delegateInGroup[r]={delegateNode:It},this.setGroupTmpNode(r,r+"-custom-node"),this.updateEdgeInGroupLinks(r,it,ot)}},i.prototype.updateEdgeInGroupLinks=function(r,t,e){var n=this.graph,a={};t.map(function(s){var l=s.getModel(),u=s.get("id"),h=l.target;return a[u]=h,n.updateItem(s,{target:r+"-custom-node"}),!0});var o={};e.map(function(s){var l=s.getModel(),u=s.get("id"),h=l.source;return o[u]=h,n.updateItem(s,{source:r+"-custom-node"}),!0}),this.delegateInGroup[r]=(0,Gi.default)({sourceOutTargetInEdges:t,sourceInTargetOutEdges:e,edgesOuts:a,edgesIn:o},this.delegateInGroup[r])},i.prototype.expandGroup=function(r){var t=this,e=this.graph,n=e.get("groupType"),a=e.get("groupNodes")[r],o=a.filter(function(je){return je.indexOf("custom-node")===-1}),s=this.calculationGroupPosition(o),l=s.width,u=s.height,h=this.getDeletageGroupById(r).nodeGroup,c=h.get("keyShape"),v=this.styles,g=v.default,M=v.collapse;Object.keys(g).forEach(function(je){c.attr(je,g[je])});var F=h.find(function(je){return je.get("className")==="group-title"}),Y=this.getGroupPadding(r);if(n==="circle"){var V=l>u?l/2:u/2;c.animate({r:V+Y},{duration:500,easing:"easeCubic"})}else if(n==="rect"){var z=M.width,it=M.height;c.animate({width:z+l+Y*g.disCoefficient*2,height:it+u+Y*g.disCoefficient*2},{duration:500,easing:"easeCubic"})}if(F){var ot=null,yt=e.get("groups").filter(function(je){return je.id===r});yt&&yt.length>0&&(ot=yt[0].title);var It=ot.offsetX,zt=It===void 0?0:It,jt=ot.offsetY,Rt=jt===void 0?0:jt;n==="circle"?F.animate({x:c.attr("x")+zt,y:c.attr("y")-c.attr("r")+Rt},{duration:600,easing:"easeCubic"}):n==="rect"&&F.animate({x:c.attr("x")+(15+zt),y:c.attr("y")+(15+Rt)},{duration:600,easing:"easeCubic"})}setTimeout(function(){a.forEach(function(ze){var Xe=e.findById(ze),pr=Xe.getModel(),cr=pr.groupId;if(cr&&cr!==r){var br=t.getDeletageGroupById(cr),$e=br.nodeGroup;$e.show();var gr=$e.get("hasHidden");gr||Xe.show()}else Xe.show()});var je=e.getEdges(),Ze=je.filter(function(ze){var Xe=ze.getModel();return a.includes(Xe.source)||a.includes(Xe.target)});Ze.forEach(function(ze){var Xe=ze.getSource(),pr=ze.getTarget();Xe.isVisible()&&pr.isVisible()&&ze.show()})},300);var re=this.delegateInGroup[r];if(re){var de=re.sourceOutTargetInEdges,fe=re.sourceInTargetOutEdges,Me=re.edgesOuts,Le=re.edgesIn,_e=re.delegateNode;de.map(function(je){var Ze=je.get("id"),ze=Me[Ze];return e.updateItem(je,{target:ze}),!0}),fe.map(function(je){var Ze=je.get("id"),ze=Le[Ze];return e.updateItem(je,{source:ze}),!0});var He=_e.getModel();this.deleteTmpNode(r,He.id),e.remove(_e),delete this.delegateInGroup[r]}},i.prototype.deleteTmpNode=function(r,t){var e=this.graph,n=e.get("groups"),a=e.get("groupNodes")[r],o=a.indexOf(t);a.splice(o,1);var s=n.filter(function(u){return u.id===r}),l=null;s.length>0&&(l=s[0].parentId),l&&this.deleteTmpNode(l,t)},i.prototype.remove=function(r){var t=this.graph,e=this.getDeletageGroupById(r);if(!!e){var n=e.nodeGroup,a=t.get("groupNodes"),o=a[r];o.forEach(function(g){var M=t.findById(g),F=M.getModel(),Y=F.groupId;!Y||r===Y&&(delete F.groupId,t.updateItem(M,F))}),n.destroy(),delete this.customGroup[r];var s=t.get("groups");if(s.length>0){var l=s.filter(function(g){return g.id!==r});t.set("groups",l)}for(var u=null,h=null,c=0;c<s.length;c++){var v=s[c];if(r===v.id){u=v.parentId,h=v;break}}h&&delete h.parentId,delete a[r],u&&(a[u]=a[u].filter(function(g){return!o.includes(g)}))}},i.prototype.updateGroup=function(r,t,e){var n=this.graph,a=n.get("groupType");this.updateItemInGroup(r,t,e);for(var o=n.save().groups,s=null,l=null,u=0;u<o.length;u++){var h=o[u];if(r===h.id){s=h.parentId,l=h;break}}if(s){var c=this.getDeletageGroupById(s).nodeGroup,v=c.get("keyShape");this.setGroupStyle(v,"default");var g=v.getBBox(),M=g.minX,F=g.minY,Y=g.maxX,V=g.maxY,z=this.getDeletageGroupById(r).nodeGroup,it=z.get("keyShape"),ot=it.getBBox(),yt=ot.x,It=ot.y;if(!(yt<Y&&yt>M&&It<V&&It>F)){delete l.parentId;var zt=n.get("groupNodes"),jt=zt[r],Rt=zt[s];zt[s]=Rt.filter(function(xr){return jt.indexOf(xr)===-1});var re=this.calculationGroupPosition(zt[s]),de=re.x,fe=re.y,Me=re.width,Le=re.height,_e=this.getGroupPadding(s),He=c.find(function(xr){return xr.get("className")==="group-title"}),je=0,Ze=0;if(a==="circle"){var ze=Me>Le?Me/2:Le/2,Xe=de,pr=fe;v.attr({r:ze+_e,x:Xe,y:pr}),je=Xe,Ze=pr-v.attr("r")}else if(a==="rect"){var cr=this.styles.default,br=_e*cr.disCoefficient;v.attr({x:de-br,y:fe-br}),je=de-br+15,Ze=fe-br+15}if(He){var $e=l.title,gr=0,Or=0;$e&&(gr=$e.offsetX,Or=$e.offsetY),He.attr({x:je+gr,y:Ze+Or})}}}},i.prototype.updateItemInGroup=function(r,t,e){var n=this,a=this.graph,o=a.get("groupType"),s=a.get("groupNodes"),l=s[r],u=this.getDeletageGroupById(r).nodeGroup,h=u.getBBox(),c=[];l.forEach(function(v,g){var M=a.findById(v),F=M.getModel(),Y=F.groupId;Y&&!c.includes(Y)&&c.push(Y),n.nodePoint[g]||(n.nodePoint[g]={x:F.x,y:F.y});var V=t.x-h.x+n.nodePoint[g].x,z=t.y-h.y+n.nodePoint[g].y;n.nodePoint[g]={x:V,y:z},a.updateItem(M,{x:V,y:z})}),c.includes(r)||c.push(r),c.forEach(function(v){var g=n.getDeletageGroupById(v).nodeGroup,M=g.get("keyShape"),F=s[v].filter(function(Le){return Le.indexOf("custom-node")===-1}),Y=n.calculationGroupPosition(F,t),V=Y.x,z=Y.y,it=Y.width,ot=Y.height,yt=0,It=0;if(o==="circle"){var zt=(it+2*V)/2,jt=(ot+2*z)/2;M.attr({x:zt,y:jt}),yt=zt,It=jt-M.attr("r")}else if(o==="rect"){var Rt=g.get("hasHidden"),re=n.getGroupPadding(v),de={},fe=n.styles.default,Me=re*fe.disCoefficient;yt=V-Me+15,It=z-Me+15,Rt?(de={x:V-Me,y:z-Me},It=It+10):de={x:V-Me,y:z-Me,width:it+Me*2,height:ot+Me*2},M.attr(de)}n.updateGroupTitle(g,v,yt,It)})},i.prototype.updateGroupTitle=function(r,t,e,n){var a=this.graph,o=r.find(function(c){return c.get("className")==="group-title"});if(o){var s=null,l=a.get("groups").filter(function(c){return c.id===t});l&&l.length>0&&(s=l[0].title);var u=0,h=0;s&&(u=s.offsetX||0,h=s.offsetY||0),o.attr({x:e+u,y:n+h})}},i.prototype.dynamicChangeGroupSize=function(r,t,e){var n=r.item,a=n.getModel(),o=a.groupId,s=this.graph,l=s.get("groupType"),u=s.get("groupNodes"),h=u[o];if(h.length===0){delete u[o];var c=s.get("groups");s.set("groups",c.filter(function(Rt){return Rt.id!==o})),t.remove()}else{var v=this.calculationGroupPosition(h),g=v.x,M=v.y,F=v.width,Y=v.height,V=this.getGroupPadding(o),z=0,it=0;if(l==="circle"){var ot=F>Y?F/2:Y/2,yt=(F+2*g)/2,It=(Y+2*M)/2;e.attr({r:ot+V,x:yt,y:It}),z=yt,it=It-e.attr("r")}else if(l==="rect"){var zt=this.styles.default,jt=V*zt.disCoefficient;e.attr({x:g-jt,y:M-jt,width:F+jt*2,height:Y+jt*2}),z=g-jt+15,it=M-jt+15}this.updateGroupTitle(t,o,z,it)}this.setGroupStyle(e,"default")},i.prototype.resetNodePoint=function(){this.nodePoint.length=0},i.prototype.destroy=function(){this.graph=null,this.styles={},this.customGroup={},this.delegateInGroup={},this.resetNodePoint(),this.destroyed=!0},i}(),a6=i6,o6=function(r){var t={};return r.getNodes().forEach(function(e){t[e.getID()]={degree:0,inDegree:0,outDegree:0}}),r.getEdges().forEach(function(e){t[e.getSource().getID()].degree++,t[e.getSource().getID()].outDegree++,t[e.getTarget().getID()].degree++,t[e.getTarget().getID()].inDegree++}),t},w1=o6,s6=function(){function i(r){this.compare=r||i.defaultCompareFunction}return i.defaultCompareFunction=function(r,t){return r===t?0:r<t?-1:1},i.prototype.equal=function(r,t){return this.compare(r,t)===0},i.prototype.lessThan=function(r,t){return this.compare(r,t)<0},i.prototype.greaterThan=function(r,t){return this.compare(r,t)>0},i.prototype.lessThanOrEqual=function(r,t){return this.lessThan(r,t)||this.equal(r,t)},i.prototype.greaterThanOrEqual=function(r,t){return this.greaterThan(r,t)||this.equal(r,t)},i.prototype.reverse=function(){var r=this.compare;this.compare=function(t,e){return r(e,t)}},i}(),l6=s6,S1=function(){function i(r,t){t===void 0&&(t=null),this.value=r,this.next=t}return i.prototype.toString=function(r){return r?r(this.value):""+this.value},i}(),u6=function(){function i(r){r===void 0&&(r=null),this.head=null,this.tail=null,this.compare=new l6(r)}return i.prototype.prepend=function(r){var t=new S1(r,this.head);return this.head=t,this.tail||(this.tail=t),this},i.prototype.append=function(r){var t=new S1(r);return this.head?(this.tail.next=t,this.tail=t,this):(this.head=t,this.tail=t,this)},i.prototype.delete=function(r){if(!this.head)return null;for(var t=null;this.head&&this.compare.equal(this.head.value,r);)t=this.head,this.head=this.head.next;var e=this.head;if(e!==null)for(;e.next;)this.compare.equal(e.next.value,r)?(t=e.next,e.next=e.next.next):e=e.next;return this.compare.equal(this.tail.value,r)&&(this.tail=e),t},i.prototype.find=function(r){var t=r.value,e=t===void 0?void 0:t,n=r.callback,a=n===void 0?void 0:n;if(!this.head)return null;for(var o=this.head;o;){if(a&&a(o.value)||e!==void 0&&this.compare.equal(o.value,e))return o;o=o.next}return null},i.prototype.deleteTail=function(){var r=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,r;for(var t=this.head;t.next;)t.next.next?t=t.next:t.next=null;return this.tail=t,r},i.prototype.deleteHead=function(){if(!this.head)return null;var r=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),r},i.prototype.fromArray=function(r){var t=this;return r.forEach(function(e){return t.append(e)}),this},i.prototype.toArray=function(){for(var r=[],t=this.head;t;)r.push(t),t=t.next;return r},i.prototype.reverse=function(){for(var r=this.head,t=null,e=null;r;)e=r.next,r.next=t,t=r,r=e;this.tail=this.head,this.head=t},i.prototype.toString=function(r){return r===void 0&&(r=void 0),this.toArray().map(function(t){return t.toString(r)}).toString()},i}(),C1=u6,f6=function(){function i(r){r===void 0&&(r=10),this.linkedList=new C1,this.maxStep=r}return Object.defineProperty(i.prototype,"length",{get:function(){return this.linkedList.toArray().length},enumerable:!1,configurable:!0}),i.prototype.isEmpty=function(){return!this.linkedList.head},i.prototype.isMaxStack=function(){return this.toArray().length>=this.maxStep},i.prototype.peek=function(){return this.isEmpty()?null:this.linkedList.head.value},i.prototype.push=function(r){this.linkedList.prepend(r),this.length>this.maxStep&&this.linkedList.deleteTail()},i.prototype.pop=function(){var r=this.linkedList.deleteHead();return r?r.value:null},i.prototype.toArray=function(){return this.linkedList.toArray().map(function(r){return r.value})},i.prototype.clear=function(){for(;!this.isEmpty();)this.pop()},i}(),M1=f6,h6=function(r,t){var e=r.getNodes(),n=r.getEdges(),a=[],o={};if(!e)throw new Error("invalid nodes data!");return e&&e.forEach(function(s,l){o[s.getID()]=l;var u=[];a.push(u)}),n&&n.forEach(function(s){var l=s.getModel(),u=l.source,h=l.target,c=o[u],v=o[h];a[c][v]=1,t||(a[v][c]=1)}),a},Wu=h6,c6=function(r,t){var e=r.get("adjMatrix");e||(e=Wu(r,t));for(var n=[],a=e.length,o=0;o<a;o+=1){n[o]=[];for(var s=0;s<a;s+=1)o===s?n[o][s]=0:e[o][s]===0||!e[o][s]?n[o][s]=Infinity:n[o][s]=e[o][s]}for(var l=0;l<a;l+=1)for(var o=0;o<a;o+=1)for(var s=0;s<a;s+=1)n[o][s]>n[o][l]+n[l][s]&&(n[o][s]=n[o][l]+n[l][s]);return n},E1=c6,A1=function(r,t,e){return(r.y-e.y)*(t.x-e.x)-(r.x-e.x)*(t.y-e.y)},T1=function(r){var t=r.map(function(s){return{x:s.getModel().x,y:s.getModel().y}});t.sort(function(s,l){return s.x===l.x?s.y-l.y:s.x-l.x});for(var e=[],n=0;n<t.length;n++){for(;e.length>=2&&A1(e[e.length-2],e[e.length-1],t[n])<=0;)e.pop();e.push(t[n])}for(var a=[],n=t.length-1;n>=0;n--){for(;a.length>=2&&A1(a[a.length-2],a[a.length-1],t[n])<=0;)a.pop();a.push(t[n])}a.pop(),e.pop();var o=e.concat(a);return o},v6={maxRoutingIterations:100,maxMarchingIterations:100,pixelGroupSize:2,edgeR0:10,edgeR1:10,nodeR0:5,nodeR1:10,morphBuffer:5,threshold:.001,skip:16,nodeInfluenceFactor:1,edgeInfluenceFactor:1,negativeNodeInfluenceFactor:-.5};function d6(i,r,t){var e=!1,n=function(l,u){return r.cells[l+u*r.width]},a=function(l,u){var h=0;return n(l-1,u-1)>=t&&(h+=1),n(l,u-1)>t&&(h+=2),n(l-1,u)>t&&(h+=4),n(l,u)>t&&(h+=8),h},o=function(l,u){for(var h=l,c=u,v,g,M=0;M<r.width*r.height;M++){if(v=h,g=c,i.findIndex(function(Y){return Y.x===h&&Y.y===c})>-1){if(!(i[0].x!==h||i[0].y!==c))return!0}else i.push({x:h,y:c});var F=a(h,c);switch(F){case-1:return console.warn("Marched out of bounds"),!0;case 0:case 3:case 2:case 7:h++;break;case 12:case 14:case 4:h--;break;case 6:v===0&&(g===-1?h-=1:h+=1);break;case 1:case 13:case 5:c--;break;case 9:v===1&&(g===0?c-=1:c+=1);break;case 10:case 8:case 11:c++;break;default:return console.warn("Marching squares invalid state: "+F),!0}}};this.march=function(){for(var s=0;s<r.width&&!e;s+=1)for(var l=0;l<r.height&&!e;l+=1)n(s,l)>t&&a(s,l)!==15&&(e=o(s,l));return e}}var p6=function(r,t,e){var n=Math.ceil(r/e),a=Math.ceil(t/e),o=new Float32Array(Math.max(0,n*a)).fill(0);return{cells:o,width:n,height:a}},g6=function(r,t,e){var n=null,a=Number.POSITIVE_INFINITY;return t.forEach(function(o){var s={x:r.getModel().x,y:r.getModel().y},l={x:o.getModel().x,y:o.getModel().y},u=wu(s,l),h=new Vo(s.x,s.y,l.x,l.y),c=e.reduce(function(v,g){return ac(g,h)>0?v+1:v},0);u*Math.pow(c+1,2)<a&&(n=o,a=u*Math.pow(c+1,2))}),n},P1=function(r,t){var e=Number.POSITIVE_INFINITY,n=null;return r.forEach(function(a){var o=ac(a,t);o>=0&&o<e&&(n=a,e=o)}),n},y6=function(r,t,e,n){var a=[],o=[];o.push(r);for(var s=!0,l=0,u=function(g,M){var F=!1;return M.forEach(function(Y){F||(oc(g,{x:Y.x1,y:Y.y1})||oc(g,{x:Y.x2,y:Y.y2}))&&(F=!0)}),F},h=function(g,M){for(var F=0,Y=M;F<Y.length;F++){var V=Y[F],z=V.getBBox(),it=[[z.x,z.y],[z.x+z.width,z.y],[z.x,z.y+z.height],[z.x+z.width,z.y+z.height]];if(js(it,g.x,g.y))return!0}return!1};s&&l<e;){s=!1;for(var c=function(){var g=o.pop(),M=P1(t,g);if(M){var F=cx(M,g),Y=F[0],V=F[1];if(V===2){var z=function(ot){for(var yt=n,It=_1(M,yt,Y,ot),zt=u(It,o)||u(It,a),jt=h(It,t);!zt&&jt&&yt>=1;)yt/=1.5,It=_1(M,yt,Y,ot),zt=u(It,o)||u(It,a),jt=h(It,t);It&&!zt&&(!ot||!jt)&&(o.push(new Vo(g.x1,g.y1,It.x,It.y)),o.push(new Vo(It.x,It.y,g.x2,g.y2)),s=!0)};z(!0),s||z(!1)}}s||a.push(g),l+=1};!s&&o.length;)c()}for(;o.length;)a.push(o.pop());return a};function m6(i,r,t,e,n){var a=g6(i,t,r);if(a===null)return[];var o=function(c){for(var v=[];c.length>0;){var g=c.pop();if(c.length===0){v.push(g);break}var M=c.pop(),F=new Vo(g.x1,g.y1,M.x2,M.y2),Y=P1(r,F);Y?(v.push(g),c.push(M)):c.push(F)}return v},s=new Vo(i.getModel().x,i.getModel().y,a.getModel().x,a.getModel().y),l=y6(s,r,e,n),u=o(l);return u}var x6=function(r,t,e){var n=Object.assign(v6,e),a=vx(r.map(function(z){return{x:z.getModel().x,y:z.getModel().y}}));r=r.sort(function(z,it){return wu({x:z.getModel().x,y:z.getModel().y},a)-wu({x:it.getModel().x,y:it.getModel().y},a)});var o=[],s=[];r.forEach(function(z){var it=m6(z,t,o,n.maxRoutingIterations,n.morphBuffer);it.forEach(function(ot){s.push(ot)}),o.push(z)});for(var l=b6(r,s,n.nodeR0),u=p6(l.width,l.height,n.pixelGroupSize),h=[],c=[],v=0;v<n.maxMarchingIterations;v++)if(w6(r,t,s,l,u,n),h=[],c=[],!!new d6(h,u,n.threshold).march()){var g=h.map(function(z){return{x:Math.round(z.x*n.pixelGroupSize+l.minX),y:Math.round(z.y*n.pixelGroupSize+l.minY)}});if(g){var M=g.length;if(n.skip>1)for(M=Math.floor(g.length/n.skip);M<3&&n.skip>1;)n.skip-=1,M=Math.floor(g.length/n.skip);for(var F=0,Y=0;Y<M;Y+=1,F+=n.skip)c.push({x:g[F].x,y:g[F].y})}var V=function(){for(var it=0,ot=r;it<ot.length;it++){var yt=ot[it],It=c.map(function(zt){return[zt.x,zt.y]});if(!js(It,yt.getBBox().centerX,yt.getBBox().centerY))return!1}return!0};if(c&&V())return c;if(n.threshold*=.9,v<=n.maxMarchingIterations*.5)n.memberInfluenceFactor*=1.2,n.edgeInfluenceFactor*=1.2;else if(n.nonMemberInfluenceFactor!==0&&t.length>0)n.nonMemberInfluenceFactor*=.8;else break}return c};function b6(i,r,t){var e={minX:Number.POSITIVE_INFINITY,minY:Number.POSITIVE_INFINITY,maxX:Number.NEGATIVE_INFINITY,maxY:Number.NEGATIVE_INFINITY,width:0,height:0,x:0,y:0},n=[];i.forEach(function(l){n.push(l.getBBox())}),r.forEach(function(l){n.push(l.getBBox())});for(var a=0,o=n;a<o.length;a++){var s=o[a];e.minX=(s.minX<e.minX?s.minX:e.minX)-t,e.minY=(s.minY<e.minY?s.minY:e.minY)-t,e.maxX=(s.maxX>e.maxX?s.maxX:e.maxX)+t,e.maxY=(s.maxY>e.maxY?s.maxY:e.maxY)+t}return e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.x=e.minX,e.y=e.minY,e}function w6(i,r,t,e,n,a){function o(g,M){var F=Math.floor((g-M)/a.pixelGroupSize);return F<0?0:F}function s(g,M){return g*a.pixelGroupSize+M}var l=(a.nodeR0-a.nodeR1)*(a.nodeR0-a.nodeR1),u=(a.edgeR0-a.edgeR1)*(a.edgeR0-a.edgeR1),h=function(M,F){var Y=Math.min(o(M.minX,F+e.minX),n.width),V=Math.min(o(M.minY,F+e.minY),n.height),z=Math.min(o(M.maxX,-F+e.minX),n.width),it=Math.min(o(M.maxY,-F+e.minY),n.height);return[Y,V,z,it]},c=function(M,F){for(var Y=M.getBBox(),V=h(Y,a.nodeR1),z=V[0],it=V[1],ot=V[2],yt=V[3],It=it;It<yt;It+=1)for(var zt=z;zt<ot;zt+=1)if(!(F<0&&n[zt+It*n.width]<=0)){var jt=s(zt,e.minX),Rt=s(It,e.minY),re=px({x:jt,y:Rt},{x:Y.minX,y:Y.minY,width:Y.width,height:Y.height});if(re<Math.pow(a.nodeR1,2)){var de=Math.sqrt(re)-a.nodeR1;n.cells[zt+It*n.width]+=F*de*de}}},v=function(M,F){for(var Y=M.getBBox(),V=h(Y,a.edgeR1),z=V[0],it=V[1],ot=V[2],yt=V[3],It=it;It<yt;It+=1)for(var zt=z;zt<ot;zt+=1)if(!(F<0&&n.cells[zt+It*n.width]<=0)){var jt=s(zt,e.minX),Rt=s(It,e.minY),re=dx({x:jt,y:Rt},M);if(re<Math.pow(a.edgeR1,2)){var de=Math.sqrt(re)-a.edgeR1;n.cells[zt+It*n.width]+=F*de*de}}};a.nodeInfluenceFactor&&i.forEach(function(g){c(g,a.nodeInfluenceFactor/l)}),a.edgeInfluenceFactor&&t.forEach(function(g){v(g,a.edgeInfluenceFactor/u)}),a.negativeNodeInfluenceFactor&&r.forEach(function(g){c(g,a.negativeNodeInfluenceFactor/l)})}function _1(i,r,t,e){var n=i.getBBox(),a=t[0],o=t[1],s=t[2],l=t[3],u={topLeft:{x:n.minX-r,y:n.minY-r},topRight:{x:n.maxX+r,y:n.minY-r},bottomLeft:{x:n.minX-r,y:n.maxY+r},bottomRight:{x:n.maxX+r,y:n.maxY+r}},h=n.height*n.width;function c(M,F){return n.width*((M.y-n.minY+(F.y-n.minY))*.5)}if(o){if(a)return e?u.topLeft:u.bottomRight;if(s)return e?u.bottomLeft:u.topRight;var v=c(o,l);return v<h*.5?o.y>l.y?e?u.topLeft:u.bottomRight:e?u.topRight:u.bottomLeft:o.y<l.y?e?u.bottomLeft:u.topRight:e?u.bottomRight:u.topLeft}if(l){if(a)return e?u.topRight:u.bottomLeft;if(s)return e?u.bottomRight:u.topLeft}var g=c(a,s);return g<h*.5?a.x>s.x?e?u.topLeft:u.bottomRight:e?u.bottomLeft:u.topRight:a.x<s.x?e?u.topRight:u.bottomLeft:e?u.bottomRight:u.topLeft}var S6=function(){function i(r,t){this.cfg=(0,f.deepMix)(this.getDefaultCfg(),t),this.graph=r,this.id=this.cfg.id,this.group=this.cfg.group,this.members=this.cfg.members.map(function(e){return(0,f.isString)(e)?r.findById(e):e}),this.nonMembers=this.cfg.nonMembers.map(function(e){return(0,f.isString)(e)?r.findById(e):e}),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()}return i.prototype.getDefaultCfg=function(){return{id:"g6-hull",type:"round-convex",members:[],nonMembers:[],style:{fill:"lightblue",stroke:"blue",opacity:.2},padding:10}},i.prototype.setPadding=function(){var r=this.members.length&&this.members[0].getKeyShape().getCanvasBBox().width/2;this.padding=this.cfg.padding>0?this.cfg.padding+r:10+r,this.cfg.bubbleCfg={nodeR0:this.padding-r,nodeR1:this.padding-r,morphBuffer:this.padding-r}},i.prototype.setType=function(){this.type=this.cfg.type,this.members.length<3&&(this.type="round-convex"),this.type!=="round-convex"&&this.type!=="smooth-convex"&&this.type!=="bubble"&&(console.warn("The hull type should be either round-convex, smooth-convex or bubble, round-convex is used by default."),this.type="round-convex")},i.prototype.calcPath=function(r,t){var e,n,a;switch(this.type){case"round-convex":e=T1(r),a=wx(e.map(function(o){return[o.x,o.y]}),this.padding),n=(0,pl.parsePathString)(a);break;case"smooth-convex":e=T1(r),a=Sx(e.map(function(o){return[o.x,o.y]}),this.padding),n=e.length>=2&&sc(a);break;case"bubble":e=x6(r,t,this.cfg.bubbleCfg),n=e.length>=2&&sc(e);break;default:}return n},i.prototype.render=function(){this.group.addShape("path",{attrs:Qt({path:this.path},this.cfg.style),id:this.id,name:this.cfg.id}),this.group.toBack()},i.prototype.addMember=function(r){if(!!r){(0,f.isString)(r)&&(r=this.graph.findById(r)),this.members.push(r);var t=this.nonMembers.indexOf(r);return t>-1&&this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},i.prototype.addNonMember=function(r){if(!!r){(0,f.isString)(r)&&(r=this.graph.findById(r)),this.nonMembers.push(r);var t=this.members.indexOf(r);return t>-1&&this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},i.prototype.removeMember=function(r){if(!!r){(0,f.isString)(r)&&(r=this.graph.findById(r));var t=this.members.indexOf(r);return t>-1?(this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0):!1}},i.prototype.removeNonMember=function(r){if(!!r){(0,f.isString)(r)&&(r=this.graph.findById(r));var t=this.nonMembers.indexOf(r);return t>-1?(this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0):!1}},i.prototype.updateData=function(r,t){var e=this;this.group.findById(this.id).remove(),r&&(this.members=r.map(function(n){return(0,f.isString)(n)?e.graph.findById(n):n})),t&&(this.nonMembers=t.map(function(n){return(0,f.isString)(n)?e.graph.findById(n):n})),this.path=this.calcPath(this.members,this.nonMembers),this.render()},i.prototype.updateStyle=function(r){var t=this.group.findById(this.id);t.attr(Qt({},r))},i.prototype.updateCfg=function(r){var t=this;this.cfg=(0,f.deepMix)(this.cfg,r),this.id=this.cfg.id,this.group=this.cfg.group,r.members&&(this.members=this.cfg.members.map(function(e){return(0,f.isString)(e)?t.graph.findById(e):e})),r.nonMembers&&(this.nonMembers=this.cfg.nonMembers.map(function(e){return(0,f.isString)(e)?t.graph.findById(e):e})),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()},i.prototype.contain=function(r){var t=this,e;(0,f.isString)(r)?e=this.graph.findById(r):e=r;var n,a=e.getKeyShape();if(e.get("type")==="path")n=Cu(a.attr("path"));else{var o=a.getCanvasBBox();n=[[o.minX,o.minY],[o.maxX,o.minY],[o.maxX,o.maxY],[o.minX,o.maxY]]}return n=n.map(function(s){var l=t.graph.getPointByCanvas(s[0],s[1]);return[l.x,l.y]}),nc(n,Cu(this.path))},i.prototype.destroy=function(){this.group.remove(),this.cfg=null},i}(),C6=S6,M6="node",E6="svg",A6=function(i){Dn(r,i);function r(t){var e=i.call(this)||this;return e.cfg=(0,f.deepMix)(e.getDefaultCfg(),t),e.init(),e.animating=!1,e.destroyed=!1,e.cfg.enabledStack&&(e.undoStack=new M1(e.cfg.maxStep),e.redoStack=new M1(e.cfg.maxStep)),e}return r.prototype.init=function(){this.initCanvas();var t=new _3(this),e=new T3(this),n=new E3(this),a=new Q3(this),o=new t6(this),s=new n6(this),l=new a6(this);this.set({eventController:t,viewController:e,modeController:n,itemController:a,layoutController:o,stateController:s,customGroupControll:l}),this.initPlugin()},r.prototype.initCanvas=function(){var t=this.get("container");if((0,f.isString)(t)&&(t=document.getElementById(t),this.set("container",t)),!t)throw new Error("invalid container");var e=this.get("width"),n=this.get("height"),a=this.get("renderer"),o;if(a===E6)o=new Us.Z({container:t,width:e,height:n});else{var s={container:t,width:e,height:n},l=this.get("pixelRatio");l&&(s.pixelRatio=l),o=new Ho.Z(s)}this.set("canvas",o),this.initGroups()},r.prototype.initPlugin=function(){var t=this;(0,f.each)(t.get("plugins"),function(e){!e.destroyed&&e.initPlugin&&e.initPlugin(t)})},r.prototype.initGroups=function(){var t=this.get("canvas"),e=this.get("canvas").get("el"),n=e.id,a=t.addGroup({id:n+"-root",className:Ge.rootContainerClassName});if(this.get("groupByTypes")){var o=a.addGroup({id:n+"-edge",className:Ge.edgeContainerClassName}),s=a.addGroup({id:n+"-node",className:Ge.nodeContainerClassName}),l=a.addGroup({id:n+"-combo",className:Ge.comboContainerClassName}),u=a.addGroup({id:n+"-group",className:Ge.customGroupContainerClassName});u.toBack(),l.toBack(),this.set({nodeGroup:s,edgeGroup:o,customGroup:u,comboGroup:l})}var h=a.addGroup({id:n+"-delegate",className:Ge.delegateContainerClassName});this.set({delegateGroup:h}),this.set("group",a)},r.prototype.getDefaultCfg=function(){return{container:void 0,width:void 0,height:void 0,renderer:"canvas",modes:{},plugins:[],data:{},fitViewPadding:10,minZoom:.2,maxZoom:10,event:!0,groupByTypes:!0,directed:!1,autoPaint:!0,nodes:[],edges:[],combos:[],vedges:[],itemMap:{},linkCenter:!1,defaultNode:{},defaultEdge:{},nodeStateStyles:{},edgeStateStyles:{},states:{},animate:!1,animateCfg:{onFrame:void 0,duration:500,easing:"easeLinear"},callback:void 0,groupType:"circle",groupBBoxs:{},groupNodes:{},groups:[],groupStyle:{},enabledStack:!1,maxStep:10,tooltips:[]}},r.prototype.set=function(t,e){return(0,f.isPlainObject)(t)?this.cfg=Qt(Qt({},this.cfg),t):this.cfg[t]=e,this},r.prototype.get=function(t){return this.cfg[t]},r.prototype.getGroup=function(){return this.get("group")},r.prototype.getContainer=function(){return this.get("container")},r.prototype.getMinZoom=function(){return this.get("minZoom")},r.prototype.setMinZoom=function(t){return this.set("minZoom",t)},r.prototype.getMaxZoom=function(){return this.get("maxZoom")},r.prototype.setMaxZoom=function(t){return this.set("maxZoom",t)},r.prototype.getWidth=function(){return this.get("width")},r.prototype.getHeight=function(){return this.get("height")},r.prototype.clearItemStates=function(t,e){(0,f.isString)(t)&&(t=this.findById(t));var n=this.get("itemController");e||(e=t.get("states")),n.clearItemStates(t,e);var a=this.get("stateController");a.updateStates(t,e,!1)},r.prototype.node=function(t){typeof t=="function"&&this.set("nodeMapper",t)},r.prototype.edge=function(t){typeof t=="function"&&this.set("edgeMapper",t)},r.prototype.combo=function(t){typeof t=="function"&&this.set("comboMapper",t)},r.prototype.findById=function(t){return this.get("itemMap")[t]},r.prototype.find=function(t,e){var n,a=this.get(t+"s");return(0,f.each)(a,function(o,s){if(e(o,s))return n=o,n}),n},r.prototype.findAll=function(t,e){var n=[];return(0,f.each)(this.get(t+"s"),function(a,o){e(a,o)&&n.push(a)}),n},r.prototype.findAllByState=function(t,e){return this.findAll(t,function(n){return n.hasState(e)})},r.prototype.translate=function(t,e){var n=this.get("group"),a=(0,f.clone)(n.getMatrix());a||(a=[1,0,0,0,1,0,0,0,1]),Ba.wO.translate(a,a,[t,e]),n.setMatrix(a),this.emit("viewportchange",{action:"translate",matrix:n.getMatrix()}),this.autoPaint()},r.prototype.moveTo=function(t,e){var n=this.get("group");fx(n,{x:t,y:e}),this.emit("viewportchange",{action:"move",matrix:n.getMatrix()})},r.prototype.fitView=function(t){t&&this.set("fitViewPadding",t);var e=this.get("viewController");e.fitView(),this.autoPaint()},r.prototype.fitCenter=function(){var t=this.get("viewController");t.fitCenter(),this.autoPaint()},r.prototype.addBehaviors=function(t,e){var n=this.get("modeController");return n.manipulateBehaviors(t,e,!0),this},r.prototype.removeBehaviors=function(t,e){var n=this.get("modeController");return n.manipulateBehaviors(t,e,!1),this},r.prototype.zoom=function(t,e){var n=this.get("group"),a=(0,f.clone)(n.getMatrix()),o=this.get("minZoom"),s=this.get("maxZoom");a||(a=[1,0,0,0,1,0,0,0,1]),e?(Ba.wO.translate(a,a,[-e.x,-e.y]),Ba.wO.scale(a,a,[t,t]),Ba.wO.translate(a,a,[e.x,e.y])):Ba.wO.scale(a,a,[t,t]),!(o&&a[0]<o||s&&a[0]>s)&&(n.setMatrix(a),this.emit("viewportchange",{action:"zoom",matrix:a}),this.autoPaint())},r.prototype.zoomTo=function(t,e){var n=t/this.getZoom();this.zoom(n,e)},r.prototype.focusItem=function(t,e,n){var a=this.get("viewController"),o=!1;e?o=!0:e===void 0&&(o=this.get("animate"));var s={};n?s=n:n===void 0&&(s=this.get("animateCfg")),a.focus(t,o,s),this.autoPaint()},r.prototype.autoPaint=function(){this.get("autoPaint")&&this.paint()},r.prototype.paint=function(){this.emit("beforepaint"),this.get("canvas").draw(),this.emit("afterpaint")},r.prototype.getPointByClient=function(t,e){var n=this.get("viewController");return n.getPointByClient(t,e)},r.prototype.getClientByPoint=function(t,e){var n=this.get("viewController");return n.getClientByPoint(t,e)},r.prototype.getPointByCanvas=function(t,e){var n=this.get("viewController");return n.getPointByCanvas(t,e)},r.prototype.getCanvasByPoint=function(t,e){var n=this.get("viewController");return n.getCanvasByPoint(t,e)},r.prototype.showItem=function(t,e){e===void 0&&(e=!0);var n=this.get("itemController"),a=n.changeItemVisibility(t,!0);if(e&&this.get("enabledStack")){var o=a.getID(),s=a.getType(),l={},u={};switch(s){case"node":l.nodes=[{id:o,visible:!1}],u.nodes=[{id:o,visible:!0}];break;case"edge":l.nodes=[{id:o,visible:!1}],u.edges=[{id:o,visible:!0}];break;case"combo":l.nodes=[{id:o,visible:!1}],u.combos=[{id:o,visible:!0}];break;default:break}this.pushStack("visible",{before:l,after:u})}},r.prototype.hideItem=function(t,e){e===void 0&&(e=!0);var n=this.get("itemController"),a=n.changeItemVisibility(t,!1);if(e&&this.get("enabledStack")){var o=a.getID(),s=a.getType(),l={},u={};switch(s){case"node":l.nodes=[{id:o,visible:!0}],u.nodes=[{id:o,visible:!1}];break;case"edge":l.nodes=[{id:o,visible:!0}],u.edges=[{id:o,visible:!1}];break;case"combo":l.nodes=[{id:o,visible:!0}],u.combos=[{id:o,visible:!1}];break;default:break}this.pushStack("visible",{before:l,after:u})}},r.prototype.refreshItem=function(t){var e=this.get("itemController");e.refreshItem(t)},r.prototype.setAutoPaint=function(t){var e=this;e.set("autoPaint",t);var n=e.get("canvas");n.set("autoDraw",t)},r.prototype.remove=function(t,e){e===void 0&&(e=!0),this.removeItem(t,e)},r.prototype.removeItem=function(t,e){e===void 0&&(e=!0);var n=t;if((0,f.isString)(t)&&(n=this.findById(t)),!n&&(0,f.isString)(t)){console.warn("The item to be removed does not exist!");var a=this.get("customGroupControll");a.remove(t)}else if(n){var o="";if(n.getType&&(o=n.getType()),e&&this.get("enabledStack")){var s=Qt(Qt({},n.getModel()),{itemType:o}),l={};switch(o){case"node":{l.nodes=[s],l.edges=[];for(var u=n.getEdges(),h=u.length-1;h>=0;h--)l.edges.push(Qt(Qt({},u[h].getModel()),{itemType:"edge"}));break}case"edge":l.edges=[s];break;case"combo":l.combos=[s];break;default:break}this.pushStack("delete",{before:l,after:{}})}var c=this.get("itemController");if(c.removeItem(t),o==="combo"){var v=hc(this.get("comboTrees"));this.set("comboTrees",v)}}},r.prototype.addItem=function(t,e,n,a){n===void 0&&(n=!0),a===void 0&&(a=!0);var o=this.get("comboSorted");this.set("comboSorted",o&&!a);var s=this.get("itemController");if(t==="group"){var l=e.groupId,u=e.nodes,h=e.type,c=e.zIndex,v=e.title,g=v;return(0,f.isString)(v)&&(g={text:v}),this.get("customGroupControll").create(l,u,h,c,!0,g)}if(e.id&&this.findById(e.id)){console.warn("This item exists already. Be sure the id %c"+e.id+"%c is unique.","font-size: 20px; color: red;","");return}var M,F=this.get("comboTrees");if(F||(F=[]),t==="combo"){var Y=this.get("itemMap"),V=!1;if(F.forEach(function(re){V||Aa(re,function(de){if(e.parentId===de.id){V=!0;var fe=Qt({id:e.id,depth:de.depth+2},e);de.children?de.children.push(fe):de.children=[fe],e.depth=fe.depth,M=s.addItem(t,e)}var Me=Y[de.id];return V&&Me&&Me.getType&&Me.getType()==="combo"&&s.updateCombo(Me,de.children),!0})}),!V){var z=Qt({id:e.id,depth:0},e);e.depth=z.depth,F.push(z),M=s.addItem(t,e)}this.set("comboTrees",F)}else if(t==="node"&&(0,f.isString)(e.comboId)&&F){var it=this.findById(e.comboId);if(it&&it.getType&&it.getType()!=="combo"){console.warn("'"+e.comboId+"' is a not id of a combo in the graph, the node will be added without combo.");return}M=s.addItem(t,e);var ot=this.get("itemMap"),yt=!1,It=!1;(F||[]).forEach(function(re){It||yt||Aa(re,function(de){if(de.id===e.id)return It=!0,!1;if(e.comboId===de.id&&!It){yt=!0;var fe=(0,f.clone)(e);fe.itemType="node",de.children?de.children.push(fe):de.children=[fe],e.depth=de.depth+1}return yt&&ot[de.id].getType&&ot[de.id].getType()==="combo"&&s.updateCombo(ot[de.id],de.children),!0})})}else M=s.addItem(t,e);if(t==="node"&&e.comboId||t==="combo"&&e.parentId){var it=this.findById(e.comboId||e.parentId);it&&it.addChild(M)}var zt=this.get("combos");if(zt&&zt.length>0&&this.sortCombos(),this.autoPaint(),n&&this.get("enabledStack")){var jt=Qt(Qt({},M.getModel()),{itemType:t}),Rt={};switch(t){case"node":Rt.nodes=[jt];break;case"edge":Rt.edges=[jt];break;case"combo":Rt.combos=[jt];break;default:break}this.pushStack("add",{before:{},after:Rt})}return M},r.prototype.add=function(t,e,n,a){return n===void 0&&(n=!0),a===void 0&&(a=!0),this.addItem(t,e,n,a)},r.prototype.updateItem=function(t,e,n){var a=this;n===void 0&&(n=!0);var o=this.get("itemController"),s;(0,f.isString)(t)?s=this.findById(t):s=t;var l=(0,f.clone)(s.getModel()),u="";s.getType&&(u=s.getType());var h=Xs(s.getStates());if(u==="combo"&&(0,f.each)(h,function(M){return a.setItemState(s,M,!1)}),o.updateItem(s,e),u==="combo"&&(0,f.each)(h,function(M){return a.setItemState(s,M,!0)}),n&&this.get("enabledStack")){var c={nodes:[],edges:[],combos:[]},v={nodes:[],edges:[],combos:[]},g=Qt({id:l.id},e);switch(u){case"node":c.nodes.push(l),v.nodes.push(g);break;case"edge":c.edges.push(l),v.edges.push(g);break;case"combo":c.combos.push(l),v.combos.push(g);break;default:break}u==="node"&&c.nodes.push(l),this.pushStack("update",{before:c,after:v})}},r.prototype.update=function(t,e,n){n===void 0&&(n=!0),this.updateItem(t,e,n)},r.prototype.setItemState=function(t,e,n){(0,f.isString)(t)&&(t=this.findById(t));var a=this.get("itemController");a.setItemState(t,e,n);var o=this.get("stateController");(0,f.isString)(n)?o.updateState(t,e+":"+n,!0):o.updateState(t,e,n)},r.prototype.priorityState=function(t,e){var n=this.get("itemController");n.priorityState(t,e)},r.prototype.data=function(t){this.set("data",t)},r.prototype.render=function(){var t=this;this.set("comboSorted",!1);var e=this.get("data");if(this.get("enabledStack")&&this.clearStack(),!e)throw new Error("data must be defined first");var n=e.nodes,a=n===void 0?[]:n,o=e.edges,s=o===void 0?[]:o,l=e.combos,u=l===void 0?[]:l;if(this.clear(),this.emit("beforerender"),(0,f.each)(a,function(z){t.add("node",z,!1,!1)}),u&&u.length!==0){var h=fc(u,a);this.set("comboTrees",h),t.addCombos(u)}(0,f.each)(s,function(z){t.add("edge",z,!1,!1)});var c=t.get("animate");(t.get("fitView")||t.get("fitCenter"))&&t.set("animate",!1);var v=t.get("layoutController");v.layout(g)||g();function g(){t.get("fitView")?t.fitView():t.get("fitCenter")&&t.fitCenter(),t.autoPaint(),t.emit("afterrender"),(t.get("fitView")||t.get("fitCenter"))&&t.set("animate",c)}if(!this.get("groupByTypes"))if(u&&u.length!==0)this.sortCombos();else if(e.nodes&&e.edges&&e.nodes.length<e.edges.length){var M=this.getNodes();M.forEach(function(z){z.toFront()})}else{var F=this.getEdges();F.forEach(function(z){z.toBack()})}if(e.nodes){var Y=e.nodes.filter(function(z){return z.groupId});if(Y.length>0){var V=t.get("groupType");this.renderCustomGroup(e,V)}}this.get("enabledStack")&&this.pushStack("render")},r.prototype.read=function(t){this.data(t),this.render()},r.prototype.diffItems=function(t,e,n){var a=this,o,s=this.get("itemMap");(0,f.each)(n,function(l){if(o=s[l.id],o){if(a.get("animate")&&t===M6){var u=o.getContainer().getMatrix();u||(u=[1,0,0,0,1,0,0,0,1]),o.set("originAttrs",{x:u[6],y:u[7]})}a.updateItem(o,l,!1)}else o=a.addItem(t,l,!1);e[t+"s"].push(o)})},r.prototype.changeData=function(t,e){e===void 0&&(e=!0);var n=this;if(!t)return this;e&&this.get("enabledStack")&&this.pushStack("changedata",{before:n.save(),after:t}),this.set("comboSorted",!1),this.getNodes().map(function(F){return n.clearItemStates(F)}),this.getEdges().map(function(F){return n.clearItemStates(F)});var a=this.get("canvas"),o=a.get("localRefresh");a.set("localRefresh",!1),n.get("data")||(n.data(t),n.render());var s=this.get("itemMap"),l={nodes:[],edges:[]},u=t.combos;if(u){var h=fc(u,t.nodes);this.set("comboTrees",h)}this.diffItems("node",l,t.nodes),(0,f.each)(s,function(F,Y){s[Y].getModel().depth=0,!(F.getType&&F.getType()==="edge")&&(F.getType&&F.getType()==="combo"?(delete s[Y],F.destroy()):l.nodes.indexOf(F)<0&&(delete s[Y],n.remove(F,!1)))});for(var c=this.getCombos(),v=c.length,g=v-1;g>=0;g--)c[g].destroyed&&c.splice(g,1);u&&(n.addCombos(u),this.get("groupByTypes")||this.sortCombos()),this.diffItems("edge",l,t.edges),(0,f.each)(s,function(F,Y){F.getType&&(F.getType()==="node"||F.getType()==="combo")||l.edges.indexOf(F)<0&&(delete s[Y],n.remove(F,!1))}),this.set({nodes:l.nodes,edges:l.edges});var M=this.get("layoutController");return M.changeData(),n.get("animate")&&!M.getLayoutType()?n.positionsAnimate():n.autoPaint(),setTimeout(function(){a.set("localRefresh",o)},16),this},r.prototype.addCombos=function(t){var e=this,n=e.get("comboTrees"),a=this.get("itemController");a.addCombos(n,t)},r.prototype.createCombo=function(t,e){var n=this;this.set("comboSorted",!1);var a="",o;if(!!t){if((0,f.isString)(t))a=t,o={id:t};else{if(a=t.id,!a){console.warn("Create combo failed. Please assign a unique string id for the adding combo.");return}o=t}var s=e.map(function(u){var h=n.findById(u),c="";h.getType&&(c=h.getType());var v={id:h.getID(),itemType:c};return c==="combo"?v.parentId=a:c==="node"&&(v.comboId=a),v});o.children=s,this.addItem("combo",o,!1),this.set("comboSorted",!1);var l=this.get("comboTrees");(l||[]).forEach(function(u){Aa(u,function(h){return h.id===a?(h.itemType="combo",h.children=s,!1):!0})}),l&&this.sortCombos()}},r.prototype.uncombo=function(t){var e=this,n,a=this,o=t;if((0,f.isString)(t)&&(o=this.findById(t)),!o||o.getType&&o.getType()!=="combo"){console.warn("The item is not a combo!");return}var s=o.getModel().parentId,l=a.get("comboTrees");l||(l=[]);var u=this.get("itemMap"),h=o.get("id"),c,v=[],g=this.get("combos"),M=this.findById(s);if(l.forEach(function(Y){c||Aa(Y,function(V){var z;if(V.id===h){c=V;var it=o.getEdges();it.forEach(function(yt){e.removeItem(yt,!1)});var ot=g.indexOf(t);g.splice(ot,1),delete u[h],o.destroy()}if(s&&c&&V.id===s){M.removeCombo(o),v=V.children;var ot=v.indexOf(c);return ot!==-1&&v.splice(ot,1),(z=c.children)===null||z===void 0||z.forEach(function(It){var zt=e.findById(It.id),jt=zt.getModel();zt.getType&&zt.getType()==="combo"?(It.parentId=s,delete It.comboId,jt.parentId=s,delete jt.comboId):zt.getType&&zt.getType()==="node"&&(It.comboId=s,jt.comboId=s),M.addChild(zt),v.push(It)}),!1}return!0})}),!s&&c){var F=l.indexOf(c);l.splice(F,1),(n=c.children)===null||n===void 0||n.forEach(function(Y){Y.parentId=void 0;var V=e.findById(Y.id).getModel();V.parentId=void 0,Y.itemType!=="node"&&l.push(Y)})}},r.prototype.updateCombos=function(){var t=this,e=this,n=this.get("comboTrees"),a=e.get("itemController"),o=e.get("itemMap");(n||[]).forEach(function(s){Aa(s,function(l){if(!l)return!0;var u=o[l.id];if(u&&u.getType&&u.getType()==="combo"){var h=Xs(u.getStates());(0,f.each)(h,function(c){return t.setItemState(u,c,!1)}),a.updateCombo(u,l.children),(0,f.each)(h,function(c){return t.setItemState(u,c,!0)})}return!0})}),e.sortCombos()},r.prototype.updateCombo=function(t){var e=this,n=this,a=t,o;if((0,f.isString)(t)&&(a=this.findById(t)),!a||a.getType&&a.getType()!=="combo"){console.warn("The item to be updated is not a combo!");return}o=a.get("id");var s=this.get("comboTrees"),l=n.get("itemController"),u=n.get("itemMap");(s||[]).forEach(function(h){Aa(h,function(c){if(!c)return!0;var v=u[c.id];if(o===c.id&&v&&v.getType&&v.getType()==="combo"){var g=Xs(v.getStates());(0,f.each)(g,function(M){v.getStateStyle(M)&&e.setItemState(v,M,!1)}),l.updateCombo(v,c.children),(0,f.each)(g,function(M){v.getStateStyle(M)&&e.setItemState(v,M,!0)}),o&&(o=c.parentId)}return!0})})},r.prototype.updateComboTree=function(t,e){var n=this;this.set("comboSorted",!1);var a;(0,f.isString)(t)?a=n.findById(t):a=t;var o=a.getModel(),s=o.comboId||o.parentId;if(e&&a.getType&&a.getType()==="combo"){var l=this.get("comboTrees"),u=!0,h;if((l||[]).forEach(function(F){h||Zi(F,function(Y){if(!h)return Y.id===a.getID()&&(h=Y),!0})}),Zi(h,function(F){return F.id===e?(u=!1,!1):!0}),!u){console.warn("Failed to update the combo tree! The parentId points to a descendant of the combo!");return}}if(o.parentId||o.comboId){var c=this.findById(o.parentId||o.comboId);c&&c.removeChild(a)}var v="";if(a.getType&&(v=a.getType()),v==="combo"?o.parentId=e:v==="node"&&(o.comboId=e),e){var g=this.findById(e);g&&g.addChild(a)}if(s){var g=this.findById(s);g&&g.removeChild(a)}var M=hc(this.get("comboTrees"),o.id,e);this.set("comboTrees",M),this.updateCombos()},r.prototype.renderCustomGroup=function(t,e){var n=this,a=t.groups,o=t.nodes,s=o===void 0?[]:o,l=10;if(a){this.set({groups:a});var v=C3(t);Object.keys(v).forEach(function(M){var F=v[M];n.get("customGroupControll").create(M,F,e,l),l--});var g=this.get("customGroup");g.sort()}else{var u=s.filter(function(M){return M.groupId}),h=[],c=(0,f.groupBy)(u,"groupId");Object.keys(c).forEach(function(M){var F=c[M].map(function(Y){return Y.id});n.get("customGroupControll").create(M,F,e,l),l--,h.find(function(Y){return Y.id===M})||h.push({id:M})}),this.set({groups:h})}},r.prototype.save=function(){var t=[],e=[],n=[];return(0,f.each)(this.get("nodes"),function(a){t.push(a.getModel())}),(0,f.each)(this.get("edges"),function(a){e.push(a.getModel())}),(0,f.each)(this.get("combos"),function(a){n.push(a.getModel())}),{nodes:t,edges:e,combos:n,groups:this.get("groups")}},r.prototype.changeSize=function(t,e){var n=this.get("viewController");return n.changeSize(t,e),this},r.prototype.refresh=function(){var t=this;if(t.emit("beforegraphrefresh"),t.get("animate"))t.positionsAnimate();else{var e=t.get("nodes"),n=t.get("edges"),a=t.get("edges");(0,f.each)(e,function(o){o.refresh()}),(0,f.each)(n,function(o){o.refresh()}),(0,f.each)(a,function(o){o.refresh()})}t.emit("aftergraphrefresh"),t.autoPaint()},r.prototype.getNodes=function(){return this.get("nodes")},r.prototype.getEdges=function(){return this.get("edges")},r.prototype.getCombos=function(){return this.get("combos")},r.prototype.getComboChildren=function(t){if((0,f.isString)(t)&&(t=this.findById(t)),!t||t.getType&&t.getType()!=="combo"){console.warn("The combo does not exist!");return}return t.getChildren()},r.prototype.positionsAnimate=function(){var t=this;t.emit("beforeanimate");var e=t.get("animateCfg"),n=e.onFrame,a=t.getNodes(),o=a.map(function(l){var u=l.getModel();return{id:u.id,x:u.x,y:u.y}});t.isAnimating()&&t.stopAnimate();var s=t.get("canvas");s.animate(function(l){(0,f.each)(o,function(u){var h=t.findById(u.id);if(!(!h||h.destroyed)){var c=h.get("originAttrs"),v=h.get("model");if(!c){var g=h.getContainer().getMatrix();g||(g=[1,0,0,0,1,0,0,0,1]),c={x:g[6],y:g[7]},h.set("originAttrs",c)}if(n){var M=n(h,l,u,c);h.set("model",Object.assign(v,M))}else v.x=c.x+(u.x-c.x)*l,v.y=c.y+(u.y-c.y)*l}}),t.refreshPositions()},{duration:e.duration,easing:e.easing,callback:function(){(0,f.each)(a,function(u){u.set("originAttrs",null)}),e.callback&&e.callback(),t.emit("afteranimate"),t.animating=!1}})},r.prototype.refreshPositions=function(){var t=this;t.emit("beforegraphrefreshposition");var e=t.get("nodes"),n=t.get("edges"),a=t.get("vedges"),o=t.get("combos"),s,l={};(0,f.each)(e,function(u){s=u.getModel();var h=u.get("originAttrs");h&&s.x===h.x&&s.y===h.y||(u.updatePosition({x:s.x,y:s.y}),l[s.id]=!0,s.comboId&&(l[s.comboId]=!0))}),o&&o.length!==0&&t.updateCombos(),(0,f.each)(n,function(u){var h=u.getSource().getModel(),c=u.getTarget().getModel();(l[h.id]||l[c.id]||u.getModel().isComboEdge)&&u.refresh()}),(0,f.each)(a,function(u){u.refresh()}),t.emit("aftergraphrefreshposition"),t.autoPaint()},r.prototype.stopAnimate=function(){this.get("canvas").stopAnimate()},r.prototype.isAnimating=function(){return this.animating},r.prototype.getZoom=function(){var t=this.get("group").getMatrix();return t?t[0]:1},r.prototype.getCurrentMode=function(){var t=this.get("modeController");return t.getMode()},r.prototype.setMode=function(t){var e=this.get("modeController");return e.setMode(t),this},r.prototype.clear=function(){var t=this.get("canvas");return t.clear(),this.initGroups(),this.set({itemMap:{},nodes:[],edges:[],groups:[],combos:[],comboTrees:[]}),this.emit("afterrender"),this},r.prototype.toDataURL=function(t,e){var n=this.get("canvas"),a=n.getRenderer(),o=n.get("el");t||(t="image/png");var s="";if(a==="svg"){var l=o.cloneNode(!0),u=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),h=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",u);h.replaceChild(l,h.documentElement);var c=new XMLSerializer().serializeToString(h);s="data:image/svg+xml;charset=utf8,"+encodeURIComponent(c)}else{var v=void 0,g=o.getContext("2d"),M=this.get("width"),F=this.get("height"),Y=void 0;if(e){var V=window.devicePixelRatio;v=g.getImageData(0,0,M*V,F*V),Y=g.globalCompositeOperation,g.globalCompositeOperation="destination-over",g.fillStyle=e,g.fillRect(0,0,M,F)}s=o.toDataURL(t),e&&(g.clearRect(0,0,M,F),g.putImageData(v,0,0),g.globalCompositeOperation=Y)}return s},r.prototype.toFullDataURL=function(t,e,n){var a=this.get("group").getCanvasBBox(),o=a.height,s=a.width,l=this.get("renderer"),u=(0,pi.Z)('<id="virtual-image"></div>'),h=n?n.backgroundColor:void 0,c=n?n.padding:void 0;c?(0,f.isNumber)(c)&&(c=[c,c,c,c]):c=[0,0,0,0];var v=o+c[0]+c[2],g=s+c[1]+c[3],M={container:u,height:v,width:g,quickHit:!0},F=l==="svg"?new Us.Z(M):new Ho.Z(M),Y=this.get("group"),V=Y.clone(),z=(0,f.clone)(V.getMatrix());z||(z=[1,0,0,0,1,0,0,0,1]);var it=(a.maxX+a.minX)/2,ot=(a.maxY+a.minY)/2;Ba.wO.translate(z,z,[-it,-ot]),Ba.wO.translate(z,z,[s/2+c[3],o/2+c[0]]),V.resetMatrix(),V.setMatrix(z),F.add(V);var yt=F.get("el"),It="";e||(e="image/png"),setTimeout(function(){if(l==="svg"){var zt=yt.cloneNode(!0),jt=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),Rt=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",jt);Rt.replaceChild(zt,Rt.documentElement);var re=new XMLSerializer().serializeToString(Rt);It="data:image/svg+xml;charset=utf8,"+encodeURIComponent(re)}else{var de=void 0,fe=yt.getContext("2d"),Me=void 0;if(h){var Le=window.devicePixelRatio;de=fe.getImageData(0,0,g*Le,v*Le),Me=fe.globalCompositeOperation,fe.globalCompositeOperation="destination-over",fe.fillStyle=h,fe.fillRect(0,0,g,v)}It=yt.toDataURL(e),h&&(fe.clearRect(0,0,g,v),fe.putImageData(de,0,0),fe.globalCompositeOperation=Me)}t==null||t(It)},16)},r.prototype.downloadFullImage=function(t,e,n){var a=this,o=this.get("group").getCanvasBBox(),s=o.height,l=o.width,u=this.get("renderer"),h=(0,pi.Z)('<id="virtual-image"></div>'),c=n?n.backgroundColor:void 0,v=n?n.padding:void 0;v?(0,f.isNumber)(v)&&(v=[v,v,v,v]):v=[0,0,0,0];var g=s+v[0]+v[2],M=l+v[1]+v[3],F={container:h,height:g,width:M},Y=u==="svg"?new Us.Z(F):new Ho.Z(F),V=this.get("group"),z=V.clone(),it=(0,f.clone)(z.getMatrix());it||(it=[1,0,0,0,1,0,0,0,1]);var ot=(o.maxX+o.minX)/2,yt=(o.maxY+o.minY)/2;Ba.wO.translate(it,it,[-ot,-yt]),Ba.wO.translate(it,it,[l/2+v[3],s/2+v[0]]),z.resetMatrix(),z.setMatrix(it),Y.add(z);var It=Y.get("el");e||(e="image/png"),setTimeout(function(){var zt="";if(u==="svg"){var jt=It.cloneNode(!0),Rt=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),re=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",Rt);re.replaceChild(jt,re.documentElement);var de=new XMLSerializer().serializeToString(re);zt="data:image/svg+xml;charset=utf8,"+encodeURIComponent(de)}else{var fe=void 0,Me=It.getContext("2d"),Le=void 0;if(c){var _e=window.devicePixelRatio;fe=Me.getImageData(0,0,M*_e,g*_e),Le=Me.globalCompositeOperation,Me.globalCompositeOperation="destination-over",Me.fillStyle=c,Me.fillRect(0,0,M,g)}zt=It.toDataURL(e),c&&(Me.clearRect(0,0,M,g),Me.putImageData(fe,0,0),Me.globalCompositeOperation=Le)}var He=document.createElement("a"),je=(t||"graph")+(u==="svg"?".svg":"."+e.split("/")[1]);a.dataURLToImage(zt,u,He,je);var Ze=document.createEvent("MouseEvents");Ze.initEvent("click",!1,!1),He.dispatchEvent(Ze)},16)},r.prototype.downloadImage=function(t,e,n){var a=this,o=this;o.isAnimating()&&o.stopAnimate();var s=o.get("canvas"),l=s.getRenderer();e||(e="image/png");var u=(t||"graph")+(l==="svg"?".svg":e.split("/")[1]),h=document.createElement("a");setTimeout(function(){var c=o.toDataURL(e,n);a.dataURLToImage(c,l,h,u);var v=document.createEvent("MouseEvents");v.initEvent("click",!1,!1),h.dispatchEvent(v)},16)},r.prototype.dataURLToImage=function(t,e,n,a){if(typeof window!="undefined")if(window.Blob&&window.URL&&e!=="svg"){var o=t.split(","),s="";if(o&&o.length>0){var l=o[0].match(/:(.*?);/);l&&l.length>=2&&(s=l[1])}for(var u=atob(o[1]),h=u.length,c=new Uint8Array(h);h--;)c[h]=u.charCodeAt(h);var v=new Blob([c],{type:s});window.navigator.msSaveBlob?window.navigator.msSaveBlob(v,a):n.addEventListener("click",function(){n.download=a,n.href=window.URL.createObjectURL(v)})}else n.addEventListener("click",function(){n.download=a,n.href=t})},r.prototype.updateLayout=function(t){var e=this.get("layoutController"),n;(0,f.isString)(t)?(n=t,t={type:n}):n=t.type;var a=this.get("layout"),o=a?a.type:void 0;if(!n||o===n){var s={};Object.assign(s,a,t),s.type=o||"random",this.set("layout",s),e.updateLayoutCfg(s)}else this.set("layout",t),e.changeLayout(n)},r.prototype.destroyLayout=function(){var t=this.get("layoutController");t.destroyLayout()},r.prototype.layout=function(){var t=this.get("layoutController"),e=this.get("layout");if(!!e){if(e.workerEnabled){t.layout();return}t.layoutMethod?t.relayout(!0):t.layout()}},r.prototype.collapseCombo=function(t){var e=this;if((0,f.isString)(t)&&(t=this.findById(t)),!t){console.warn("The combo to be collapsed does not exist!");return}var n=t.getModel(),a=this.get("itemController");a.collapseCombo(t),n.collapsed=!0;var o=this.getEdges().concat(this.get("vedges")),s=[],l=[],u=this.get("comboTrees"),h=!1,c={};(u||[]).forEach(function(M){c[M.id]=M}),(u||[]).forEach(function(M){h||Zi(M,function(F){if(h&&c[F.id])return!1;if(n.parentId===F.id?(c={},F.children.forEach(function(V){c[V.id]=V})):n.id===F.id&&(h=!0),h){var Y=e.findById(F.id);Y&&Y.getType&&Y.getType()==="combo"&&(s=s.concat(Y.getNodes()),l=l.concat(Y.getCombos()))}return!0})});var v={},g=[];o.forEach(function(M){if(!(M.isVisible()&&!M.getModel().isVEdge)){var F=M.getSource(),Y=M.getTarget();if((s.includes(F)||l.includes(F))&&!s.includes(Y)&&!l.includes(Y)||F.getModel().id===n.id){var V=M.getModel();if(V.isVEdge){e.removeItem(M,!1);return}for(var z=Y.getModel();!Y.isVisible();){if(Y=e.findById(z.parentId||z.comboId),!Y||!z.parentId&&!z.comboId)return;z=Y.getModel()}var it=z.id;if(v[n.id+"-"+it]){v[n.id+"-"+it]+=V.size||1;return}var ot=e.addItem("vedge",{source:n.id,target:it,isVEdge:!0},!1);v[n.id+"-"+it]=V.size||1,g.push(ot)}else if(!s.includes(F)&&!l.includes(F)&&(s.includes(Y)||l.includes(Y))||Y.getModel().id===n.id){var V=M.getModel();if(V.isVEdge){e.removeItem(M,!1);return}for(var yt=F.getModel();!F.isVisible();){if(F=e.findById(yt.parentId||yt.comboId),!F||!yt.parentId&&!yt.comboId)return;yt=F.getModel()}var It=yt.id;if(v[It+"-"+n.id]){v[It+"-"+n.id]+=V.size||1;return}var ot=e.addItem("vedge",{target:n.id,source:It,isVEdge:!0},!1);v[It+"-"+n.id]=V.size||1,g.push(ot)}}}),g.forEach(function(M){var F=M.getModel();e.updateItem(M,{size:v[F.source+"-"+F.target]},!1)})},r.prototype.expandCombo=function(t){var e=this;if((0,f.isString)(t)&&(t=this.findById(t)),!t||t.getType&&t.getType()!=="combo"){console.warn("The combo to be collapsed does not exist!");return}var n=t.getModel(),a=this.get("itemController");a.expandCombo(t),n.collapsed=!1;var o=this.getEdges().concat(this.get("vedges")),s=[],l=[],u=this.get("comboTrees"),h=!1,c={};(u||[]).forEach(function(M){c[M.id]=M}),(u||[]).forEach(function(M){h||Zi(M,function(F){if(h&&c[F.id])return!1;if(n.parentId===F.id?(c={},F.children.forEach(function(V){c[V.id]=V})):n.id===F.id&&(h=!0),h){var Y=e.findById(F.id);Y&&Y.getType&&Y.getType()==="combo"&&(s=s.concat(Y.getNodes()),l=l.concat(Y.getCombos()))}return!0})});var v={},g={};o.forEach(function(M){if(!(M.isVisible()&&!M.getModel().isVEdge)){var F=M.getSource(),Y=M.getTarget(),V=F.get("id"),z=Y.get("id");if((s.includes(F)||l.includes(F))&&!s.includes(Y)&&!l.includes(Y)||V===n.id){if(M.getModel().isVEdge){e.removeItem(M,!1);return}for(var it=Y.getModel();!Y.isVisible();){if(Y=e.findById(it.comboId||it.parentId),!Y||!it.parentId&&!it.comboId)return;it=Y.getModel()}z=it.id;for(var ot=F.getModel();!F.isVisible();){if(F=e.findById(ot.comboId||ot.parentId),!F||!ot.parentId&&!ot.comboId)return;if(ot.comboId===n.id||ot.parentId===n.id)break;ot=F.getModel()}if(V=ot.id,z){var yt=V+"-"+z;if(v[yt]){v[yt]+=M.getModel().size||1,e.updateItem(g[yt],{size:v[yt]},!1);return}var It=e.addItem("vedge",{source:V,target:z,isVEdge:!0},!1);v[yt]=M.getModel().size||1,g[yt]=It}}else if(!s.includes(F)&&!l.includes(F)&&(s.includes(Y)||l.includes(Y))||z===n.id){if(M.getModel().isVEdge){e.removeItem(M,!1);return}for(var ot=F.getModel();!F.isVisible();){if(F=e.findById(ot.comboId||ot.parentId),!F||!ot.parentId&&!ot.comboId)return;ot=F.getModel()}V=ot.id;for(var it=Y.getModel();!Y.isVisible();){if(Y=e.findById(it.comboId||it.parentId),!Y||!it.parentId&&!it.comboId)return;if(it.comboId===n.id||it.parentId===n.id)break;it=Y.getModel()}if(z=it.id,V){var yt=V+"-"+z;if(v[yt]){v[yt]+=M.getModel().size||1,e.updateItem(g[yt],{size:v[yt]},!1);return}var It=e.addItem("vedge",{target:z,source:V,isVEdge:!0},!1);v[yt]=M.getModel().size||1,g[yt]=It}}else(s.includes(F)||l.includes(F))&&(s.includes(Y)||l.includes(Y))&&F.isVisible()&&Y.isVisible()&&M.show()}})},r.prototype.collapseExpandCombo=function(t){if((0,f.isString)(t)&&(t=this.findById(t)),!(t.getType&&t.getType()!=="combo")){for(var e=t.getModel(),n=this.findById(e.parentId);n;){var a=n.getModel();if(a.collapsed){console.warn("Fail to expand the combo since it's ancestor combo is collapsed."),n=void 0;return}n=this.findById(a.parentId)}var o=e.collapsed;o?this.expandCombo(t):this.collapseCombo(t),this.updateCombo(t)}},r.prototype.collapseGroup=function(t){var e=this.get("customGroupControll");e.collapseGroup(t)},r.prototype.expandGroup=function(t){var e=this.get("customGroupControll");e.expandGroup(t)},r.prototype.addPlugin=function(t){var e=this;t.destroyed||(e.get("plugins").push(t),t.initPlugin(e))},r.prototype.removePlugin=function(t){var e=this.get("plugins"),n=e.indexOf(t);n>=0&&(t.destroyPlugin(),e.splice(n,1))},r.prototype.sortCombos=function(){var t=this,e=this.get("comboSorted");if(!e){this.set("comboSorted",!0);var n=[],a={},o=this.get("comboTrees");(o||[]).forEach(function(l){Zi(l,function(u){return n[u.depth]?n[u.depth].push(u.id):n[u.depth]=[u.id],a[u.id]=u.depth,!0})});var s=this.getEdges().concat(this.get("vedges"));(s||[]).forEach(function(l){var u=l.getModel(),h=a[u.source]||0,c=a[u.target]||0,v=Math.max(h,c);n[v]?n[v].push(u.id):n[v]=[u.id]}),n.forEach(function(l){if(!(!l||!l.length))for(var u=l.length-1;u>=0;u--){var h=t.findById(l[u]);h==null||h.toFront()}})}},r.prototype.getNeighbors=function(t,e){var n=t;return(0,f.isString)(t)&&(n=this.findById(t)),n.getNeighbors(e)},r.prototype.getNodeDegree=function(t,e){e===void 0&&(e=void 0);var n=t;(0,f.isString)(t)&&(n=this.findById(t));var a=this.get("degrees");a||(a=w1(this)),this.set("degees",a);var o=a[n.getID()],s;switch(e){case"in":s=o.inDegree;break;case"out":s=o.outDegree;break;case"all":s=o;break;default:s=o.degree;break}return s},r.prototype.getUndoStack=function(){return this.undoStack},r.prototype.getRedoStack=function(){return this.redoStack},r.prototype.getStackData=function(){return this.get("enabledStack")?{undoStack:this.undoStack.toArray(),redoStack:this.redoStack.toArray()}:null},r.prototype.clearStack=function(){this.get("enabledStack")&&(this.undoStack.clear(),this.redoStack.clear())},r.prototype.pushStack=function(t,e,n){if(t===void 0&&(t="update"),n===void 0&&(n="undo"),!this.get("enabledStack")){console.warn("\u8BF7\u5148\u542F\u7528 undo & redo \u529F\u80FD\uFF0C\u5728\u5B9E\u4F8B\u5316 Graph \u65F6\u5019\u914D\u7F6E enabledStack: true !");return}var a=e?(0,f.clone)(e):{before:{},after:(0,f.clone)(this.save())};n==="redo"?this.redoStack.push({action:t,data:a}):this.undoStack.push({action:t,data:a}),this.emit("stackchange",{undoStack:this.undoStack,redoStack:this.redoStack})},r.prototype.getAdjMatrix=function(t,e){t===void 0&&(t=!0),e===void 0&&(e=this.get("directed"));var n=this.get("adjMatrix");return(!n||!t)&&(n=Wu(this,e),this.set("adjMatrix",n)),n},r.prototype.getShortestPathMatrix=function(t,e){t===void 0&&(t=!0),e===void 0&&(e=this.get("directed"));var n=this.get("adjMatrix"),a=this.get("shortestPathMatrix");return(!n||!t)&&(n=Wu(this,e),this.set("adjMatrix",n)),(!a||!t)&&(a=E1(this,e),this.set("shortestPathMatrix",a)),a},r.prototype.destroy=function(){this.clear(),this.clearStack(),(0,f.each)(this.get("plugins"),function(o){o.destroyPlugin()});var t=this.get("tooltips");if(t)for(var e=0;e<t.length;e++){var n=t[e];if(!!n){var a=n.parentElement;!a||a.removeChild(n)}}this.get("eventController").destroy(),this.get("itemController").destroy(),this.get("modeController").destroy(),this.get("viewController").destroy(),this.get("stateController").destroy(),this.get("layoutController").destroy(),this.get("customGroupControll").destroy(),this.get("canvas").destroy(),this.get("graphWaterMarker")&&this.get("graphWaterMarker").destroy(),document.querySelector(".g6-graph-watermarker")&&document.querySelector(".g6-graph-watermarker").remove(),this.cfg=null,this.destroyed=!0,this.redoStack=null,this.undoStack=null},r.prototype.createHull=function(t){var e=this.get("hullGroup"),n=this.get("hullMap");if(n||(n={},this.set("hullMap",n)),e||(e=this.get("group").addGroup({id:"hullGroup"}),e.toBack(),this.set("hullGroup",e)),n[t.id])return console.warn("Existed hull id."),n[t.id];var a=e.addGroup({id:t.id+"-container"}),o=new C6(this,Qt(Qt({},t),{group:a})),s=o.id;return n[s]=o,o},r.prototype.getHulls=function(){return this.get("hullMap")},r.prototype.getHullById=function(t){return this.get("hullMap")[t]},r.prototype.removeHull=function(t){var e;(0,f.isString)(t)?e=this.getHullById(t):e=t;var n=this.get("hullMap");delete n[e.id],e.destroy()},r.prototype.setImageWaterMarker=function(t,e){t===void 0&&(t=Ge.waterMarkerImage);var n=this.get("container");(0,f.isString)(n)&&(n=document.getElementById(n)),n.style.position||(n.style.position="relative");var a=this.get("graphWaterMarker"),o=(0,f.deepMix)({},Ge.imageWaterMarkerConfig,e),s=o.width,l=o.height,u=o.compatible,h=o.image;if(!a){var c={container:n,width:s,height:l,capture:!1},v=this.get("pixelRatio");v&&(c.pixelRatio=v),a=new Ho.Z(c),this.set("graphWaterMarker",a)}a.get("el").style.display="none";var g=a.get("context"),M=h.rotate,F=h.x,Y=h.y;g.rotate(-M*Math.PI/180);var V=new Image;V.crossOrigin="anonymous",V.src=t,V.onload=function(){if(g.drawImage(V,F,Y,h.width,h.height),g.rotate(M*Math.PI/180),u)n.style.cssText="background-image: url("+a.get("el").toDataURL("image/png")+");background-repeat:repeat;";else{var z=document.querySelector(".g6-graph-watermarker");z||(z=document.createElement("div"),z.className="g6-graph-watermarker"),z.className="g6-graph-watermarker",a.destroyed||(z.style.cssText="background-image: url("+a.get("el").toDataURL("image/png")+");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:-1;",n.appendChild(z))}}},r.prototype.setTextWaterMarker=function(t,e){var n=this.get("container");(0,f.isString)(n)&&(n=document.getElementById(n)),n.style.position||(n.style.position="relative");var a=this.get("graphWaterMarker"),o=(0,f.deepMix)({},Ge.textWaterMarkerConfig,e),s=o.width,l=o.height,u=o.compatible,h=o.text;if(!a){var c={container:n,width:s,height:l,capture:!1},v=this.get("pixelRatio");v&&(c.pixelRatio=v),a=new Ho.Z(c),this.set("graphWaterMarker",a)}a.get("el").style.display="none";var g=a.get("context"),M=h.rotate,F=h.fill,Y=h.fontFamily,V=h.fontSize,z=h.baseline,it=h.x,ot=h.y,yt=h.lineHeight;g.rotate(-M*Math.PI/180),g.font=V+"px "+Y,g.fillStyle=F,g.textBaseline=z;for(var It=t.length-1;It>=0;It--)g.fillText(t[It],it,ot+It*yt);if(g.rotate(M*Math.PI/180),u)n.style.cssText="background-image: url("+a.get("el").toDataURL("image/png")+");background-repeat:repeat;";else{var zt=document.querySelector(".g6-graph-watermarker");zt||(zt=document.createElement("div"),zt.className="g6-graph-watermarker"),zt.style.cssText="background-image: url("+a.get("el").toDataURL("image/png")+");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:99;",n.appendChild(zt)}},r}(Be.default),L1=A6,T6=d(77201),O1=d.n(T6),P6=function(i){Dn(r,i);function r(t){var e=i.call(this,t)||this;return e.layoutAnimating=!1,e.set("removeList",[]),e.set("layoutMethod",e.getLayout()),e}return r.prototype.getLayout=function(){var t=this.get("layout");return t?typeof t=="function"?t:(t.type||(t.type="dendrogram"),t.direction||(t.direction="TB"),t.radial?function(e){var n=O1()[t.type](e,t);return Bx(n),n}:function(e){return O1()[t.type](e,t)}):null},r.indexOfChild=function(t,e){var n=-1;return(0,Zn.S6)(t,function(a,o){if(e===a.id)return n=o,!1}),n},r.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return t.animate=!0,t},r.prototype.innerAddChild=function(t,e,n){var a=this,o=t.data;o&&(o.x=t.x,o.y=t.y,o.depth=t.depth);var s=a.addItem("node",o,!1);if(e){if(s.set("parent",e),n){var l=e.get("originAttrs");if(l)s.set("originAttrs",l);else{var u=e.getModel();s.set("originAttrs",{x:u.x,y:u.y})}}var h=e.get("children");h?h.push(s):e.set("children",[s]),a.addItem("edge",{source:e,target:s,id:e.get("id")+":"+s.get("id")},!1)}return(0,Zn.S6)(t.children||[],function(c){a.innerAddChild(c,s,n)}),a.emit("afteraddchild",{item:s,parent:e}),s},r.prototype.innerUpdateChild=function(t,e,n){var a=this,o=a.findById(t.id);if(!o){a.innerAddChild(t,e,n);return}(0,Zn.S6)(t.children||[],function(M){a.innerUpdateChild(M,o,n)});var s=o.get("children");if(s){var l=s.length;if(l>0)for(var u=s.length-1;u>=0;u--){var h=s[u].getModel();r.indexOfChild(t.children||[],h.id)===-1&&(a.innerRemoveChild(h.id,{x:t.x,y:t.y},n),s.splice(u,1))}}var c,v;o.get("originAttrs")&&(c=o.get("originAttrs").x,v=o.get("originAttrs").y);var g=o.getModel();n&&o.set("originAttrs",{x:g.x,y:g.y}),o.set("model",t.data),(c!==t.x||v!==t.y)&&o.updatePosition({x:t.x,y:t.y})},r.prototype.innerRemoveChild=function(t,e,n){var a=this,o=a.findById(t);if(!!o)if((0,Zn.S6)(o.get("children"),function(l){a.innerRemoveChild(l.getModel().id,e,n)}),n){var s=o.getModel();o.set("to",e),o.set("originAttrs",{x:s.x,y:s.y}),a.get("removeList").push(o)}else a.removeItem(o)},r.prototype.changeData=function(t){var e=this;this.getNodes().map(function(n){return e.clearItemStates(n)}),this.getEdges().map(function(n){return e.clearItemStates(n)}),t?(e.data(t),e.render()):e.layout(this.get("fitView"))},r.prototype.changeLayout=function(t){console.warn("Please call updateLayout instead of changeLayout. changeLayout will be discarded soon");var e=this;e.updateLayout(t)},r.prototype.updateLayout=function(t){var e=this;if(!t){console.warn("layout cannot be null");return}e.set("layout",t),e.set("layoutMethod",e.getLayout()),e.layout()},r.prototype.refreshLayout=function(t){console.warn("Please call layout instead of refreshLayout. refreshLayout will be discarded soon");var e=this;e.layout(t)},r.prototype.layout=function(t){var e=this,n=e.get("data"),a=e.get("layoutMethod"),o=a(n,e.get("layout")),s=e.get("animate");if(e.emit("beforerefreshlayout",{data:n,layoutData:o}),e.emit("beforelayout"),e.innerUpdateChild(o,void 0,s),t){var l=e.get("viewController");l.fitView()}s?e.layoutAnimate(o):(e.refresh(),e.paint()),e.emit("afterrefreshlayout",{data:n,layoutData:o}),e.emit("afterlayout")},r.prototype.addChild=function(t,e){var n=this;n.emit("beforeaddchild",{model:t,parent:e}),(0,Zn.HD)(e)||(e=e.get("id"));var a=n.findDataById(e);a&&(a.children||(a.children=[]),a.children.push(t),n.changeData())},r.prototype.updateChild=function(t,e){var n=this;if(!e||!n.findById(e)){n.changeData(t);return}var a=n.findById(e).getModel(),o=n.findById(t.id);if(a.children||(a.children=[]),!o)a.children.push(t);else{var s=r.indexOfChild(a.children,t.id);a.children[s]=t}n.changeData()},r.prototype.removeChild=function(t){var e=this,n=e.findById(t);if(!!n){var a=n.get("parent");if(a&&!a.destroyed){var o=e.findDataById(a.get("id")),s=o&&o.children||[],l=n.getModel(),u=r.indexOfChild(s,l.id);s.splice(u,1)}e.changeData()}},r.prototype.findDataById=function(t,e){var n=this;if(e||(e=n.get("data")),t===e.id)return e;var a=null;return(0,Zn.S6)(e.children||[],function(o){if(o.id===t)return a=o,!1;if(a=n.findDataById(t,o),a)return!1}),a},r.prototype.layoutAnimate=function(t,e){var n=this,a=this.get("animateCfg");n.emit("beforeanimate",{data:t}),n.getEdges().forEach(function(o){var s=o.get("model");s.sourceAnchor||(s.sourceAnchor=o.get("sourceAnchorIndex"))}),this.get("canvas").animate(function(o){Zi(t,function(s){var l=n.findById(s.id);if(l){var u=l.get("originAttrs"),h=l.get("model");if(u||(u={x:h.x,y:h.y},l.set("originAttrs",u)),e){var c=e(l,o,u,t);l.set("model",Object.assign(h,c))}else h.x=u.x+(s.x-u.x)*o,h.y=u.y+(s.y-u.y)*o}return!0}),(0,Zn.S6)(n.get("removeList"),function(s){var l=s.getModel(),u=s.get("originAttrs"),h=s.get("to");l.x=u.x+(h.x-u.x)*o,l.y=u.y+(h.y-u.y)*o}),n.refreshPositions()},{duration:a.duration,easing:a.ease,callback:function(){(0,Zn.S6)(n.getNodes(),function(s){s.set("originAttrs",null)}),(0,Zn.S6)(n.get("removeList"),function(s){n.removeItem(s)}),n.set("removeList",[]),a.callback&&a.callback(),n.emit("afteranimate",{data:t})},delay:a.delay})},r.prototype.stopLayoutAnimate=function(){this.get("canvas").stopAnimate(),this.emit("layoutanimateend",{data:this.get("data")}),this.layoutAnimating=!1},r.prototype.isLayoutAnimating=function(){return this.layoutAnimating},r.prototype.render=function(){var t=this,e=t.get("data");if(!e)throw new Error("data must be defined first");t.clear(),t.emit("beforerender"),t.layout(this.get("fitView")),t.emit("afterrender")},r.prototype.save=function(){return this.get("data")},r}(L1),_6=P6,L6="-shape",I1="-label",ju=["startArrow","endArrow"],Ac="-label-bg",Tc={options:{},itemType:"",type:"",getCustomConfig:function(r){return{}},getOptions:function(r){return(0,f.deepMix)({labelCfg:{style:{fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"}},descriptionCfg:{style:{fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"}}},this.options,this.getCustomConfig(r)||{},r)},draw:function(r,t){var e=this.drawShape(r,t);if(e.set("className",this.itemType+L6),r.label){var n=this.drawLabel(r,t);n.set("className",this.itemType+I1)}return e},afterDraw:function(r,t,e){},drawShape:function(r,t){return null},drawLabel:function(r,t){var e=this.getOptions(r).labelCfg,n=e||{},a=this.getLabelStyle(r,n,t),o=a.rotate;delete a.rotate;var s=t.addShape("text",{attrs:a,draggable:!0,className:"text-shape",name:"text-shape"});if(o){var l=s.getBBox(),u=s.getMatrix();if(u||(u=[1,0,0,0,1,0,0,0,1]),a.rotateCenter)switch(a.rotateCenter){case"center":u=ja(u,[["t",-l.width/2,-l.height/2],["r",o],["t",l.width/2,l.height/2]]);break;case"lefttop":u=ja(u,[["t",-a.x,-a.y],["r",o],["t",a.x,a.y]]);break;case"leftcenter":u=ja(u,[["t",-a.x,-a.y-l.height/2],["r",o],["t",a.x,a.y+l.height/2]]);break;default:u=ja(u,[["t",-l.width/2,-l.height/2],["r",o],["t",l.width/2,l.height/2]]);break}else u=ja(u,[["t",-a.x,-a.y-l.height/2],["r",o],["t",a.x,a.y+l.height/2]]);s.setMatrix(u)}if(a.background){var h=this.drawLabelBg(r,t,s),c=this.itemType+Ac;h.set("classname",c),s.toFront()}return s},drawLabelBg:function(r,t,e){var n=this.options.labelCfg,a=(0,f.mix)({},n,r.labelCfg),o=this.getLabelBgStyleByPosition(e,r,a,t),s=t.addShape("rect",{name:"text-bg-shape",attrs:o});return s},getLabelStyleByPosition:function(r,t,e){return{text:r.label}},getLabelBgStyleByPosition:function(r,t,e,n){return{}},getLabelStyle:function(r,t,e){var n=this.getLabelStyleByPosition(r,t,e),a=this.itemType+"Label",o=Ge[a]?Ge[a].style:null,s=Qt(Qt(Qt({},o),n),t.style);return s},getShapeStyle:function(r){return r.style},update:function(r,t){this.updateShapeStyle(r,t),this.updateLabel(r,t)},updateShapeStyle:function(r,t){var e=t.getContainer(),n=t.getKeyShape(),a=(0,f.mix)({},n.attr(),r.style),o=function(u){var h,c=a[u];if((0,f.isPlainObject)(c)){var v=e.find(function(g){return g.get("name")===u});v&&v.attr(c)}else n.attr((h={},h[u]=c,h))};for(var s in a)o(s)},updateLabel:function(r,t){var e=t.getContainer(),n=this.getOptions({}).labelCfg,a=this.itemType+I1,o=e.find(function(ot){return ot.get("className")===a}),s=this.itemType+Ac,l=e.find(function(ot){return ot.get("classname")===s});if(r.label||r.label==="")if(o){var h={};t.getModel&&(h=t.getModel().labelCfg);var c=(0,f.deepMix)({},n,h,r.labelCfg),v=this.getLabelStyleByPosition(r,c,e),g=r.labelCfg?r.labelCfg.style:void 0,M=c.style&&c.style.background,F=Qt(Qt(Qt({},o.attr()),v),g),Y=F.rotate;if(delete F.rotate,Y){var V=[1,0,0,0,1,0,0,0,1];V=ja(V,[["t",-F.x,-F.y],["r",Y],["t",F.x,F.y]]),o.resetMatrix(),o.attr(Qt(Qt({},F),{matrix:V}))}else o.resetMatrix(),o.attr(F);if(!l)F.background&&(l=this.drawLabelBg(r,e,o),l.set("classname",s),o.toFront());else if(F.background){var z=this.getLabelBgStyleByPosition(o,r,c,e),it=Qt(Qt({},z),M);l.resetMatrix(),Y&&l.rotateAtStart(Y),l.attr(it)}else e.removeChild(l)}else{var u=this.drawLabel(r,e);u.set("className",a)}},afterUpdate:function(r,t){},setState:function(r,t,e){var n,a,o=e.get("keyShape");if(!!o){var s=e.getType(),l=(0,f.isBoolean)(t)?r:r+":"+t,u=this.getStateStyle(l,e),h=e.getStateStyle(l);if(!(!h&&!u)){var c=(0,f.mix)({},h||u),v=e.getContainer();if(t){var g=function(fe){var Me,Le=c[fe];if((0,f.isPlainObject)(Le)&&!ju.includes(fe)){var _e=v.find(function(He){return He.get("name")===fe});_e&&_e.attr(Le)}else o.attr((Me={},Me[fe]=Le,Me))};for(var M in c)g(M)}else{var F=(0,f.clone)(e.getCurrentStatesStyle()),Y=e.getModel(),V=(0,f.mix)({},Y.style,(0,f.clone)(e.getOriginStyle())),z=o.get("name"),it=o.attr(),ot={},yt=function(fe){var Me=c[fe];if((0,f.isPlainObject)(Me)&&!ju.includes(fe)){var Le=v.find(function(je){return je.get("name")===fe});if(Le){var _e=Le.attr();(0,f.each)(Me,function(je,Ze){(_e[Ze]||_e[Ze]===0)&&delete _e[Ze]}),ot[fe]=_e}}else{var He={x:1,y:1,cx:1,cy:1};it[fe]&&!He[fe]&&delete it[fe]}};for(var It in c)yt(It);z?ot[z]=it:(0,f.mix)(ot,it);for(var M in F){var zt=F[M];(!(0,f.isPlainObject)(zt)||ju.includes(M))&&(z?((0,f.mix)(V[z],(a={},a[M]=zt,a)),delete V[M]):(0,f.mix)(V,(n={},n[M]=zt,n)),delete F[M])}var jt={};(0,f.deepMix)(jt,V,ot,F);var Rt=function(fe){var Me,Le,_e=jt[fe];if((0,f.isPlainObject)(_e)&&!ju.includes(fe)){var He=v.find(function(je){return je.get("name")===fe});He&&He.attr(_e)}else s==="combo"?z||o.attr((Me={},Me[fe]=_e,Me)):o.attr((Le={},Le[fe]=_e,Le))};for(var re in jt)Rt(re)}}}},getStateStyle:function(r,t){var e=t.getModel(),n=t.getType(),a=this.getOptions(e),o=a.stateStyles,s=a.style,l=s===void 0?{}:s,u=e.stateStyles?e.stateStyles[r]:o&&o[r];return n==="combo"?(0,f.clone)(u):(0,f.mix)({},l,u)},getControlPoints:function(r){return r.controlPoints},getAnchorPoints:function(r){var t=this.getOptions(r).anchorPoints;return t}},O6={itemType:"node",shapeType:"single-node",labelPosition:"center",offset:Ge.nodeLabel.offset,getSize:function(r){var t=r.size||this.getOptions({}).size||Ge.defaultNode.size;return(0,f.isArray)(t)&&t.length===1&&(t=[t[0],t[0]]),(0,f.isArray)(t)||(t=[t,t]),t},getLabelStyleByPosition:function(r,t){var e=t.position||this.labelPosition;if(e==="center")return{x:0,y:0,text:r.label};var n=t.offset;(0,f.isNil)(n)&&(n=this.offset);var a=this.getSize(r),o=a[0],s=a[1],l;switch(e){case"top":l={x:0,y:0-s/2-n,textBaseline:"bottom"};break;case"bottom":l={x:0,y:s/2+n,textBaseline:"top"};break;case"left":l={x:0-o/2-n,y:0,textAlign:"right"};break;default:l={x:o/2+n,y:0,textAlign:"left"};break}return l.text=r.label,l},getLabelBgStyleByPosition:function(r,t,e,n){if(!r)return{};var a=r.getBBox(),o=e.style&&e.style.background;if(!o)return{};var s=$h(o.padding),l=a.width+s[1]+s[3],u=a.height+s[0]+s[2],h=e.offset;(0,f.isNil)(h)&&(h=this.offset);var c;return c={x:a.minX-s[3],y:a.minY-s[0]},c=Qt(Qt(Qt({},c),o),{width:l,height:u}),c},drawShape:function(r,t){var e=this.shapeType,n=this.getShapeStyle(r),a=t.addShape(e,{attrs:n,draggable:!0,name:"node-shape"});return a},updateLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=t.find(function(zt){return zt.get("className")==="link-point-left"}),a=t.find(function(zt){return zt.get("className")==="link-point-right"}),o=t.find(function(zt){return zt.get("className")==="link-point-top"}),s=t.find(function(zt){return zt.get("className")==="link-point-bottom"}),l;n&&(l=n.attr()),a&&!l&&(l=a.attr()),o&&!l&&(l=o.attr()),s&&!l&&(l=s.attr()),l||(l=e);var u=(0,f.mix)({},l,r.linkPoints),h=u.fill,c=u.stroke,v=u.lineWidth,g=u.size/2;g||(g=u.r);var M=r.linkPoints?r.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},F=M.left,Y=M.right,V=M.top,z=M.bottom,it=this.getSize(r),ot=it[0],yt=it[1],It={r:g,fill:h,stroke:c,lineWidth:v};n?!F&&F!==void 0?n.remove():n.attr(Qt(Qt({},It),{x:-ot/2,y:0})):F&&t.addShape("circle",{attrs:Qt(Qt({},It),{x:-ot/2,y:0}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),a?(!Y&&Y!==void 0&&a.remove(),a.attr(Qt(Qt({},It),{x:ot/2,y:0}))):Y&&t.addShape("circle",{attrs:Qt(Qt({},It),{x:ot/2,y:0}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),o?(!V&&V!==void 0&&o.remove(),o.attr(Qt(Qt({},It),{x:0,y:-yt/2}))):V&&t.addShape("circle",{attrs:Qt(Qt({},It),{x:0,y:-yt/2}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),s?!z&&z!==void 0?s.remove():s.attr(Qt(Qt({},It),{x:0,y:yt/2})):z&&t.addShape("circle",{attrs:Qt(Qt({},It),{x:0,y:yt/2}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},updateShape:function(r,t,e,n){var a=t.get("keyShape");a.attr(Qt({},e)),this.updateLabel(r,t),n&&this.updateIcon(r,t)},updateIcon:function(r,t){var e=this,n=t.getContainer(),a=this.getOptions(r).icon,o=(r.icon?r.icon:{show:void 0}).show,s=n.find(function(v){return v.get("className")===e.type+"-icon"});if(s)if(o||o===void 0){var l=(0,f.mix)({},s.attr(),a),u=l.width,h=l.height;s.attr(Qt(Qt({},l),{x:-u/2,y:-h/2}))}else s.remove();else if(o){var u=a.width,h=a.height;n.addShape("image",{attrs:Qt(Qt({},a),{x:-u/2,y:-h/2}),className:this.type+"-icon",name:this.type+"-icon"});var c=n.find(function(M){return M.get("className")==="node-label"});c&&c.toFront()}}},I6=Qt(Qt({},Tc),O6);qn.registerNode("single-node",I6);var Uu="edge-shape";function k6(i){var r=i;return i==="start"?r="end":i==="end"&&(r="start"),r}var B6={itemType:"edge",labelPosition:"center",refX:0,refY:0,labelAutoRotate:!1,options:{size:Ge.defaultEdge.size,style:{x:0,y:0,stroke:Ge.defaultEdge.style.stroke,lineAppendWidth:Ge.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:Ge.edgeLabel.style.fill,fontSize:Ge.edgeLabel.style.fontSize}},stateStyles:Qt({},Ge.edgeStateStyles)},getPath:function(r){var t=[];return(0,f.each)(r,function(e,n){n===0?t.push(["M",e.x,e.y]):t.push(["L",e.x,e.y])}),t},getShapeStyle:function(r){var t=this.options.style,e={stroke:r.color},n=(0,f.mix)({},t,e,r.style),a=r.size||Ge.defaultEdge.size;r=this.getPathPoints(r);var o=r.startPoint,s=r.endPoint,l=this.getControlPoints(r),u=[o];l&&(u=u.concat(l)),u.push(s);var h=this.getPath(u),c=(0,f.mix)({},Ge.defaultEdge.style,{stroke:Ge.defaultEdge.color,lineWidth:a,path:h},n);return c},updateShapeStyle:function(r,t){var e=t.getContainer(),n={stroke:r.color},a=e.find(function(V){return V.get("className")==="edge-shape"})||t.getKeyShape(),o=r.size;r=this.getPathPoints(r);var s=r.startPoint,l=r.endPoint,u=this.getControlPoints(r),h=[s];u&&(h=h.concat(u)),h.push(l);var c=(0,f.mix)({},n,a.attr(),r.style),v=r.sourceNode,g=r.targetNode,M={radius:c.radius};u||(M={source:v,target:g,offset:c.offset,radius:c.radius});var F=this.getPath(h,M),Y=(0,f.mix)(n,a.attr(),{lineWidth:o,path:F},r.style);a&&a.attr(Y)},getLabelStyleByPosition:function(r,t,e){var n=t.position||this.labelPosition,a={},o=e&&e.find(function(v){return v.get("className")===Uu}),s;n==="start"?s=0:n==="end"?s=1:s=.5;var l=t.refX||this.refX,u=t.refY||this.refY;if(r.startPoint.x===r.endPoint.x&&r.startPoint.y===r.endPoint.y)return a.x=r.startPoint.x+l,a.y=r.startPoint.y+u,a.text=r.label,a;var h=(0,f.isNil)(t.autoRotate)?this.labelAutoRotate:t.autoRotate,c=Au(o,s,l,u,h);return a.x=c.x,a.y=c.y,a.rotate=c.rotate,a.textAlign=this._getTextAlign(n,c.angle),a.text=r.label,a},getLabelBgStyleByPosition:function(r,t,e,n){if(!r)return{};var a=r.getBBox(),o=e.style&&e.style.background;if(!o)return{};var s=o.padding,l=a.width+s[1]+s[3],u=a.height+s[0]+s[2],h=e.position||this.labelPosition,c=Qt(Qt({},o),{width:l,height:u,x:a.minX-s[2],y:a.minY-s[0],rotate:0}),v=(0,f.isNil)(e.autoRotate)?this.labelAutoRotate:e.autoRotate,g=n&&n.find(function(it){return it.get("className")===Uu}),M;h==="start"?M=0:h==="end"?M=1:M=.5;var F=e.refX||this.refX,Y=e.refY||this.refY;if(t.startPoint.x===t.endPoint.x&&t.startPoint.y===t.endPoint.y)return c.x=t.startPoint.x+F,c.y=t.startPoint.y+Y,c;var V=Au(g,M,F-l/2,Y+u/2,v),z=V.angle;return z>1/2*Math.PI&&z<3*1/2*Math.PI&&(V=Au(g,M,F+l/2,Y+u/2,v)),v&&(c.x=V.x,c.y=V.y),c.rotate=V.rotate,c},_getTextAlign:function(r,t){var e="center";return t?(t=t%(Math.PI*2),r!=="center"&&(t>=0&&t<=Math.PI/2||t>=3/2*Math.PI&&t<2*Math.PI?e=r:e=k6(r)),e):r},getControlPoints:function(r){return r.controlPoints},getPathPoints:function(r){return r},drawShape:function(r,t){var e=this.getShapeStyle(r),n=t.addShape("path",{className:Uu,name:Uu,attrs:e});return n},drawLabel:function(r,t){var e=this.options.labelCfg,n=(0,f.deepMix)({fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},e,r.labelCfg),a=this.getLabelStyle(r,n,t),o=a.rotate;delete a.rotate;var s=t.addShape("text",{attrs:a,name:"text-shape"});if(o&&s.rotateAtStart(o),a.background){var l=this.drawLabelBg(r,t,s),u=this.itemType+Ac;l.set("classname",u),s.toFront()}return s},drawLabelBg:function(r,t,e){var n=this.options.labelCfg,a=(0,f.deepMix)({},n,r.labelCfg),o=this.getLabelStyle(r,a,t),s=o.rotate,l=this.getLabelBgStyleByPosition(e,r,a,t);delete l.rotate;var u=t.addShape("rect",{name:"text-bg-shape",attrs:l});return s&&u.rotateAtStart(s),u}},D6=Qt(Qt({},Tc),B6);qn.registerEdge("single-edge",D6),qn.registerEdge("line",{getControlPoints:function(){}},"single-edge"),qn.registerEdge("spline",{getPath:function(r){var t=gx(r);return t}},"single-edge"),qn.registerEdge("arc",{curveOffset:20,clockwise:1,getControlPoints:function(r){var t=r.startPoint,e=r.endPoint,n={x:(t.x+e.x)/2,y:(t.y+e.y)/2},a,o;if(r.controlPoints!==void 0){if(o=r.controlPoints[0],a=tc(t,o,e),t.x<=e.x&&t.y>e.y?this.clockwise=a.x>o.x?0:1:t.x<=e.x&&t.y<e.y?this.clockwise=a.x>o.x?1:0:t.x>e.x&&t.y<=e.y?this.clockwise=a.y<o.y?0:1:this.clockwise=a.y<o.y?1:0,(o.x-t.x)/(o.y-t.y)==(e.x-t.x)/(e.y-t.y))return[]}else{r.curveOffset===void 0&&(r.curveOffset=this.curveOffset),(0,ki.default)(r.curveOffset)&&(r.curveOffset=r.curveOffset[0]),r.curveOffset<0?this.clockwise=0:this.clockwise=1;var s={x:e.x-t.x,y:e.y-t.y},l=Math.atan2(s.y,s.x);o={x:r.curveOffset*Math.cos(-Math.PI/2+l)+n.x,y:r.curveOffset*Math.sin(-Math.PI/2+l)+n.y},a=tc(t,o,e)}var u=Ws(t,a),h=[{x:u,y:u}];return h},getPath:function(r){var t=[];return t.push(["M",r[0].x,r[0].y]),r.length===2?t.push(["L",r[1].x,r[1].y]):t.push(["A",r[1].x,r[1].y,0,0,this.clockwise,r[2].x,r[2].y]),t}},"single-edge"),qn.registerEdge("quadratic",{curvePosition:.5,curveOffset:-20,getControlPoints:function(r){var t=r.controlPoints;if(!t||!t.length){var e=r.startPoint,n=r.endPoint;r.curveOffset===void 0&&(r.curveOffset=this.curveOffset),r.curvePosition===void 0&&(r.curvePosition=this.curvePosition),(0,ki.default)(this.curveOffset)&&(r.curveOffset=r.curveOffset[0]),(0,ki.default)(this.curvePosition)&&(r.curvePosition=r.curveOffset[0]);var a=Su(e,n,r.curvePosition,r.curveOffset);t=[a]}return t},getPath:function(r){var t=[];return t.push(["M",r[0].x,r[0].y]),t.push(["Q",r[1].x,r[1].y,r[2].x,r[2].y]),t}},"single-edge"),qn.registerEdge("cubic",{curvePosition:[1/2,1/2],curveOffset:[-20,20],getControlPoints:function(r){var t=r.controlPoints;if(r.curveOffset===void 0&&(r.curveOffset=this.curveOffset),r.curvePosition===void 0&&(r.curvePosition=this.curvePosition),(0,ka.default)(r.curveOffset)&&(r.curveOffset=[r.curveOffset,-r.curveOffset]),(0,ka.default)(r.curvePosition)&&(r.curvePosition=[r.curvePosition,1-r.curvePosition]),!t||!t.length||t.length<2){var e=r.startPoint,n=r.endPoint,a=Su(e,n,r.curvePosition[0],r.curveOffset[0]),o=Su(e,n,r.curvePosition[1],r.curveOffset[1]);t=[a,o]}return t},getPath:function(r){var t=[];return t.push(["M",r[0].x,r[0].y]),t.push(["C",r[1].x,r[1].y,r[2].x,r[2].y,r[3].x,r[3].y]),t}},"single-edge"),qn.registerEdge("cubic-vertical",{curvePosition:[1/2,1/2],getControlPoints:function(r){var t=r.startPoint,e=r.endPoint;r.curvePosition!==void 0&&(this.curvePosition=r.curvePosition),(0,ka.default)(this.curvePosition)&&(this.curvePosition=[this.curvePosition,1-this.curvePosition]);var n={x:t.x,y:(e.y-t.y)*this.curvePosition[0]+t.y},a={x:e.x,y:(e.y-t.y)*this.curvePosition[1]+t.y},o=[n,a];return o}},"cubic"),qn.registerEdge("cubic-horizontal",{curvePosition:[1/2,1/2],getControlPoints:function(r){var t=r.startPoint,e=r.endPoint;r.curvePosition!==void 0&&(this.curvePosition=r.curvePosition),(0,ka.default)(this.curvePosition)&&(this.curvePosition=[this.curvePosition,1-this.curvePosition]);var n={x:(e.x-t.x)*this.curvePosition[0]+t.x,y:t.y},a={x:(e.x-t.x)*this.curvePosition[1]+t.x,y:e.y},o=[n,a];return o}},"cubic"),qn.registerEdge("loop",{getPathPoints:function(r){return Ix(r)},getControlPoints:function(r){return r.controlPoints},afterDraw:function(r){r.controlPoints=void 0},afterUpdate:function(r){r.controlPoints=void 0}},"cubic");var F6={itemType:"combo",shapeType:"single-combo",labelPosition:"top",refX:Ge.comboLabel.refX,refY:Ge.comboLabel.refY,options:{style:{stroke:Ge.defaultCombo.style.stroke,fill:Ge.defaultCombo.style.fill,lineWidth:Ge.defaultCombo.style.lineWidth},labelCfg:{style:{fill:Ge.comboLabel.style.fill,fontSize:Ge.comboLabel.style.fontSize}},stateStyles:Qt({},Ge.comboStateStyles)},getSize:function(r){var t=(0,f.clone)(r.size||this.options.size||Ge.defaultCombo.size);return(0,f.isArray)(t)&&t.length===1&&(t=[t[0],t[0]]),(0,f.isArray)(t)||(t=[t,t]),t},getLabelStyleByPosition:function(r,t){var e=t.position||this.labelPosition,n=r.style,a=r.padding||this.options.padding;(0,f.isArray)(a)&&(a=a[0]);var o=t.refX,s=t.refY;(0,f.isNil)(o)&&(o=this.refX),(0,f.isNil)(s)&&(s=this.refY);var l=this.getSize(r),u=Math.max(n.r,l[0]/2)||l[0]/2,h=u+a,c;switch(e){case"top":c={x:0,y:-h-s,textBaseline:"bottom",textAlign:"center"};break;case"bottom":c={x:0,y:h+s,textBaseline:"bottom",textAlign:"center"};break;case"left":c={x:-h+o,y:0,textAlign:"left"};break;case"center":c={x:0,y:0,text:r.label,textAlign:"center"};break;default:c={x:h+o,y:0,textAlign:"right"};break}return c.text=r.label,c},drawShape:function(r,t){var e=this.shapeType,n=this.getShapeStyle(r),a=t.addShape(e,{attrs:n,draggable:!0,name:"combo-shape"});return a},updateShape:function(r,t,e){var n=t.get("keyShape"),a=r.animate===void 0?this.options.animate:r.animate;a&&n.animate?n.animate(e,{duration:200,easing:"easeLinear"}):n.attr(Qt({},e)),this.updateLabel(r,t)}},R6=Qt(Qt({},Tc),F6);qn.registerCombo("single-combo",R6),qn.registerCombo("circle",{options:{size:[Ge.defaultCombo.size[0],Ge.defaultCombo.size[0]],padding:Ge.defaultCombo.padding[0],animate:!0,style:{stroke:Ge.defaultCombo.style.stroke,fill:Ge.defaultCombo.style.fill,lineWidth:Ge.defaultCombo.style.lineWidth},labelCfg:{style:{fill:Ge.comboLabel.style.fill,fontSize:Ge.comboLabel.style.fontSize},refX:0,refY:0},stateStyles:Qt({},Ge.comboStateStyles)},shapeType:"circle",labelPosition:"top",drawShape:function(r,t){var e=this.getShapeStyle(r);delete e.height,delete e.width;var n=t.addShape("circle",{attrs:e,className:"circle-combo",name:"circle-combo",draggable:!0});return n},getShapeStyle:function(r){var t=this.options.style,e=r.padding||this.options.padding;(0,f.isArray)(e)&&(e=e[0]);var n={stroke:r.color},a=(0,f.mix)({},t,n,r.style),o=this.getSize(r),s;!(0,f.isNumber)(a.r)||isNaN(a.r)?s=o[0]/2||Ge.defaultCombo.style.r:s=Math.max(a.r,o[0]/2)||o[0]/2,a.r=s+e;var l=Qt({x:0,y:0},a);return r.style?r.style.r=s:r.style={r:s},l},update:function(r,t){var e=this.getSize(r),n=r.padding||this.options.padding;(0,f.isArray)(n)&&(n=n[0]);var a=(0,f.clone)(r.style),o=Math.max(a.r,e[0]/2)||e[0]/2;a.r=o+n;var s=t.get("sizeCache");s&&(s.r=a.r);var l={stroke:r.color},u=t.get("keyShape"),h=(0,f.mix)({},u.attr(),l,a);r.style?r.style.r=o:r.style={r:o},this.updateShape(r,t,h,!0)}},"single-combo"),qn.registerCombo("rect",{options:{size:[40,5],padding:[25,20,15,20],animate:!0,style:{radius:0,stroke:Ge.defaultCombo.style.stroke,fill:Ge.defaultCombo.style.fill,lineWidth:Ge.defaultCombo.style.lineWidth},labelCfg:{style:{fill:Ge.comboLabel.style.fill,fontSize:Ge.comboLabel.style.fontSize}},anchorPoints:[[0,.5],[1,.5]],stateStyles:Qt({},Ge.comboStateStyles)},shapeType:"rect",labelPosition:"top",drawShape:function(r,t){var e=this.getShapeStyle(r),n=t.addShape("rect",{attrs:e,className:"rect-combo",name:"rect-combo",draggable:!0});return n},getLabelStyleByPosition:function(r,t){var e=t.position||this.labelPosition,n=r.style,a=r.padding||this.options.padding;(0,f.isNumber)(a)&&(a=[a,a,a,a]);var o=t.refX,s=t.refY;(0,f.isNil)(o)&&(o=this.refX),(0,f.isNil)(s)&&(s=this.refY);var l=n.width/2+a[3],u=n.height/2+a[0],h;switch(e){case"top":h={x:0-l+o,y:0-u+s,textBaseline:"top",textAlign:"left"};break;case"bottom":h={x:0,y:u+s,textBaseline:"bottom",textAlign:"center"};break;case"left":h={x:0-l+s,y:0,textAlign:"left"};break;case"center":h={x:0,y:0,text:r.label,textAlign:"center"};break;default:h={x:l+o,y:0,textAlign:"right"};break}return h.text=r.label,h},getShapeStyle:function(r){var t=this.options.style,e=r.padding||this.options.padding;(0,f.isNumber)(e)&&(e=[e,e,e,e]);var n={stroke:r.color},a=(0,f.mix)({},t,n,r.style),o=this.getSize(r),s,l;!(0,f.isNumber)(a.width)||isNaN(a.width)?s=o[0]||Ge.defaultCombo.style.width:s=Math.max(a.width,o[0])||o[0],!(0,f.isNumber)(a.height)||isNaN(a.height)?l=o[1]||Ge.defaultCombo.style.height:l=Math.max(a.height,o[1])||o[1];var u=-s/2-e[3],h=-l/2-e[0];a.width=s+e[1]+e[3],a.height=l+e[0]+e[2];var c=Qt({x:u,y:h},a);return r.style?(r.style.width=s,r.style.height=l):r.style={width:s,height:l},c},update:function(r,t){var e=this.getSize(r),n=r.padding||this.options.padding;(0,f.isNumber)(n)&&(n=[n,n,n,n]);var a=(0,f.clone)(r.style),o=Math.max(a.width,e[0])||e[0],s=Math.max(a.height,e[1])||e[1];a.width=o+n[1]+n[3],a.height=s+n[0]+n[2];var l=t.get("sizeCache");l&&(l.width=a.width,l.height=a.height),a.x=-o/2-n[3],a.y=-s/2-n[0];var u={stroke:r.color},h=t.get("keyShape"),c=(0,f.mix)({},h.attr(),u,a);r.style?(r.style.width=o,r.style.height=s):r.style={width:o,height:s},this.updateShape(r,t,c,!1)},updateShape:function(r,t,e){var n=t.get("keyShape"),a=r.animate===void 0?this.options.animate:r.animate;a&&n.animate?n.animate(e,{duration:200,easing:"easeLinear"}):n.attr(Qt({},e)),this.updateLabel(r,t)}},"single-combo"),qn.registerNode("circle",{options:{size:Ge.defaultNode.size,style:{x:0,y:0,stroke:Ge.defaultNode.style.stroke,fill:Ge.defaultNode.style.fill,lineWidth:Ge.defaultNode.style.lineWidth},labelCfg:{style:{fill:Ge.nodeLabel.style.fill,fontSize:Ge.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Ge.defaultNode.linkPoints.size,lineWidth:Ge.defaultNode.linkPoints.lineWidth,fill:Ge.defaultNode.linkPoints.fill,stroke:Ge.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Qt({},Ge.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(r,t){var e=this.getOptions(r).icon,n=e===void 0?{}:e,a=this.getShapeStyle(r),o=(0,Gi.default)({},n,r.icon),s=t.addShape("circle",{attrs:a,className:this.type+"-keyShape",draggable:!0}),l=o.width,u=o.height,h=o.show;return h&&t.addShape("image",{attrs:Qt({x:-l/2,y:-u/2},o),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}),this.drawLinkPoints(r,t),s},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.bottom,u=n.size,h=n.r,c=ji(n,["top","left","right","bottom","size","r"]),v=this.getSize(r),g=v[0]/2;o&&t.addShape("circle",{attrs:Qt(Qt({},c),{x:-g,y:0,r:u/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:Qt(Qt({},c),{x:g,y:0,r:u/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:Qt(Qt({},c),{x:0,y:-g,r:u/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:Qt(Qt({},c),{x:0,y:g,r:u/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,Gi.default)({},t,e),a=this.getSize(r),o=a[0]/2,s=Qt({x:0,y:0,r:o},n);return s},update:function(r,t){var e=t.getContainer(),n=this.getSize(r),a={stroke:r.color,r:n[0]/2},o=t.get("keyShape"),s=(0,Gi.default)({},o.attr(),a,r.style);this.updateShape(r,t,s,!0),this.updateLinkPoints(r,e)}},"single-node"),qn.registerNode("rect",{options:{size:[100,30],style:{radius:0,stroke:Ge.defaultNode.style.stroke,fill:Ge.defaultNode.style.fill,lineWidth:Ge.defaultNode.style.lineWidth},labelCfg:{style:{fill:Ge.nodeLabel.style.fill,fontSize:Ge.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Ge.defaultNode.linkPoints.size,lineWidth:Ge.defaultNode.linkPoints.lineWidth,fill:Ge.defaultNode.linkPoints.fill,stroke:Ge.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},anchorPoints:[[0,.5],[1,.5]],stateStyles:Qt({},Ge.nodeStateStyles)},shapeType:"rect",labelPosition:"center",drawShape:function(r,t){var e=this.getShapeStyle(r),n=t.addShape("rect",{attrs:e,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0});return this.drawLinkPoints(r,t),n},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.bottom,u=n.size,h=n.r,c=ji(n,["top","left","right","bottom","size","r"]),v=this.getSize(r),g=v[0],M=v[1];o&&t.addShape("circle",{attrs:Qt(Qt({},c),{x:-g/2,y:0,r:u/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:Qt(Qt({},c),{x:g/2,y:0,r:u/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:Qt(Qt({},c),{x:0,y:-M/2,r:u/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:Qt(Qt({},c),{x:0,y:M/2,r:u/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,f.mix)({},t,e),a=this.getSize(r),o=n.width||a[0],s=n.height||a[1],l=Qt({x:-o/2,y:-s/2,width:o,height:s},n);return l},update:function(r,t){var e=t.getContainer(),n=this.getOptions({}).style,a=this.getSize(r),o=t.get("keyShape");r.size||(a[0]=o.attr("width")||n.width,a[1]=o.attr("height")||n.height);var s={stroke:r.color,x:-a[0]/2,y:-a[1]/2,width:a[0],height:a[1]},l=(0,f.mix)({},n,o.attr(),s);l=(0,f.mix)(l,r.style),this.updateShape(r,t,l,!1),this.updateLinkPoints(r,e)}},"single-node"),qn.registerNode("ellipse",{options:{size:[80,40],style:{x:0,y:0,stroke:Ge.defaultNode.style.stroke,fill:Ge.defaultNode.style.fill,lineWidth:Ge.defaultNode.style.lineWidth},labelCfg:{style:{fill:Ge.nodeLabel.style.fill,fontSize:Ge.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Ge.defaultNode.linkPoints.size,lineWidth:Ge.defaultNode.linkPoints.lineWidth,fill:Ge.defaultNode.linkPoints.fill,stroke:Ge.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Qt({},Ge.nodeStateStyles)},shapeType:"ellipse",labelPosition:"center",drawShape:function(r,t){var e=this.getOptions(r).icon,n=e===void 0?{}:e,a=this.getShapeStyle(r),o=t.addShape("ellipse",{attrs:a,className:"ellipse-keyShape",name:"ellipse-keyShape",draggable:!0}),s=n.width,l=n.height,u=n.show;if(u)var h=t.addShape("image",{attrs:Qt({x:-s/2,y:-l/2},n),className:this.type+"-icon",name:this.type+"-icon",draggable:!0});return this.drawLinkPoints(r,t),o},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.bottom,u=n.size,h=n.r,c=ji(n,["top","left","right","bottom","size","r"]),v=this.getSize(r),g=v[0]/2,M=v[1]/2;o&&t.addShape("circle",{attrs:Qt(Qt({},c),{x:-g,y:0,r:u/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:Qt(Qt({},c),{x:g,y:0,r:u/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:Qt(Qt({},c),{x:0,y:-M,r:u/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:Qt(Qt({},c),{x:0,y:M,r:u/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,f.mix)({},t,e),a=this.getSize(r),o=a[0]/2,s=a[1]/2,l=Qt({x:0,y:0,rx:o,ry:s},n);return l},update:function(r,t){var e=t.getContainer(),n=this.getOptions({}).style,a=this.getSize(r),o={stroke:r.color,rx:a[0]/2,ry:a[1]/2},s=t.get("keyShape"),l=(0,f.mix)({},n,s.attr(),o);l=(0,f.mix)(l,r.style),this.updateShape(r,t,l,!0),this.updateLinkPoints(r,e)}},"single-node"),qn.registerNode("diamond",{options:{size:[80,80],style:{stroke:Ge.defaultNode.style.stroke,fill:Ge.defaultNode.style.fill,lineWidth:Ge.defaultNode.style.lineWidth},labelCfg:{style:{fill:Ge.nodeLabel.style.fill,fontSize:Ge.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Ge.defaultNode.linkPoints.size,lineWidth:Ge.defaultNode.linkPoints.lineWidth,fill:Ge.defaultNode.linkPoints.fill,stroke:Ge.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Qt({},Ge.nodeStateStyles)},shapeType:"diamond",labelPosition:"center",drawShape:function(r,t){var e=this.getOptions(r).icon,n=e===void 0?{}:e,a=this.getShapeStyle(r),o=t.addShape("path",{attrs:a,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),s=n.width,l=n.height,u=n.show;if(u)var h=t.addShape("image",{attrs:Qt({x:-s/2,y:-l/2},n),className:this.type+"-icon",name:this.type+"-icon",draggable:!0});return this.drawLinkPoints(r,t),o},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.bottom,u=n.size,h=n.r,c=ji(n,["top","left","right","bottom","size","r"]),v=this.getSize(r),g=v[0],M=v[1];o&&t.addShape("circle",{attrs:Qt(Qt({},c),{x:-g/2,y:0,r:u/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:Qt(Qt({},c),{x:g/2,y:0,r:u/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:Qt(Qt({},c),{x:0,y:-M/2,r:u/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:Qt(Qt({},c),{x:0,y:M/2,r:u/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getPath:function(r){var t=this.getSize(r),e=t[0],n=t[1],a=[["M",0,-n/2],["L",e/2,0],["L",0,n/2],["L",-e/2,0],["Z"]];return a},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,f.mix)({},t,e),a=this.getPath(r),o=Qt({path:a},n);return o},update:function(r,t){var e=t.getContainer(),n=this.getOptions({}).style,a=this.getPath(r),o={stroke:r.color,path:a},s=t.get("keyShape"),l=(0,f.mix)({},n,s.attr(),o);l=(0,f.mix)(l,r.style),this.updateShape(r,t,l,!0),this.updateLinkPoints(r,e)}},"single-node"),qn.registerNode("triangle",{options:{size:40,direction:"up",style:{stroke:Ge.defaultNode.style.stroke,fill:Ge.defaultNode.style.fill,lineWidth:Ge.defaultNode.style.lineWidth},labelCfg:{style:{fill:Ge.nodeLabel.style.fill,fontSize:Ge.nodeLabel.style.fontSize},offset:15},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Ge.defaultNode.linkPoints.size,lineWidth:Ge.defaultNode.linkPoints.lineWidth,fill:Ge.defaultNode.linkPoints.fill,stroke:Ge.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20,offset:6},stateStyles:Qt({},Ge.nodeStateStyles)},shapeType:"triangle",labelPosition:"bottom",drawShape:function(r,t){var e=this.getOptions(r),n=e.icon,a=n===void 0?{}:n,o=e.direction,s=this.getShapeStyle(r),l=r.direction||o,u=t.addShape("path",{attrs:s,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),h=a.width,c=a.height,v=a.show,g=a.offset;if(v){var M=-h/2,F=-c/2;(l==="up"||l==="down")&&(F+=g),(l==="left"||l==="right")&&(M+=g),t.addShape("image",{attrs:Qt({x:M,y:F},a),className:this.type+"-icon",name:this.type+"-icon",draggable:!0})}return this.drawLinkPoints(r,t),u},drawLinkPoints:function(r,t){var e=this.getOptions(r),n=e.linkPoints,a=n===void 0?{}:n,o=e.direction,s=r.direction||o,l=a.top,u=a.left,h=a.right,c=a.bottom,v=a.size,g=a.r,M=ji(a,["top","left","right","bottom","size","r"]),F=this.getSize(r),Y=F[0];if(u){var V=null,z=Y*Math.sin(1/3*Math.PI),it=Y*Math.sin(1/3*Math.PI);s==="up"?V=[-it,z]:s==="down"?V=[-it,-z]:s==="left"&&(V=[-it,it-z]),V&&t.addShape("circle",{attrs:Qt(Qt({},M),{x:V[0],y:V[1],r:v/2||g||5}),className:"link-point-left",name:"link-point-left"})}if(h){var ot=null,z=Y*Math.sin(1/3*Math.PI),it=Y*Math.sin(1/3*Math.PI);s==="up"?ot=[it,z]:s==="down"?ot=[it,-z]:s==="right"&&(ot=[it,it-z]),ot&&t.addShape("circle",{attrs:Qt(Qt({},M),{x:ot[0],y:ot[1],r:v/2||g||5}),className:"link-point-right",name:"link-point-right"})}if(l){var yt=null,z=Y*Math.sin(1/3*Math.PI),it=Y*Math.sin(1/3*Math.PI);s==="up"?yt=[it-z,-z]:s==="left"?yt=[it,-z]:s==="right"&&(yt=[-it,-z]),yt&&t.addShape("circle",{attrs:Qt(Qt({},M),{x:yt[0],y:yt[1],r:v/2||g||5}),className:"link-point-top",name:"link-point-top"})}if(c){var It=null,z=Y*Math.sin(1/3*Math.PI),it=Y*Math.sin(1/3*Math.PI);s==="down"?It=[-it+z,z]:s==="left"?It=[it,z]:s==="right"&&(It=[-it,z]),It&&t.addShape("circle",{attrs:Qt(Qt({},M),{x:It[0],y:It[1],r:v/2||g||5}),className:"link-point-bottom",name:"link-point-bottom"})}},getPath:function(r){var t=this.getOptions(r).direction,e=r.direction||t,n=this.getSize(r),a=n[0],o=a*Math.sin(1/3*Math.PI),s=a*Math.sin(1/3*Math.PI),l=[["M",-s,o],["L",0,-o],["L",s,o],["Z"]];return e==="down"?l=[["M",-s,-o],["L",s,-o],["L",0,o],["Z"]]:e==="left"?l=[["M",-s,s-o],["L",s,-s],["L",s,s],["Z"]]:e==="right"&&(l=[["M",s,s-o],["L",-s,s],["L",-s,-s],["Z"]]),l},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,f.mix)({},t,e),a=this.getPath(r),o=Qt({path:a},n);return o},update:function(r,t){var e=t.getContainer(),n=this.getOptions({}).style,a=this.getPath(r),o={stroke:r.color,path:a},s=t.get("keyShape"),l=(0,f.mix)({},n,s.attr(),o);l=(0,f.mix)(l,r.style),this.updateShape(r,t,l,!0),this.updateLinkPoints(r,e)},updateLinkPoints:function(r,t){var e=this.getOptions({}),n=e.linkPoints,a=e.direction,o=r.direction||a,s=t.find(function(He){return He.get("className")==="link-point-left"}),l=t.find(function(He){return He.get("className")==="link-point-right"}),u=t.find(function(He){return He.get("className")==="link-point-top"}),h=t.find(function(He){return He.get("className")==="link-point-bottom"}),c=n,v=s||l||u||h;v&&(c=v.attr());var g=(0,f.mix)({},c,r.linkPoints),M=g.fill,F=g.stroke,Y=g.lineWidth,V=g.size/2;V||(V=g.r);var z=r.linkPoints?r.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},it=z.left,ot=z.right,yt=z.top,It=z.bottom,zt=this.getSize(r),jt=zt[0],Rt={r:V,fill:M,stroke:F,lineWidth:Y},re=null,de=jt*Math.sin(1/3*Math.PI),fe=jt*Math.sin(1/3*Math.PI);o==="up"?re=[-fe,de]:o==="down"?re=[-fe,-de]:o==="left"&&(re=[-fe,fe-de]),re&&(s?!it&&it!==void 0?s.remove():s.attr(Qt(Qt({},Rt),{x:re[0],y:re[1]})):it&&t.addShape("circle",{attrs:Qt(Qt({},Rt),{x:re[0],y:re[1]}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}));var Me=null;o==="up"?Me=[fe,de]:o==="down"?Me=[fe,-de]:o==="right"&&(Me=[fe,fe-de]),Me&&(l?!ot&&ot!==void 0?l.remove():l.attr(Qt(Qt({},Rt),{x:Me[0],y:Me[1]})):ot&&t.addShape("circle",{attrs:Qt(Qt({},Rt),{x:Me[0],y:Me[1]}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}));var Le=null;o==="up"?Le=[fe-de,-de]:o==="left"?Le=[fe,-de]:o==="right"&&(Le=[-fe,-de]),Le&&(u?!yt&&yt!==void 0?u.remove():u.attr(Qt(Qt({},Rt),{x:Le[0],y:Le[1]})):yt&&t.addShape("circle",{attrs:Qt(Qt({},Rt),{x:Le[0],y:Le[1]}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}));var _e=null;o==="down"?_e=[-fe+de,de]:o==="left"?_e=[fe,de]:o==="right"&&(_e=[-fe,de]),_e&&(h?!It&&It!==void 0?h.remove():h.attr(Qt(Qt({},Rt),{x:_e[0],y:_e[1]})):It&&t.addShape("circle",{attrs:Qt(Qt({},Rt),{x:_e[0],y:_e[1]}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))}},"single-node"),qn.registerNode("modelRect",{options:{size:[185,70],style:{radius:5,stroke:"#69c0ff",fill:"#ffffff",lineWidth:Ge.defaultNode.style.lineWidth,fillOpacity:1},labelCfg:{style:{fill:"#595959",fontSize:14},offset:30},descriptionCfg:{style:{fontSize:12,fill:"#bfbfbf"},paddingTop:0},preRect:{show:!0,width:4,fill:"#40a9ff",radius:2},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:10,lineWidth:1,fill:"#72CC4A",stroke:"#72CC4A"},logoIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/4f81893c-1806-4de4-aff3-9a6b266bc8a2.svg",width:16,height:16,offset:0},stateIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/300a2523-67e0-4cbf-9d4a-67c077b40395.svg",width:16,height:16,offset:-5},anchorPoints:[[0,.5],[1,.5]]},shapeType:"modelRect",drawShape:function(r,t){var e=this.getOptions(r).preRect,n=e===void 0?{}:e,a=this.getShapeStyle(r),o=this.getSize(r),s=o[0],l=o[1],u=t.addShape("rect",{attrs:a,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),h=n.show,c=ji(n,["show"]);return h&&t.addShape("rect",{attrs:Qt({x:-s/2,y:-l/2,height:l},c),className:"pre-rect",name:"pre-rect",draggable:!0}),this.drawLogoIcon(r,t),this.drawStateIcon(r,t),this.drawLinkPoints(r,t),u},drawLogoIcon:function(r,t){var e=this.getOptions(r).logoIcon,n=e===void 0?{}:e,a=this.getSize(r),o=a[0];if(n.show){var s=n.width,l=n.height,u=n.x,h=n.y,c=n.offset,v=ji(n,["width","height","x","y","offset"]);t.addShape("image",{attrs:Qt(Qt({},v),{x:u||-o/2+s+c,y:h||-l/2,width:s,height:l}),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0})}},drawStateIcon:function(r,t){var e=this.getOptions(r).stateIcon,n=e===void 0?{}:e,a=this.getSize(r),o=a[0];if(n.show){var s=n.width,l=n.height,u=n.x,h=n.y,c=n.offset,v=ji(n,["width","height","x","y","offset"]);t.addShape("image",{attrs:Qt(Qt({},v),{x:u||o/2-s+c,y:h||-l/2,width:s,height:l}),className:"rect-state-icon",name:"rect-state-icon",draggable:!0})}},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.bottom,u=n.size,h=n.r,c=ji(n,["top","left","right","bottom","size","r"]),v=this.getSize(r),g=v[0],M=v[1];o&&t.addShape("circle",{attrs:Qt(Qt({},c),{x:-g/2,y:0,r:u/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:Qt(Qt({},c),{x:g/2,y:0,r:u/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:Qt(Qt({},c),{x:0,y:-M/2,r:u/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:Qt(Qt({},c),{x:0,y:M/2,r:u/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},drawLabel:function(r,t){var e=this.getOptions(r),n=e.labelCfg,a=n===void 0?{}:n,o=e.logoIcon,s=o===void 0?{}:o,l=e.descriptionCfg,u=l===void 0?{}:l,h=this.getSize(r),c=h[0],v=null,g=s.show,M=s.width,F=-c/2+a.offset;g&&(F=-c/2+M+a.offset);var Y=a.style,V=u.style,z=u.paddingTop;return(0,f.isString)(r.description)?(v=t.addShape("text",{attrs:Qt(Qt({},Y),{x:F,y:-5,text:r.label}),className:"text-shape",name:"text-shape",draggable:!0}),t.addShape("text",{attrs:Qt(Qt({},V),{x:F,y:17+(z||0),text:r.description}),className:"rect-description",name:"rect-description",draggable:!0})):v=t.addShape("text",{attrs:Qt(Qt({},Y),{x:F,y:7,text:r.label}),draggable:!0}),v},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,f.mix)({},t,e),a=this.getSize(r),o=n.width||a[0],s=n.height||a[1],l=Qt({x:-o/2,y:-s/2,width:o,height:s},n);return l},update:function(r,t){var e=this.getOptions(r),n=e.style,a=n===void 0?{}:n,o=e.labelCfg,s=o===void 0?{}:o,l=e.descriptionCfg,u=l===void 0?{}:l,h=this.getSize(r),c=h[0],v=h[1],g=t.get("keyShape");g.attr(Qt(Qt({},a),{x:-c/2,y:-v/2,width:c,height:v}));var M=t.getContainer(),F=M.find(function(Or){return Or.get("className")==="rect-logo-icon"}),Y=F?F.attr():{},V=(0,f.mix)({},Y,r.logoIcon),z=V.width;z===void 0&&(z=this.options.logoIcon.width);var it=r.logoIcon?r.logoIcon.show:void 0,ot=s.offset,yt=-c/2+z+ot;!it&&it!==void 0&&(yt=-c/2+ot);var It=M.find(function(Or){return Or.get("className")==="node-label"}),zt=M.find(function(Or){return Or.get("className")==="rect-description"});if(r.label)if(!It)M.addShape("text",{attrs:Qt(Qt({},s.style),{x:yt,y:r.description?-5:7,text:r.label}),className:"node-label",name:"node-label",draggable:!0});else{var jt=r.labelCfg?r.labelCfg.style:{},Rt=(0,f.mix)({},It.attr(),jt);r.label&&(Rt.text=r.label),Rt.x=yt,(0,f.isString)(r.description)&&(Rt.y=-5),zt&&(zt.resetMatrix(),zt.attr({x:yt})),It.resetMatrix(),It.attr(Rt)}if((0,f.isString)(r.description)){var re=u.paddingTop;if(!zt)M.addShape("text",{attrs:Qt(Qt({},u.style),{x:yt,y:17+(re||0),text:r.description}),className:"rect-description",name:"rect-description",draggable:!0});else{var jt=r.descriptionCfg?r.descriptionCfg.style:{},de=(0,f.mix)({},zt.attr(),jt);(0,f.isString)(r.description)&&(de.text=r.description),de.x=yt,zt.resetMatrix(),zt.attr(Qt(Qt({},de),{y:17+(re||0)}))}}var fe=M.find(function(Or){return Or.get("className")==="pre-rect"});if(fe){var Me=(0,f.mix)({},fe.attr(),r.preRect);fe.attr(Qt(Qt({},Me),{x:-c/2,y:-v/2,height:v}))}if(F)if(!it&&it!==void 0)F.remove();else{var Le=V.width,_e=V.height,He=V.x,je=V.y,Ze=V.offset,ze=ji(V,["width","height","x","y","offset"]);F.attr(Qt(Qt({},ze),{x:He||-c/2+Le+Ze,y:je||-_e/2,width:Le,height:_e}))}else it&&this.drawLogoIcon(r,M);var Xe=M.find(function(Or){return Or.get("className")==="rect-state-icon"}),pr=Xe?Xe.attr():{},cr=(0,f.mix)({},pr,r.stateIcon);if(Xe){!cr.show&&cr.show!==void 0&&Xe.remove();var br=cr.width,_e=cr.height,He=cr.x,je=cr.y,$e=cr.offset,gr=ji(cr,["width","height","x","y","offset"]);Xe.attr(Qt(Qt({},gr),{x:He||c/2-br+$e,y:je||-_e/2,width:br,height:_e}))}else cr.show&&this.drawStateIcon(r,M);this.updateLinkPoints(r,M)}},"single-node"),qn.registerNode("star",{options:{size:60,style:{stroke:Ge.defaultNode.style.stroke,fill:Ge.defaultNode.style.fill,lineWidth:Ge.defaultNode.style.lineWidth},labelCfg:{style:{fill:Ge.nodeLabel.style.fill,fontSize:Ge.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Ge.defaultNode.linkPoints.size,lineWidth:Ge.defaultNode.linkPoints.lineWidth,fill:Ge.defaultNode.linkPoints.fill,stroke:Ge.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Qt({},Ge.nodeStateStyles)},shapeType:"star",labelPosition:"center",drawShape:function(r,t){var e=this.getOptions(r).icon,n=e===void 0?{}:e,a=this.getShapeStyle(r),o=t.addShape("path",{attrs:a,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),s=n.width,l=n.height,u=n.show;if(u)var h=t.addShape("image",{attrs:Qt({x:-s/2,y:-l/2},n),className:this.type+"-icon",name:this.type+"-icon",draggable:!0});return this.drawLinkPoints(r,t),o},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.leftBottom,u=n.rightBottom,h=n.size,c=n.r,v=ji(n,["top","left","right","leftBottom","rightBottom","size","r"]),g=this.getSize(r),M=g[0];if(s){var F=Math.cos((18+72*0)/180*Math.PI)*M,Y=Math.sin((18+72*0)/180*Math.PI)*M;t.addShape("circle",{attrs:Qt(Qt({},v),{x:F,y:-Y,r:h/2||c||5}),className:"link-point-right",name:"link-point-right"})}if(a){var F=Math.cos((18+72*1)/180*Math.PI)*M,Y=Math.sin((18+72*1)/180*Math.PI)*M;t.addShape("circle",{attrs:Qt(Qt({},v),{x:F,y:-Y,r:h/2||c||5}),className:"link-point-top",name:"link-point-top"})}if(o){var F=Math.cos((18+72*2)/180*Math.PI)*M,Y=Math.sin((18+72*2)/180*Math.PI)*M;t.addShape("circle",{attrs:Qt(Qt({},v),{x:F,y:-Y,r:h/2||c||5}),className:"link-point-left",name:"link-point-left"})}if(l){var F=Math.cos((18+72*3)/180*Math.PI)*M,Y=Math.sin((18+72*3)/180*Math.PI)*M;t.addShape("circle",{attrs:Qt(Qt({},v),{x:F,y:-Y,r:h/2||c||5}),className:"link-point-left-bottom",name:"link-point-left-bottom"})}if(u){var F=Math.cos((18+72*4)/180*Math.PI)*M,Y=Math.sin((18+72*4)/180*Math.PI)*M;t.addShape("circle",{attrs:Qt(Qt({},v),{x:F,y:-Y,r:h/2||c||5}),className:"link-point-right-bottom",name:"link-point-right-bottom"})}},getPath:function(r){for(var t=this.getSize(r),e=t[0],n=e*3/8,a=r.innerR||n,o=[],s=0;s<5;s++){var l=Math.cos((18+72*s)/180*Math.PI)*e,u=Math.sin((18+72*s)/180*Math.PI)*e,h=Math.cos((54+72*s)/180*Math.PI)*a,c=Math.sin((54+72*s)/180*Math.PI)*a;s===0?o.push(["M",l,-u]):o.push(["L",l,-u]),o.push(["L",h,-c])}return o.push(["Z"]),o},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,f.mix)({},t,e),a=this.getPath(r),o=Qt({path:a},n);return o},update:function(r,t){var e=t.getContainer(),n=this.getOptions({}).style,a=this.getPath(r),o={stroke:r.color,path:a},s=t.get("keyShape"),l=(0,f.mix)({},n,s.attr(),o);l=(0,f.mix)(l,r.style),this.updateShape(r,t,l,!0),this.updateLinkPoints(r,e)},updateLinkPoints:function(r,t){var e=this.getOptions({}).linkPoints,n=t.find(function(de){return de.get("className")==="link-point-left"}),a=t.find(function(de){return de.get("className")==="link-point-right"}),o=t.find(function(de){return de.get("className")==="link-point-top"}),s=t.find(function(de){return de.get("className")==="link-point-left-bottom"}),l=t.find(function(de){return de.get("className")==="link-point-right-bottom"}),u=e,h=n||a||o||s||l;h&&(u=h.attr());var c=(0,f.mix)({},u,r.linkPoints),v=c.fill,g=c.stroke,M=c.lineWidth,F=c.size/2;F||(F=c.r);var Y=r.linkPoints?r.linkPoints:{left:void 0,right:void 0,top:void 0,leftBottom:void 0,rightBottom:void 0},V=Y.left,z=Y.right,it=Y.top,ot=Y.leftBottom,yt=Y.rightBottom,It=this.getSize(r),zt=It[0],jt={r:F,fill:v,stroke:g,lineWidth:M},Rt=Math.cos((18+72*0)/180*Math.PI)*zt,re=Math.sin((18+72*0)/180*Math.PI)*zt;a?!z&&z!==void 0?a.remove():a.attr(Qt(Qt({},jt),{x:Rt,y:-re})):z&&t.addShape("circle",{attrs:Qt(Qt({},jt),{x:Rt,y:-re}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),Rt=Math.cos((18+72*1)/180*Math.PI)*zt,re=Math.sin((18+72*1)/180*Math.PI)*zt,o?!it&&it!==void 0?o.remove():o.attr(Qt(Qt({},jt),{x:Rt,y:-re})):it&&t.addShape("circle",{attrs:Qt(Qt({},jt),{x:Rt,y:-re}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),Rt=Math.cos((18+72*2)/180*Math.PI)*zt,re=Math.sin((18+72*2)/180*Math.PI)*zt,n?!V&&V!==void 0?n.remove():n.attr(Qt(Qt({},jt),{x:Rt,y:-re})):V&&t.addShape("circle",{attrs:Qt(Qt({},jt),{x:Rt,y:-re}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),Rt=Math.cos((18+72*3)/180*Math.PI)*zt,re=Math.sin((18+72*3)/180*Math.PI)*zt,s?!ot&&ot!==void 0?s.remove():s.attr(Qt(Qt({},jt),{x:Rt,y:-re})):ot&&t.addShape("circle",{attrs:Qt(Qt({},jt),{x:Rt,y:-re}),className:"link-point-left-bottom",name:"link-point-left-bottom",isAnchorPoint:!0}),Rt=Math.cos((18+72*4)/180*Math.PI)*zt,re=Math.sin((18+72*4)/180*Math.PI)*zt,l?!yt&&yt!==void 0?s.remove():l.attr(Qt(Qt({},jt),{x:Rt,y:-re})):yt&&t.addShape("circle",{attrs:Qt(Qt({},jt),{x:Rt,y:-re}),className:"link-point-right-bottom",name:"link-point-right-bottom",isAnchorPoint:!0})}},"single-node"),qn.registerNode("image",{options:{img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*eD7nT6tmYgAAAAAAAAAAAABkARQnAQ",size:200,clipCfg:{show:!1,type:"circle",r:50,rx:50,ry:35,width:50,height:35,points:[[30,12],[12,30],[30,48],[48,30]],path:[["M",25,25],["L",50,25],["A",12.5,12.5,0,1,1,50,50],["A",12.5,12.5,0,1,0,50,50],["L",25,75],["Z"]],x:0,y:0}},shapeType:"image",labelPosition:"bottom",drawShape:function(r,t){var e=this.shapeType,n=this.getShapeStyle(r);delete n.fill;var a=t.addShape(e,{attrs:n,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0});return this.drawClip(r,a),a},drawClip:function(r,t){var e=this.getOptions(r).clipCfg;if(!!e.show){var n=e.type,a=e.x,o=e.y,s=e.style;if(n==="circle"){var l=e.r;t.setClip({type:"circle",attrs:Qt({r:l,x:a,y:o},s)})}else if(n==="rect"){var u=e.width,h=e.height,c=a-u/2,v=o-h/2;t.setClip({type:"rect",attrs:Qt({x:c,y:v,width:u,height:h},s)})}else if(n==="ellipse"){var g=e.rx,M=e.ry;t.setClip({type:"ellipse",attrs:Qt({x:a,y:o,rx:g,ry:M},s)})}else if(n==="polygon"){var F=e.points;t.setClip({type:"polygon",attrs:Qt({points:F},s)})}else if(n==="path"){var Y=e.path;t.setClip({type:"path",attrs:Qt({path:Y},s)})}}},getShapeStyle:function(r){var t=this.getOptions(r).style,e=this.getSize(r),n=this.getOptions(r).img,a=e[0],o=e[1];t&&(a=t.width||e[0],o=t.height||e[1]);var s=Qt({x:-a/2,y:-o/2,width:a,height:o,img:n},t);return s},updateShapeStyle:function(r,t){var e=t.getContainer(),n=this.itemType+"-shape",a=e.find(function(s){return s.get("className")===n})||t.getKeyShape(),o=this.getShapeStyle(r);a&&a.attr(o)}},"single-node");function Zu(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Zu=function(t){return typeof t}:Zu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zu(i)}var Ku=function(r){var t=r.x,e=r.y;return{x:t,y:e,centerX:t,centerY:e,minX:t,minY:e,maxX:t,maxY:e,height:0,width:0}},N6=function(r){r===void 0&&(r=[]);var t=[],e=[];r.forEach(function(l){t.push(l.x),e.push(l.y)});var n=Math.min.apply(Math,t),a=Math.max.apply(Math,t),o=Math.min.apply(Math,e),s=Math.max.apply(Math,e);return{centerX:(n+a)/2,centerY:(o+s)/2,maxX:a,maxY:s,minX:n,minY:o,height:s-o,width:a-n}},k1=function(r,t){return Math.abs(r.centerX-t.centerX)*2<r.width+t.width&&Math.abs(r.centerY-t.centerY)*2<r.height+t.height},Pc=function(r){var t=[],e={};return r.forEach(function(n){var a=n.x+"-"+n.y;n.id=a,e[a]=n}),(0,f.each)(e,function(n){t.push(n)}),t},$u=function(r){return r=Pc(r),r},B1=function(r,t){return[r,{x:r.x,y:t.y},t]},Qu=function(r,t){return r.width===0&&r.height===0?r:{centerX:r.centerX,centerY:r.centerY,minX:r.minX-t,minY:r.minY-t,maxX:r.maxX+t,maxY:r.maxY+t,height:r.height+2*t,width:r.width+2*t}},Y6=function(r,t){var e=Math.abs(r.x-t.centerX),n=Math.abs(r.y-t.centerY);return e/t.width>n/t.height},_c=function(r,t){var e=Y6(t,r);return e?{x:t.x>r.centerX?r.maxX:r.minX,y:t.y}:{x:t.x,y:t.y>r.centerY?r.maxY:r.minY}},Lc=function(r,t){var e=Math.min(r.minX,t.minX),n=Math.min(r.minY,t.minY),a=Math.max(r.maxX,t.maxX),o=Math.max(r.maxY,t.maxY);return{centerX:(e+a)/2,centerY:(n+o)/2,minX:e,minY:n,maxX:a,maxY:o,height:o-n,width:a-e}},Oc=function(r){var t=r.minX,e=r.minY,n=r.maxX,a=r.maxY;return[{x:t,y:e},{x:n,y:e},{x:n,y:a},{x:t,y:a}]},Ju=function(r,t){var e=r.x,n=r.y;return e<t.minX||e>t.maxX||n<t.minY||n>t.maxY},G6=function(r,t){return t<r.minX||t>r.maxX?[]:[{x:t,y:r.minY},{x:t,y:r.maxY}]},z6=function(r,t){return t<r.minY||t>r.maxY?[]:[{x:r.minX,y:t},{x:r.maxX,y:t}]},X6=function(r,t){return G6(r,t.x).concat(z6(r,t.y))},el=function(r,t){return Math.abs(r.x-t.x)+Math.abs(r.y-t.y)},V6=function(r,t){var e=-2,n=0;return t.forEach(function(a){a&&(r.x===a.x&&(n+=e),r.y===a.y&&(n+=e))}),n},D1=function(r,t,e,n,a){return el(r,t)+el(r,e)+V6(r,[t,e,n,a])},H6=function i(r,t,e,n,a){a===void 0&&(a=0),r.unshift(t[n]),e[n]&&e[n]!==n&&a<=100&&i(r,t,e,e[n],a+1)},W6=function(r,t){var e=r.indexOf(t);e>-1&&r.splice(e,1)},qu=function(r,t,e,n){var a=t.x-r.x,o=t.y-r.y,s=n.x-e.x,l=n.y-e.y,u=(-o*(r.x-e.x)+a*(r.y-e.y))/(-s*o+a*l),h=(s*(r.y-e.y)-l*(r.x-e.x))/(-s*o+a*l);return u>=0&&u<=1&&h>=0&&h<=1},Ic=function(r,t,e){if(e.width===0&&e.height===0)return!1;var n=Oc(e),a=n[0],o=n[1],s=n[2],l=n[3];return qu(r,t,a,o)||qu(r,t,a,l)||qu(r,t,o,s)||qu(r,t,s,l)},j6=function(r,t,e,n){var a=[];return r.forEach(function(o){o!==t&&(o.x===t.x||o.y===t.y)&&!Ic(o,t,e)&&!Ic(o,t,n)&&a.push(o)}),Pc(a)},U6=function(r,t,e,n,a,o,s){var l=[],u=[t],h={},c={},v={};c[t.id]=0,v[t.id]=D1(t,e,t);var g={};r.forEach(function(Y){g[Y.id]=Y});for(var M=function(){var V,z=Infinity;if(u.forEach(function(ot){v[ot.id]<z&&(z=v[ot.id],V=ot)}),V===e){var it=[];return H6(it,g,h,e.id),{value:it}}W6(u,V),l.push(V),j6(r,V,n,a).forEach(function(ot){if(l.indexOf(ot)===-1){u.indexOf(ot)===-1&&u.push(ot);var yt=v[V.id]+el(V,ot);c[ot.id]&&yt>=c[ot.id]||(h[ot.id]=V.id,c[ot.id]=yt,v[ot.id]=c[ot.id]+D1(ot,e,t,o,s))}})};u.length;){var F=M();if(Zu(F)==="object")return F.value}return[t,e]},Z6=function(r,t,e){return!(r.x===t.x&&t.x===e.x||r.y===t.y&&t.y===e.y)},K6=function(r,t,e,n){var a=el(r,t),o=el(e,t);a<n&&(n=a),o<n&&(n=o);var s={x:t.x-n/a*(t.x-r.x),y:t.y-n/a*(t.y-r.y)},l={x:t.x-n/o*(t.x-e.x),y:t.y-n/o*(t.y-e.y)};return[s,l]},F1=function(r,t){var e=[],n=r[0];return e.push("M"+n.x+" "+n.y),r.forEach(function(a,o){var s=r[o+1],l=r[o+2];if(s&&l)if(Z6(a,s,l)){var u=K6(a,s,l,t),h=u[0],c=u[1];e.push("L"+h.x+" "+h.y),e.push("Q"+s.x+" "+s.y+" "+c.x+" "+c.y),e.push("L"+c.x+" "+c.y)}else e.push("L"+s.x+" "+s.y);else s&&e.push("L"+s.x+" "+s.y)}),e.join("")},$6=function(r,t,e,n,a){var o,s;if(!e||!e.getType())o=Ku(r);else if(e.getType()==="combo"){var l=e.getKeyShape();o=l.getCanvasBBox()||Ku(r),o.centerX=(o.minX+o.maxX)/2,o.centerY=(o.minY+o.maxY)/2}else o=e.getBBox();if(!n||!n.getType())s=Ku(t);else if(n.getType()==="combo"){var u=n.getKeyShape();s=u.getCanvasBBox()||Ku(t),s.centerX=(s.minX+s.maxX)/2,s.centerY=(s.minY+s.maxY)/2}else s=n&&n.getBBox();if(k1(o,s))return $u(B1(r,t));var h=Qu(o,a),c=Qu(s,a);if(k1(h,c))return $u(B1(r,t));var v=_c(h,r),g=_c(c,t),M=N6([v,g]),F=Lc(h,c),Y=Lc(h,M),V=Lc(c,M),z=[];z=z.concat(Oc(Y)),z=z.concat(Oc(V));var it={x:(r.x+t.x)/2,y:(r.y+t.y)/2};[M,Y,V].forEach(function(yt){z=z.concat(X6(yt,it).filter(function(It){return Ju(It,h)&&Ju(It,c)}))}),[{x:v.x,y:g.y},{x:g.x,y:v.y}].forEach(function(yt){Ju(yt,h)&&Ju(yt,c)&&z.push(yt)}),z.unshift(v),z.push(g),z=Pc(z);var ot=U6(z,v,g,o,s,r,t);return ot.unshift(r),ot.push(t),$u(ot)};function tf(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?tf=function(t){return typeof t}:tf=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tf(i)}var Q6=function(r,t){return Math.abs(r.x-t.x)+Math.abs(r.y-t.y)},J6=function(r,t){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))},q6=function(r,t){return[r,t]},t8=function(r,t,e,n,a){return $u($6(r,t,e,n,a.offset))},e8={offset:20,maxAllowedDirectionChange:90,maximumLoops:2e3,gridSize:10,directions:[{stepX:1,stepY:0},{stepX:-1,stepY:0},{stepX:0,stepY:1},{stepX:0,stepY:-1}],get penalties(){return{0:0,45:this.gridSize/2,90:this.gridSize/2}},distFunc:Q6,fallbackRoute:t8},Pz={maxAllowedDirectionChange:45,directions:[{stepX:1,stepY:0},{stepX:1,stepY:1},{stepX:0,stepY:1},{stepX:-1,stepY:1},{stepX:-1,stepY:0},{stepX:-1,stepY:-1},{stepX:0,stepY:-1},{stepX:1,stepY:-1}],distFunc:J6,fallbackRoute:q6},xa=function(r,t){var e=Math.floor(r/t);return e<0?0:e},r8=function(r,t,e){var n={};return r.forEach(function(a){if(a)for(var o=Qu(a.getBBox(),e),s=xa(o.minX,t);s<=xa(o.maxX,t);s+=1)for(var l=xa(o.minY,t);l<=xa(o.maxY,t);l+=1){var u=s+"-"+l;n[u]=!0}}),n},kc=function(r,t){var e=t.x-r.x,n=t.y-r.y;if(!e&&!n)return 0;var a=(360+Math.atan2(n,e)*180/Math.PI)%360;return a},R1=function(r,t){var e=Math.abs(r-t);return e>180?360-e:e},N1=function(r,t,e){for(var n=Infinity,a=0,o=t.length;a<o;a++){var s=e(r,t[a]);s<n&&(n=s)}return n},Y1=function(r,t,e){var n=[];if(!t)return n;var a=e.directions,o=e.offset,s=t.getBBox(),l=Qu(t.getBBox(),o);for(var u in l)l[u]=xa(l[u],e.gridSize);var h=r.x>xa(s.minX,e.gridSize)&&r.x<xa(s.maxX,e.gridSize)&&r.y>xa(s.minY,e.gridSize)&&r.y<xa(s.maxY,e.gridSize);if(h)for(var c=0,v=a;c<v.length;c++)for(var g=v[c],M=[[{x:l.minX,y:l.minY},{x:l.maxX,y:l.minY}],[{x:l.minX,y:l.minY},{x:l.minX,y:l.maxY}],[{x:l.maxX,y:l.minY},{x:l.maxX,y:l.maxY}],[{x:l.minX,y:l.maxY},{x:l.maxX,y:l.maxY}]],u=0;u<4;u++){var F=M[u],Y=Vs(r,{x:r.x+g.stepX*l.width,y:r.y+g.stepY*l.height},F[0],F[1]);Y&&!Ic(r,Y,t.getBBox())&&(Y.id=Y.x+"-"+Y.y,n.push(Y))}else{var Y=_c(l,r);Y.id=Y.x+"-"+Y.y,n.push(Y)}return n},G1=function(r,t,e,n,a){var o=(0,Gi.default)(e8,a);o.obstacles=o.obstacles||[];var s=r8(o.obstacles.concat([e,n]),o.gridSize,o.offset),l={x:xa(r.x,o.gridSize),y:xa(r.y,o.gridSize)},u={x:xa(t.x,o.gridSize),y:xa(t.y,o.gridSize)};r.id=l.x+"-"+l.y,t.id=u.x+"-"+u.y;var h=Y1(l,e,o),c=Y1(u,n,o);h.forEach(function(jt){delete s[jt.id]}),c.forEach(function(jt){delete s[jt.id]});for(var v={},g={},M={},F={},Y={},V=0;V<h.length;V++){var z=h[V];v[z.id]=z,F[z.id]=0,Y[z.id]=N1(z,c,o.distFunc)}for(var it=function(Rt,re){var de=kc(Rt,re),fe;if(M[Rt.id]){var Le=kc({x:parseFloat(M[Rt.id].split("-")[0]),y:parseFloat(M[Rt.id].split("-")[1])},Rt);fe=R1(Le,de)}else{var Me=kc(l,Rt);fe=R1(Me,de)}return fe},ot=function(Rt){var re=[t],de={x:parseFloat(Rt.split("-")[0]),y:parseFloat(Rt.split("-")[1]),id:Rt};for(it(de,u)&&re.unshift({x:de.x===u.x?t.x:de.x*o.gridSize,y:de.y===u.y?t.y:de.y*o.gridSize});M[Rt]&&M[Rt]!==Rt;){var fe={x:parseFloat(Rt.split("-")[0]),y:parseFloat(Rt.split("-")[1]),id:Rt},Me=M[Rt],Le={x:parseFloat(Me.split("-")[0]),y:parseFloat(Me.split("-")[1]),id:Me},_e=it(Le,fe);_e&&re.unshift({x:Le.x===fe.x?re[0].x:Le.x*o.gridSize,y:Le.y===fe.y?re[0].y:Le.y*o.gridSize}),Rt=Me}var He={x:parseFloat(Rt.split("-")[0]),y:parseFloat(Rt.split("-")[1]),id:Rt};return re[0].x=He.x===l.x?r.x:re[0].x,re[0].y=He.y===l.y?r.y:re[0].y,re.unshift(r),re},yt=o.maximumLoops,It=function(){var Rt,re=Infinity;for(var de in v)Y[de]<=re&&(re=Y[de],Rt=v[de]);if(!Rt)return"break";if(c.findIndex(function(ze){return ze.x===Rt.x&&ze.y===Rt.y})>-1){var fe=ot(Rt.id);return{value:fe}}delete v[Rt.id],g[Rt.id]=!0;for(var Me=0;Me<o.directions.length;Me++){var Le=o.directions[Me],_e={x:Rt.x+Le.stepX,y:Rt.y+Le.stepY,id:Rt.x+Le.stepX+"-"+(Rt.y+Le.stepY)};if(!g[_e.id]){var He=it(Rt,_e);if(!(He>o.maxAllowedDirectionChange)&&!s[_e.id]){v[_e.id]||(v[_e.id]=_e);var je=o.distFunc(Rt,_e)+(isNaN(o.penalties[He])?o.gridSize:o.penalties[He]),Ze=F[Rt.id]+je;F[_e.id]&&Ze>=F[_e.id]||(M[_e.id]=Rt.id,F[_e.id]=Ze,Y[_e.id]=Ze+N1(_e,c,o.distFunc))}}}yt-=1};Object.keys(v).length>0&&yt>0;){var zt=It();if(tf(zt)==="object")return zt.value;if(zt==="break")break}return o.fallbackRoute(r,t,e,n,o)};qn.registerEdge("polyline",{options:{color:Ge.defaultEdge.color,size:Ge.defaultEdge.size,style:{radius:0,offset:15,x:0,y:0,stroke:Ge.defaultEdge.style.stroke,lineAppendWidth:Ge.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:Ge.edgeLabel.style.fill,fontSize:Ge.edgeLabel.style.fontSize}},routeCfg:{obstacles:[],maxAllowedDirectionChange:90,maximumLoops:1e3,gridSize:10},stateStyles:Qt({},Ge.edgeStateStyles)},shapeType:"polyline",labelPosition:"center",drawShape:function(r,t){var e=this.getShapeStyle(r);e.radius===0&&delete e.radius;var n=t.addShape("path",{className:"edge-shape",name:"edge-shape",attrs:e});return n},getShapeStyle:function(r){var t=this.options.style,e={stroke:r.color},n=(0,f.mix)({},t,e,r.style);r=this.getPathPoints(r),this.radius=n.radius,this.offset=n.offset;var a=r.startPoint,o=r.endPoint,s=this.getControlPoints(r),l=[a];s&&(l=l.concat(s)),l.push(o);var u=r.sourceNode,h=r.targetNode,c=n.radius,v=this.options.routeCfg;v.offset=n.offset;var g=this.getPath(l,u,h,c,v);((0,f.isArray)(g)&&g.length<=1||(0,f.isString)(g)&&g.indexOf("L")===-1)&&(g="M0 0, L0 0"),(isNaN(a.x)||isNaN(a.y)||isNaN(o.x)||isNaN(o.y))&&(g="M0 0, L0 0");var M=(0,f.mix)({},Ge.defaultEdge.style,n,{lineWidth:r.size,path:g});return M},updateShapeStyle:function(r,t){var e=t.getContainer(),n={stroke:r.color},a=e.find(function(z){return z.get("className")==="edge-shape"})||t.getKeyShape(),o=r.size;r=this.getPathPoints(r);var s=r.startPoint,l=r.endPoint,u=this.getControlPoints(r),h=[s];u&&(h=h.concat(u)),h.push(l);var c=(0,f.mix)({},n,a.attr(),r.style),v=r.sourceNode,g=r.targetNode,M=c.radius,F=this.options.routeCfg;F.offset=c.offset;var Y=this.getPath(h,v,g,M,F);((0,f.isArray)(Y)&&Y.length<=1||(0,f.isString)(Y)&&Y.indexOf("L")===-1)&&(Y="M0 0, L0 0"),(isNaN(s.x)||isNaN(s.y)||isNaN(l.x)||isNaN(l.y))&&(Y="M0 0, L0 0");var V=(0,f.mix)(n,a.attr(),{lineWidth:o,path:Y},r.style);a&&a.attr(V)},getPath:function(r,t,e,n,a){var o=a.offset;if(!o||r.length>2){if(n)return F1(r,n);var s=[];return(0,f.each)(r,function(c,v){v===0?s.push(["M",c.x,c.y]):s.push(["L",c.x,c.y])}),s}var l;if(n){l=G1(r[0],r[r.length-1],t,e,a);var u=F1(l,n);return u}l=G1(r[0],r[r.length-1],t,e,a);var h=yx(l);return h}},"single-edge");var n8={triangle:function(r,t,e){r===void 0&&(r=10),t===void 0&&(t=15),e===void 0&&(e=0);var n=e*2,a="M "+n+",0 L "+(n+t)+",-"+r/2+" L "+(n+t)+","+r/2+" Z";return a},vee:function(r,t,e){r===void 0&&(r=15),t===void 0&&(t=20),e===void 0&&(e=0);var n=e*2,a="M "+n+",0 L "+(n+t)+",-"+r/2+`
        L `+(n+2*t/3)+",0 L "+(n+t)+","+r/2+" Z";return a},circle:function(r,t){r===void 0&&(r=5),t===void 0&&(t=0);var e=t*2,n="M "+e+`, 0
            a `+r+","+r+" 0 1,0 "+r*2+`,0
            a `+r+","+r+" 0 1,0 "+-r*2+",0";return n},rect:function(r,t,e){r===void 0&&(r=10),t===void 0&&(t=10),e===void 0&&(e=0);var n=e*2,a="M "+n+","+-r/2+` 
        L `+(n+t)+","+-r/2+` 
        L `+(n+t)+","+r/2+` 
        L `+n+","+r/2+" Z";return a},diamond:function(r,t,e){r===void 0&&(r=15),t===void 0&&(t=15),e===void 0&&(e=0);var n=e*2,a="M "+n+`,0 
        L `+(n+t/2)+","+-r/2+` 
        L `+(n+t)+`,0 
        L `+(n+t/2)+","+r/2+" Z";return a},triangleRect:function(r,t,e,n,a,o){r===void 0&&(r=15),t===void 0&&(t=15),e===void 0&&(e=15),n===void 0&&(n=3),a===void 0&&(a=5),o===void 0&&(o=0);var s=o*2,l=s+t+a,u="M "+s+",0 L "+(s+t)+",-"+r/2+" L "+(s+t)+","+r/2+` Z
            M `+l+", -"+e/2+`
            L `+(l+n)+" -"+e/2+`
            L `+(l+n)+" "+e/2+`
            L `+l+" "+e/2+`
            Z`;return u}},i8={collapse:function(r,t,e){return[["M",r-e,t],["a",e,e,0,1,0,e*2,0],["a",e,e,0,1,0,-e*2,0],["M",r-e+4,t],["L",r+e-4,t]]},expand:function(r,t,e){return[["M",r-e,t],["a",e,e,0,1,0,e*2,0],["a",e,e,0,1,0,-e*2,0],["M",r-e+4,t],["L",r-e+2*e-4,t],["M",r-e+e,t-e+4],["L",r,t+e-4]]},upTriangle:function(r,t,e){var n=e*Math.cos(Math.PI/6),a=e*Math.sin(Math.PI/6);return[["M",r-n,t+a],["L",r+n,t+a],["L",r,t-e],["Z"]]},downTriangle:function(r,t,e){var n=e*Math.cos(Math.PI/6),a=e*Math.sin(Math.PI/6);return[["M",r-n,t-a],["L",r+n,t-a],["L",r,t+e],["Z"]]}},ms=qn,a8={mat3:Ba.wO,mix:Ks.default,deepMix:Gi.default,transform:Ba.vs},o8=Qt(Qt(Qt(Qt(Qt(Qt({},a8),X),vt),Q),tt),Z),s8=o8,l8=function(){function i(r){this._cfgs=(0,Gi.default)(this.getDefaultCfgs(),r),this._events={},this.destroyed=!1}return i.prototype.getDefaultCfgs=function(){return{}},i.prototype.initPlugin=function(r){var t=this;t.set("graph",r);var e=t.getEvents(),n={};(0,Cn.default)(e,function(a,o){var s=(0,Mu.default)(t,a);n[o]=s,r.on(o,s)}),this._events=n,this.init()},i.prototype.init=function(){},i.prototype.getEvents=function(){return{}},i.prototype.get=function(r){return this._cfgs[r]},i.prototype.set=function(r,t){this._cfgs[r]=t},i.prototype.destroy=function(){},i.prototype.destroyPlugin=function(){this.destroy();var r=this.get("graph"),t=this._events;(0,Cn.default)(t,function(e,n){r.off(n,e)}),this._events=null,this._cfgs=null,this.destroyed=!0},i}(),Za=l8,z1="url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgb3BhY2l0eT0iMC4yIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=)",u8=function(i){Dn(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{img:z1}},r.prototype.init=function(){var t=this.get("graph"),e=t.get("minZoom"),n=t.get("container"),a=t.get("canvas").get("el"),o=t.get("width"),s=t.get("height"),l=this.get("img")||z1,u=(0,pi.Z)(`<div class='g6-grid-container' style="position: absolute; left:0;top:0;right:0;bottom:0;overflow: hidden;z-index: -1;"></div>`),h=(0,pi.Z)(`<div 
        class='g6-grid' 
        style='position:absolute;
        transform-origin: 0% 0% 0px;
        background-image: `+l+`;
        user-select: none
        '></div>`);u.appendChild(h),(0,Pn.Z)(u,{width:o+"px",height:s+"px",left:n.offsetLeft+"px",top:n.offsetTop+"px"}),(0,Pn.Z)(h,{width:o/e+"px",height:s/e+"px",left:"0px",top:"0px"}),n.insertBefore(u,a),this.set("container",u),this.set("gridContainer",h)},r.prototype.getEvents=function(){return{viewportchange:"updateGrid"}},r.prototype.updateGrid=function(t){var e=this.get("gridContainer"),n=t.matrix;n||(n=[1,0,0,0,1,0,0,0,1]);var a="matrix("+n[0]+", "+n[1]+", "+n[3]+", "+n[4]+", 0, 0)";(0,Pn.Z)(e,{transform:a})},r.prototype.getContainer=function(){return this.get("container")},r.prototype.destroy=function(){var t=this.get("graph"),e=t.get("container"),n=this.get("container");e.removeChild(n)},r}(Za),f8=u8,h8=d(38186),Bc=d.n(h8);Bc()(`
  .g6-component-contextmenu {
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 10px 8px;
    box-shadow: rgb(174, 174, 174) 0px 0px 10px;
  }
  .g6-contextmenu-ul {
    padding: 0;
    margin: 0;
    list-style: none;
  }

`);var c8=function(i){Dn(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,handleMenuClick:void 0,getContent:function(e){return`
          <ul class='g6-contextmenu-ul'>
            <li>\u83DC\u5355\u98791</li>
            <li>\u83DC\u5355\u98792</li>
          </ul>
        `},shouldBegin:function(e){return!0},onHide:function(){return!0},itemTypes:["node","edge","combo"]}},r.prototype.getEvents=function(){return{contextmenu:"onMenuShow"}},r.prototype.init=function(){var t=this.get("className"),e=(0,pi.Z)("<div class="+(t||"g6-component-contextmenu")+"></div>");(0,Pn.Z)(e,{top:"0px",position:"absolute",visibility:"hidden"});var n=this.get("container");n||(n=this.get("graph").get("container")),n.appendChild(e),this.set("menu",e)},r.prototype.onMenuShow=function(t){var e=this;if(t.preventDefault(),t.stopPropagation(),!!t.item){var n=this.get("shouldBegin");if(!!n(t)){var a=this.get("itemTypes");if(t.item&&t.item.getType&&a.indexOf(t.item.getType())===-1){e.onMenuHide();return}if(!!t.item){var o=this.get("menu"),s=this.get("getContent"),l=this.get("graph"),u=s(t,l);(0,mn.default)(u)?o.innerHTML=u:o.innerHTML=u.outerHTML,this.removeMenuEventListener();var h=this.get("handleMenuClick");if(h){var c=function(zt){h(zt.target,t.item,l)};this.set("handleMenuClickWrapper",c),o.addEventListener("click",c)}var v=l.get("width"),g=l.get("height"),M=o.getBoundingClientRect(),F=this.get("offsetX")||0,Y=this.get("offsetY")||0,V=l.getContainer().offsetTop,z=l.getContainer().offsetLeft,it=t.canvasX+z+F,ot=t.canvasY+V+Y;it+M.width>v&&(it=t.canvasX-M.width-F+z),ot+M.height>g&&(ot=t.canvasY-M.height-Y+V),(0,Pn.Z)(o,{top:ot+"px",left:it+"px",visibility:"visible"});var yt=function(zt){e.onMenuHide()};document.body.addEventListener("click",yt),this.set("handler",yt)}}}},r.prototype.removeMenuEventListener=function(){var t=this.get("handleMenuClickWrapper"),e=this.get("handler");if(t){var n=this.get("menu");n.removeEventListener("click",t),this.set("handleMenuClickWrapper",null)}e&&document.body.removeEventListener("click",e)},r.prototype.onMenuHide=function(){var t=this.get("menu");t&&(0,Pn.Z)(t,{visibility:"hidden"}),this.removeMenuEventListener()},r.prototype.destroy=function(){var t=this.get("menu");if(this.removeMenuEventListener(),t){var e=this.get("container");e||(e=this.get("graph").get("container")),e.removeChild(t)}},r}(Za),v8=c8,X1=Math.max,d8="default",p8="keyShape",g8="delegate",V1="svg",y8=function(i){Dn(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.handleUpdateCanvas=(0,f.debounce)(function(e){var n=t;n.destroyed||n.updateCanvas()},100,!1),t}return r.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",type:"default",padding:50,size:[200,120],delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},r.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},r.prototype.disableRefresh=function(){this.set("refresh",!1)},r.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},r.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},r.prototype.initViewport=function(){var t=this,e=this._cfgs,n=e.size,a=e.graph;if(!this.destroyed){var o=this.get("canvas"),s=o.get("container"),l=(0,pi.Z)(`
      <div
        class=`+e.viewportClassName+`
        style='position:absolute;
          left:0;
          top:0;
          box-sizing:border-box;
          border: 2px solid #1980ff'
        draggable=true>
      </div>`),u=0,h=0,c=!1,v=0,g=0,M=0,F=0,Y=0,V=0;l.addEventListener("dragstart",function(z){if(z.dataTransfer){var it=new Image;it.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' %3E%3Cpath /%3E%3C/svg%3E",z.dataTransfer.setDragImage(it,0,0),z.dataTransfer.setData("text","view-port-minimap")}if(e.refresh=!1,z.target===l){var ot=l.style;v=parseInt(ot.left,10),g=parseInt(ot.top,10),M=parseInt(ot.width,10),F=parseInt(ot.height,10),!(M>n[0]||F>n[1])&&(V=a.getZoom(),Y=t.get("ratio"),c=!0,u=z.clientX,h=z.clientY)}},!1),l.addEventListener("drag",function(z){if(!(!c||(0,Ii.default)(z.clientX)||(0,Ii.default)(z.clientY))){var it=u-z.clientX,ot=h-z.clientY;(v-it<0||v-it+M>=n[0])&&(it=0),(g-ot<0||g-ot+F>=n[1])&&(ot=0),v-=it,g-=ot,(0,Pn.Z)(l,{left:v+"px",top:g+"px"}),a.translate(it*V/Y,ot*V/Y),u=z.clientX,h=z.clientY}},!1),l.addEventListener("dragend",function(){c=!1,e.refresh=!0},!1),this.set("viewport",l),s.appendChild(l)}},r.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get("ratio"),e=this.get("dx"),n=this.get("dy"),a=this.get("totaldx"),o=this.get("totaldy"),s=this.get("graph"),l=this.get("size"),u=s.get("width"),h=s.get("height"),c=s.getPointByCanvas(0,0),v=s.getPointByCanvas(u,h),g=this.get("viewport");g||this.initViewport();var M=s.getZoom(),F=(v.x-c.x)*t,Y=(v.y-c.y)*t,V=c.x*t+a,z=c.y*t+o,it=V+F,ot=z+Y;V<0&&(F+=V,V=0),it>l[0]&&(F=F-(it-l[0])),z<0&&(Y+=z,z=0),ot>l[1]&&(Y=Y-(ot-l[1])),this.set("ratio",t);var yt=V+"px",It=z+"px";(0,Pn.Z)(g,{left:yt,top:It,width:F+"px",height:Y+"px"})}},r.prototype.updateGraphShapes=function(){var t=this._cfgs.graph,e=this.get("canvas"),n=t.get("group");if(!n.destroyed){var a=n.clone();a.resetMatrix(),e.clear(),e.add(a);var o=t.get("renderer");o===V1&&this.updateVisible(a)}},r.prototype.updateVisible=function(t){var e=this;if(!t.isGroup()&&!t.get("visible"))t.hide();else{var n=t.get("children");if(!n||!n.length)return;n.forEach(function(a){a.get("visible")||a.hide(),e.updateVisible(a)})}},r.prototype.updateKeyShapes=function(){var t=this,e=this._cfgs.graph;(0,Cn.default)(e.getEdges(),function(n){t.updateOneEdgeKeyShape(n)}),(0,Cn.default)(e.getNodes(),function(n){t.updateOneNodeKeyShape(n)}),this.clearDestroyedShapes()},r.prototype.updateOneNodeKeyShape=function(t){var e=this.get("canvas"),n=e.get("children")[0]||e.addGroup(),a=this.get("itemMap")||{},o=a[t.get("id")],s=t.getBBox(),l=t.get("keyShape").clone(),u=l.attr(),h={x:s.centerX,y:s.centerY};o?h=Object.assign(u,h):(o=l,n.add(o));var c=o.get("type");(c==="rect"||c==="image")&&(h.x=s.minX,h.y=s.minY),o.attr(h),t.isVisible()||o.hide(),o.exist=!0,a[t.get("id")]=o,this.set("itemMap",a)},r.prototype.updateDelegateShapes=function(){var t=this,e=this._cfgs.graph;(0,Cn.default)(e.getEdges(),function(n){t.updateOneEdgeKeyShape(n)}),(0,Cn.default)(e.getNodes(),function(n){t.updateOneNodeDelegateShape(n)}),this.clearDestroyedShapes()},r.prototype.clearDestroyedShapes=function(){var t=this.get("itemMap")||{},e=Object.keys(t);if(!(!e||e.length===0))for(var n=e.length-1;n>=0;n--){var a=t[e[n]],o=a.exist;a.exist=!1,o||(a.remove(),delete t[e[n]])}},r.prototype.updateOneEdgeKeyShape=function(t){var e=this.get("canvas"),n=e.get("children")[0]||e.addGroup(),a=this.get("itemMap")||{},o=a[t.get("id")];if(o){var s=t.get("keyShape").attr("path");o.attr("path",s)}else o=t.get("keyShape").clone(),n.add(o),o.toBack();t.isVisible()||o.hide(),o.exist=!0,a[t.get("id")]=o,this.set("itemMap",a)},r.prototype.updateOneNodeDelegateShape=function(t){var e=this.get("canvas"),n=e.get("children")[0]||e.addGroup(),a=this.get("delegateStyle"),o=this.get("itemMap")||{},s=o[t.get("id")],l=t.getBBox();if(s){var u={x:l.minX,y:l.minY,width:l.width,height:l.height};s.attr(u)}else s=n.addShape("rect",{attrs:Qt({x:l.minX,y:l.minY,width:l.width,height:l.height},a),name:"minimap-node-shape"});t.isVisible()||s.hide(),s.exist=!0,o[t.get("id")]=s,this.set("itemMap",o)},r.prototype.init=function(){this.initContainer(),this.get("graph").on("afterupdateitem",this.handleUpdateCanvas),this.get("graph").on("afteritemstatechange",this.handleUpdateCanvas),this.get("graph").on("afteradditem",this.handleUpdateCanvas),this.get("graph").on("afterremoveitem",this.handleUpdateCanvas),this.get("graph").on("afterrender",this.handleUpdateCanvas),this.get("graph").on("afterlayout",this.handleUpdateCanvas)},r.prototype.initContainer=function(){var t=this,e=t.get("graph"),n=t.get("size"),a=t.get("className"),o=t.get("container"),s=(0,pi.Z)("<div class='"+a+"' style='width: "+n[0]+"px; height: "+n[1]+"px; overflow: hidden'></div>");(0,mn.default)(o)&&(o=document.getElementById(o)),o?o.appendChild(s):e.get("container").appendChild(s),t.set("container",s);var l=(0,pi.Z)('<div class="g6-minimap-container" style="position: relative;"></div>');s.appendChild(l);var u,h=e.get("renderer");h===V1?u=new Us.Z({container:l,width:n[0],height:n[1]}):u=new Ho.Z({container:l,width:n[0],height:n[1]}),t.set("canvas",u),t.updateCanvas()},r.prototype.updateCanvas=function(){var t=this.get("refresh");if(!!t){var e=this.get("graph");if(!e.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var n=this.get("size"),a=this.get("canvas"),o=this.get("type"),s=this.get("padding");if(!a.destroyed){switch(o){case d8:this.updateGraphShapes();break;case p8:this.updateKeyShapes();break;case g8:this.updateDelegateShapes();break;default:break}var l=a.get("children")[0];if(!!l){l.resetMatrix();var u=l.getCanvasBBox(),h=e.get("canvas").getBBox(),c=h.width,v=h.height;Number.isFinite(u.width)&&(c=X1(u.width,c),v=X1(u.height,v)),c+=2*s,v+=2*s;var g=Math.min(n[0]/c,n[1]/v),M=[1,0,0,0,1,0,0,0,1],F=0,Y=0;Number.isFinite(u.minX)&&(F=-u.minX),Number.isFinite(u.minY)&&(Y=-u.minY);var V=(n[0]-(c-2*s)*g)/2,z=(n[1]-(v-2*s)*g)/2;M=ja(M,[["t",F,Y],["s",g,g],["t",V,z]]),l.setMatrix(M),this.set("ratio",g),this.set("totaldx",V+F*g),this.set("totaldy",z+Y*g),this.set("dx",V),this.set("dy",z),this.updateViewport()}}}}},r.prototype.getCanvas=function(){return this.get("canvas")},r.prototype.getViewport=function(){return this.get("viewport")},r.prototype.getContainer=function(){return this.get("container")},r.prototype.destroy=function(){this.get("canvas").destroy();var t=this.get("container");t.parentNode.removeChild(t)},r}(Za),m8=y8;function Ka(i,r,t){var e=i.x-r.x,n=i.y-r.y;return!t||Math.abs(e)>t||Math.abs(n)>t?Math.sqrt(e*e+n*n):t}function x8(i,r){return i.x*r.x+i.y*r.y}function H1(i,r){var t=(r.source.y-r.target.y)/(r.source.x-r.target.x),e=(t*t*r.source.x+t*(i.y-r.source.y)+i.x)/(t*t+1),n=t*(e-r.source.x)+r.source.y;return{x:e,y:n}}var b8=function(i){Dn(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{edgeBundles:[],edgePoints:[],K:.1,lambda:.1,divisions:1,divRate:2,cycles:6,iterations:90,iterRate:.6666667,bundleThreshold:.6,eps:1e-6,onLayoutEnd:function(){},onTick:function(){}}},r.prototype.init=function(){var t=this.get("graph"),e=this.get("onTick"),n=function(){e&&e(),t.refreshPositions()};this.set("tick",n)},r.prototype.bundling=function(t){var e=this;if(e.set("data",t),!e.isTicking()){var n=t.edges||[],a=t.nodes||[],o={},s=!1;if(a.forEach(function(ot){(ot.x===null||!ot.y===null||ot.x===void 0||!ot.y===void 0)&&(s=!0),o[ot.id]=ot}),s)throw new Error("please layout the graph or assign x and y for nodes first");e.set("nodeIdMap",o);var l=e.get("divisions"),u=e.get("divRate"),h=e.divideEdges(l);e.set("edgePoints",h);var c=e.getEdgeBundles();e.set("edgeBundles",c);for(var v=e.get("cycles"),g=e.get("iterations"),M=e.get("iterRate"),F=e.get("lambda"),Y=0;Y<v;Y++){for(var V=function(yt){var It=[];n.forEach(function(zt,jt){if(zt.source!==zt.target){var Rt=o[zt.source],re=o[zt.target];It[jt]=e.getEdgeForces({source:Rt,target:re},jt,l,F);for(var de=0;de<l+1;de++)h[jt][de].x+=It[jt][de].x,h[jt][de].y+=It[jt][de].y}})},z=0;z<g;z++)V(z);F=F/2,l*=u,g*=M,h=e.divideEdges(l),e.set("edgePoints",h)}n.forEach(function(ot,yt){ot.source!==ot.target&&(ot.shape="polyline",ot.type="polyline",ot.controlPoints=h[yt].slice(1,h[yt].length-1))});var it=e.get("graph");it.refresh()}},r.prototype.updateBundling=function(t){var e=this,n=t.data;if(n&&e.set("data",n),e.get("ticking")&&e.set("ticking",!1),Object.keys(t).forEach(function(o){e.set(o,t[o])}),t.onTick){var a=this.get("graph");e.set("tick",function(){t.onTick(),a.refresh()})}e.bundling(n)},r.prototype.divideEdges=function(t){var e=this,n=e.get("data").edges,a=e.get("nodeIdMap"),o=e.get("edgePoints");return(!o||o===void 0)&&(o=[]),n.forEach(function(s,l){(!o[l]||o[l]===void 0)&&(o[l]=[]);var u=a[s.source],h=a[s.target];if(t===1)o[l].push({x:u.x,y:u.y}),o[l].push({x:.5*(u.x+h.x),y:.5*(u.y+h.y)}),o[l].push({x:h.x,y:h.y});else{var c=0;!o[l]||o[l]===[]?c=Ka({x:u.x,y:u.y},{x:h.x,y:h.y}):c=e.getEdgeLength(o[l]);var v=c/(t+1),g=v,M=[{x:u.x,y:u.y}];o[l].forEach(function(F,Y){if(Y!==0){for(var V=Ka(F,o[l][Y-1]);V>g;){var z=g/V,it={x:o[l][Y-1].x,y:o[l][Y-1].y};it.x+=z*(F.x-o[l][Y-1].x),it.y+=z*(F.y-o[l][Y-1].y),M.push(it),V-=g,g=v}g-=V}}),M.push({x:h.x,y:h.y}),o[l]=M}}),o},r.prototype.getEdgeLength=function(t){var e=0;return t.forEach(function(n,a){a!==0&&(e+=Ka(n,t[a-1]))}),e},r.prototype.getEdgeBundles=function(){var t=this,e=t.get("data"),n=e.edges||[],a=t.get("bundleThreshold"),o=t.get("nodeIdMap"),s=t.get("edgeBundles");return s||(s=[]),n.forEach(function(l,u){(!s[u]||s[u]===void 0)&&(s[u]=[])}),n.forEach(function(l,u){var h=o[l.source],c=o[l.target];n.forEach(function(v,g){if(!(g<=u)){var M=o[v.source],F=o[v.target],Y=t.getBundleScore({source:h,target:c},{source:M,target:F});Y>=a&&(s[u].push(g),s[g].push(u))}})}),s},r.prototype.getBundleScore=function(t,e){var n=this;t.vx=t.target.x-t.source.x,t.vy=t.target.y-t.source.y,e.vx=e.target.x-e.source.x,e.vy=e.target.y-e.source.y,t.length=Ka({x:t.source.x,y:t.source.y},{x:t.target.x,y:t.target.y}),e.length=Ka({x:e.source.x,y:e.source.y},{x:e.target.x,y:e.target.y});var a=n.getAngleScore(t,e),o=n.getScaleScore(t,e),s=n.getPositionScore(t,e),l=n.getVisibilityScore(t,e);return a*o*s*l},r.prototype.getAngleScore=function(t,e){var n=x8({x:t.vx,y:t.vy},{x:e.vx,y:e.vy});return n/(t.length*e.length)},r.prototype.getScaleScore=function(t,e){var n=(t.length+e.length)/2,a=2/(n/Math.min(t.length,e.length)+Math.max(t.length,e.length)/n);return a},r.prototype.getPositionScore=function(t,e){var n=(t.length+e.length)/2,a={x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2},o={x:(e.source.x+e.target.x)/2,y:(e.source.y+e.target.y)/2},s=Ka(a,o);return n/(n+s)},r.prototype.getVisibilityScore=function(t,e){var n=this.getEdgeVisibility(t,e),a=this.getEdgeVisibility(e,t);return n<a?n:a},r.prototype.getEdgeVisibility=function(t,e){var n=H1(e.source,t),a=H1(e.target,t),o={x:(n.x+a.x)/2,y:(n.y+a.y)/2},s={x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2};return Math.max(0,1-2*Ka(o,s)/Ka(n,a))},r.prototype.getEdgeForces=function(t,e,n,a){for(var o=this,s=o.get("edgePoints"),l=o.get("K"),u=l/(Ka(t.source,t.target)*(n+1)),h=[{x:0,y:0}],c=1;c<n;c++){var v={x:0,y:0},g=o.getSpringForce({pre:s[e][c-1],cur:s[e][c],next:s[e][c+1]},u),M=o.getElectrostaticForce(c,e);v.x=a*(g.x+M.x),v.y=a*(g.y+M.y),h.push(v)}return h.push({x:0,y:0}),h},r.prototype.getSpringForce=function(t,e){var n=t.pre.x+t.next.x-2*t.cur.x,a=t.pre.y+t.next.y-2*t.cur.y;return n*=e,a*=e,{x:n,y:a}},r.prototype.getElectrostaticForce=function(t,e){var n=this,a=n.get("eps"),o=n.get("edgeBundles"),s=n.get("edgePoints"),l=o[e],u={x:0,y:0};return l.forEach(function(h){var c={x:s[h][t].x-s[e][t].x,y:s[h][t].y-s[e][t].y};if(Math.abs(c.x)>a||Math.abs(c.y)>a){var v=Ka(s[h][t],s[e][t]),g=1/v;u.x+=c.x*g,u.y+=c.y*g}}),u},r.prototype.isTicking=function(){return this.get("ticking")},r.prototype.getSimulation=function(){return this.get("forceSimulation")},r.prototype.destroy=function(){this.get("ticking")&&this.getSimulation().stop(),i.prototype.destroy.call(this)},r}(Za),w8=b8,ef=.05,W1={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:.1,fill:"#ccc"},S8=function(i){Dn(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{trigger:"mousemove",d:1.5,r:300,delegateStyle:(0,Zn.d9)(W1),showLabel:!1,maxD:5,minD:0,scaleRBy:"unset",scaleDBy:"unset",showDPercent:!0}},r.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"magnify"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"magnify"};break}return t},r.prototype.init=function(){var t=this,e=t.get("r");t.set("cachedMagnifiedModels",[]),t.set("cachedOriginPositions",{}),t.set("r2",e*e);var n=t.get("d");t.set("molecularParam",(n+1)*e)},r.prototype.createDelegate=function(t){var e=this,n=this,a=n.get("delegate");(!a||a.destroyed)&&(n.magnify(t),a=n.get("delegate"),a.on("dragstart",function(o){n.set("delegateCenterDiff",{x:a.attr("x")-o.x,y:a.attr("y")-o.y})}),a.on("drag",function(o){n.magnify(o)}),this.get("scaleDBy")==="wheel"&&a.on("mousewheel",function(o){e.scaleDByWheel(o)}),this.get("scaleRBy")==="wheel"&&a.on("mousewheel",function(o){n.scaleRByWheel(o)}))},r.prototype.scaleRByWheel=function(t){var e=this;if(!(!t||!t.originalEvent)){t.preventDefault&&t.preventDefault();var n=e.get("graph"),a,o=e.get("delegate"),s=o?{x:o.attr("x"),y:o.attr("y")}:void 0,l=s||n.getPointByClient(t.clientX,t.clientY);t.originalEvent.wheelDelta<0?a=1-ef:a=1/(1-ef);var u=e.get("maxR"),h=e.get("minR"),c=e.get("r");(c>(u||n.get("height"))&&a>1||c<(h||n.get("height")*.05)&&a<1)&&(a=1),c*=a,e.set("r",c),e.set("r2",c*c);var v=e.get("d");e.set("molecularParam",(v+1)*c),e.set("delegateCenterDiff",void 0),e.magnify(t,l)}},r.prototype.scaleRByDrag=function(t){var e=this;if(!!t){var n=e.get("dragPrePos"),a=e.get("graph"),o,s=a.getPointByClient(t.clientX,t.clientY);t.x-n.x<0?o=1-ef:o=1/(1-ef);var l=e.get("maxR"),u=e.get("minR"),h=e.get("r");(h>(l||a.get("height"))&&o>1||h<(u||a.get("height")*.05)&&o<1)&&(o=1),h*=o,e.set("r",h),e.set("r2",h*h);var c=e.get("d");e.set("molecularParam",(c+1)*h),e.magnify(t,s),e.set("dragPrePos",{x:t.x,y:t.y})}},r.prototype.scaleDByWheel=function(t){var e=this;if(!(!t&&!t.originalEvent)){t.preventDefault&&t.preventDefault();var n=0;t.originalEvent.wheelDelta<0?n=-.1:n=.1;var a=e.get("d"),o=a+n,s=e.get("maxD"),l=e.get("minD");if(o<s&&o>l){e.set("d",o);var u=e.get("r");e.set("molecularParam",(o+1)*u);var h=e.get("delegate"),c=h?{x:h.attr("x"),y:h.attr("y")}:void 0;e.set("delegateCenterDiff",void 0),e.magnify(t,c)}}},r.prototype.scaleDByDrag=function(t){var e=this,n=e.get("dragPrePos"),a=t.x-n.x>0?.1:-.1,o=e.get("d"),s=o+a,l=e.get("maxD"),u=e.get("minD");if(s<l&&s>u){e.set("d",s);var h=e.get("r");e.set("molecularParam",(s+1)*h),e.magnify(t)}e.set("dragPrePos",{x:t.x,y:t.y})},r.prototype.magnify=function(t,e){var n=this;n.restoreCache();var a=n.get("graph"),o=n.get("cachedMagnifiedModels"),s=n.get("cachedOriginPositions"),l=n.get("showLabel"),u=n.get("r"),h=n.get("r2"),c=n.get("d"),v=n.get("molecularParam"),g=a.getNodes(),M=g.length,F=e?{x:e.x,y:e.y}:{x:t.x,y:t.y};n.get("dragging")&&(n.get("trigger")==="mousemove"||n.get("trigger")==="click")&&(F=n.get("cacheCenter"));var Y=n.get("delegateCenterDiff");Y&&(F.x+=Y.x,F.y+=Y.y),n.updateDelegate(F,u);for(var V=0;V<M;V++){var z=g[V].getModel(),it=z.x,ot=z.y;if(!(isNaN(it)||isNaN(ot))){var yt=(it-F.x)*(it-F.x)+(ot-F.y)*(ot-F.y);if(!isNaN(yt)&&yt<h&&yt!==0){var It=Math.sqrt(yt),zt=v*It/(c*It+u),jt=(it-F.x)/It,Rt=(ot-F.y)/It;if(z.x=jt*zt+F.x,z.y=Rt*zt+F.y,s[z.id]||(s[z.id]={x:it,y:ot,texts:[]}),o.push(z),l&&2*It<u)for(var re=g[V],de=re.getContainer(),fe=de.getChildren(),Me=fe.length,Le=0;Le<Me;Le++){var _e=fe[Le];_e.get("type")==="text"&&(s[z.id].texts.push({visible:_e.get("visible"),shape:_e}),_e.set("visible",!0))}}}}a.refreshPositions()},r.prototype.restoreCache=function(){for(var t=this,e=t.get("cachedMagnifiedModels"),n=t.get("cachedOriginPositions"),a=e.length,o=0;o<a;o++){var s=e[o],l=s.id,u=n[l];s.x=u.x,s.y=u.y;for(var h=u.texts.length,c=0;c<h;c++){var v=u.texts[c];v.shape.set("visible",v.visible)}}t.set("cachedMagnifiedModels",[]),t.set("cachedOriginPositions",{})},r.prototype.updateParams=function(t){var e=this,n=t.r,a=t.d,o=t.trigger,s=t.minD,l=t.maxD,u=t.minR,h=t.maxR,c=t.scaleDBy,v=t.scaleRBy;isNaN(t.r)||(e.set("r",n),e.set("r2",n*n)),isNaN(a)||e.set("d",a),isNaN(l)||e.set("maxD",l),isNaN(s)||e.set("minD",s),isNaN(h)||e.set("maxR",h),isNaN(u)||e.set("minR",u);var g=e.get("d"),M=e.get("r");if(e.set("molecularParam",(g+1)*M),(o==="mousemove"||o==="click"||o==="drag")&&e.set("trigger",o),c==="drag"||c==="wheel"||c==="unset"){e.set("scaleDBy",c),e.get("delegate").remove(),e.get("delegate").destroy();var F=e.get("dPercentText");F&&(F.remove(),F.destroy())}if(v==="drag"||v==="wheel"||v==="unset"){e.set("scaleRBy",v),e.get("delegate").remove(),e.get("delegate").destroy();var F=e.get("dPercentText");F&&(F.remove(),F.destroy())}},r.prototype.updateDelegate=function(t,e){var n=this,a=this,o=a.get("graph"),s=a.get("delegate");if(!s||s.destroyed){var l=o.get("group"),u=a.get("delegateStyle")||W1;s=l.addShape("circle",{attrs:Qt({r:e/1.5,x:t.x,y:t.y},u),name:"lens-shape",draggable:!0}),this.get("trigger")!=="drag"&&(this.get("scaleRBy")==="wheel"?s.on("mousewheel",function(M){a.scaleRByWheel(M)}):this.get("scaleRBy")==="drag"&&(s.on("dragstart",function(M){a.set("dragging",!0),a.set("cacheCenter",{x:M.x,y:M.y}),a.set("dragPrePos",{x:M.x,y:M.y})}),s.on("drag",function(M){a.scaleRByDrag(M)}),s.on("dragend",function(M){a.set("dragging",!1)})),this.get("scaleDBy")==="wheel"?s.on("mousewheel",function(M){n.scaleDByWheel(M)}):this.get("scaleDBy")==="drag"&&(s.on("dragstart",function(M){a.set("dragging",!0),a.set("cacheCenter",{x:M.x,y:M.y}),a.set("dragPrePos",{x:M.x,y:M.y})}),s.on("drag",function(M){n.scaleDByDrag(M)}),s.on("dragend",function(M){a.set("dragging",!1)})))}else s.attr({x:t.x,y:t.y,r:e/1.5});if(a.get("showDPercent")){var h=Math.round((a.get("d")-a.get("minD"))/(a.get("maxD")-a.get("minD"))*100),c=a.get("dPercentText"),v=t.y+e/1.5+16;if(!c||c.destroyed){var g=o.get("group");c=g.addShape("text",{attrs:{text:h+"%",x:t.x,y:v,fill:"#aaa",stroke:"#fff",lineWidth:1,fontSize:12}}),a.set("dPercentText",c)}else c.attr({text:h+"%",x:t.x,y:v})}a.set("delegate",s)},r.prototype.clear=function(){var t=this.get("graph");this.restoreCache(),t.refreshPositions();var e=this.get("delegate");e&&!e.destroyed&&(e.remove(),e.destroy());var n=this.get("dPercentText");n&&!n.destroyed&&(n.remove(),n.destroy())},r.prototype.destroy=function(){this.clear()},r}(Za),C8=S8;Bc()(`
  .g6-component-toolbar {
    position: absolute;
    list-style-type: none;
    padding: 6px;
    left: 0px;
    top: 0px;
    background-color: rgba(255, 255, 255, 0.9);
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    margin: 0;
  }
  .g6-component-toolbar li {
    float: left;
    text-align: center;
    width: 35px;
    height: 24px;
    cursor: pointer;
		list-style-type:none;
    list-style: none;
    margin-left: 0px;
  }
  .g6-component-toolbar li .icon {
    opacity: 0.7;
  }
  .g6-component-toolbar li .icon:hover {
    opacity: 1;
  }
`);var M8=function(i){Dn(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{handleClick:void 0,getContent:function(e){return`
          <ul class='g6-component-toolbar'>
            <li code='redo'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M256 682.666667c0-102.741333 66.730667-213.333333 213.333333-213.333334 107.008 0 190.762667 56.576 230.570667 125.354667L611.968 682.666667H853.333333v-241.365334l-91.562666 91.562667C704.768 448.469333 601.130667 384 469.333333 384c-196.096 0-298.666667 150.229333-298.666666 298.666667h85.333333z" fill="" p-id="2041"></path>
              </svg>
            </li>
            <li code='undo'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M170.666667 682.666667h241.365333l-87.936-87.978667C363.904 525.909333 447.658667 469.333333 554.666667 469.333333c146.602667 0 213.333333 110.592 213.333333 213.333334h85.333333c0-148.437333-102.570667-298.666667-298.666666-298.666667-131.797333 0-235.392 64.469333-292.48 148.821333L170.666667 441.301333V682.666667z" fill="" p-id="2764"></path>
              </svg>
            </li>
            <li  code='zoomOut'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M658.432 428.736a33.216 33.216 0 0 1-33.152 33.152H525.824v99.456a33.216 33.216 0 0 1-66.304 0V461.888H360.064a33.152 33.152 0 0 1 0-66.304H459.52V296.128a33.152 33.152 0 0 1 66.304 0V395.52H625.28c18.24 0 33.152 14.848 33.152 33.152z m299.776 521.792a43.328 43.328 0 0 1-60.864-6.912l-189.248-220.992a362.368 362.368 0 0 1-215.36 70.848 364.8 364.8 0 1 1 364.8-364.736 363.072 363.072 0 0 1-86.912 235.968l192.384 224.64a43.392 43.392 0 0 1-4.8 61.184z m-465.536-223.36a298.816 298.816 0 0 0 298.432-298.432 298.816 298.816 0 0 0-298.432-298.432A298.816 298.816 0 0 0 194.24 428.8a298.816 298.816 0 0 0 298.432 298.432z"></path>
              </svg>
            </li>
            <li code='zoomIn'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M639.936 416a32 32 0 0 1-32 32h-256a32 32 0 0 1 0-64h256a32 32 0 0 1 32 32z m289.28 503.552a41.792 41.792 0 0 1-58.752-6.656l-182.656-213.248A349.76 349.76 0 0 1 480 768 352 352 0 1 1 832 416a350.4 350.4 0 0 1-83.84 227.712l185.664 216.768a41.856 41.856 0 0 1-4.608 59.072zM479.936 704c158.784 0 288-129.216 288-288S638.72 128 479.936 128a288.32 288.32 0 0 0-288 288c0 158.784 129.216 288 288 288z" p-id="3853"></path>
              </svg>
            </li>
            <li code='realZoom'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">
                <path d="M384 320v384H320V320h64z m256 0v384H576V320h64zM512 576v64H448V576h64z m0-192v64H448V384h64z m355.968 576H92.032A28.16 28.16 0 0 1 64 931.968V28.032C64 12.608 76.608 0 95.168 0h610.368L896 192v739.968a28.16 28.16 0 0 1-28.032 28.032zM704 64v128h128l-128-128z m128 192h-190.464V64H128v832h704V256z"></path>
              </svg>
            </li>
            <li code='autoZoom'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">
                <path d="M684.288 305.28l0.128-0.64-0.128-0.64V99.712c0-19.84 15.552-35.904 34.496-35.712a35.072 35.072 0 0 1 34.56 35.776v171.008h170.944c19.648 0 35.84 15.488 35.712 34.432a35.072 35.072 0 0 1-35.84 34.496h-204.16l-0.64-0.128a32.768 32.768 0 0 1-20.864-7.552c-1.344-1.024-2.816-1.664-3.968-2.816-0.384-0.32-0.512-0.768-0.832-1.088a33.472 33.472 0 0 1-9.408-22.848zM305.28 64a35.072 35.072 0 0 0-34.56 35.776v171.008H99.776A35.072 35.072 0 0 0 64 305.216c0 18.944 15.872 34.496 35.84 34.496h204.16l0.64-0.128a32.896 32.896 0 0 0 20.864-7.552c1.344-1.024 2.816-1.664 3.904-2.816 0.384-0.32 0.512-0.768 0.768-1.088a33.024 33.024 0 0 0 9.536-22.848l-0.128-0.64 0.128-0.704V99.712A35.008 35.008 0 0 0 305.216 64z m618.944 620.288h-204.16l-0.64 0.128-0.512-0.128c-7.808 0-14.72 3.2-20.48 7.68-1.28 1.024-2.752 1.664-3.84 2.752-0.384 0.32-0.512 0.768-0.832 1.088a33.664 33.664 0 0 0-9.408 22.912l0.128 0.64-0.128 0.704v204.288c0 19.712 15.552 35.904 34.496 35.712a35.072 35.072 0 0 0 34.56-35.776V753.28h170.944c19.648 0 35.84-15.488 35.712-34.432a35.072 35.072 0 0 0-35.84-34.496z m-593.92 11.52c-0.256-0.32-0.384-0.768-0.768-1.088-1.088-1.088-2.56-1.728-3.84-2.688a33.088 33.088 0 0 0-20.48-7.68l-0.512 0.064-0.64-0.128H99.84a35.072 35.072 0 0 0-35.84 34.496 35.072 35.072 0 0 0 35.712 34.432H270.72v171.008c0 19.84 15.552 35.84 34.56 35.776a35.008 35.008 0 0 0 34.432-35.712V720l-0.128-0.64 0.128-0.704a33.344 33.344 0 0 0-9.472-22.848zM512 374.144a137.92 137.92 0 1 0 0.128 275.84A137.92 137.92 0 0 0 512 374.08z"></path>
              </svg>
            </li>
          </ul>
        `}}},r.prototype.init=function(){var t=this,e=this.get("graph"),n=this.get("getContent"),a=n(e),o=a;(0,Zn.HD)(a)&&(o=(0,pi.Z)(a));var s=this.get("className");o.setAttribute("class",s||"g6-component-toolbar");var l=this.get("container");l||(l=this.get("graph").get("container")),l.appendChild(o),this.set("toolBar",o);var u=this.get("handleClick");o.addEventListener("click",function(c){var v=c.path.filter(function(M){return M.nodeName==="LI"});if(v.length!==0){var g=v[0].getAttribute("code");!g||(u?u(g,e):t.handleDefaultOperator(g,e))}});var h=this.get("position");h&&(0,Pn.Z)(o,{top:h.y+"px",left:h.x+"px"}),this.bindUndoRedo()},r.prototype.bindUndoRedo=function(){var t=this.get("graph"),e=document.querySelector('.g6-component-toolbar li[code="undo"]'),n=document.querySelector('.g6-component-toolbar li[code="undo"] svg'),a=document.querySelector('.g6-component-toolbar li[code="redo"]'),o=document.querySelector('.g6-component-toolbar li[code="redo"] svg');!e||!n||!a||!o||t.on("stackchange",function(s){var l=s.undoStack,u=s.redoStack,h=l.length,c=u.length;h===1?(e.setAttribute("style","cursor: not-allowed"),n.setAttribute("style","opacity: 0.4")):(e.removeAttribute("style"),n.removeAttribute("style")),c===0?(a.setAttribute("style","cursor: not-allowed"),o.setAttribute("style","opacity: 0.4")):(a.removeAttribute("style"),o.removeAttribute("style"))})},r.prototype.undo=function(){var t=this.get("graph"),e=t.getUndoStack();if(!(!e||e.length===0)){var n=e.pop();if(n){var a=n.action;t.pushStack(a,(0,Zn.d9)(n.data),"redo");var o=n.data.before;if(a==="add"&&(o=n.data.after),!o)return;switch(a){case"visible":{Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){var h=t.findById(u.id);u.visible?t.showItem(h,!1):t.hideItem(h,!1)})});break}case"render":case"update":Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){t.updateItem(u.id,u,!1)})});break;case"changedata":t.changeData(o,!1);break;case"delete":{Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){var h=u.itemType;delete u.itemType,t.addItem(h,u,!1)})});break}case"add":Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){t.removeItem(u.id,!1)})});break;default:}}}},r.prototype.redo=function(){var t=this.get("graph"),e=t.getRedoStack();if(!(!e||e.length===0)){var n=e.pop();if(n){var a=n.action,o=n.data.after;if(t.pushStack(a,(0,Zn.d9)(n.data)),a==="delete"&&(o=n.data.before),!o)return;switch(a){case"visible":{Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){var h=t.findById(u.id);u.visible?t.showItem(h,!1):t.hideItem(h,!1)})});break}case"render":case"update":Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){t.updateItem(u.id,u,!1)})});break;case"changedata":t.changeData(o,!1);break;case"delete":o.edges&&o.edges.forEach(function(s){t.removeItem(s.id,!1)}),o.nodes&&o.nodes.forEach(function(s){t.removeItem(s.id,!1)}),o.combos&&o.combos.forEach(function(s){t.removeItem(s.id,!1)});break;case"add":{Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){var h=u.itemType;delete u.itemType,t.addItem(h,u,!1)})});break}default:}}}},r.prototype.handleDefaultOperator=function(t,e){var n=e.getZoom();switch(t){case"redo":this.redo();break;case"undo":this.undo();break;case"zoomOut":{var a=1+.05*5;if(a*n>5)return;e.zoomTo(n*1.1);break}case"zoomIn":{var o=1-.05*5;if(o*n<.3)return;e.zoomTo(n*.9);break}case"realZoom":e.zoomTo(1);break;case"autoZoom":e.fitView([20,20]);break;default:}},r.prototype.destroy=function(){var t=this.get("toolBar");if(t){var e=this.get("container");e||(e=this.get("graph").get("container")),e.removeChild(t)}var n=this.get("handleClick");n&&t.removeEventListener("click",n)},r}(Za),E8=M8;Bc()(`
  .g6-component-tooltip {
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 10px 8px;
    box-shadow: rgb(174, 174, 174) 0px 0px 10px;
  }
  .tooltip-type {
    padding: 0;
    margin: 0;
  }
  .tooltip-id {
    color: #531dab;
  }
`);var A8=function(i){Dn(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,getContent:function(e){return`
          <h4 class='tooltip-type'>\u7C7B\u578B\uFF1A`+e.item.getType()+`</h4>
          <span class='tooltip-id'>ID\uFF1A`+e.item.getID()+`</span>
        `},shouldBegin:function(e){return!0},itemTypes:["node","edge","combo"]}},r.prototype.getEvents=function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove","edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave","node:drag":"onMouseLeave"}},r.prototype.init=function(){var t=this.get("className")||"g6-component-tooltip",e=(0,pi.Z)("<div class="+t+"></div>"),n=this.get("container");n||(n=this.get("graph").get("container")),(0,Pn.Z)(e,{position:"absolute",visibility:"hidden"}),n.appendChild(e),this.set("tooltip",e)},r.prototype.onMouseEnter=function(t){var e=this.get("itemTypes");if(!(t.item&&t.item.getType&&e.indexOf(t.item.getType())===-1)){var n=t.item,a=this.get("graph");this.currentTarget=n,this.showTooltip(t),a.emit("tooltipchange",{item:t.item,action:"show"})}},r.prototype.onMouseMove=function(t){var e=this.get("itemTypes");t.item&&t.item.getType&&e.indexOf(t.item.getType())===-1||!this.currentTarget||t.item!==this.currentTarget||this.showTooltip(t)},r.prototype.onMouseLeave=function(){this.hideTooltip();var t=this.get("graph");t.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null},r.prototype.showTooltip=function(t){if(!!t.item){var e=this.get("itemTypes");if(!(t.item.getType&&e.indexOf(t.item.getType())===-1)){var n=this.get("tooltip"),a=this.get("getContent"),o=a(t);(0,mn.default)(o)?n.innerHTML=o:n.innerHTML=o.outerHTML,this.updatePosition(t)}}},r.prototype.hideTooltip=function(){var t=this.get("tooltip");t&&(0,Pn.Z)(t,{visibility:"hidden"})},r.prototype.updatePosition=function(t){var e=this.get("shouldBegin"),n=this.get("tooltip");if(!e(t)){(0,Pn.Z)(n,{visibility:"hidden"});return}var a=this.get("graph"),o=a.get("width"),s=a.get("height"),l=this.get("offsetX")||0,u=this.get("offsetY")||0,h=a.getPointByClient(t.clientX,t.clientY),c=a.getCanvasByPoint(h.x,h.y),v=c.x,g=c.y;v+=l,g+=u;var M=n.getBoundingClientRect();v+M.width>o&&(v=v-M.width-l),g+M.height>s&&(g=g-M.height-u),(0,Pn.Z)(n,{left:v+"px",top:g+"px",visibility:"visible"})},r.prototype.hide=function(){this.onMouseLeave()},r.prototype.destroy=function(){var t=this.get("tooltip");if(t){var e=this.get("container");e||(e=this.get("graph").get("container")),e.removeChild(t)}},r}(Za),T8=A8,j1=d(89539);function P8(i){return(0,f.map)(i,function(r,t){var e=t===0?"M":"L",n=r[0],a=r[1];return[e,n,a]})}function U1(i){return P8(i)}function _8(i){if(i.length<=2)return U1(i);var r=[];(0,f.each)(i,function(o){(0,f.isEqual)(o,r.slice(r.length-2))||r.push(o[0],o[1])});var t=pl.catmullRom2Bezier(r,!1),e=(0,f.head)(i),n=e[0],a=e[1];return t.unshift(["M",n,a]),t}function L8(i,r,t,e){e===void 0&&(e=!0);var n=new Nr.Linear({values:i}),a=new Nr.Category({values:(0,f.map)(i,function(s,l){return l})}),o=(0,f.map)(i,function(s,l){return[a.scale(l)*r,t-n.scale(s)*t]});return e?_8(o):U1(o)}function O8(i,r,t){for(var e=new Nr.Linear({values:i}),n=new Nr.Category({values:(0,f.map)(i,function(c,v){return v})}),a=(0,f.map)(i,function(c,v){return[n.scale(v)*r,t-e.scale(c)*t]}),o=[],s=0;s<a.length;s++){var l=a[s],u={x:l[0],y:l[1],y0:t,size:5},h=B8(u);o.push.apply(o,h)}return D8(o)}function I8(i,r){var t=new Nr.Linear({values:i}),e=Math.max(0,t.min);return r-t.scale(e)*r}function k8(i,r,t,e){var n=Xs(i),a=I8(e,t);return n.push(["L",r,a]),n.push(["L",0,a]),n.push(["Z"]),n}function B8(i){var r=i.x,t=i.y,e=i.y0,n=i.size,a,o;(0,j1.isArray)(t)?(a=t[0],o=t[1]):(a=e,o=t);var s,l;(0,j1.isArray)(r)?(s=r[0],l=r[1]):(s=r-n/2,l=r+n/2);var u=[{x:s,y:a},{x:s,y:o}];return u.push({x:l,y:o},{x:l,y:a}),u}function D8(i,r){r===void 0&&(r=!0);var t=[],e=i[0];t.push(["M",e.x,e.y]);for(var n=1,a=i.length;n<a;n++)t.push(["L",i[n].x,i[n].y]);return r&&(t.push(["L",e.x,e.y]),t.push(["z"])),t}var _z={opacity:.5},F8={stroke:"#C5C5C5",strokeOpacity:.85},R8={fill:"#CACED4",opacity:.85},N8=function(){function i(r){var t=r.x,e=t===void 0?0:t,n=r.y,a=n===void 0?0:n,o=r.width,s=o===void 0?200:o,l=r.height,u=l===void 0?26:l,h=r.smooth,c=h===void 0?!0:h,v=r.isArea,g=v===void 0?!1:v,M=r.data,F=M===void 0?[]:M,Y=r.lineStyle,V=r.areaStyle,z=r.group,it=r.interval,ot=it===void 0?null:it;this.group=z,this.x=e,this.y=a,this.width=s,this.height=u,this.data=F,this.smooth=c,this.isArea=g,this.lineStyle=Object.assign({},F8,Y),this.areaStyle=Object.assign({},R8,V),this.intervalConfig=ot,this.renderLine()}return i.prototype.renderLine=function(){var r=this,t=r.x,e=r.y,n=r.width,a=r.height,o=r.data,s=r.smooth,l=r.isArea,u=r.backgroundStyle,h=r.lineStyle,c=r.areaStyle,v=this.group.addGroup({name:"trend-group"});if(o){var g=L8(o,n,a,s);if(v.addShape("path",{attrs:Qt({path:g},h)}),l){var M=k8(g,n,a,o);v.addShape("path",{attrs:Qt({path:M},c)})}}this.intervalConfig&&v.addShape("path",{attrs:Qt({path:O8(this.intervalConfig.data,n,a)},this.intervalConfig.style)}),v.move(t,e)},i.prototype.destory=function(){this.group.destroy()},i}(),Y8=N8,G8={fill:"#1890ff",stroke:"#1890ff",type:"trend",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#0050b3"},z8={fill:"#fff",stroke:"#1890ff",radius:2,opacity:1,cursor:"ew-resize"},X8=function(){function i(r){var t=r.group,e=r.name,n=r.type,a=r.x,o=a===void 0?0:a,s=r.y,l=s===void 0?0:s,u=r.width,h=u===void 0?2:u,c=r.height,v=c===void 0?24:c,g=r.style,M=g===void 0?{}:g;this.group=t,this.name=e,this.handleType=n,this.x=o,this.y=l,this.width=h,this.height=v,n==="trend"?this.style=Qt(Qt({},G8),M):n==="simple"&&(this.style=Qt(Qt({},z8),M)),this.renderHandle()}return i.prototype.setX=function(r){this.setXY(r,void 0)},i.prototype.setY=function(r){this.setXY(void 0,r)},i.prototype.setXY=function(r,t){(0,f.isNumber)(r)&&(this.x=r),(0,f.isNumber)(t)&&(this.y=t),this.updateXY()},i.prototype.renderHandle=function(){var r=this,t=r.width,e=r.height,n=r.style,a=r.name,o=n.fill,s=n.stroke,l=n.radius,u=n.opacity,h=n.cursor;this.handleGroup=this.group.addGroup(),this.handleType==="trend"?(this.background=this.handleGroup.addShape("rect",{attrs:{x:0,y:0,width:t,height:e,fill:o,stroke:s,radius:l,opacity:u,cursor:h},name:a+"-handler"}),this.handleGroup.addShape("circle",{attrs:{x:t/2,y:0,r:2*t,fill:o,stroke:s,radius:l,opacity:u,cursor:h},name:a+"-handler"}),this.handleGroup.addShape("circle",{attrs:{x:t/2,y:e,r:2*t,fill:o,stroke:s,radius:l,opacity:u,cursor:h},name:a+"-handler"})):this.handleType==="simple"&&(this.handleGroup.addShape("circle",{attrs:{x:t/2,y:e/2,r:2*t,fill:o,stroke:s,radius:l,opacity:u,cursor:h},name:a+"-handler"}),this.handleGroup.addShape("circle",{attrs:{x:t/2,y:e/2,r:2*t,fill:o,stroke:s,radius:l,opacity:u,cursor:h},name:a+"-handler"})),this.updateXY(),this.handleType==="trend"&&this.bindEvents()},i.prototype.bindEvents=function(){var r=this,t=this.name;this.handleGroup.on(t+"-handler:mouseenter",function(){var e=r.style.highLightFill;r.background.attr("fill",e)}),this.handleGroup.on(t+"-handler:mouseleave",function(){var e=r.style.fill;r.background.attr("fill",e)})},i.prototype.show=function(){this.handleGroup.show()},i.prototype.hide=function(){this.handleGroup.hide()},i.prototype.updateXY=function(){this.handleGroup.setMatrix([1,0,0,0,1,0,this.x,this.y,1])},i}(),Z1=X8,V8=function(){function i(r){this.config=(0,f.deepMix)({},r),this.init()}return i.prototype.update=function(r){this.config=(0,f.deepMix)({},this.config,r),this.updateElement(),this.renderMarker()},i.prototype.init=function(){this.initElement(),this.renderMarker()},i.prototype.initElement=function(){var r=this.config,t=r.group,e=r.style;this.circle=t.addShape("circle",{attrs:Qt({x:this.config.x,y:this.config.y,r:this.config.r},e)}),this.startMarker=t.addShape("path",{attrs:{path:this.getStartMarkerPath(),fill:"#ccc"},name:"playPauseBtn"}),this.pauseGroupMarker=t.addGroup();var n=1/4*this.config.r,a=.5*this.config.r*Math.sqrt(3);this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x-(1/4+1/8)*this.config.r,y:this.config.y-a/2,width:n*2.5,height:a,fill:"#fff"},name:"playPauseBtn"}),this.pauseLeftMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x-(1/4+1/8)*this.config.r,y:this.config.y-a/2,width:n,height:a,fill:"#ccc"},name:"playPauseBtn"}),this.pauseRightMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x+1/8*this.config.r,y:this.config.y-a/2,width:n,height:a,fill:"#ccc"},name:"playPauseBtn"})},i.prototype.updateElement=function(){this.circle.attr("x",this.config.x),this.circle.attr("y",this.config.y),this.circle.attr("r",this.config.r),this.startMarker.attr("path",this.getStartMarkerPath());var r=1/4*this.config.r,t=.5*this.config.r*Math.sqrt(3);this.pauseLeftMarker.attr("x",this.config.x-(1/4+1/8)*this.config.r),this.pauseLeftMarker.attr("y",this.config.y-t/2),this.pauseLeftMarker.attr("width",r),this.pauseLeftMarker.attr("height",t),this.pauseRightMarker.attr("x",this.config.x+1/8*this.config.r),this.pauseRightMarker.attr("y",this.config.y-t/2),this.pauseRightMarker.attr("width",r),this.pauseRightMarker.attr("height",t)},i.prototype.renderMarker=function(){this.config.isPlay?(this.startMarker.hide(),this.pauseGroupMarker.show()):(this.startMarker.show(),this.pauseGroupMarker.hide())},i.prototype.getStartMarkerPath=function(){var r=.5*this.config.r*Math.sqrt(3);return[["M",this.config.x-r/Math.sqrt(3)/2,this.config.y-r/2],["L",this.config.x+r/Math.sqrt(3),this.config.y],["L",this.config.x-r/Math.sqrt(3)/2,this.config.y+r/2]]},i}(),H8=V8,W8="#ccc",j8="green",U8={fill:"#607889",stroke:"#607889"},Z8={fill:"#fff"},K8={fill:"green"},$8={speed:2,loop:!1,fill:"#fff",stroke:"#fff",hiddleToggle:!1,preBtnStyle:{fill:"#ccc",stroke:"#ccc"},nextBtnStyle:{fill:"#ccc",stroke:"#ccc"},playBtnStyle:{fill:"#fff",stroke:"#ccc"}},rl=110,$a=50,Q8=function(){function i(r){this.controllerCfg=(0,f.deepMix)({},$8,r),this.group=r.group,this.speedAxisY=[],this.currentSpeed=this.controllerCfg.speed,this.currentType="range",this.init()}return i.prototype.init=function(){this.renderPlayButton()},i.prototype.getNextMarkerPath=function(r,t,e){return[["M",r,t-e],["L",r+e,t],["L",r,t+e]]},i.prototype.getPreMarkerPath=function(r,t,e){return[["M",r,t-e],["L",r-e,t],["L",r,t+e]]},i.prototype.renderPlayButton=function(){var r=this.controllerCfg,t=r.width,e=r.height,n=r.x,a=r.y,o=r.hiddleToggle,s=r.fill,l=s===void 0?W8:s,u=r.stroke,h=u===void 0?j8:u,c=r.playBtnStyle,v=c===void 0?U8:c,g=r.preBtnStyle,M=g===void 0?Z8:g,F=r.nextBtnStyle,Y=F===void 0?K8:F,V=e/2-5,z=a+10,it=this.group.addShape("rect",{attrs:{x:n,y:z,width:t,height:e,stroke:h,fill:l},name:"container-rect"});this.playButton?this.playButton.update({x:t/2,y:z,r:V}):this.playButton=new H8({group:this.group,x:t/2,y:z+V+5,r:V,isPlay:this.isPlay,style:v}),this.group.addShape("path",{attrs:Qt({path:this.getPreMarkerPath(t/2-5*V,z+V+5,V*.5)},M),name:"preStepBtn"}),this.group.addShape("path",{attrs:Qt({path:this.getPreMarkerPath(t/2-4.5*V,z+V+5,V*.5)},M),name:"preStepBtn"}),this.group.addShape("path",{attrs:Qt({path:this.getNextMarkerPath(t/2+5*V,z+V+5,V*.5)},Y),name:"nextStepBtn"}),this.group.addShape("path",{attrs:Qt({path:this.getNextMarkerPath(t/2+4.5*V,z+V+5,V*.5)},Y),name:"nextStepBtn"}),it.toBack(),this.renderSpeedBtn(),o||this.renderToggleTime(),this.bindEvent()},i.prototype.renderSpeedBtn=function(){var r=this.controllerCfg,t=r.y,e=r.width,n=r.hiddleToggle,a=this.group.addGroup({name:"speed-group"});this.speedGroup=a;for(var o=1,s=[],l=9,u=0;u<5;u++){var h=t+15+u*(u+1)+o;a.addShape("rect",{attrs:{x:e-(n?$a:rl),y:h,width:15,height:2,fill:"#ccc"},speed:l,name:"speed-rect"}),this.speedAxisY.push(h),s.push(l),l=l-2,o++}for(var u=0;u<4;u++)a.addShape("rect",{attrs:{x:e-(n?$a:rl),y:this.speedAxisY[u]+2,width:15,height:2*u+1,fill:"#fff",opacity:.3},speed:s[u]-1,name:"speed-rect"});this.speedText=a.addShape("text",{attrs:{x:e-(n?$a:rl)+20,y:this.speedAxisY[1]+15,text:"1.0X",fill:"#ccc"}}),this.speedPoint=a.addShape("path",{attrs:{path:this.getPath(e-(n?$a:rl),this.speedAxisY[4]),fill:"#ccc"}})},i.prototype.getPath=function(r,t){return[["M",r,t],["L",r-12,t-6],["L",r-12,t+6],["Z"]]},i.prototype.renderToggleTime=function(){var r=this.controllerCfg.width;this.toggleGroup=this.group.addGroup({name:"toggle-group"}),this.toggleGroup.addShape("rect",{attrs:{width:14,height:14,x:r-$a,y:this.speedAxisY[1],fill:"#fff",stroke:"#ccc",lineWidth:2,radius:3},isChecked:!1,name:"toggle-model"}),this.checkedIcon=this.toggleGroup.addShape("path",{attrs:{path:[["M",r-$a+3,this.speedAxisY[1]+6],["L",r-$a+7,this.speedAxisY[1]+10],["L",r-$a+12,this.speedAxisY[1]+4]],stroke:"green",lineWidth:3},capture:!1}),this.checkedIcon.hide(),this.checkedText=this.toggleGroup.addShape("text",{attrs:{text:"\u5355\u4E00\u65F6\u95F4",x:r-$a+20,y:this.speedAxisY[1]+15,fill:"#ccc"}})},i.prototype.bindEvent=function(){var r=this,t=this.controllerCfg,e=t.width,n=t.hiddleToggle;this.speedGroup.on("speed-rect:click",function(a){r.speedPoint.attr("path",r.getPath(e-(n?$a:rl),a.y)),r.currentSpeed=a.target.get("speed"),r.speedText.attr("text",r.currentSpeed+".0X"),r.group.emit("timebarConfigChanged",{speed:r.currentSpeed,type:r.currentType})}),this.toggleGroup&&this.toggleGroup.on("toggle-model:click",function(a){var o=a.target.get("isChecked");o?(r.checkedIcon.hide(),r.checkedText.attr("text","\u5355\u4E00\u65F6\u95F4"),r.currentType="range"):(r.checkedIcon.show(),r.checkedText.attr("text","\u65F6\u95F4\u8303\u56F4"),r.currentType="single"),a.target.set("isChecked",!o),r.group.emit("timebarConfigChanged",{type:r.currentType,speed:r.currentSpeed})})},i.prototype.destroy=function(){this.speedGroup.off("speed-rect:click"),this.toggleGroup&&(this.toggleGroup.off("toggle-model:click"),this.toggleGroup.destroy()),this.speedGroup.destroy()},i}(),K1=Q8,$1="timelinestart",Q1="timelineend",Qa="valueChange",rf="timebarConfigChanged",nf="playPauseBtn",af="nextStepBtn",of="preStepBtn",J8={fill:"#416180",opacity:.05},q8={fill:"#416180",opacity:.15,radius:5},t9={fill:"#5B8FF9",opacity:.3,cursor:"move"},Dc=2,e9={width:Dc,height:24},r9={textBaseline:"middle",fill:"#000",opacity:.45},n9=function(){function i(r){var t=this;this.prevX=0,this.onMouseDown=function(Xe){return function(pr){t.currentHandler=Xe;var cr=pr.originalEvent;cr.stopPropagation(),cr.preventDefault(),t.prevX=(0,f.get)(cr,"touches.0.pageX",cr.pageX);var br=t.canvas.get("container");br.addEventListener("mousemove",t.onMouseMove),br.addEventListener("mouseup",t.onMouseUp),br.addEventListener("mouseleave",t.onMouseUp),br.addEventListener("touchmove",t.onMouseMove),br.addEventListener("touchend",t.onMouseUp),br.addEventListener("touchcancel",t.onMouseUp)}},this.onMouseMove=function(Xe){Xe.stopPropagation(),Xe.preventDefault();var pr=(0,f.get)(Xe,"touches.0.pageX",Xe.pageX),cr=pr-t.prevX,br=t.adjustOffsetRange(cr/t.width);t.updateStartEnd(br),t.updateUI(),t.prevX=pr},this.onMouseUp=function(){t.currentHandler&&(t.currentHandler=void 0);var Xe=t.canvas.get("container");Xe&&(Xe.removeEventListener("mousemove",t.onMouseMove),Xe.removeEventListener("mouseup",t.onMouseUp),Xe.removeEventListener("mouseleave",t.onMouseUp),Xe.removeEventListener("touchmove",t.onMouseMove),Xe.removeEventListener("touchend",t.onMouseUp),Xe.removeEventListener("touchcancel",t.onMouseUp))};var e=r.x,n=e===void 0?0:e,a=r.y,o=a===void 0?0:a,s=r.width,l=s===void 0?100:s,u=r.height,h=r.padding,c=h===void 0?10:h,v=r.trendCfg,g=r.controllerCfg,M=g===void 0?{speed:1}:g,F=r.backgroundStyle,Y=F===void 0?{}:F,V=r.foregroundStyle,z=V===void 0?{}:V,it=r.handlerStyle,ot=it===void 0?{}:it,yt=r.textStyle,It=yt===void 0?{}:yt,zt=r.start,jt=zt===void 0?0:zt,Rt=r.end,re=Rt===void 0?1:Rt,de=r.minText,fe=de===void 0?"":de,Me=r.maxText,Le=Me===void 0?"":Me,_e=r.group,He=r.graph,je=r.canvas,Ze=r.ticks,ze=r.type;this.graph=He,this.canvas=je,this.group=_e,this.timeBarType=ze,this.x=n,this.y=o,this.width=l,this.height=u,this.padding=c,this.ticks=Ze,this.trendCfg=v,this.controllerCfg=M,this.currentSpeed=M.speed,ze==="trend"?this.backgroundStyle=Qt(Qt({},J8),Y):ze==="simple"&&(this.backgroundStyle=Qt(Qt({},q8),Y)),this.foregroundStyle=Qt(Qt({},t9),z),this.handlerStyle=Qt(Qt({},e9),ot),this.textStyle=Qt(Qt({},r9),It),this.currentMode="range",this.start=jt,this.end=re,this.minText=fe,this.maxText=Le,this.renderSlider()}return i.prototype.update=function(r){var t=r.x,e=r.y,n=r.width,a=r.height,o=r.minText,s=r.maxText,l=r.start,u=r.end;this.start=Math.min(1,Math.max(l,0)),this.end=Math.min(1,Math.max(u,0)),(0,f.assign)(this,{x:t,y:e,width:n,height:a,minText:o,maxText:s}),this.updateUI()},i.prototype.setText=function(r,t){this.minTextShape.attr("text",r),this.maxTextShape.attr("text",t)},i.prototype.renderSlider=function(){var r=this,t=this,e=t.width,n=t.height,a=t.timeBarType;if(a==="trend"&&(0,f.size)((0,f.get)(this.trendCfg,"data"))){var o=new Y8(Qt(Qt({x:this.x,y:this.y,width:e,height:n},this.trendCfg),{group:this.group}));this.trendComponent=o}var s=this.group.addGroup({name:"slider-group"});s.addShape("rect",{attrs:Qt({x:0,y:0,width:e,height:n},this.backgroundStyle)});var l=this.group.addGroup();a==="trend"?(this.minTextShape=l.addShape("text",{attrs:Qt({x:0,y:n/2+this.y,textAlign:"right",text:this.minText,silent:!1},this.textStyle),capture:!1}),this.maxTextShape=l.addShape("text",{attrs:Qt({y:n/2+this.y,textAlign:"left",text:this.maxText,silent:!1},this.textStyle),capture:!1})):(this.minTextShape=l.addShape("text",{attrs:Qt({x:0,y:this.y-10,textAlign:"center",text:this.minText,silent:!1},this.textStyle),capture:!1}),this.maxTextShape=l.addShape("text",{attrs:Qt({y:this.y-10,textAlign:"center",text:this.maxText,silent:!1},this.textStyle),capture:!1})),this.foregroundShape=this.group.addGroup().addShape("rect",{attrs:Qt({x:0,y:this.y,height:n},this.foregroundStyle)});var u=(0,f.get)(this.handlerStyle,"width",2),h=(0,f.get)(this.handlerStyle,"height",24),c=this.group.addGroup({name:"minHandlerShape"});this.minHandlerShape=new Z1(Qt({name:"minHandlerShape",group:c,type:a,x:this.x,y:this.y,width:u,height:h,cursor:"ew-resize"},this.handlerStyle));var v=this.group.addGroup({name:"maxHandlerShape"});this.maxHandlerShape=new Z1(Qt({name:"maxHandlerShape",group:v,type:a,x:this.x,y:this.y,width:u,height:h,cursor:"ew-resize"},this.handlerStyle));var g=this.ticks,M=e/(g.length-1);this.tickPosList=[],this.textList&&this.textList.length&&this.textList.forEach(function(Y){Y.destroy()});var F=-Infinity;this.textList=g.map(function(Y,V){r.tickPosList.push(r.x+V*M);var z=r.group.addShape("text",{attrs:{x:r.x+V*M,y:r.y+n+5,text:Y,textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35}}),it=r.group.addShape("line",{attrs:{x1:r.x+V*M,y1:r.y+n+2,x2:r.x+V*M,y2:r.y+n+6,lineWidth:1,stroke:"#ccc"}}),ot=z.getBBox();return ot.minX>F?(z.show(),it.show(),F=ot.minX+ot.width+10):(z.hide(),it.hide()),z}),this.controllerBtnGroup=new K1({group:this.group,x:this.x,y:this.y+n+25,width:e,height:40}),this.updateUI(),s.move(this.x,this.y),this.bindEvents()},i.prototype.bindEvents=function(){var r=this,t=this.group.find(function(n){return n.get("name")==="minHandlerShape"});t&&(t.on("minHandlerShape-handler:mousedown",this.onMouseDown(this.minHandlerShape)),t.on("minHandlerShape-handler:touchstart",this.onMouseDown(this.minHandlerShape)));var e=this.group.find(function(n){return n.get("name")==="maxHandlerShape"});e&&(e.on("maxHandlerShape-handler:mousedown",this.onMouseDown(this.maxHandlerShape)),e.on("maxHandlerShape-handler:touchstart",this.onMouseDown(this.maxHandlerShape))),this.foregroundShape.on("mousedown",this.onMouseDown(this.foregroundShape)),this.foregroundShape.on("touchstart",this.onMouseDown(this.foregroundShape)),this.group.on(nf+":click",function(){r.isPlay=!r.isPlay,r.currentHandler=r.maxHandlerShape,r.changePlayStatus()}),this.group.on(af+":click",function(){r.currentHandler=r.maxHandlerShape,r.updateStartEnd(.01),r.updateUI()}),this.group.on(of+":click",function(){r.currentHandler=r.maxHandlerShape,r.updateStartEnd(-.01),r.updateUI()}),this.group.on(rf,function(n){var a=n.type,o=n.speed;r.currentSpeed=o,r.currentMode=a,a==="single"?(r.minHandlerShape.hide(),r.foregroundShape.hide(),r.minTextShape.hide()):a==="range"&&(r.minHandlerShape.show(),r.foregroundShape.show(),r.minTextShape.show())})},i.prototype.adjustTickIndex=function(r){for(var t=0;t<this.tickPosList.length-1;t++)if(this.tickPosList[t]<=r&&r<=this.tickPosList[t+1])return Math.abs(this.tickPosList[t]-r)<Math.abs(r-this.tickPosList[t+1])?t:t+1},i.prototype.adjustOffsetRange=function(r){switch(this.currentHandler){case this.minHandlerShape:{var t=0-this.start,e=1-this.start;return Math.min(e,Math.max(t,r))}case this.maxHandlerShape:{var t=0-this.end,e=1-this.end;return Math.min(e,Math.max(t,r))}case this.foregroundShape:{var t=0-this.start,e=1-this.end;return Math.min(e,Math.max(t,r))}default:return 0}},i.prototype.updateStartEnd=function(r){switch(this.currentHandler){case this.minHandlerShape:this.maxText=this.maxTextShape.attr("text"),this.start+=r,this.minText=this.ticks[this.adjustTickIndex(this.start*this.width)];break;case this.maxHandlerShape:this.minText=this.minTextShape.attr("text"),this.end+=r,this.maxText=this.ticks[this.adjustTickIndex(this.end*this.width)];break;case this.foregroundShape:this.start+=r,this.end+=r,this.minText=this.ticks[this.adjustTickIndex(this.start*this.width)],this.maxText=this.ticks[this.adjustTickIndex(this.end*this.width)];break;default:break}},i.prototype.updateUI=function(){var r=this;this.start<0&&(this.start=0),this.end>1&&(this.end=1);var t=this.start*this.width,e=this.end*this.width;this.foregroundShape.attr("x",t),this.foregroundShape.attr("width",e-t);var n=(0,f.get)(this.handlerStyle,"width",Dc);this.setText(this.minText,this.maxText);var a=this.dodgeText([t,e]),o=a[0],s=a[1];this.minHandlerShape.setX(t-n/2),(0,f.each)(o,function(l,u){return r.minTextShape.attr(u,l)}),this.maxHandlerShape.setX(e-n/2),(0,f.each)(s,function(l,u){return r.maxTextShape.attr(u,l)}),this.currentMode==="range"?this.graph.emit(Qa,{value:[this.start,this.end].sort()}):this.currentMode==="single"&&this.graph.emit(Qa,{value:[this.end,this.end]})},i.prototype.dodgeText=function(r){var t,e,n=2,a=(0,f.get)(this.handlerStyle,"width",Dc),o=this.minTextShape,s=this.maxTextShape,l=r[0],u=r[1],h=!1;l>u&&(t=[u,l],l=t[0],u=t[1],e=[s,o],o=e[0],s=e[1],h=!0);var c=o.getBBox(),v=s.getBBox(),g=null,M=null;return this.timeBarType==="trend"?(g=c.width>l-n?{x:l+a/2+n,textAlign:"left"}:{x:l-a/2-n,textAlign:"right"},M=v.width>this.width-u-n?{x:u-a/2-n,textAlign:"right"}:{x:u+a/2+n,textAlign:"left"}):this.timeBarType==="simple"&&(g=c.width>l-n?{x:l+a/2+n,textAlign:"center"}:{x:l-a/2-n,textAlign:"center"},M=v.width>this.width-u-n?{x:u-a/2-n,textAlign:"center"}:{x:u+a/2+n,textAlign:"center"}),h?[M,g]:[g,M]},i.prototype.startPlay=function(){var r=this;return window.requestAnimationFrame(function(){var t=r,e=t.ticks,n=t.width,a=r.currentSpeed,o=n/e.length,s=o/((10-a)*1e3/60),l=r.adjustOffsetRange(s/r.width);r.updateStartEnd(l),r.updateUI(),r.isPlay&&(r.playHandler=r.startPlay())})},i.prototype.changePlayStatus=function(r){r===void 0&&(r=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit($1,null)):this.playHandler&&(window.cancelAnimationFrame(this.playHandler),r&&this.graph.emit(Q1,null))},i.prototype.destory=function(){this.graph.off(Qa);var r=this.group,t=r.find(function(n){return n.get("name")==="minHandlerShape"});t&&(t.off("minHandlerShape-handler:mousedown"),t.off("minHandlerShape-handler:touchstart"),t.destroy());var e=r.find(function(n){return n.get("name")==="maxHandlerShape"});e&&(e.off("maxHandlerShape-handler:mousedown"),e.off("maxHandlerShape-handler:touchstart"),e.destroy()),this.foregroundShape.off("mousedown"),this.foregroundShape.off("touchstart"),this.foregroundShape.destroy(),r.off(nf+":click"),r.off(af+":click"),r.off(of+":click"),r.off(rf),r.destroy(),this.trendComponent&&this.trendComponent.destory()},i}(),i9=n9,Lz={opacity:.5,fill:"#000"},Oz={opacity:.5,fill:"#000",r:5},Iz={fill:"#fff",fontSize:12},a9=function(){function i(r){var t=r.x,e=t===void 0?0:t,n=r.y,a=n===void 0?0:n,o=r.container,s=r.text,l=r.padding,u=l===void 0?[4,4,4,4]:l,h=r.className,c=h===void 0?"g6-component-timebar-tooltip":h,v=r.backgroundColor,g=v===void 0?"#000":v,M=r.textColor,F=M===void 0?"#fff":M,Y=r.opacity,V=Y===void 0?.8:Y,z=r.fontSize,it=z===void 0?12:z;this.container=o,this.className=c,this.backgroundColor=g,this.textColor=F,this.x=e,this.y=a,this.text=s,this.padding=u,this.opacity=V,this.fontSize=it,this.render()}return i.prototype.render=function(){var r=this,t=r.className,e=r.x,n=r.y,a=r.backgroundColor,o=r.textColor,s=r.text,l=r.padding,u=r.opacity,h=r.fontSize,c=r.container,v=(0,pi.Z)("<div class='"+t+`' style="position: absolute; width: fit-content; height: fit-content; opacity: `+u+'"></div>');(0,f.isString)(c)&&(c=document.getElementById(c)),c.appendChild(v),r.parentHeight=c.offsetHeight,r.parentWidth=c.offsetWidth,(0,Pn.Z)(v,{visibility:"hidden",top:0,left:0});var g=(0,pi.Z)(`
      <div style='position: absolute; white-space:nowrap; background-color: `+a+"; font-size: "+h+"px; border-radius: 4px; width: fit-content; height: fit-content; color: "+o+"; padding: "+l[0]+"px "+l[1]+"px "+l[2]+"px "+l[3]+"px'></div>");g.innerHTML=s,v.appendChild(g),r.backgroundDOM=g;var M=(0,pi.Z)("<div style='position: absolute; width: 0px; height: 0px; border-left: 5px solid transparent; border-right: 5px solid transparent; border-top: 10px solid "+a+"'></div>");v.appendChild(M),r.arrowDOM=M,r.container=v},i.prototype.show=function(r){var t=this,e=r.text,n=r.x,a=r.y,o=r.clientX,s=r.clientY;t.backgroundDOM.innerHTML=e;var l=t.backgroundDOM.offsetWidth,u=t.backgroundDOM.offsetHeight,h=t.arrowDOM.offsetWidth,c=t.arrowDOM.offsetHeight;(0,Pn.Z)(t.container,{top:-u-c+"px",left:n+"px",visibility:"visible"}),(0,Pn.Z)(t.backgroundDOM,{marginLeft:-l/2+"px"}),(0,Pn.Z)(t.arrowDOM,{marginLeft:-h/2+"px",top:u+"px"});var v=n-l/2,g=n+l/2;v<0?(0,Pn.Z)(t.backgroundDOM,{marginLeft:-l/2-v+"px"}):g>t.parentWidth&&(0,Pn.Z)(t.backgroundDOM,{marginLeft:-l/2-g+t.parentWidth+12+"px"})},i.prototype.hide=function(){(0,Pn.Z)(this.container,{top:0,left:0,visibility:"hidden"})},i}(),o9=a9,s9={fill:"#5B8FF9"},l9={fill:"#e6e8e9"},u9=function(){function i(r){this.frameCount=0;var t=r.graph,e=r.canvas,n=r.group,a=r.width,o=r.height,s=r.padding,l=r.data,u=r.start,h=r.end,c=r.x,v=c===void 0?0:c,g=r.y,M=g===void 0?0:g,F=r.tickLabelFormatter,Y=r.selectedTickStyle,V=Y===void 0?s9:Y,z=r.unselectedTickStyle,it=z===void 0?l9:z,ot=r.tooltipBackgroundColor,yt=r.tooltipFomatter;this.graph=t,this.group=n,this.sliceGroup=n.addGroup({name:"slice-group"}),this.canvas=e,this.width=a,this.height=o,this.padding=s,this.data=l,this.start=u,this.end=h,this.tickLabelFormatter=F,this.selectedTickStyle=V,this.unselectedTickStyle=it,this.x=v,this.y=M,this.tooltipBackgroundColor=ot,this.tooltipFomatter=yt,this.renderSlices(),this.initEvent()}return i.prototype.renderSlices=function(){var r=this,t=r.width,e=r.height,n=r.padding,a=r.data,o=r.start,s=r.end,l=r.tickLabelFormatter,u=r.selectedTickStyle,h=r.unselectedTickStyle,c=t-2*n,v=10,g=4,M=3*n+g+v,F=e-M-2*n,Y=2,V=a.length,z=(c-Y*(V-1))/V;this.tickWidth=z;var it=this.sliceGroup,ot=[],yt=[],It=Math.round(V*o),zt=Math.round(V*s);this.startTickRectId=It,this.endTickRectId=zt,a.forEach(function(Rt,re){var de=re>=It&&re<=zt,fe=de?u:h,Me=it.addShape("rect",{attrs:Qt({x:n+re*(z+Y),y:n,width:z,height:F},fe),draggable:!0,name:"tick-rect-"+re}),Le=it.addShape("rect",{attrs:{x:n+re*z+Y*(2*re-1)/2,y:n,width:re===0||re===V-1?z+Y/2:z+Y,height:F,fill:"#fff",opacity:0},draggable:!0,name:"pick-rect-"+re});Le.toFront();var _e=Me.getBBox(),He=(_e.minX+_e.maxX)/2;ot.push({rect:Me,pickRect:Le,value:Rt.date,x:He,y:_e.minY});var je;if(l?(je=l(Rt),!(0,f.isString)(je)&&je&&(je=Rt.date)):re%Math.round(V/10)==0&&(je=Rt.date),je){yt.push(je);var Ze=_e.maxY+n*2;it.addShape("line",{attrs:{stroke:"#BFBFBF",x1:He,y1:Ze,x2:He,y2:Ze+g}});var ze=Ze+g+n,Xe=it.addShape("text",{attrs:{fill:"#8c8c8c",stroke:"#fff",lineWidth:1,x:He,y:ze,textAlign:"center",text:je,textBaseline:"top",fontSize:10},capture:!1}),pr=Xe.getBBox();pr.maxX>t?Xe.attr("textAlign","right"):pr.minX<0&&Xe.attr("textAlign","left")}}),this.tickRects=ot;var jt=this.group;this.currentSpeed=1,this.controllerBtnGroup=new K1({group:jt,x:this.x,y:this.y+e+5,width:t,height:40,hiddleToggle:!0,speed:this.currentSpeed})},i.prototype.initEvent=function(){var r=this,t=this.sliceGroup;t.on("click",function(h){var c=h.target;if(!(c.get("type")!=="rect"||!c.get("name"))){var v=parseInt(c.get("name").split("-")[2],10);if(!isNaN(v)){var g=r.tickRects,M=r.unselectedTickStyle;g.forEach(function(z){z.rect.attr(M)});var F=r.selectedTickStyle;g[v].rect.attr(F),r.startTickRectId=v,r.endTickRectId=v;var Y=g.length,V=v/Y;r.graph.emit(Qa,{value:[V,V]})}}}),t.on("dragstart",function(h){var c=r.tickRects,v=r.unselectedTickStyle;c.forEach(function(z){z.rect.attr(v)});var g=h.target,M=parseInt(g.get("name").split("-")[2],10),F=r.selectedTickStyle;c[M].rect.attr(F),r.startTickRectId=M;var Y=c.length,V=M/Y;r.graph.emit(Qa,{value:[V,V]}),r.dragging=!0}),t.on("dragover",function(h){if(!!r.dragging&&h.target.get("type")==="rect"){for(var c=parseInt(h.target.get("name").split("-")[2],10),v=r.startTickRectId,g=r.tickRects,M=r.selectedTickStyle,F=r.unselectedTickStyle,Y=0;Y<g.length;Y++){var V=Y>=v&&Y<=c?M:F;g[Y].rect.attr(V)}var z=g.length;r.endTickRectId=c;var it=v/z,ot=c/z;r.graph.emit(Qa,{value:[it,ot]})}}),t.on("drop",function(h){if(!!r.dragging&&(r.dragging=!1,h.target.get("type")==="rect")){var c=r.startTickRectId,v=parseInt(h.target.get("name").split("-")[2],10);if(!(v<c)){var g=r.selectedTickStyle,M=r.tickRects;M[v].rect.attr(g),r.endTickRectId=v;var F=M.length,Y=c/F,V=v/F;r.graph.emit(Qa,{value:[Y,V]})}}});var e=this,n=e.tooltipBackgroundColor,a=e.tooltipFomatter,o=e.canvas,s=new o9({container:o.get("container"),backgroundColor:n}),l=this.tickRects;l.forEach(function(h){var c=h.pickRect;c.on("mouseenter",function(v){var g=v.target;if(g.get("type")==="rect"){var M=parseInt(g.get("name").split("-")[2],10),F=o.getClientByPoint(l[M].x,l[M].y);s.show({x:l[M].x,y:l[M].y,clientX:F.x,clientY:F.y,text:a?a(l[M].value):l[M].value})}}),c.on("mouseleave",function(v){s.hide()})});var u=this.group;u.on(nf+":click",function(){r.isPlay=!r.isPlay,r.changePlayStatus()}),u.on(af+":click",function(){r.updateStartEnd(1)}),u.on(of+":click",function(){r.updateStartEnd(-1)}),u.on(rf,function(h){var c=h.type,v=h.speed;r.currentSpeed=v})},i.prototype.changePlayStatus=function(r){r===void 0&&(r=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit($1,null)):this.playHandler&&(window.cancelAnimationFrame(this.playHandler),r&&this.graph.emit(Q1,null))},i.prototype.startPlay=function(){var r=this;return window.requestAnimationFrame(function(){var t=r.currentSpeed;r.frameCount%(60/t)==0&&(r.frameCount=0,r.updateStartEnd(1)),r.frameCount++,r.isPlay&&(r.playHandler=r.startPlay())})},i.prototype.updateStartEnd=function(r){var t=this,e=this.tickRects,n=e.length,a=this.unselectedTickStyle,o=this.selectedTickStyle,s=t.endTickRectId;if(r>0?t.endTickRectId++:(e[t.endTickRectId].rect.attr(a),t.endTickRectId--),s!==t.startTickRectId)t.endTickRectId<t.startTickRectId&&(t.startTickRectId=t.endTickRectId);else{for(var l=t.startTickRectId;l<=t.endTickRectId-1;l++)e[l].rect.attr(a);t.startTickRectId=t.endTickRectId}if(e[t.endTickRectId]){e[t.endTickRectId].rect.attr(o);var u=t.startTickRectId/n,h=t.endTickRectId/n;this.graph.emit(Qa,{value:[u,h]})}},i.prototype.destory=function(){this.graph.off(Qa);var r=this.sliceGroup;r.off("click"),r.off("dragstart"),r.off("dragover"),r.off("drop"),this.tickRects.forEach(function(t){var e=t.pickRect;e.off("mouseenter"),e.off("mouseleave")}),this.tickRects.length=0,r.off(nf+":click"),r.off(af+":click"),r.off(of+":click"),r.off(rf),this.sliceGroup.destroy()},i}(),f9=u9,h9=8,c9=26,v9=function(i){Dn(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-component-timebar",padding:10,type:"trend",trend:{data:[],isArea:!1,smooth:!0},controllerCfg:{speed:2,loop:!1},slider:{start:.1,end:.9,minText:"min",maxText:"max"},tick:{start:.1,end:.9,data:[]}}},r.prototype.initContainer=function(){var t=this.get("graph"),e=this._cfgs,n=e.width,a=e.height,o=this.get("className")||"g6-component-timebar",s=this.get("container"),l=this.get("graph").get("container"),u;s?u=s:(u=(0,pi.Z)("<div class='"+o+"'></div>"),(0,Pn.Z)(u,{position:"relative"})),l.appendChild(u),this.set("timeBarContainer",u);var h,c=t.get("renderer");c==="SVG"?h=new Us.Z({container:u,width:n,height:a}):h=new Ho.Z({container:u,width:n,height:a}),this.set("canvas",h)},r.prototype.init=function(){this.initContainer();var t=this.get("canvas"),e=t.addGroup({name:"timebar-group"});this.set("timeBarGroup",e),this.renderTrend(),this.initEvent()},r.prototype.renderTrend=function(){var t=this._cfgs,e=t.width,n=t.x,a=t.y,o=t.padding,s=t.type,l=t.trend,u=t.slider,h=t.controllerCfg,c=l.data,v=ji(l,["data"]),g=e-2*o,M=s==="trend"?c9:h9,F=this.get("graph"),Y=this.get("timeBarGroup"),V=this.get("canvas"),z=null;if(s==="trend"||s==="simple")z=new i9(Qt(Qt({graph:F,canvas:V,group:Y,type:s,x:n+o,y:s==="trend"?a+o:a+o+15,width:g,height:M,padding:o,trendCfg:Qt(Qt({},v),{data:c.map(function(ot){return ot.value})})},u),{ticks:c.map(function(ot){return ot.date}),handlerStyle:Qt(Qt({},u.handlerStyle),{height:u.height||M}),controllerCfg:h}));else if(s==="tick"){var it=this._cfgs.tick;z=new f9(Qt({graph:F,canvas:V,group:Y,x:n+o,y:a+o},it))}this.set("timebar",z)},r.prototype.filterData=function(t){var e=t.value,n=null,a=this._cfgs.type;if(a==="trend"||a==="simple"?n=this._cfgs.trend.data:a==="tick"&&(n=this._cfgs.tick.data),!n||n.length===0){console.warn("\u8BF7\u914D\u7F6E TimeBar \u7EC4\u4EF6\u7684\u6570\u636E");return}var o=this.get("rangeChange"),s=this.get("graph"),l=Math.round(n.length*e[0]),u=Math.round(n.length*e[1]);u=u>=n.length?n.length-1:u;var h=n[l].date,c=n[u].date;if(a!=="tick"){var v=this.get("timebar");v.setText(h,c)}if(o)o(s,h,c);else{var g=s.save();(!this.cacheGraphData||this.cacheGraphData.nodes&&this.cacheGraphData.nodes.length===0)&&(this.cacheGraphData=g);var M=this.cacheGraphData.nodes.filter(function(V){return V.date>=h&&V.date<=c}),F=M.map(function(V){return V.id}),Y=this.cacheGraphData.edges.filter(function(V){return F.includes(V.source)&&F.includes(V.target)});s.changeData({nodes:M,edges:Y})}},r.prototype.initEvent=function(){var t=this,e=0,n=0,a=this._cfgs.type;!a||a==="trend"||a==="simple"?(e=this._cfgs.slider.start,n=this._cfgs.slider.end):a==="tick"&&(e=this._cfgs.tick.start,n=this._cfgs.tick.end);var o=this.get("graph");o.on("afterrender",function(){t.filterData({value:[e,n]})}),o.on(Qa,function(s){t.filterData(s)})},r.prototype.destroy=function(){var t=this.get("timebar");t&&t.destory&&t.destory(),i.prototype.destroy.call(this);var e=this.get("timeBarContainer");if(e){var n=this.get("container");n||(n=this.get("graph").get("container")),n.removeChild(e)}},r}(Za),d9=v9;function p9(i,r){var t,e;if(i.naturalWidth)t=i.naturalWidth,e=i.naturalHeight;else{var n=new Image;n.src=i.src,n.onload=function(){r==null||r(n.width,n.height)}}return[t,e]}var g9=function(i){Dn(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",width:200,delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},r.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},r.prototype.disableRefresh=function(){this.set("refresh",!1)},r.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},r.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},r.prototype.initViewport=function(){var t=this,e=this._cfgs,n=e.graph;if(!this.destroyed){var a=this.get("container"),o=(0,pi.Z)("<div class="+e.viewportClassName+`
      style='position:absolute;
        left:0;
        top:0;
        box-sizing:border-box;
        border: 2px solid #1980ff'>
      </div>`),s=0,l=0,u=!1,h=0,c=0,v=0,g=0,M=0,F=0;a.addEventListener("mousedown",function(Y){if(e.refresh=!1,Y.target===o){var V=o.style;v=parseInt(V.width,10),g=parseInt(V.height,10);var z=t.get("width"),it=t.get("height");v>z||g>it||(F=n.getZoom(),M=t.get("ratio"),u=!0,s=Y.clientX,l=Y.clientY)}},!1),a.addEventListener("mousemove",function(Y){if(!(!u||(0,Ii.default)(Y.clientX)||(0,Ii.default)(Y.clientY))){var V=t.get("width"),z=t.get("height"),it=o.style;h=parseInt(it.left,10),c=parseInt(it.top,10),v=parseInt(it.width,10),g=parseInt(it.height,10);var ot=s-Y.clientX,yt=l-Y.clientY;h-ot<0?ot=h:h-ot+v>=V&&(ot=0),c-yt<0?yt=c:c-yt+g>=z&&(yt=0),h-=ot,c-=yt,(0,Pn.Z)(o,{left:h+"px",top:c+"px"}),n.translate(ot*F/M,yt*F/M),s=Y.clientX,l=Y.clientY}},!1),a.addEventListener("mouseleave",function(){u=!1,e.refresh=!0},!1),a.addEventListener("mouseup",function(){u=!1,e.refresh=!0},!1),this.set("viewport",o),a.appendChild(o)}},r.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get("ratio"),e=this.get("width"),n=this.get("height"),a=this.get("graph"),o=a.get("width"),s=a.get("height"),l=o/s,u=a.getGroup(),h=u.getCanvasBBox(),c=[(h.minX+h.maxX)/2,(h.minY+h.maxY)/2],v=[h.maxX-h.minX,h.maxY-h.minY],g={centerX:c[0],centerY:c[1],width:0,height:0,minX:0,minY:0};h[0]/h[1]>l?(g.width=v[0],g.height=g.width/l):(g.height=v[1],g.width=g.height*l),g.minX=c[0]-g.width/2,g.minY=c[1]-g.height/2;var M=u.getMatrix();M||(M=[1,0,0,0,1,0,0,0,1]);var F=vo.invert([],M),Y=Hs({x:g.minX,y:g.minY},F),V=a.getCanvasByPoint(Y.x,Y.y),z=this.get("viewport");z||this.initViewport();var it=o/g.width,ot=it*e,yt=it*n,It=e*-V.x/g.width,zt=n*-V.y/g.height,jt=It+ot,Rt=zt+yt;It<0&&(ot+=It,It=0),jt>e&&(ot=ot-(jt-e)),zt<0&&(yt+=zt,zt=0),Rt>n&&(yt=yt-(Rt-n)),this.set("ratio",t);var re=It+"px",de=zt+"px";(0,Pn.Z)(z,{left:re,top:de,width:ot+"px",height:yt+"px"})}},r.prototype.init=function(){this.initContainer()},r.prototype.initContainer=function(){var t=this,e=t.get("graph"),n=e.get("width"),a=e.get("height"),o=a/n,s=t.get("className"),l=t.get("container"),u=t.get("width"),h=t.get("height");!u&&!h&&(u=200),u?(h=o*u,t.set("height",h)):(u=1/o*h,t.set("width",u));var c=(0,pi.Z)("<div class='"+s+"' style='width: "+u+"px; height: "+h+"px; overflow: hidden; position: relative;'></div>");(0,mn.default)(l)&&(l=document.getElementById(l)),l?l.appendChild(c):e.get("container").appendChild(c),t.set("container",c);var v=(0,pi.Z)('<div class="g6-minimap-container" style="position: relative; width: 100%; height: 100%; text-align: center; display: table;"></div>');c.appendChild(v);var g=(0,pi.Z)('<span style="display: table-cell; vertical-align: middle; "></span>');v.appendChild(g),t.set("containerDOM",v),t.set("containerSpan",g);var M=(0,pi.Z)('<img alt="" src="'+this.get("graphImg")+'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>');t.set("imgDOM",M),t.updateImgSize(),g.appendChild(M),t.updateCanvas()},r.prototype.updateImgSize=function(){var t=this,e=t.get("imgDOM"),n=t.get("width"),a=t.get("height");e.onload=function(){var o=p9(e);o[0]>o[1]?e.width=n:e.height=a}},r.prototype.updateCanvas=function(){var t=this.get("refresh");if(!!t){var e=this.get("graph");if(!e.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var n=this.get("width"),a=e.get("canvas").getCanvasBBox(),o=a.width,s=n/o;this.set("ratio",s),this.updateViewport()}}},r.prototype.getViewport=function(){return this.get("viewport")},r.prototype.getContainer=function(){return this.get("container")},r.prototype.updateGraphImg=function(t){var e=this,n=e.get("imgDOM");n.remove(),e.set("graphImg",t);var a=(0,pi.Z)('<img alt="" src="'+t+'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>');e.set("imgDOM",a),a.src=t,e.updateImgSize();var o=e.get("containerSpan");o.appendChild(a),e.updateCanvas()},r.prototype.destroy=function(){var t=this.get("container");t.parentNode.removeChild(t)},r}(Za),y9=g9,J1=.05,q1={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:1,fill:"#fff"},m9=function(i){Dn(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{type:"both",trigger:"mousemove",r:60,delegateStyle:(0,Zn.d9)(q1),showLabel:"edge",scaleRBy:"wheel"}},r.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"filter"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"filter"};break}return t},r.prototype.init=function(){var t=this,e=t.get("showLabel"),n=e==="node"||e==="both",a=e==="edge"||e==="both";t.set("showNodeLabel",n),t.set("showEdgeLabel",a);var o=t.get("shouldShow");o||t.set("shouldShow",function(){return!0})},r.prototype.createDelegate=function(t){var e=this,n=e.get("delegate");(!n||n.destroyed)&&(e.filter(t),n=e.get("delegate"),n.on("dragstart",function(a){}),n.on("drag",function(a){e.filter(a)}),this.get("scaleRBy")==="wheel"&&n.on("mousewheel",function(a){e.scaleRByWheel(a)}))},r.prototype.scaleRByWheel=function(t){var e=this;if(!(!t||!t.originalEvent)){t.preventDefault&&t.preventDefault();var n=e.get("graph"),a,o=e.get("delegate"),s=o?{x:o.attr("x"),y:o.attr("y")}:void 0,l=s||n.getPointByClient(t.clientX,t.clientY);t.originalEvent.wheelDelta<0?a=1-J1:a=1/(1-J1);var u=e.get("maxR"),h=e.get("minR"),c=e.get("r");(c>(u||n.get("height"))&&a>1||c<(h||n.get("height")*.05)&&a<1)&&(a=1),c*=a,e.set("r",c),e.filter(t)}},r.prototype.filter=function(t){var e=this,n=e.get("graph"),a=n.getNodes(),o={},s=e.get("r"),l=e.get("type"),u={x:t.x,y:t.y};e.updateDelegate(u,s);var h=e.get("shouldShow"),c=e.get("vShapes");c&&c.forEach(function(V){V.remove(),V.destroy()}),c=[],a.forEach(function(V){var z=V.getModel(),it=z.x,ot=z.y;Ws({x:it,y:ot},u)<s&&(o[z.id]=V)});var v=n.getEdges(),g=[];v.forEach(function(V){var z=V.getModel(),it=z.source,ot=z.target;h(z)&&(l==="only-source"||l==="one"?o[it]&&!o[ot]&&g.push(V):l==="only-target"||l==="one"?o[ot]&&!o[it]&&g.push(V):l==="both"&&o[it]&&o[ot]&&g.push(V))});var M=e.get("showNodeLabel"),F=e.get("showEdgelabel"),Y=n.get("group");g.forEach(function(V){var z=V.get("group").get("children");z.forEach(function(it){var ot=it.get("type"),yt=Y.addShape(ot,{attrs:it.attr()});c.push(yt),M&&ot==="text"&&yt.set("visible",!0)})}),Object.keys(o).forEach(function(V){var z=o[V],it=z.get("group").clone();if(Y.add(it),c.push(it),F)for(var ot=it.get("children"),yt=0;yt<ot.length;yt++){var It=ot[yt];It.get("type")==="text"&&It.set("visible",!0)}}),e.set("vShapes",c)},r.prototype.updateParams=function(t){var e=this,n=t.r,a=t.trigger,o=t.minR,s=t.maxR,l=t.scaleRBy,u=t.showLabel,h=t.shouldShow;if(isNaN(t.r)||e.set("r",n),isNaN(s)||e.set("maxR",s),isNaN(o)||e.set("minR",o),(a==="mousemove"||a==="click")&&e.set("trigger",a),l==="wheel"||l==="unset"){e.set("scaleRBy",l),e.get("delegate").remove(),e.get("delegate").destroy();var c=e.get("dPercentText");c&&(c.remove(),c.destroy())}(u==="node"||u==="both")&&e.set("showNodeLabel",!0),(u==="edge"||u==="both")&&e.set("showEdgeLabel",!0),h&&e.set("shouldShow",h)},r.prototype.updateDelegate=function(t,e){var n=this,a=n.get("graph"),o=n.get("delegate");if(!o||o.destroyed){var s=a.get("group"),l=n.get("delegateStyle")||q1;o=s.addShape("circle",{attrs:Qt({r:e,x:t.x,y:t.y},l),name:"lens-shape",draggable:!0}),this.get("trigger")!=="drag"&&this.get("scaleRBy")==="wheel"&&o.on("mousewheel",function(u){n.scaleRByWheel(u)})}else o.attr({x:t.x,y:t.y,r:e});n.set("delegate",o)},r.prototype.clear=function(){var t=this,e=t.get("vShapes");e&&e.forEach(function(a){a.remove(),a.destroy()}),e=[],t.set("vShapes",e);var n=t.get("delegate");n&&!n.destroyed&&(n.remove(),n.destroy())},r.prototype.destroy=function(){this.clear()},r}(Za),x9=m9,Ki={Menu:v8,Grid:f8,Minimap:m8,Bundling:w8,ToolBar:E8,Tooltip:T8,Fisheye:C8,TimeBar:d9,ImageMinimap:y9,EdgeFilterLens:x9};function b9(i){i===void 0&&(i={});var r=i,t=function(){},e=function(){var n={};return function(a){var o=a.next;return n[o.get("id")]?!1:(n[o.get("id")]=!0,!0)}}();return r.allowTraversal=i.allowTraversal||e,r.enter=i.enter||t,r.leave=i.leave||t,r}function tb(i,r,t,e){e.enter({current:r,previous:t}),i.getNeighbors(r,"target").forEach(function(n){e.allowTraversal({previous:t,current:r,next:n})&&tb(i,n,r,e)}),e.leave({current:r,previous:t})}function eb(i,r,t){var e=null,n=i.findById(r);tb(i,n,e,b9(t))}var w9=function(){function i(){this.linkedList=new C1}return i.prototype.isEmpty=function(){return!this.linkedList.head},i.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},i.prototype.enqueue=function(r){this.linkedList.append(r)},i.prototype.dequeue=function(){var r=this.linkedList.deleteHead();return r?r.value:null},i.prototype.toString=function(r){return this.linkedList.toString(r)},i}(),S9=w9;function C9(i){i===void 0&&(i={});var r=i,t=function(){},e=function(){var n={};return function(a){var o=a.next,s=o.get("id");return n[s]?!1:(n[s]=!0,!0)}}();return r.allowTraversal=i.allowTraversal||e,r.enter=i.enter||t,r.leave=i.leave||t,r}var M9=function(r,t,e){var n=C9(e),a=new S9,o=r.findById(t);a.enqueue(o);for(var s=null,l=function(){var h=a.dequeue();n.enter({current:h,previous:s}),r.getNeighbors(h,"target").forEach(function(c){n.allowTraversal({previous:s,current:h,next:c})&&a.enqueue(c)}),n.leave({current:h,previous:s}),s=h};!a.isEmpty();)l()},E9=M9;function A9(i){for(var r=[],t={},e=[],n=function l(u){e.push(u),t[u.get("id")]=!0;for(var h=u.getNeighbors(),c=0;c<h.length;++c){var v=h[c];t[v.get("id")]||l(v)}},a=0;a<i.length;a++){var o=i[a];if(!t[o.get("id")]){n(o);for(var s=[];e.length>0;)s.push(e.pop());r.push(s)}}return r}function rb(i){for(var r=[],t={},e={},n={},a=[],o=0,s=function c(v){e[v.get("id")]=o,n[v.get("id")]=o,o+=1,r.push(v),t[v.get("id")]=!0;for(var g=v.getNeighbors("target").filter(function(z){return i.indexOf(z)>-1}),M=0;M<g.length;M++){var F=g[M];!e[F.get("id")]&&e[F.get("id")]!==0?(c(F),n[v.get("id")]=Math.min(n[v.get("id")],n[F.get("id")])):t[F.get("id")]&&(n[v.get("id")]=Math.min(n[v.get("id")],e[F.get("id")]))}if(n[v.get("id")]===e[v.get("id")]){for(var Y=[];r.length>0;){var V=r.pop();if(t[V.get("id")]=!1,Y.push(V),V===v)break}Y.length>0&&a.push(Y)}},l=0,u=i;l<u.length;l++){var h=u[l];!e[h.get("id")]&&e[h.get("id")]!==0&&s(h)}return a}function nb(i,r){var t=r===void 0?i.get("directed"):r,e=i.getNodes();return t?rb(e):A9(e)}var T9=function(r){var t=null,e={},n={},a={},o={};r.getNodes().forEach(function(u){n[u.getID()]=u});for(var s={enter:function(h){var c=h.current,v=h.previous;if(a[c.getID()]){t={};for(var g=c,M=v;M.getID()!==c.getID();)t[g.getID()]=M,g=M,M=e[M.getID()];t[g.getID()]=M}else a[c.getID()]=c,delete n[c.getID()],e[c.getID()]=v},leave:function(h){var c=h.current;o[c.getID()]=c,delete a[c.getID()]},allowTraversal:function(h){var c=h.next;return t?!1:!o[c.getID()]}};Object.keys(n).length;){var l=Object.keys(n)[0];eb(r,l,s)}return t},ib=function(r,t,e){var n,a,o;e===void 0&&(e=!0);for(var s=[],l=nb(r,!1),u=0,h=l;u<h.length;u++){var c=h[u];if(!!c.length)for(var v=c[0],g=v.get("id"),M=[v],F=(n={},n[g]=v,n),Y=(a={},a[g]=new Set,a);M.length>0;)for(var V=M.pop(),z=V.get("id"),it=V.getNeighbors(),ot=0;ot<it.length;ot+=1){var yt=it[ot],It=yt.get("id");if(It===z)s.push((o={},o[yt.getID()]=V,o));else if(!(It in Y))F[It]=V,M.push(yt),Y[It]=new Set([V]);else if(!Y[z].has(yt)){for(var zt=!0,jt=[yt,V],Rt=F[z];Y[It].size&&!Y[It].has(Rt)&&(jt.push(Rt),Rt!==F[Rt.getID()]);)Rt=F[Rt.getID()];if(jt.push(Rt),t&&e?(zt=!1,jt.findIndex(function(fe){return t.indexOf(fe.get("id"))>-1})>-1&&(zt=!0)):t&&!e&&jt.findIndex(function(fe){return t.indexOf(fe.get("id"))>-1})>-1&&(zt=!1),zt){for(var re={},de=1;de<jt.length;de+=1)re[jt[de-1].getID()]=jt[de];jt.length&&(re[jt[jt.length-1].getID()]=jt[0]),s.push(re)}Y[It].add(V)}}}return s},ab=function(r,t,e){e===void 0&&(e=!0);for(var n=[],a=new Set,o=[],s=[],l={},u={},h=function(re){for(var de=[re];de.length>0;){var fe=de.pop();a.has(fe)&&(a.delete(fe),o[fe.get("id")].forEach(function(Me){de.push(Me)}),o[fe.get("id")].clear())}},c=function Rt(re,de,fe){var Me=!1;if(t&&e===!1&&t.indexOf(re.get("id"))>-1)return Me;n.push(re),a.add(re);for(var Le=fe[re.getID()],_e=0;_e<Le.length;_e+=1){var He=l[Le[_e]];if(He===de){for(var je={},Ze=1;Ze<n.length;Ze+=1)je[n[Ze-1].getID()]=n[Ze];n.length&&(je[n[n.length-1].getID()]=n[0]),s.push(je),Me=!0}else a.has(He)||Rt(He,de,fe)&&(Me=!0)}if(Me)h(re);else for(var _e=0;_e<Le.length;_e+=1){var He=l[Le[_e]];o[He.get("id")].has(re)||o[He.get("id")].add(re)}return n.pop(),Me},v=r.getNodes(),g=0;g<v.length;g+=1){var M=v[g],F=M.getID();u[F]=g,l[g]=M}if(t&&e)for(var g=0;g<t.length;g++){var F=t[g];u[v[g].getID()]=u[F],u[F]=0,l[0]=r.findById(F),l[u[v[g].getID()]]=v[g]}for(var Y=function(re){for(var de,fe,Me=Infinity,Le=0;Le<re.length;Le+=1)for(var _e=re[Le],He=0;He<_e.length;He++){var je=u[_e[He].getID()];je<Me&&(Me=je,fe=Le)}for(var Ze=re[fe],ze=[],Le=0;Le<Ze.length;Le+=1){var Xe=Ze[Le];ze[Xe.getID()]=[];for(var pr=0,cr=Xe.getNeighbors("target").filter(function(gr){return Ze.indexOf(gr)>-1});pr<cr.length;pr++){var br=cr[pr];br===Xe&&!(e===!1&&t.indexOf(Xe.getId())>-1)?s.push((de={},de[Xe.getID()]=Xe,de)):ze[Xe.getID()].push(u[br.getID()])}}return{component:Ze,adjList:ze,minIdx:Me}},V=0;V<v.length;){var z=v.filter(function(Rt){return u[Rt.getID()]>=V}),it=rb(z).filter(function(Rt){return Rt.length>1});if(it.length===0)break;var ot=Y(it),yt=ot.minIdx,It=ot.adjList,zt=ot.component;if(zt.length>1){zt.forEach(function(Rt){o[Rt.get("id")]=new Set});var jt=l[yt];if(t&&e&&t.indexOf(jt.get("id"))===-1)return s;c(jt,jt,It),V=yt+1}else break}return s},P9=function(r,t,e,n){return n===void 0&&(n=!0),t===void 0&&(t=r.get("directed")),t?ab(r,e,n):ib(r,e,n)},_9=T9,L9=function(r,t,e,n){var a=r.getNodes(),o=[],s={},l={},u={};a.forEach(function(Y,V){var z=Y.getID();o.push(z),l[z]=Infinity,z===t&&(l[z]=0)});for(var h=a.length,c=function(V){var z=O9(l,a,s),it=z.get("id");if(s[it]=!0,l[it]===Infinity)return"continue";var ot=[];e?ot=z.getOutEdges():ot=z.getEdges(),ot.forEach(function(yt){var It=yt.getTarget().getID(),zt=yt.getSource().getID(),jt=It===it?zt:It,Rt=n&&yt.getModel()[n]?yt.getModel()[n]:1;l[jt]>l[z.get("id")]+Rt&&(l[jt]=l[z.get("id")]+Rt,u[jt]=z.get("id"))})},v=0;v<h;v++)c(v);var g={};for(var M in l){g[M]=[M];for(var F=u[M];F!==void 0;)g[M].unshift(F),F=u[F]}return{length:l,path:g}};function O9(i,r,t){for(var e=Infinity,n,a=0;a<r.length;a++){var o=r[a].get("id");!t[o]&&i[o]<=e&&(e=i[o],n=r[a])}return n}var I9=L9,k9=function(r,t,e,n,a){(0,f.isString)(t)&&(t=r.findById(t)),(0,f.isString)(e)&&(e=r.findById(e));var o=I9(r,t.get("id"),n,a),s=o.length,l=o.path;return{length:s[e.get("id")],path:l[e.get("id")]}},B9=function(r,t,e,n){var a;if((0,f.isString)(t)&&(t=r.findById(t)),(0,f.isString)(e)&&(e=r.findById(e)),n===void 0&&(n=r.get("directed")),t===e)return[[t.get("id")]];var o=[t],s=(a={},a[t.get("id")]=!0,a),l=[],u=[],h=n?t.getNeighbors("target"):t.getNeighbors();for(l.push(h);o.length>0&&l.length>0;){var c=l[l.length-1];if(c.length){var v=c.shift();v&&(o.push(v),s[v.get("id")]=!0,h=n?v.getNeighbors("target"):v.getNeighbors(),l.push(h.filter(function(F){return!s[F.get("id")]})))}else{var g=o.pop();s[g.get("id")]=!1,l.pop();continue}if(o[o.length-1]===e){var M=o.map(function(Y){return Y.get("id")});u.push(M);var g=o.pop();s[g.get("id")]=!1,l.pop()}}return u},D9=function(){function i(r){this.count=r.length,this.parent={};for(var t=0,e=r;t<e.length;t++){var n=e[t];this.parent[n]=n}}return i.prototype.find=function(r){for(;this.parent[r]!==r;)r=this.parent[r];return r},i.prototype.union=function(r,t){var e=this.find(r),n=this.find(t);e!==n&&(e<n?(this.parent[t]!==t&&this.union(this.parent[t],r),this.parent[t]=this.parent[r]):(this.parent[r]!==r&&this.union(this.parent[r],t),this.parent[r]=this.parent[t]))},i.prototype.connected=function(r,t){return this.find(r)===this.find(t)},i}(),F9=D9,R9=function(r,t){return r-t},N9=function(){function i(r){r===void 0&&(r=R9),this.compareFn=r,this.list=[]}return i.prototype.getLeft=function(r){return 2*r+1},i.prototype.getRight=function(r){return 2*r+2},i.prototype.getParent=function(r){return r===0?null:Math.floor((r-1)/2)},i.prototype.isEmpty=function(){return this.list.length<=0},i.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},i.prototype.delMin=function(){var r=this.top(),t=this.list.pop();return this.list.length>0&&(this.list[0]=t,this.moveDown(0)),r},i.prototype.insert=function(r){if(r!==null){this.list.push(r);var t=this.list.length-1;return this.moveUp(t),!0}return!1},i.prototype.moveUp=function(r){for(var t=this.getParent(r);r&&r>0&&this.compareFn(this.list[t],this.list[r])>0;){var e=this.list[t];this.list[t]=this.list[r],this.list[r]=e,r=t,t=this.getParent(r)}},i.prototype.moveDown=function(r){var t,e=r,n=this.getLeft(r),a=this.getRight(r),o=this.list.length;n!==null&&n<o&&this.compareFn(this.list[e],this.list[n])>0?e=n:a!==null&&a<o&&this.compareFn(this.list[e],this.list[a])>0&&(e=a),r!==e&&(t=[this.list[e],this.list[r]],this.list[r]=t[0],this.list[e]=t[1],this.moveDown(e))},i}(),Y9=N9,G9=function(r,t){var e=[],n=r.getNodes();if(n.length===0)return e;var a=n[0],o=new Set;o.add(a);var s=function(g,M){return t?g.getModel()[t]-M.getModel()[t]:0},l=new Y9(s);for(a.getEdges().forEach(function(v){l.insert(v)});!l.isEmpty();){var u=l.delMin(),h=u.getSource(),c=u.getTarget();o.has(h)&&o.has(c)||(e.push(u),o.has(h)||(o.add(h),h.getEdges().forEach(function(v){l.insert(v)})),o.has(c)||(o.add(c),c.getEdges().forEach(function(v){l.insert(v)})))}return e},ob=function(r,t){var e=[];if(r.getNodes().length===0)return e;var n=r.getEdges().map(function(u){return u});t&&n.sort(function(u,h){return u.getModel()[t]-h.getModel()[t]});for(var a=new F9(r.getNodes().map(function(u){return u.get("id")}));n.length>0;){var o=n.shift(),s=o.getSource().get("id"),l=o.getTarget().get("id");a.connected(s,l)||(e.push(o),a.union(s,l))}return e};function z9(i,r,t){var e={prim:G9,kruskal:ob};return t?e[t](i,r):ob(i,r)}var X9=function(r,t,e){typeof t!="number"&&(t=1e-6),typeof e!="number"&&(e=.85);for(var n=1,a=0,o=1e3,s=r.getNodes(),l=s.length,u,h={},c={},v=0;v<l;++v){var g=s[v],M=g.get("id");h[M]=1/l,c[M]=1/l}for(;o>0&&n>t;){a=0;for(var v=0;v<l;++v){var g=s[v],M=g.get("id");if(u=0,r.getNodeDegree(g,"in")===0)h[M]=0;else{for(var F=g.getNeighbors("source"),Y=0;Y<F.length;++Y){var V=F[Y],z=r.getNodeDegree(V,"out");z>0&&(u+=c[V.get("id")]/z)}h[M]=e*u,a+=h[M]}}a=(1-a)/l,n=0;for(var v=0;v<l;++v){var g=s[v],M=g.get("id");u=h[M]+a,n+=Math.abs(u-c[M]),c[M]=u}o-=1}return c},V9=X9,kz=ms.registerNode,Bz=ms.registerEdge,Dz=ms.registerCombo,Fz=Tx.registerBehavior,Rz=tl.registerLayout,Nz=Ki.Minimap,Yz=Ki.Grid,Gz=Ki.Bundling,zz=Ki.Menu,H9=Ki.Fisheye,Xz=Ki.ToolBar,Vz=Ki.Tooltip,W9=Ki.TimeBar,j9=Ki.ImageMinimap,U9=Ki.EdgeFilterLens,zi={version:SR.i8,Graph:L1,TreeGraph:_6,Util:s8,registerNode:ms.registerNode,registerEdge:ms.registerEdge,registerCombo:ms.registerCombo,registerBehavior:Tx.registerBehavior,registerLayout:tl.registerLayout,Layout:tl,Global:Ge,Minimap:Ki.Minimap,Grid:Ki.Grid,Bundling:Ki.Bundling,Menu:Ki.Menu,ToolBar:Ki.ToolBar,Tooltip:Ki.Tooltip,TimeBar:W9,Fisheye:H9,ImageMinimap:j9,EdgeFilterLens:U9,Algorithm:lt,Arrow:n8,Marker:i8};function sb(i,r){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(i);r&&(e=e.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,e)}return t}function Ja(i){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?sb(Object(t),!0).forEach(function(e){Z9(i,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):sb(Object(t)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(t,e))})}return i}function Z9(i,r,t){return r in i?Object.defineProperty(i,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[r]=t,i}zi.registerNode("card-node",{draw:function(r,t){var e=r&&r.color?r.color:"#5B8FF9",n=r&&r.size?r.size:[100,30];typeof n=="number"&&(n=[n,n]);var a=r&&r.style?r.style:{};a=Object.assign({radius:2,fill:"#fff"},a),e=a.stroke||"#5B8FF9";var o=a.radius||0,s=t.addShape("rect",{attrs:Ja({x:-n[0]/2,y:-n[1]/2,width:n[0],height:n[1],stroke:e},a),name:"main-box",draggable:!0}),l=r.title||r.label,u,h=r&&r.labelCfg&&r.labelCfg.style?r.labelCfg.style:{};if(l){var c=Object.assign({fill:"#fff"},h);u=t.addShape("text",{attrs:Ja(Ja({textBaseline:"top",x:-n[0]/2+8,y:-n[1]/2+2,text:l},c),{},{fill:"#fff"}),name:"title"})}var v=u?u.getBBox():{height:n[1]/2},g=t.addShape("rect",{attrs:{x:-n[0]/2,y:-n[1]/2,width:n[0],height:v.height+4,fill:e,radius:[o,o,0,0]},name:"title-rect",draggable:!0});u&&u.toFront();var M;r.children&&(M=t.addShape("marker",{attrs:{x:n[0]/2,y:0,r:6,cursor:"pointer",symbol:r.collapsed?zi.Marker.expand:zi.Marker.collapse,stroke:e,lineWidth:1,fill:"#fff"},name:"collapse-icon"}));var F=r&&r.description?r.description:void 0,Y=g.getBBox(),V;if(F&&(V=t.addShape("text",{attrs:Ja({textBaseline:"top",x:-n[0]/2+8,y:-n[1]/2+Y.height+8,text:F},h),name:"description"})),V){var z,it=V.getBBox(),ot=Y.height+16+it.height,yt=n[0]>it.width+16?n[0]:it.width+16;s.attr({width:yt,height:ot}),g==null||g.attr("width",yt),(z=M)===null||z===void 0||z.attr({x:yt-n[0]/2,y:ot/2-n[1]/2})}return s},update:void 0},"single-node"),zi.registerNode("round-rect",{drawShape:function(r,t){var e=r&&r.color?r.color:"#5B8FF9",n=r&&r.size?r.size:[100,30];typeof n=="number"&&(n=[n,n]);var a=r&&r.style?r.style:{};a.stroke&&(e=a.stroke);var o=a&&a.fill?a.fill:"#fff";a=Object.assign({width:n[0],height:n[1],radius:n[1]/2,fill:o,lineWidth:1.2,stroke:e},a);var s=t.addShape("rect",{attrs:Ja({x:-n[0]/2,y:-n[1]/2},a),name:"rect-shape"});return t.addShape("circle",{attrs:{x:-n[0]/2,y:0,r:3,fill:a.stroke},name:"circle-shape"}),t.addShape("circle",{attrs:{x:n[0]/2,y:0,r:3,fill:a.stroke},name:"circle-shape2"}),s},getAnchorPoints:function(){return[[0,.5],[1,.5]]},update:function(r,t){var e=t.getContainer(),n=e.get("children"),a=n[0],o=n[1],s=n[2],l=r.style&&r.style.stroke?r.style.stroke:"#5B8FF9";l&&(a.attr("stroke",l),o.attr("fill",l),s.attr("fill",l))}},"single-node");var K9=function(r){zi.registerNode("icon-node",{options:{size:[60,20],stroke:"#91d5ff",fill:"#91d5ff"},draw:function(e,n){var a=this.getShapeStyle(e),o=e.labelCfg,s=o===void 0?{}:o,l=n.addShape("rect",{attrs:Ja(Ja({},a),{},{x:0,y:0})}),u={fill:"#e6fffb"},h="https://g.alicdn.com/cm-design/arms-trace/1.0.155/styles/armsTrace/images/TAIR.png";return e.leftIcon&&(u=Object.assign({},u,e.leftIcon.style),h=e.leftIcon.img),n.addShape("rect",{attrs:Ja({x:1,y:1,width:38,height:a.height-2},u)}),n.addShape("image",{attrs:{x:8,y:8,width:24,height:24,img:h},name:"image-shape"}),r.enableEdit&&(n.addShape("marker",{attrs:{x:a.width/3,y:a.height+6,r:6,stroke:"#73d13d",cursor:"pointer",symbol:zi.Marker.expand},name:"add-item"}),n.addShape("marker",{attrs:{x:a.width*2/3,y:a.height+6,r:6,stroke:"#ff4d4f",cursor:"pointer",symbol:zi.Marker.collapse},name:"remove-item"})),e.label&&n.addShape("text",{attrs:Ja(Ja({},s.style),{},{text:e.label,x:a.width/2,y:a.height/1.5})}),l}},"rect")};zi.registerEdge("fund-polyline",{draw:function(r,t){var e=r.startPoint,n=r.endPoint,a=n.y-e.y,o=a!==0?500/Math.abs(a):0,s=16,l=a<0?s:-s,u={x:e.x+o,y:n.y+l},h={x:u.x+s,y:n.y},c={x:(u.x-e.x)*(n.y-e.y)/(u.y-e.y)+e.x,y:n.y},v=[["M",e.x,e.y],["L",u.x,u.y],["Q",c.x,c.y,h.x,h.y],["L",n.x,n.y]];a===0&&(v=[["M",e.x,e.y],["L",n.x,n.y]]);var g=r||{},M=g.style,F=t.addShape("path",{attrs:{path:v,stroke:M.stroke||r.colorMap&&r.colorMap[r.dataType]?r.colorMap[r.dataType]:"#5B8FF9",lineWidth:M.lineWidth||1.2,endArrow:!1},name:"path-shape"}),Y=0,V=8,z;if(r.label&&(z=t.addShape("text",{attrs:{text:r.label,x:h.x+Y,y:n.y-V-2,fontSize:14,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-label"})),r.dataType){var it=z?z.getBBox():{height:0};t.addShape("text",{attrs:{text:r.dataType,x:h.x+Y,y:n.y-V-it.height-2,fontSize:10,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-type"})}return r.subLabel&&t.addShape("text",{attrs:{text:r.subLabel,x:h.x+Y,y:n.y+V+4,fontSize:12,fontWeight:300,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-sub-label"}),F},update:void 0},"single-edge"),zi.registerEdge("flow-line",{draw:function(r,t){var e=r.startPoint,n=r.endPoint,a=r.style,o=a===void 0?{}:a,s=t.addShape("path",{attrs:{stroke:o.stroke,endArrow:o.endArrow,path:[["M",e.x,e.y],["L",e.x,(e.y+n.y)/2],["L",n.x,(e.y+n.y)/2],["L",n.x,n.y]]}});return s}});function lb(i,r){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(i);r&&(e=e.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,e)}return t}function $9(i){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?lb(Object(t),!0).forEach(function(e){Q9(i,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):lb(Object(t)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(t,e))})}return i}function Q9(i,r,t){return r in i?Object.defineProperty(i,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[r]=t,i}var J9={show:!1,size:[150,100],type:"keyShape"},nl=function(r,t,e){var n,a;return e&&e.current&&(n=e.current.offsetWidth,a=e.current.offsetHeight||500),console.log("graph size",n,a,t,r,e,e.current),!r&&!n||!t&&!a?(console.warn("\u8BF7\u4E3A Graph \u6307\u5B9A width \u4E0E height\uFF01\u5426\u5219\u5C06\u4F7F\u7528\u9ED8\u8BA4\u503C 500 * 500"),[500,500]):[r||n||500,t||a||500]},il=function(r,t){if(!(!t||t.destroyed)&&r&&r.show){var e=Object.assign(J9,r),n=new zi.Minimap($9({},e));return t.addPlugin(n),n}};function sf(i,r,t){var e=(0,rt.useRef)(),n=r.data,a=r.nodeStyle,o=r.nodeAnchorPoints,s=r.nodeType,l=r.edgeType,u=r.edgeStyle,h=r.width,c=r.height,v=r.layout,g=r.minimapCfg,M=r.behaviors,F=r.nodeLabelCfg,Y=r.edgeLabelCfg,V;return(0,rt.useEffect)(function(){i&&!i.destroyed&&(i.changeData(n),i.layout())},[n]),(0,rt.useEffect)(function(){i&&!i.destroyed&&i.getNodes().forEach(function(z){i.updateItem(z,{type:s,style:a,anchorPoints:o,labelCfg:F})})},[a,o,s]),(0,rt.useEffect)(function(){i&&!i.destroyed&&i.getEdges().forEach(function(z){i.updateItem(z,{type:l,style:u,labelCfg:Y})})},[u,l]),(0,rt.useEffect)(function(){if(i&&!i.destroyed){var z=nl(h,c,t);i.changeSize(z[0],z[1])}},[t,h,c]),(0,rt.useEffect)(function(){i&&!i.destroyed&&i.updateLayout(v)},[v]),(0,rt.useEffect)(function(){if(!(!g||!i||i.destroyed))if(g.show)V=il(g,i),V&&V.updateCanvas();else{var z=i.get("plugins")[0];z&&i.removePlugin(z)}},[g]),(0,rt.useEffect)(function(){if(i&&!i.destroyed){var z=i.get("modes"),it=z.default,ot=[];it.forEach(function(yt){(0,f.isObject)(yt)?ot.push(yt.type):(0,f.isString)(yt)&&ot.push(yt)}),i.removeBehaviors(ot,"default"),i.addBehaviors(M,"default")}},[M]),(0,rt.useEffect)(function(){if(e.current=i,i&&!i.destroyed)return function(){i.destroy(),i=void 0}},[]),{graphHook:e}}var ub={hover:{stroke:"#1890ff",lineWidth:2}},q9={fill:"#91d5ff",stroke:"#40a9ff",radius:5},tY={stroke:"#91d5ff",endArrow:{path:"M 0,0 L 12, 6 L 9,0 L 12, -6 Z",fill:"#91d5ff",d:-20}},eY={type:"compactBox",direction:"TB",getId:function(r){return r.id},getHeight:function(){return 16},getWidth:function(){return 16},getVGap:function(){return 40},getHGap:function(){return 70}},fb={style:{fill:"#000",fontSize:12}},An,rY=function(r){var t=r.data,e=r.className,n=r.style,a=r.width,o=r.height,s=r.nodeType,l=s===void 0?"rect":s,u=r.edgeType,h=u===void 0?"flow-line":u,c=r.collapseExpand,v=c===void 0?!1:c,g=r.nodeSize,M=g===void 0?[120,40]:g,F=r.nodeLabelCfg,Y=F===void 0?fb:F,V=r.edgeLabelCfg,z=V===void 0?fb:V,it=r.layout,ot=it===void 0?eY:it,yt=r.enableEdit,It=yt===void 0?!1:yt,zt=r.minimapCfg,jt=r.nodeStyle,Rt=jt===void 0?q9:jt,re=r.edgeStyle,de=re===void 0?tY:re,fe=r.nodeStateStyles,Me=fe===void 0?ub:fe,Le=r.edgeStateStyles,_e=Le===void 0?ub:Le,He=r.handleNodeClick,je=r.handleEdgeClick,Ze=r.handleNodeHover,ze=r.handleNodeUnHover,Xe=r.handleEdgeHover,pr=r.handleEdgeUnHover,cr=r.handleCanvasClick,br=r.graphRef,$e={data:t,className:e,style:n,width:a,height:o,nodeType:l,edgeType:h,collapseExpand:v,nodeSize:M,nodeLabelCfg:Y,edgeLabelCfg:z,layout:ot,enableEdit:It,minimapCfg:zt,nodeStyle:Rt,edgeStyle:de,nodeStateStyles:Me,edgeStateStyles:_e,handleNodeClick:He,handleEdgeClick:je,handleNodeHover:Ze,handleNodeUnHover:ze,handleEdgeHover:Xe,handleEdgeUnHover:pr,handleCanvasClick:cr,graphRef:br},gr=rt.useRef(null);return sf(An,$e,gr),(0,rt.useEffect)(function(){var Or=nl(a,o,gr);return(!An||An.destroyed)&&(l==="icon-node"&&K9({enableEdit:It}),An=new zi.TreeGraph({container:gr.current,width:Or[0],height:Or[1],linkCenter:!0,modes:{default:["drag-canvas","zoom-canvas"]},defaultNode:{type:l,size:M,style:Rt,labelCfg:Y},defaultEdge:{type:h,style:de,labelCfg:z},nodeStateStyles:Me,edgeStateStyles:_e,layout:ot}),br&&(br.current=An)),il(zt,An),An.data(t),An.render(),An.fitView(),v&&An.addBehaviors({type:"collapse-expand",onChange:function(mr,Dr){if(!mr)return!1;var Kr=mr.get("model").data;return Kr.collapsed=Dr,!0}},"default"),An.on("node:mouseenter",function(xr){var mr=xr.item;An.setItemState(mr,"hover",!0),Ze&&Ze(mr,An)}),An.on("node:mouseleave",function(xr){var mr=xr.item;An.setItemState(mr,"hover",!1),ze&&ze(mr,An)}),An.on("node:click",function(xr){var mr=xr.item,Dr=xr.target,Kr=Dr.get("type"),Cr=Dr.get("name");if(Kr==="marker"){var ke=mr.getModel();if(Cr==="add-item"){ke.children||(ke.children=[]);var qe=Math.random().toString(36).slice(-8);ke.children.push({id:qe,label:qe}),An.updateChild(ke,ke.id)}else Cr==="remove-item"&&An.removeChild(ke.id)}else He&&He(mr,An)}),An.on("edge:mouseenter",function(xr){var mr=xr.item;An.setItemState(mr,"hover",!0),Xe&&Xe(mr,An)}),An.on("edge:mouseleave",function(xr){var mr=xr.item;An.setItemState(mr,"hover",!1),pr&&pr(mr,An)}),An.on("edge:click",function(xr){var mr=xr.item;je&&je(mr,An)}),An.on("canvas:click",function(xr){cr&&cr(An)}),function(){return An.destroy()}},[]),rt.createElement(qr,null,rt.createElement("div",{className:e,style:n,ref:gr}))},nY=rY,hb={hover:{stroke:"#1890ff",lineWidth:2}},iY=[120,40],aY={stroke:"#40a9ff"},oY=[[.5,0],[.5,1]],sY={stroke:"#91d5ff",endArrow:{path:zi.Arrow.vee(10,10),fill:"#91d5ff"}},lY={type:"dagre",rankdir:"TB",nodesepFunc:function(r){return 0},ranksepFunc:function(r){return 0},controlPoints:!0},cb={style:{fill:"#000",fontSize:12}},Rn,uY=function(r){var t=r.data,e=r.className,n=r.style,a=r.width,o=r.height,s=r.nodeType,l=s===void 0?"modelRect":s,u=r.edgeType,h=u===void 0?"polyline":u,c=r.behaviors,v=c===void 0?["zoom-canvas","drag-canvas"]:c,g=r.nodeSize,M=g===void 0?iY:g,F=r.nodeLabelCfg,Y=F===void 0?cb:F,V=r.edgeLabelCfg,z=V===void 0?cb:V,it=r.nodeAnchorPoints,ot=it===void 0?oY:it,yt=r.layout,It=yt===void 0?lY:yt,zt=r.minimapCfg,jt=r.nodeStyle,Rt=jt===void 0?aY:jt,re=r.edgeStyle,de=re===void 0?sY:re,fe=r.nodeStateStyles,Me=fe===void 0?hb:fe,Le=r.edgeStateStyles,_e=Le===void 0?hb:Le,He=r.handleEdgeClick,je=r.handleEdgeHover,Ze=r.handleEdgeUnHover,ze=r.handleNodeClick,Xe=r.handleNodeHover,pr=r.handleNodeUnHover,cr=r.handleCanvasClick,br=r.graphRef,$e={data:t,className:e,style:n,width:a,height:o,nodeType:l,edgeType:h,behaviors:v,nodeSize:M,nodeLabelCfg:Y,edgeLabelCfg:z,nodeAnchorPoints:ot,layout:It,minimapCfg:zt,nodeStyle:Rt,edgeStyle:de,nodeStateStyles:Me,edgeStateStyles:_e,handleEdgeClick:He,handleEdgeHover:je,handleEdgeUnHover:Ze,handleNodeClick:ze,handleNodeHover:Xe,handleNodeUnHover:pr,handleCanvasClick:cr,graphRef:br},gr=rt.useRef(null);return sf(Rn,$e,gr),(0,rt.useEffect)(function(){var Or=nl(a,o,gr);return(!Rn||Rn.destroyed)&&(Rn=new zi.Graph({container:gr.current,width:Or[0],height:Or[1],modes:{default:v},defaultNode:{type:l,size:M,style:Rt,anchorPoints:ot,labelCfg:Y},defaultEdge:{type:h,style:de,labelCfg:z},nodeStateStyles:Me,edgeStateStyles:_e,layout:It}),br&&(br.current=Rn)),il(zt,Rn),Rn.data(t),Rn.render(),Rn.fitView(),Rn.on("edge:mouseenter",function(xr){var mr=xr.item;Rn.setItemState(mr,"hover",!0),je&&je(mr,Rn)}),Rn.on("node:mouseenter",function(xr){var mr=xr.item;Rn.setItemState(mr,"hover",!1),Xe&&Xe(mr,Rn)}),Rn.on("edge:mouseleave",function(xr){var mr=xr.item;Rn.setItemState(mr,"hover",!1),Ze&&Ze(mr,Rn)}),Rn.on("node:mouseleave",function(xr){var mr=xr.item;Rn.setItemState(mr,"hover",!1),pr&&pr(mr,Rn)}),Rn.on("edge:click",function(xr){var mr=xr.item;He&&He(mr,Rn)}),Rn.on("node:click",function(xr){var mr=xr.item;ze&&ze(mr,Rn)}),Rn.on("canvas:click",function(xr){cr&&cr(Rn)}),function(){return Rn.destroy()}},[]),rt.createElement(qr,null,rt.createElement("div",{className:e,style:n,ref:gr}))},fY=uY,vb={hover:{stroke:"#1890ff",lineWidth:2}},hY=[150,30],cY={stroke:"#72CC4A",fill:"#f00"},vY=[[.5,0],[.5,1]],dY={stroke:"#91d5ff",endArrow:{path:zi.Arrow.vee(10,10),fill:"#91d5ff"}},pY={type:"dagre",rankdir:"LR",nodesep:30,ranksep:50},db={style:{fill:"#000000A6",fontSize:10}},Ln,gY=function(r){var t=r.data,e=r.className,n=r.style,a=r.width,o=r.height,s=r.nodeType,l=s===void 0?"round-rect":s,u=r.edgeType,h=u===void 0?"fund-polyline":u,c=r.behaviors,v=c===void 0?["zoom-canvas","drag-canvas"]:c,g=r.nodeSize,M=g===void 0?hY:g,F=r.nodeLabelCfg,Y=F===void 0?db:F,V=r.edgeLabelCfg,z=V===void 0?db:V,it=r.nodeAnchorPoints,ot=it===void 0?vY:it,yt=r.layout,It=yt===void 0?pY:yt,zt=r.minimapCfg,jt=r.nodeStyle,Rt=jt===void 0?cY:jt,re=r.edgeStyle,de=re===void 0?dY:re,fe=r.nodeStateStyles,Me=fe===void 0?vb:fe,Le=r.edgeStateStyles,_e=Le===void 0?vb:Le,He=r.colorMap,je=He===void 0?{}:He,Ze=r.handleEdgeClick,ze=r.handleEdgeHover,Xe=r.handleEdgeUnHover,pr=r.handleNodeClick,cr=r.handleNodeHover,br=r.handleNodeUnHover,$e=r.handleCanvasClick,gr=r.graphRef,Or=rt.useRef(null),xr={data:t,className:e,style:n,width:a,height:o,nodeType:l,edgeType:h,behaviors:v,nodeSize:M,nodeLabelCfg:Y,edgeLabelCfg:z,nodeAnchorPoints:ot,layout:It,minimapCfg:zt,nodeStyle:Rt,edgeStyle:de,nodeStateStyles:Me,edgeStateStyles:_e,colorMap:je,handleEdgeClick:Ze,handleEdgeHover:ze,handleEdgeUnHover:Xe,handleNodeClick:pr,handleNodeHover:cr,handleNodeUnHover:br,handleCanvasClick:$e,graphRef:gr};return sf(Ln,xr,Or),(0,rt.useEffect)(function(){var mr=nl(a,o,Or);(!Ln||Ln.destroyed)&&(Ln=new zi.Graph({container:Or.current,width:mr[0],height:mr[1],modes:{default:v},defaultNode:{type:l,size:M,style:Rt,anchorPoints:ot,labelCfg:Y},defaultEdge:{type:h,style:de,colorMap:je,labelCfg:z},nodeStateStyles:Me,edgeStateStyles:_e,layout:It}),gr&&(gr.current=Ln)),il(zt,Ln),Ln.data(t),Ln.render();var Dr=Ln.getEdges();return Dr.forEach(function(Kr){var Cr=Kr.getKeyShape(),ke=Cr.attr("stroke"),qe=Kr.getTarget();qe.update({style:{stroke:ke}})}),Ln.fitView(),Ln.on("edge:mouseenter",function(Kr){var Cr=Kr.item;Ln.setItemState(Cr,"hover",!0),ze&&ze(Cr,Ln)}),Ln.on("edge:mouseleave",function(Kr){var Cr=Kr.item;Ln.setItemState(Cr,"hover",!1),Xe&&Xe(Cr,Ln)}),Ln.on("edge:click",function(Kr){var Cr=Kr.item;Ze&&Ze(Cr,Ln)}),Ln.on("node:mouseenter",function(Kr){var Cr=Kr.item;Ln.setItemState(Cr,"hover",!1),cr&&cr(Cr,Ln)}),Ln.on("node:mouseleave",function(Kr){var Cr=Kr.item;Ln.setItemState(Cr,"hover",!1),br&&br(Cr,Ln)}),Ln.on("node:click",function(Kr){var Cr=Kr.item;pr&&pr(Cr,Ln)}),Ln.on("canvas:click",function(Kr){$e&&$e(Ln)}),function(){return Ln.destroy()}},[]),rt.createElement(qr,null,rt.createElement("div",{className:e,style:n,ref:Or}))},yY=gY,pb={hover:{stroke:"#1890ff",lineWidth:2}},mY=[120,40],xY={stroke:"#40a9ff"},bY=[[0,.5],[1,.5]],wY={stroke:"#ccc",endArrow:{path:zi.Arrow.vee(10,10),fill:"#ccc"}},SY={type:"indented",direction:"LR",dropCap:!1,indent:250,getHeight:function(){return 60},getWidth:function(r){return 100}},CY={style:{fill:"#000",fontSize:12}},_n,MY=function(r){var t=r.data,e=r.className,n=r.style,a=r.width,o=r.height,s=r.nodeType,l=s===void 0?"card-node":s,u=r.edgeType,h=u===void 0?"cubic-horizontal":u,c=r.behaviors,v=c===void 0?["zoom-canvas","drag-canvas"]:c,g=r.nodeSize,M=g===void 0?mY:g,F=r.nodeLabelCfg,Y=F===void 0?CY:F,V=r.nodeAnchorPoints,z=V===void 0?bY:V,it=r.layout,ot=it===void 0?SY:it,yt=r.minimapCfg,It=r.nodeStyle,zt=It===void 0?xY:It,jt=r.edgeStyle,Rt=jt===void 0?wY:jt,re=r.nodeStateStyles,de=re===void 0?pb:re,fe=r.edgeStateStyles,Me=fe===void 0?pb:fe,Le=r.collapseExpand,_e=Le===void 0?!0:Le,He=r.handleEdgeClick,je=r.handleEdgeHover,Ze=r.handleEdgeUnHover,ze=r.handleNodeClick,Xe=r.handleNodeHover,pr=r.handleNodeUnHover,cr=r.handleCanvasClick,br=r.graphRef,$e=rt.useRef(null),gr={data:t,className:e,style:n,width:a,height:o,nodeType:l,edgeType:h,behaviors:v,nodeSize:M,nodeLabelCfg:Y,nodeAnchorPoints:z,layout:ot,minimapCfg:yt,nodeStyle:zt,edgeStyle:Rt,nodeStateStyles:de,edgeStateStyles:Me,collapseExpand:_e,handleEdgeClick:He,handleEdgeHover:je,handleEdgeUnHover:Ze,handleNodeClick:ze,handleNodeHover:Xe,handleNodeUnHover:pr,handleCanvasClick:cr,graphRef:br};return sf(_n,gr,$e),(0,rt.useEffect)(function(){var Or=nl(a,o,$e);return(!_n||_n.destroyed)&&(_n=new zi.TreeGraph({container:$e.current,width:Or[0],height:Or[1],modes:{default:v},defaultNode:{type:l,size:M,style:zt,anchorPoints:z,labelCfg:Y},defaultEdge:{type:h,style:Rt},nodeStateStyles:de,edgeStateStyles:Me,layout:ot}),br&&(br.current=_n)),il(yt,_n),_n.data(t),_n.render(),_n.fitView(),_e&&_n.on("node:click",function(xr){var mr=xr.item;xr.target.get("name")==="collapse-icon"?(_n.updateItem(mr,{collapsed:!mr.getModel().collapsed}),_n.layout()):ze&&ze(mr,_n)}),_n.on("edge:mouseenter",function(xr){var mr=xr.item;_n.setItemState(mr,"hover",!0),je&&je(mr,_n)}),_n.on("edge:mouseleave",function(xr){var mr=xr.item;_n.setItemState(mr,"hover",!1),Ze&&Ze(mr,_n)}),_n.on("edge:click",function(xr){var mr=xr.item;He&&He(mr,_n)}),_n.on("node:mouseenter",function(xr){var mr=xr.item;_n.setItemState(mr,"hover",!1),Xe&&Xe(mr,_n)}),_n.on("node:mouseleave",function(xr){var mr=xr.item;_n.setItemState(mr,"hover",!1),pr&&pr(mr,_n)}),_n.on("canvas:click",function(xr){cr&&cr(_n)}),function(){return _n.destroy()}},[]),rt.createElement(qr,null,rt.createElement("div",{className:e,style:n,ref:$e}))},EY=MY,Hz={Area:a5,Bar:l5,Bubble:h5,Bullet:d5,Calendar:m5,Column:z0,ColumnLine:C5,DensityHeatmap:A5,Donut:W0,DualLine:O5,FanGauge:B5,Funnel:N5,Gauge:K0,GroupedBar:V5,GroupedColumn:j5,GroupedColumnLine:K5,GroupedRose:J5,Heatmap:eF,Histogram:iF,Line:nm,Liquid:am,MeterGauge:hF,PercentStackedArea:dF,PercentStackedBar:yF,PercentStackedColumn:bF,Pie:CF,Progress:cm,Radar:dm,RangeBar:LF,RangeColumn:kF,RingProgress:mm,Rose:NF,Scatter:zF,StackedArea:HF,StackedBar:UF,StackedColumn:$F,StackedColumnLine:qF,StackedRose:rR,StepLine:aR,TinyArea:Pm,TinyColumn:Lm,TinyLine:cR,Treemap:pR,Waterfall:mR,WordCloud:Bm,OrganizationTreeGraph:nY,DagreGraph:fY,IndentedTree:EY,DagreFundFlowGraph:yY,G2:I}},74306:function(mt,C,d){"use strict";d.r(C),d.d(C,{AbstractCanvas:function(){return Xr},AbstractGroup:function(){return Mn},AbstractShape:function(){return $n},Base:function(){return ae},Event:function(){return Gt},PathUtil:function(){return S},assembleFont:function(){return an},getBBoxMethod:function(){return Ga},getOffScreenContext:function(){return Ji},getTextHeight:function(){return _a},invert:function(){return lr},isAllowCapture:function(){return Vt},multiplyVec2:function(){return ar},registerBBox:function(){return En},registerEasing:function(){return Et},version:function(){return ct}});var S={};d.r(S),d.d(S,{catmullRomToBezier:function(){return P},fillPath:function(){return lt},fillPathByDiff:function(){return f},formatPath:function(){return Bt},intersection:function(){return Z},parsePathArray:function(){return B},parsePathString:function(){return _},pathToAbsolute:function(){return p},pathToCurve:function(){return y},rectPath:function(){return K}});var O=d(49242),D=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,k=new RegExp("([a-z])["+D+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+D+"]*,?["+D+"]*)+)","ig"),I=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+D+"]*,?["+D+"]*","ig"),_=function(x){if(!x)return null;if((0,O.isArray)(x))return x;var E={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},L=[];return String(x).replace(k,function(R,W,q){var dt=[],bt=W.toLowerCase();if(q.replace(I,function(Tt,Ft){Ft&&dt.push(+Ft)}),bt==="m"&&dt.length>2&&(L.push([W].concat(dt.splice(0,2))),bt="l",W=W==="m"?"l":"L"),bt==="o"&&dt.length===1&&L.push([W,dt[0]]),bt==="r")L.push([W].concat(dt));else for(;dt.length>=E[bt]&&(L.push([W].concat(dt.splice(0,E[bt]))),!!E[bt]););return x}),L},P=function(x,E){for(var L=[],R=0,W=x.length;W-2*!E>R;R+=2){var q=[{x:+x[R-2],y:+x[R-1]},{x:+x[R],y:+x[R+1]},{x:+x[R+2],y:+x[R+3]},{x:+x[R+4],y:+x[R+5]}];E?R?W-4===R?q[3]={x:+x[0],y:+x[1]}:W-2===R&&(q[2]={x:+x[0],y:+x[1]},q[3]={x:+x[2],y:+x[3]}):q[0]={x:+x[W-2],y:+x[W-1]}:W-4===R?q[3]=q[2]:R||(q[0]={x:+x[R],y:+x[R+1]}),L.push(["C",(-q[0].x+6*q[1].x+q[2].x)/6,(-q[0].y+6*q[1].y+q[2].y)/6,(q[1].x+6*q[2].x-q[3].x)/6,(q[1].y+6*q[2].y-q[3].y)/6,q[2].x,q[2].y])}return L},T=function(x,E,L,R,W){var q=[];if(W===null&&R===null&&(R=L),x=+x,E=+E,L=+L,R=+R,W!==null){var dt=Math.PI/180,bt=x+L*Math.cos(-R*dt),Tt=x+L*Math.cos(-W*dt),Ft=E+L*Math.sin(-R*dt),te=E+L*Math.sin(-W*dt);q=[["M",bt,Ft],["A",L,L,0,+(W-R>180),0,Tt,te]]}else q=[["M",x,E],["m",0,-R],["a",L,R,0,1,1,0,2*R],["a",L,R,0,1,1,0,-2*R],["z"]];return q},p=function(x){if(x=_(x),!x||!x.length)return[["M",0,0]];var E=[],L=0,R=0,W=0,q=0,dt=0,bt,Tt;x[0][0]==="M"&&(L=+x[0][1],R=+x[0][2],W=L,q=R,dt++,E[0]=["M",L,R]);for(var Ft=x.length===3&&x[0][0]==="M"&&x[1][0].toUpperCase()==="R"&&x[2][0].toUpperCase()==="Z",te=void 0,ne=void 0,xe=dt,Ae=x.length;xe<Ae;xe++){if(E.push(te=[]),ne=x[xe],bt=ne[0],bt!==bt.toUpperCase())switch(te[0]=bt.toUpperCase(),te[0]){case"A":te[1]=ne[1],te[2]=ne[2],te[3]=ne[3],te[4]=ne[4],te[5]=ne[5],te[6]=+ne[6]+L,te[7]=+ne[7]+R;break;case"V":te[1]=+ne[1]+R;break;case"H":te[1]=+ne[1]+L;break;case"R":Tt=[L,R].concat(ne.slice(1));for(var be=2,Qe=Tt.length;be<Qe;be++)Tt[be]=+Tt[be]+L,Tt[++be]=+Tt[be]+R;E.pop(),E=E.concat(P(Tt,Ft));break;case"O":E.pop(),Tt=T(L,R,ne[1],ne[2]),Tt.push(Tt[0]),E=E.concat(Tt);break;case"U":E.pop(),E=E.concat(T(L,R,ne[1],ne[2],ne[3])),te=["U"].concat(E[E.length-1].slice(-2));break;case"M":W=+ne[1]+L,q=+ne[2]+R;break;default:for(var be=1,Qe=ne.length;be<Qe;be++)te[be]=+ne[be]+(be%2?L:R)}else if(bt==="R")Tt=[L,R].concat(ne.slice(1)),E.pop(),E=E.concat(P(Tt,Ft)),te=["R"].concat(ne.slice(-2));else if(bt==="O")E.pop(),Tt=T(L,R,ne[1],ne[2]),Tt.push(Tt[0]),E=E.concat(Tt);else if(bt==="U")E.pop(),E=E.concat(T(L,R,ne[1],ne[2],ne[3])),te=["U"].concat(E[E.length-1].slice(-2));else for(var nr=0,sr=ne.length;nr<sr;nr++)te[nr]=ne[nr];if(bt=bt.toUpperCase(),bt!=="O")switch(te[0]){case"Z":L=+W,R=+q;break;case"H":L=te[1];break;case"V":R=te[1];break;case"M":W=te[te.length-2],q=te[te.length-1];break;default:L=te[te.length-2],R=te[te.length-1]}}return E},w=function(x,E,L,R){return[x,E,L,R,L,R]},m=function(x,E,L,R,W,q){var dt=1/3,bt=2/3;return[dt*x+bt*L,dt*E+bt*R,dt*W+bt*L,dt*q+bt*R,W,q]},b=function(x,E,L,R,W,q,dt,bt,Tt,Ft){L===R&&(L+=1);var te=Math.PI*120/180,ne=Math.PI/180*(+W||0),xe=[],Ae,be,Qe,nr,sr,_t=function(Cs,Ms,io){var Yt=Cs*Math.cos(io)-Ms*Math.sin(io),cf=Cs*Math.sin(io)+Ms*Math.cos(io);return{x:Yt,y:cf}};if(Ft)be=Ft[0],Qe=Ft[1],nr=Ft[2],sr=Ft[3];else{Ae=_t(x,E,-ne),x=Ae.x,E=Ae.y,Ae=_t(bt,Tt,-ne),bt=Ae.x,Tt=Ae.y,x===bt&&E===Tt&&(bt+=1,Tt+=1);var Nt=(x-bt)/2,Wt=(E-Tt)/2,ve=Nt*Nt/(L*L)+Wt*Wt/(R*R);ve>1&&(ve=Math.sqrt(ve),L=ve*L,R=ve*R);var Te=L*L,Je=R*R,Pr=(q===dt?-1:1)*Math.sqrt(Math.abs((Te*Je-Te*Wt*Wt-Je*Nt*Nt)/(Te*Wt*Wt+Je*Nt*Nt)));nr=Pr*L*Wt/R+(x+bt)/2,sr=Pr*-R*Nt/L+(E+Tt)/2,be=Math.asin(((E-sr)/R).toFixed(9)),Qe=Math.asin(((Tt-sr)/R).toFixed(9)),be=x<nr?Math.PI-be:be,Qe=bt<nr?Math.PI-Qe:Qe,be<0&&(be=Math.PI*2+be),Qe<0&&(Qe=Math.PI*2+Qe),dt&&be>Qe&&(be=be-Math.PI*2),!dt&&Qe>be&&(Qe=Qe-Math.PI*2)}var fn=Qe-be;if(Math.abs(fn)>te){var di=Qe,Wi=bt,qi=Tt;Qe=be+te*(dt&&Qe>be?1:-1),bt=nr+L*Math.cos(Qe),Tt=sr+R*Math.sin(Qe),xe=b(bt,Tt,L,R,W,0,dt,Wi,qi,[Qe,di,nr,sr])}fn=Qe-be;var Oo=Math.cos(be),hf=Math.sin(be),ul=Math.cos(Qe),ya=Math.sin(Qe),$o=Math.tan(fn/4),fl=4/3*L*$o,hl=4/3*R*$o,ro=[x,E],no=[x+fl*hf,E-hl*Oo],cl=[bt+fl*ya,Tt-hl*ul],vl=[bt,Tt];if(no[0]=2*ro[0]-no[0],no[1]=2*ro[1]-no[1],Ft)return[no,cl,vl].concat(xe);xe=[no,cl,vl].concat(xe).join().split(",");for(var dl=[],Xa=0,Qo=xe.length;Xa<Qo;Xa++)dl[Xa]=Xa%2?_t(xe[Xa-1],xe[Xa],ne).y:_t(xe[Xa],xe[Xa+1],ne).x;return dl},y=function(x,E){var L=p(x),R=E&&p(E),W={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},q={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},dt=[],bt=[],Tt="",Ft="",te,ne=function(Nt,Wt,ve){var Te,Je;if(!Nt)return["C",Wt.x,Wt.y,Wt.x,Wt.y,Wt.x,Wt.y];switch(!(Nt[0]in{T:1,Q:1})&&(Wt.qx=Wt.qy=null),Nt[0]){case"M":Wt.X=Nt[1],Wt.Y=Nt[2];break;case"A":Nt=["C"].concat(b.apply(0,[Wt.x,Wt.y].concat(Nt.slice(1))));break;case"S":ve==="C"||ve==="S"?(Te=Wt.x*2-Wt.bx,Je=Wt.y*2-Wt.by):(Te=Wt.x,Je=Wt.y),Nt=["C",Te,Je].concat(Nt.slice(1));break;case"T":ve==="Q"||ve==="T"?(Wt.qx=Wt.x*2-Wt.qx,Wt.qy=Wt.y*2-Wt.qy):(Wt.qx=Wt.x,Wt.qy=Wt.y),Nt=["C"].concat(m(Wt.x,Wt.y,Wt.qx,Wt.qy,Nt[1],Nt[2]));break;case"Q":Wt.qx=Nt[1],Wt.qy=Nt[2],Nt=["C"].concat(m(Wt.x,Wt.y,Nt[1],Nt[2],Nt[3],Nt[4]));break;case"L":Nt=["C"].concat(w(Wt.x,Wt.y,Nt[1],Nt[2]));break;case"H":Nt=["C"].concat(w(Wt.x,Wt.y,Nt[1],Wt.y));break;case"V":Nt=["C"].concat(w(Wt.x,Wt.y,Wt.x,Nt[1]));break;case"Z":Nt=["C"].concat(w(Wt.x,Wt.y,Wt.X,Wt.Y));break;default:break}return Nt},xe=function(Nt,Wt){if(Nt[Wt].length>7){Nt[Wt].shift();for(var ve=Nt[Wt];ve.length;)dt[Wt]="A",R&&(bt[Wt]="A"),Nt.splice(Wt++,0,["C"].concat(ve.splice(0,6)));Nt.splice(Wt,1),te=Math.max(L.length,R&&R.length||0)}},Ae=function(Nt,Wt,ve,Te,Je){Nt&&Wt&&Nt[Je][0]==="M"&&Wt[Je][0]!=="M"&&(Wt.splice(Je,0,["M",Te.x,Te.y]),ve.bx=0,ve.by=0,ve.x=Nt[Je][1],ve.y=Nt[Je][2],te=Math.max(L.length,R&&R.length||0))};te=Math.max(L.length,R&&R.length||0);for(var be=0;be<te;be++){L[be]&&(Tt=L[be][0]),Tt!=="C"&&(dt[be]=Tt,be&&(Ft=dt[be-1])),L[be]=ne(L[be],W,Ft),dt[be]!=="A"&&Tt==="C"&&(dt[be]="C"),xe(L,be),R&&(R[be]&&(Tt=R[be][0]),Tt!=="C"&&(bt[be]=Tt,be&&(Ft=bt[be-1])),R[be]=ne(R[be],q,Ft),bt[be]!=="A"&&Tt==="C"&&(bt[be]="C"),xe(R,be)),Ae(L,R,W,q,be),Ae(R,L,q,W,be);var Qe=L[be],nr=R&&R[be],sr=Qe.length,_t=R&&nr.length;W.x=Qe[sr-2],W.y=Qe[sr-1],W.bx=parseFloat(Qe[sr-4])||W.x,W.by=parseFloat(Qe[sr-3])||W.y,q.bx=R&&(parseFloat(nr[_t-4])||q.x),q.by=R&&(parseFloat(nr[_t-3])||q.y),q.x=R&&nr[_t-2],q.y=R&&nr[_t-1]}return R?[L,R]:L},A=/,?([a-z]),?/gi,B=function(x){return x.join(",").replace(A,"$1")},N=function(x,E,L,R,W){var q=-3*E+9*L-9*R+3*W,dt=x*q+6*E-12*L+6*R;return x*dt-3*E+3*L},G=function(x,E,L,R,W,q,dt,bt,Tt){Tt===null&&(Tt=1),Tt=Tt>1?1:Tt<0?0:Tt;for(var Ft=Tt/2,te=12,ne=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],xe=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],Ae=0,be=0;be<te;be++){var Qe=Ft*ne[be]+Ft,nr=N(Qe,x,L,W,dt),sr=N(Qe,E,R,q,bt),_t=nr*nr+sr*sr;Ae+=xe[be]*Math.sqrt(_t)}return Ft*Ae},j=function(x,E,L,R,W,q,dt,bt){for(var Tt=[],Ft=[[],[]],te,ne,xe,Ae,be=0;be<2;++be){if(be===0?(ne=6*x-12*L+6*W,te=-3*x+9*L-9*W+3*dt,xe=3*L-3*x):(ne=6*E-12*R+6*q,te=-3*E+9*R-9*q+3*bt,xe=3*R-3*E),Math.abs(te)<1e-12){if(Math.abs(ne)<1e-12)continue;Ae=-xe/ne,Ae>0&&Ae<1&&Tt.push(Ae);continue}var Qe=ne*ne-4*xe*te,nr=Math.sqrt(Qe);if(!(Qe<0)){var sr=(-ne+nr)/(2*te);sr>0&&sr<1&&Tt.push(sr);var _t=(-ne-nr)/(2*te);_t>0&&_t<1&&Tt.push(_t)}}for(var Nt=Tt.length,Wt=Nt,ve;Nt--;)Ae=Tt[Nt],ve=1-Ae,Ft[0][Nt]=ve*ve*ve*x+3*ve*ve*Ae*L+3*ve*Ae*Ae*W+Ae*Ae*Ae*dt,Ft[1][Nt]=ve*ve*ve*E+3*ve*ve*Ae*R+3*ve*Ae*Ae*q+Ae*Ae*Ae*bt;return Ft[0][Wt]=x,Ft[1][Wt]=E,Ft[0][Wt+1]=dt,Ft[1][Wt+1]=bt,Ft[0].length=Ft[1].length=Wt+2,{min:{x:Math.min.apply(0,Ft[0]),y:Math.min.apply(0,Ft[1])},max:{x:Math.max.apply(0,Ft[0]),y:Math.max.apply(0,Ft[1])}}},J=function(x,E,L,R,W,q,dt,bt){if(!(Math.max(x,L)<Math.min(W,dt)||Math.min(x,L)>Math.max(W,dt)||Math.max(E,R)<Math.min(q,bt)||Math.min(E,R)>Math.max(q,bt))){var Tt=(x*R-E*L)*(W-dt)-(x-L)*(W*bt-q*dt),Ft=(x*R-E*L)*(q-bt)-(E-R)*(W*bt-q*dt),te=(x-L)*(q-bt)-(E-R)*(W-dt);if(!!te){var ne=Tt/te,xe=Ft/te,Ae=+ne.toFixed(2),be=+xe.toFixed(2);if(!(Ae<+Math.min(x,L).toFixed(2)||Ae>+Math.max(x,L).toFixed(2)||Ae<+Math.min(W,dt).toFixed(2)||Ae>+Math.max(W,dt).toFixed(2)||be<+Math.min(E,R).toFixed(2)||be>+Math.max(E,R).toFixed(2)||be<+Math.min(q,bt).toFixed(2)||be>+Math.max(q,bt).toFixed(2)))return{x:ne,y:xe}}}},H=function(x,E,L){return E>=x.x&&E<=x.x+x.width&&L>=x.y&&L<=x.y+x.height},K=function(x,E,L,R,W){if(W)return[["M",+x+ +W,E],["l",L-W*2,0],["a",W,W,0,0,1,W,W],["l",0,R-W*2],["a",W,W,0,0,1,-W,W],["l",W*2-L,0],["a",W,W,0,0,1,-W,-W],["l",0,W*2-R],["a",W,W,0,0,1,W,-W],["z"]];var q=[["M",x,E],["l",L,0],["l",0,R],["l",-L,0],["z"]];return q.parsePathArray=B,q},st=function(x,E,L,R){return x===null&&(x=E=L=R=0),E===null&&(E=x.y,L=x.width,R=x.height,x=x.x),{x,y:E,width:L,w:L,height:R,h:R,x2:x+L,y2:E+R,cx:x+L/2,cy:E+R/2,r1:Math.min(L,R)/2,r2:Math.max(L,R)/2,r0:Math.sqrt(L*L+R*R)/2,path:K(x,E,L,R),vb:[x,E,L,R].join(" ")}},nt=function(x,E){return x=st(x),E=st(E),H(E,x.x,x.y)||H(E,x.x2,x.y)||H(E,x.x,x.y2)||H(E,x.x2,x.y2)||H(x,E.x,E.y)||H(x,E.x2,E.y)||H(x,E.x,E.y2)||H(x,E.x2,E.y2)||(x.x<E.x2&&x.x>E.x||E.x<x.x2&&E.x>x.x)&&(x.y<E.y2&&x.y>E.y||E.y<x.y2&&E.y>x.y)},wt=function(x,E,L,R,W,q,dt,bt){(0,O.isArray)(x)||(x=[x,E,L,R,W,q,dt,bt]);var Tt=j.apply(null,x);return st(Tt.min.x,Tt.min.y,Tt.max.x-Tt.min.x,Tt.max.y-Tt.min.y)},gt=function(x,E,L,R,W,q,dt,bt,Tt){var Ft=1-Tt,te=Math.pow(Ft,3),ne=Math.pow(Ft,2),xe=Tt*Tt,Ae=xe*Tt,be=te*x+ne*3*Tt*L+Ft*3*Tt*Tt*W+Ae*dt,Qe=te*E+ne*3*Tt*R+Ft*3*Tt*Tt*q+Ae*bt,nr=x+2*Tt*(L-x)+xe*(W-2*L+x),sr=E+2*Tt*(R-E)+xe*(q-2*R+E),_t=L+2*Tt*(W-L)+xe*(dt-2*W+L),Nt=R+2*Tt*(q-R)+xe*(bt-2*q+R),Wt=Ft*x+Tt*L,ve=Ft*E+Tt*R,Te=Ft*W+Tt*dt,Je=Ft*q+Tt*bt,Pr=90-Math.atan2(nr-_t,sr-Nt)*180/Math.PI;return{x:be,y:Qe,m:{x:nr,y:sr},n:{x:_t,y:Nt},start:{x:Wt,y:ve},end:{x:Te,y:Je},alpha:Pr}},At=function(x,E,L){var R=wt(x),W=wt(E);if(!nt(R,W))return L?0:[];for(var q=G.apply(0,x),dt=G.apply(0,E),bt=~~(q/8),Tt=~~(dt/8),Ft=[],te=[],ne={},xe=L?0:[],Ae=0;Ae<bt+1;Ae++){var be=gt.apply(0,x.concat(Ae/bt));Ft.push({x:be.x,y:be.y,t:Ae/bt})}for(var Ae=0;Ae<Tt+1;Ae++){var be=gt.apply(0,E.concat(Ae/Tt));te.push({x:be.x,y:be.y,t:Ae/Tt})}for(var Ae=0;Ae<bt;Ae++)for(var Qe=0;Qe<Tt;Qe++){var nr=Ft[Ae],sr=Ft[Ae+1],_t=te[Qe],Nt=te[Qe+1],Wt=Math.abs(sr.x-nr.x)<.001?"y":"x",ve=Math.abs(Nt.x-_t.x)<.001?"y":"x",Te=J(nr.x,nr.y,sr.x,sr.y,_t.x,_t.y,Nt.x,Nt.y);if(Te){if(ne[Te.x.toFixed(4)]===Te.y.toFixed(4))continue;ne[Te.x.toFixed(4)]=Te.y.toFixed(4);var Je=nr.t+Math.abs((Te[Wt]-nr[Wt])/(sr[Wt]-nr[Wt]))*(sr.t-nr.t),Pr=_t.t+Math.abs((Te[ve]-_t[ve])/(Nt[ve]-_t[ve]))*(Nt.t-_t.t);Je>=0&&Je<=1&&Pr>=0&&Pr<=1&&(L?xe+=1:xe.push({x:Te.x,y:Te.y,t1:Je,t2:Pr}))}}return xe},X=function(x,E,L){x=y(x),E=y(E);for(var R,W,q,dt,bt,Tt,Ft,te,ne,xe,Ae=L?0:[],be=0,Qe=x.length;be<Qe;be++){var nr=x[be];if(nr[0]==="M")R=bt=nr[1],W=Tt=nr[2];else{nr[0]==="C"?(ne=[R,W].concat(nr.slice(1)),R=ne[6],W=ne[7]):(ne=[R,W,R,W,bt,Tt,bt,Tt],R=bt,W=Tt);for(var sr=0,_t=E.length;sr<_t;sr++){var Nt=E[sr];if(Nt[0]==="M")q=Ft=Nt[1],dt=te=Nt[2];else{Nt[0]==="C"?(xe=[q,dt].concat(Nt.slice(1)),q=xe[6],dt=xe[7]):(xe=[q,dt,q,dt,Ft,te,Ft,te],q=Ft,dt=te);var Wt=At(ne,xe,L);if(L)Ae+=Wt;else{for(var ve=0,Te=Wt.length;ve<Te;ve++)Wt[ve].segment1=be,Wt[ve].segment2=sr,Wt[ve].bez1=ne,Wt[ve].bez2=xe;Ae=Ae.concat(Wt)}}}}}return Ae},Z=function(x,E){return X(x,E)};function tt(x,E){var L=[],R=[];function W(q,dt){if(q.length===1)L.push(q[0]),R.push(q[0]);else{for(var bt=[],Tt=0;Tt<q.length-1;Tt++)Tt===0&&L.push(q[0]),Tt===q.length-2&&R.push(q[Tt+1]),bt[Tt]=[(1-dt)*q[Tt][0]+dt*q[Tt+1][0],(1-dt)*q[Tt][1]+dt*q[Tt+1][1]];W(bt,dt)}}return x.length&&W(x,E),{left:L,right:R.reverse()}}function Q(x,E,L){var R=[[x[1],x[2]]];L=L||2;var W=[];E[0]==="A"?(R.push(E[6]),R.push(E[7])):E[0]==="C"?(R.push([E[1],E[2]]),R.push([E[3],E[4]]),R.push([E[5],E[6]])):E[0]==="S"||E[0]==="Q"?(R.push([E[1],E[2]]),R.push([E[3],E[4]])):R.push([E[1],E[2]]);for(var q=R,dt=1/L,bt=0;bt<L-1;bt++){var Tt=dt/(1-dt*bt),Ft=tt(q,Tt);W.push(Ft.left),q=Ft.right}W.push(q);var te=W.map(function(ne){var xe=[];return ne.length===4&&(xe.push("C"),xe=xe.concat(ne[2])),ne.length>=3&&(ne.length===3&&xe.push("Q"),xe=xe.concat(ne[1])),ne.length===2&&xe.push("L"),xe=xe.concat(ne[ne.length-1]),xe});return te}var vt=function(x,E,L){if(L===1)return[[].concat(x)];var R=[];if(E[0]==="L"||E[0]==="C"||E[0]==="Q")R=R.concat(Q(x,E,L));else{var W=[].concat(x);W[0]==="M"&&(W[0]="L");for(var q=0;q<=L-1;q++)R.push(W)}return R},lt=function(x,E){if(x.length===1)return x;var L=x.length-1,R=E.length-1,W=L/R,q=[];if(x.length===1&&x[0][0]==="M"){for(var dt=0;dt<R-L;dt++)x.push(x[0]);return x}for(var dt=0;dt<R;dt++){var bt=Math.floor(W*dt);q[bt]=(q[bt]||0)+1}var Tt=q.reduce(function(Ft,te,ne){return ne===L?Ft.concat(x[L]):Ft.concat(vt(x[ne],x[ne+1],te))},[]);return Tt.unshift(x[0]),(E[R]==="Z"||E[R]==="z")&&Tt.push("Z"),Tt},rt=function(x,E){if(x.length!==E.length)return!1;var L=!0;return(0,O.each)(x,function(R,W){if(R!==E[W])return L=!1,!1}),L};function U(x,E,L){var R=null,W=L;return E<W&&(W=E,R="add"),x<W&&(W=x,R="del"),{type:R,min:W}}var $=function(x,E){var L=x.length,R=E.length,W,q,dt=0;if(L===0||R===0)return null;for(var bt=[],Tt=0;Tt<=L;Tt++)bt[Tt]=[],bt[Tt][0]={min:Tt};for(var Ft=0;Ft<=R;Ft++)bt[0][Ft]={min:Ft};for(var Tt=1;Tt<=L;Tt++){W=x[Tt-1];for(var Ft=1;Ft<=R;Ft++){q=E[Ft-1],rt(W,q)?dt=0:dt=1;var te=bt[Tt-1][Ft].min+1,ne=bt[Tt][Ft-1].min+1,xe=bt[Tt-1][Ft-1].min+dt;bt[Tt][Ft]=U(te,ne,xe)}}return bt},f=function(x,E){var L=$(x,E),R=x.length,W=E.length,q=[],dt=1,bt=1;if(L[R][W].min!==R){for(var Tt=1;Tt<=R;Tt++){var Ft=L[Tt][Tt].min;bt=Tt;for(var te=dt;te<=W;te++)L[Tt][te].min<Ft&&(Ft=L[Tt][te].min,bt=te);dt=bt,L[Tt][dt].type&&q.push({index:Tt-1,type:L[Tt][dt].type})}for(var Tt=q.length-1;Tt>=0;Tt--)dt=q[Tt].index,q[Tt].type==="add"?x.splice(dt,0,[].concat(x[dt])):x.splice(dt,1)}R=x.length;var ne=W-R;if(R<W)for(var Tt=0;Tt<ne;Tt++)x[R-1][0]==="z"||x[R-1][0]==="Z"?x.splice(R-2,0,x[R-2]):x.push(x[R-1]),R+=1;return x};function xt(x,E,L){for(var R=[].concat(x),W,q=1/(L+1),dt=Ct(E)[0],bt=1;bt<=L;bt++)q*=bt,W=Math.floor(x.length*q),W===0?R.unshift([dt[0]*q+x[W][0]*(1-q),dt[1]*q+x[W][1]*(1-q)]):R.splice(W,0,[dt[0]*q+x[W][0]*(1-q),dt[1]*q+x[W][1]*(1-q)]);return R}function Ct(x){var E=[];switch(x[0]){case"M":E.push([x[1],x[2]]);break;case"L":E.push([x[1],x[2]]);break;case"A":E.push([x[6],x[7]]);break;case"Q":E.push([x[3],x[4]]),E.push([x[1],x[2]]);break;case"T":E.push([x[1],x[2]]);break;case"C":E.push([x[5],x[6]]),E.push([x[1],x[2]]),E.push([x[3],x[4]]);break;case"S":E.push([x[3],x[4]]),E.push([x[1],x[2]]);break;case"H":E.push([x[1],x[1]]);break;case"V":E.push([x[1],x[1]]);break;default:}return E}var Bt=function(x,E){if(x.length<=1)return x;for(var L,R=0;R<E.length;R++)if(x[R][0]!==E[R][0])switch(L=Ct(x[R]),E[R][0]){case"M":x[R]=["M"].concat(L[0]);break;case"L":x[R]=["L"].concat(L[0]);break;case"A":x[R]=[].concat(E[R]),x[R][6]=L[0][0],x[R][7]=L[0][1];break;case"Q":if(L.length<2)if(R>0)L=xt(L,x[R-1],1);else{x[R]=E[R];break}x[R]=["Q"].concat(L.reduce(function(W,q){return W.concat(q)},[]));break;case"T":x[R]=["T"].concat(L[0]);break;case"C":if(L.length<3)if(R>0)L=xt(L,x[R-1],2);else{x[R]=E[R];break}x[R]=["C"].concat(L.reduce(function(W,q){return W.concat(q)},[]));break;case"S":if(L.length<2)if(R>0)L=xt(L,x[R-1],1);else{x[R]=E[R];break}x[R]=["S"].concat(L.reduce(function(W,q){return W.concat(q)},[]));break;default:x[R]=E[R]}return x},qt=function(){function x(E,L){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=E,this.name=E,this.originalEvent=L,this.timeStamp=L.timeStamp}return x.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},x.prototype.stopPropagation=function(){this.propagationStopped=!0},x.prototype.toString=function(){var E=this.type;return"[Event (type="+E+")]"},x.prototype.save=function(){},x.prototype.restore=function(){},x}(),Gt=qt;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Jt=function(x,E){return Jt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,R){L.__proto__=R}||function(L,R){for(var W in R)Object.prototype.hasOwnProperty.call(R,W)&&(L[W]=R[W])},Jt(x,E)};function ie(x,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");Jt(x,E);function L(){this.constructor=x}x.prototype=E===null?Object.create(E):(L.prototype=E.prototype,new L)}var se=function(){return se=Object.assign||function(E){for(var L,R=1,W=arguments.length;R<W;R++){L=arguments[R];for(var q in L)Object.prototype.hasOwnProperty.call(L,q)&&(E[q]=L[q])}return E},se.apply(this,arguments)};function Kt(x,E){var L={};for(var R in x)Object.prototype.hasOwnProperty.call(x,R)&&E.indexOf(R)<0&&(L[R]=x[R]);if(x!=null&&typeof Object.getOwnPropertySymbols=="function")for(var W=0,R=Object.getOwnPropertySymbols(x);W<R.length;W++)E.indexOf(R[W])<0&&Object.prototype.propertyIsEnumerable.call(x,R[W])&&(L[R[W]]=x[R[W]]);return L}function kt(x,E,L,R){var W=arguments.length,q=W<3?E:R===null?R=Object.getOwnPropertyDescriptor(E,L):R,dt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")q=Reflect.decorate(x,E,L,R);else for(var bt=x.length-1;bt>=0;bt--)(dt=x[bt])&&(q=(W<3?dt(q):W>3?dt(E,L,q):dt(E,L))||q);return W>3&&q&&Object.defineProperty(E,L,q),q}function Mt(x,E){return function(L,R){E(L,R,x)}}function pt(x,E){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(x,E)}function Pt(x,E,L,R){function W(q){return q instanceof L?q:new L(function(dt){dt(q)})}return new(L||(L=Promise))(function(q,dt){function bt(te){try{Ft(R.next(te))}catch(ne){dt(ne)}}function Tt(te){try{Ft(R.throw(te))}catch(ne){dt(ne)}}function Ft(te){te.done?q(te.value):W(te.value).then(bt,Tt)}Ft((R=R.apply(x,E||[])).next())})}function ut(x,E){var L={label:0,sent:function(){if(q[0]&1)throw q[1];return q[1]},trys:[],ops:[]},R,W,q,dt;return dt={next:bt(0),throw:bt(1),return:bt(2)},typeof Symbol=="function"&&(dt[Symbol.iterator]=function(){return this}),dt;function bt(Ft){return function(te){return Tt([Ft,te])}}function Tt(Ft){if(R)throw new TypeError("Generator is already executing.");for(;L;)try{if(R=1,W&&(q=Ft[0]&2?W.return:Ft[0]?W.throw||((q=W.return)&&q.call(W),0):W.next)&&!(q=q.call(W,Ft[1])).done)return q;switch(W=0,q&&(Ft=[Ft[0]&2,q.value]),Ft[0]){case 0:case 1:q=Ft;break;case 4:return L.label++,{value:Ft[1],done:!1};case 5:L.label++,W=Ft[1],Ft=[0];continue;case 7:Ft=L.ops.pop(),L.trys.pop();continue;default:if(q=L.trys,!(q=q.length>0&&q[q.length-1])&&(Ft[0]===6||Ft[0]===2)){L=0;continue}if(Ft[0]===3&&(!q||Ft[1]>q[0]&&Ft[1]<q[3])){L.label=Ft[1];break}if(Ft[0]===6&&L.label<q[1]){L.label=q[1],q=Ft;break}if(q&&L.label<q[2]){L.label=q[2],L.ops.push(Ft);break}q[2]&&L.ops.pop(),L.trys.pop();continue}Ft=E.call(x,L)}catch(te){Ft=[6,te],W=0}finally{R=q=0}if(Ft[0]&5)throw Ft[1];return{value:Ft[0]?Ft[1]:void 0,done:!0}}}var at=Object.create?function(x,E,L,R){R===void 0&&(R=L),Object.defineProperty(x,R,{enumerable:!0,get:function(){return E[L]}})}:function(x,E,L,R){R===void 0&&(R=L),x[R]=E[L]};function St(x,E){for(var L in x)L!=="default"&&!Object.prototype.hasOwnProperty.call(E,L)&&at(E,x,L)}function Ot(x){var E=typeof Symbol=="function"&&Symbol.iterator,L=E&&x[E],R=0;if(L)return L.call(x);if(x&&typeof x.length=="number")return{next:function(){return x&&R>=x.length&&(x=void 0),{value:x&&x[R++],done:!x}}};throw new TypeError(E?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ut(x,E){var L=typeof Symbol=="function"&&x[Symbol.iterator];if(!L)return x;var R=L.call(x),W,q=[],dt;try{for(;(E===void 0||E-- >0)&&!(W=R.next()).done;)q.push(W.value)}catch(bt){dt={error:bt}}finally{try{W&&!W.done&&(L=R.return)&&L.call(R)}finally{if(dt)throw dt.error}}return q}function oe(){for(var x=[],E=0;E<arguments.length;E++)x=x.concat(Ut(arguments[E]));return x}function we(){for(var x=0,E=0,L=arguments.length;E<L;E++)x+=arguments[E].length;for(var R=Array(x),W=0,E=0;E<L;E++)for(var q=arguments[E],dt=0,bt=q.length;dt<bt;dt++,W++)R[W]=q[dt];return R}function Ie(x,E,L){if(L||arguments.length===2)for(var R=0,W=E.length,q;R<W;R++)(q||!(R in E))&&(q||(q=Array.prototype.slice.call(E,0,R)),q[R]=E[R]);return x.concat(q||Array.prototype.slice.call(E))}function Be(x){return this instanceof Be?(this.v=x,this):new Be(x)}function ur(x,E,L){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var R=L.apply(x,E||[]),W,q=[];return W={},dt("next"),dt("throw"),dt("return"),W[Symbol.asyncIterator]=function(){return this},W;function dt(xe){R[xe]&&(W[xe]=function(Ae){return new Promise(function(be,Qe){q.push([xe,Ae,be,Qe])>1||bt(xe,Ae)})})}function bt(xe,Ae){try{Tt(R[xe](Ae))}catch(be){ne(q[0][3],be)}}function Tt(xe){xe.value instanceof Be?Promise.resolve(xe.value.v).then(Ft,te):ne(q[0][2],xe)}function Ft(xe){bt("next",xe)}function te(xe){bt("throw",xe)}function ne(xe,Ae){xe(Ae),q.shift(),q.length&&bt(q[0][0],q[0][1])}}function vr(x){var E,L;return E={},R("next"),R("throw",function(W){throw W}),R("return"),E[Symbol.iterator]=function(){return this},E;function R(W,q){E[W]=x[W]?function(dt){return(L=!L)?{value:Be(x[W](dt)),done:W==="return"}:q?q(dt):dt}:q}}function fr(x){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var E=x[Symbol.asyncIterator],L;return E?E.call(x):(x=typeof Ot=="function"?Ot(x):x[Symbol.iterator](),L={},R("next"),R("throw"),R("return"),L[Symbol.asyncIterator]=function(){return this},L);function R(q){L[q]=x[q]&&function(dt){return new Promise(function(bt,Tt){dt=x[q](dt),W(bt,Tt,dt.done,dt.value)})}}function W(q,dt,bt,Tt){Promise.resolve(Tt).then(function(Ft){q({value:Ft,done:bt})},dt)}}function Ar(x,E){return Object.defineProperty?Object.defineProperty(x,"raw",{value:E}):x.raw=E,x}var or=Object.create?function(x,E){Object.defineProperty(x,"default",{enumerable:!0,value:E})}:function(x,E){x.default=E};function Gr(x){if(x&&x.__esModule)return x;var E={};if(x!=null)for(var L in x)L!=="default"&&Object.prototype.hasOwnProperty.call(x,L)&&at(E,x,L);return or(E,x),E}function ln(x){return x&&x.__esModule?x:{default:x}}function Nr(x,E,L,R){if(L==="a"&&!R)throw new TypeError("Private accessor was defined without a getter");if(typeof E=="function"?x!==E||!R:!E.has(x))throw new TypeError("Cannot read private member from an object whose class did not declare it");return L==="m"?R:L==="a"?R.call(x):R?R.value:E.get(x)}function nn(x,E,L,R,W){if(R==="m")throw new TypeError("Private method is not writable");if(R==="a"&&!W)throw new TypeError("Private accessor was defined without a setter");if(typeof E=="function"?x!==E||!W:!E.has(x))throw new TypeError("Cannot write private member to an object whose class did not declare it");return R==="a"?W.call(x,L):W?W.value=L:E.set(x,L),L}var fi=d(90494);function hi(x,E){var L=x.indexOf(E);L!==-1&&x.splice(L,1)}var Si=typeof window!="undefined"&&typeof window.document!="undefined";function Ci(x,E){if(x.isCanvas())return!0;for(var L=E.getParent(),R=!1;L;){if(L===x){R=!0;break}L=L.getParent()}return R}function Vt(x){return x.cfg.visible&&x.cfg.capture}var $t=function(x){ie(E,x);function E(L){var R=x.call(this)||this;R.destroyed=!1;var W=R.getDefaultCfg();return R.cfg=(0,O.mix)(W,L),R}return E.prototype.getDefaultCfg=function(){return{}},E.prototype.get=function(L){return this.cfg[L]},E.prototype.set=function(L,R){this.cfg[L]=R},E.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},E}(fi.default),ae=$t,he=d(43631),me=d(35600);function Se(x,E,L){var R=[0,0,0,0,0,0,0,0,0];return me.fromTranslation(R,L),me.multiply(x,R,E)}function Ce(x,E,L){var R=[0,0,0,0,0,0,0,0,0];return me.fromRotation(R,L),me.multiply(x,R,E)}function Pe(x,E,L){var R=[0,0,0,0,0,0,0,0,0];return me.fromScaling(R,L),me.multiply(x,R,E)}function pe(x,E,L){return me.multiply(x,L,E)}function Ve(x,E){for(var L=x?[].concat(x):[1,0,0,0,1,0,0,0,1],R=0,W=E.length;R<W;R++){var q=E[R];switch(q[0]){case"t":Se(L,L,[q[1],q[2]]);break;case"s":Pe(L,L,[q[1],q[2]]);break;case"r":Ce(L,L,q[1]);break;case"m":pe(L,L,q[1]);break;default:break}}return L}function Ne(x,E){return x[0]*E[1]-E[0]*x[1]}function er(x,E,L){var R=vec2.angle(x,E),W=Ne(x,E)>=0;return L?W?Math.PI*2-R:R:W?R:Math.PI*2-R}function hr(x,E,L){return L?(x[0]=E[1],x[1]=-1*E[0]):(x[0]=-1*E[1],x[1]=E[0]),x}function rr(x,E){var L=[],R=x[0],W=x[1],q=x[2],dt=x[3],bt=x[4],Tt=x[5],Ft=x[6],te=x[7],ne=x[8],xe=E[0],Ae=E[1],be=E[2],Qe=E[3],nr=E[4],sr=E[5],_t=E[6],Nt=E[7],Wt=E[8];return L[0]=xe*R+Ae*dt+be*Ft,L[1]=xe*W+Ae*bt+be*te,L[2]=xe*q+Ae*Tt+be*ne,L[3]=Qe*R+nr*dt+sr*Ft,L[4]=Qe*W+nr*bt+sr*te,L[5]=Qe*q+nr*Tt+sr*ne,L[6]=_t*R+Nt*dt+Wt*Ft,L[7]=_t*W+Nt*bt+Wt*te,L[8]=_t*q+Nt*Tt+Wt*ne,L}function ar(x,E){var L=[],R=E[0],W=E[1];return L[0]=x[0]*R+x[3]*W+x[6],L[1]=x[1]*R+x[4]*W+x[7],L}function lr(x){var E=[],L=x[0],R=x[1],W=x[2],q=x[3],dt=x[4],bt=x[5],Tt=x[6],Ft=x[7],te=x[8],ne=te*dt-bt*Ft,xe=-te*q+bt*Tt,Ae=Ft*q-dt*Tt,be=L*ne+R*xe+W*Ae;return be?(be=1/be,E[0]=ne*be,E[1]=(-te*R+W*Ft)*be,E[2]=(bt*R-W*dt)*be,E[3]=xe*be,E[4]=(te*L-W*Tt)*be,E[5]=(-bt*L+W*q)*be,E[6]=Ae*be,E[7]=(-Ft*L+R*Tt)*be,E[8]=(dt*L-R*q)*be,E):null}var yr=Ve,Ke="matrix",Er=["zIndex","capture","visible","type"],Ir=["repeat"],Lr=":",Br="*";function jr(x){for(var E=[],L=0;L<x.length;L++)(0,O.isArray)(x[L])?E.push([].concat(x[L])):E.push(x[L]);return E}function Hr(x,E){var L={},R=E.attrs;for(var W in x)L[W]=R[W];return L}function kn(x,E){var L={},R=E.attr();return(0,O.each)(x,function(W,q){Ir.indexOf(q)===-1&&!(0,O.isEqual)(R[q],W)&&(L[q]=W)}),L}function tn(x,E){if(E.onFrame)return x;var L=E.startTime,R=E.delay,W=E.duration,q=Object.prototype.hasOwnProperty;return(0,O.each)(x,function(dt){L+R<dt.startTime+dt.delay+dt.duration&&W>dt.delay&&(0,O.each)(E.toAttrs,function(bt,Tt){q.call(dt.toAttrs,Tt)&&(delete dt.toAttrs[Tt],delete dt.fromAttrs[Tt])})}),x}var Yn=function(x){ie(E,x);function E(L){var R=x.call(this,L)||this;R.attrs={};var W=R.getDefaultAttrs();return(0,O.mix)(W,L.attrs),R.attrs=W,R.initAttrs(W),R.initAnimate(),R}return E.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},E.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},E.prototype.onCanvasChange=function(L){},E.prototype.initAttrs=function(L){},E.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},E.prototype.isGroup=function(){return!1},E.prototype.getParent=function(){return this.get("parent")},E.prototype.getCanvas=function(){return this.get("canvas")},E.prototype.attr=function(){for(var L,R=[],W=0;W<arguments.length;W++)R[W]=arguments[W];var q=R[0],dt=R[1];if(!q)return this.attrs;if((0,O.isObject)(q)){for(var bt in q)this.setAttr(bt,q[bt]);return this.afterAttrsChange(q),this}return R.length===2?(this.setAttr(q,dt),this.afterAttrsChange((L={},L[q]=dt,L)),this):this.attrs[q]},E.prototype.isClipped=function(L,R){var W=this.getClip();return W&&!W.isHit(L,R)},E.prototype.setAttr=function(L,R){var W=this.attrs[L];W!==R&&(this.attrs[L]=R,this.onAttrChange(L,R,W))},E.prototype.onAttrChange=function(L,R,W){L==="matrix"&&this.set("totalMatrix",null)},E.prototype.afterAttrsChange=function(L){if(this.cfg.isClipShape){var R=this.cfg.applyTo;R&&R.onCanvasChange("clip")}else this.onCanvasChange("attr")},E.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},E.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},E.prototype.setZIndex=function(L){this.set("zIndex",L);var R=this.getParent();return R&&R.sort(),this},E.prototype.toFront=function(){var L=this.getParent();if(!!L){var R=L.getChildren(),W=this.get("el"),q=R.indexOf(this);R.splice(q,1),R.push(this),this.onCanvasChange("zIndex")}},E.prototype.toBack=function(){var L=this.getParent();if(!!L){var R=L.getChildren(),W=this.get("el"),q=R.indexOf(this);R.splice(q,1),R.unshift(this),this.onCanvasChange("zIndex")}},E.prototype.remove=function(L){L===void 0&&(L=!0);var R=this.getParent();R?(hi(R.getChildren(),this),R.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),L&&this.destroy()},E.prototype.resetMatrix=function(){this.attr(Ke,this.getDefaultMatrix()),this.onCanvasChange("matrix")},E.prototype.getMatrix=function(){return this.attr(Ke)},E.prototype.setMatrix=function(L){this.attr(Ke,L),this.onCanvasChange("matrix")},E.prototype.getTotalMatrix=function(){var L=this.cfg.totalMatrix;if(!L){var R=this.attr("matrix"),W=this.cfg.parentMatrix;W&&R?L=rr(W,R):L=R||W,this.set("totalMatrix",L)}return L},E.prototype.applyMatrix=function(L){var R=this.attr("matrix"),W=null;L&&R?W=rr(L,R):W=R||L,this.set("totalMatrix",W),this.set("parentMatrix",L)},E.prototype.getDefaultMatrix=function(){return null},E.prototype.applyToMatrix=function(L){var R=this.attr("matrix");return R?ar(R,L):L},E.prototype.invertFromMatrix=function(L){var R=this.attr("matrix");if(R){var W=lr(R);if(W)return ar(W,L)}return L},E.prototype.setClip=function(L){var R=this.getCanvas(),W=null;if(L){var q=this.getShapeBase(),dt=(0,O.upperFirst)(L.type),bt=q[dt];bt&&(W=new bt({type:L.type,isClipShape:!0,applyTo:this,attrs:L.attrs,canvas:R}))}return this.set("clipShape",W),this.onCanvasChange("clip"),W},E.prototype.getClip=function(){var L=this.cfg.clipShape;return L||null},E.prototype.clone=function(){var L=this,R=this.attrs,W={};(0,O.each)(R,function(bt,Tt){(0,O.isArray)(R[Tt])?W[Tt]=jr(R[Tt]):W[Tt]=R[Tt]});var q=this.constructor,dt=new q({attrs:W});return(0,O.each)(Er,function(bt){dt.set(bt,L.get(bt))}),dt},E.prototype.destroy=function(){var L=this.destroyed;L||(this.attrs={},x.prototype.destroy.call(this))},E.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},E.prototype.animate=function(){for(var L=[],R=0;R<arguments.length;R++)L[R]=arguments[R];if(!(!this.get("timeline")&&!this.get("canvas"))){this.set("animating",!0);var W=this.get("timeline");W||(W=this.get("canvas").get("timeline"),this.set("timeline",W));var q=this.get("animations")||[];W.timer||W.initTimer();var dt=L[0],bt=L[1],Tt=L[2],Ft=Tt===void 0?"easeLinear":Tt,te=L[3],ne=te===void 0?O.noop:te,xe=L[4],Ae=xe===void 0?0:xe,be,Qe,nr,sr,_t;(0,O.isFunction)(dt)?(be=dt,dt={}):(0,O.isObject)(dt)&&dt.onFrame&&(be=dt.onFrame,Qe=dt.repeat),(0,O.isObject)(bt)?(_t=bt,bt=_t.duration,Ft=_t.easing||"easeLinear",Ae=_t.delay||0,Qe=_t.repeat||Qe||!1,ne=_t.callback||O.noop,nr=_t.pauseCallback||O.noop,sr=_t.resumeCallback||O.noop):((0,O.isNumber)(ne)&&(Ae=ne,ne=null),(0,O.isFunction)(Ft)?(ne=Ft,Ft="easeLinear"):Ft=Ft||"easeLinear");var Nt=kn(dt,this),Wt={fromAttrs:Hr(Nt,this),toAttrs:Nt,duration:bt,easing:Ft,repeat:Qe,callback:ne,pauseCallback:nr,resumeCallback:sr,delay:Ae,startTime:W.getTime(),id:(0,O.uniqueId)(),onFrame:be,pathFormatted:!1};q.length>0?q=tn(q,Wt):W.addAnimator(this),q.push(Wt),this.set("animations",q),this.set("_pause",{isPaused:!1})}},E.prototype.stopAnimate=function(L){var R=this;L===void 0&&(L=!0);var W=this.get("animations");(0,O.each)(W,function(q){L&&(q.onFrame?R.attr(q.onFrame(1)):R.attr(q.toAttrs)),q.callback&&q.callback()}),this.set("animating",!1),this.set("animations",[])},E.prototype.pauseAnimate=function(){var L=this.get("timeline"),R=this.get("animations"),W=L.getTime();return(0,O.each)(R,function(q){q._paused=!0,q._pauseTime=W,q.pauseCallback&&q.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:W}),this},E.prototype.resumeAnimate=function(){var L=this.get("timeline"),R=L.getTime(),W=this.get("animations"),q=this.get("_pause").pauseTime;return(0,O.each)(W,function(dt){dt.startTime=dt.startTime+(R-q),dt._paused=!1,dt._pauseTime=null,dt.resumeCallback&&dt.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",W),this},E.prototype.emitDelegation=function(L,R){var W=this,q=R.propagationPath,dt=this.getEvents(),bt;L==="mouseenter"?bt=R.fromShape:L==="mouseleave"&&(bt=R.toShape);for(var Tt=function(xe){var Ae=q[xe],be=Ae.get("name");if(be){if((Ae.isGroup()||Ae.isCanvas&&Ae.isCanvas())&&bt&&Ci(Ae,bt))return"break";(0,O.isArray)(be)?(0,O.each)(be,function(Qe){W.emitDelegateEvent(Ae,Qe,R)}):Ft.emitDelegateEvent(Ae,be,R)}},Ft=this,te=0;te<q.length;te++){var ne=Tt(te);if(ne==="break")break}},E.prototype.emitDelegateEvent=function(L,R,W){var q=this.getEvents(),dt=R+Lr+W.type;(q[dt]||q[Br])&&(W.name=dt,W.currentTarget=L,W.delegateTarget=this,W.delegateObject=L.get("delegateObject"),this.emit(dt,W))},E.prototype.translate=function(L,R){L===void 0&&(L=0),R===void 0&&(R=0);var W=this.getMatrix(),q=yr(W,[["t",L,R]]);return this.setMatrix(q),this},E.prototype.move=function(L,R){var W=this.attr("x")||0,q=this.attr("y")||0;return this.translate(L-W,R-q),this},E.prototype.moveTo=function(L,R){return this.move(L,R)},E.prototype.scale=function(L,R){var W=this.getMatrix(),q=yr(W,[["s",L,R||L]]);return this.setMatrix(q),this},E.prototype.rotate=function(L){var R=this.getMatrix(),W=yr(R,[["r",L]]);return this.setMatrix(W),this},E.prototype.rotateAtStart=function(L){var R=this.attr(),W=R.x,q=R.y,dt=this.getMatrix(),bt=yr(dt,[["t",-W,-q],["r",L],["t",W,q]]);return this.setMatrix(bt),this},E.prototype.rotateAtPoint=function(L,R,W){var q=this.getMatrix(),dt=yr(q,[["t",-L,-R],["r",W],["t",L,R]]);return this.setMatrix(dt),this},E}(ae),ti=Yn,jn={},yi="_INDEX";function _i(x,E){if(x.set("canvas",E),x.isGroup()){var L=x.get("children");L.length&&L.forEach(function(R){_i(R,E)})}}function Tr(x,E){if(x.set("timeline",E),x.isGroup()){var L=x.get("children");L.length&&L.forEach(function(R){Tr(R,E)})}}function mi(x,E){var L=x.getChildren();return L.indexOf(E)>=0}function ci(x,E,L){L===void 0&&(L=!0),L?E.destroy():(E.set("parent",null),E.set("canvas",null)),hi(x.getChildren(),E)}function ei(x){return function(E,L){var R=x(E,L);return R===0?E[yi]-L[yi]:R}}var xn=function(x){ie(E,x);function E(){return x!==null&&x.apply(this,arguments)||this}return E.prototype.isCanvas=function(){return!1},E.prototype.getBBox=function(){var L=Infinity,R=-Infinity,W=Infinity,q=-Infinity,dt=[],bt=[],Tt=this.getChildren().filter(function(te){return te.get("visible")&&(!te.isGroup()||te.isGroup()&&te.getChildren().length>0)});Tt.length>0?((0,O.each)(Tt,function(te){var ne=te.getBBox();dt.push(ne.minX,ne.maxX),bt.push(ne.minY,ne.maxY)}),L=(0,O.min)(dt),R=(0,O.max)(dt),W=(0,O.min)(bt),q=(0,O.max)(bt)):(L=0,R=0,W=0,q=0);var Ft={x:L,y:W,minX:L,minY:W,maxX:R,maxY:q,width:R-L,height:q-W};return Ft},E.prototype.getCanvasBBox=function(){var L=Infinity,R=-Infinity,W=Infinity,q=-Infinity,dt=[],bt=[],Tt=this.getChildren().filter(function(te){return te.get("visible")&&(!te.isGroup()||te.isGroup()&&te.getChildren().length>0)});Tt.length>0?((0,O.each)(Tt,function(te){var ne=te.getCanvasBBox();dt.push(ne.minX,ne.maxX),bt.push(ne.minY,ne.maxY)}),L=(0,O.min)(dt),R=(0,O.max)(dt),W=(0,O.min)(bt),q=(0,O.max)(bt)):(L=0,R=0,W=0,q=0);var Ft={x:L,y:W,minX:L,minY:W,maxX:R,maxY:q,width:R-L,height:q-W};return Ft},E.prototype.getDefaultCfg=function(){var L=x.prototype.getDefaultCfg.call(this);return L.children=[],L},E.prototype.onAttrChange=function(L,R,W){if(x.prototype.onAttrChange.call(this,L,R,W),L==="matrix"){var q=this.getTotalMatrix();this._applyChildrenMarix(q)}},E.prototype.applyMatrix=function(L){var R=this.getTotalMatrix();x.prototype.applyMatrix.call(this,L);var W=this.getTotalMatrix();W!==R&&this._applyChildrenMarix(W)},E.prototype._applyChildrenMarix=function(L){var R=this.getChildren();(0,O.each)(R,function(W){W.applyMatrix(L)})},E.prototype.addShape=function(){for(var L=[],R=0;R<arguments.length;R++)L[R]=arguments[R];var W=L[0],q=L[1];(0,O.isObject)(W)?q=W:q.type=W;var dt=jn[q.type];dt||(dt=(0,O.upperFirst)(q.type),jn[q.type]=dt);var bt=this.getShapeBase(),Tt=new bt[dt](q);return this.add(Tt),Tt},E.prototype.addGroup=function(){for(var L=[],R=0;R<arguments.length;R++)L[R]=arguments[R];var W=L[0],q=L[1],dt;if((0,O.isFunction)(W))q?dt=new W(q):dt=new W({parent:this});else{var bt=W||{},Tt=this.getGroupBase();dt=new Tt(bt)}return this.add(dt),dt},E.prototype.getCanvas=function(){var L;return this.isCanvas()?L=this:L=this.get("canvas"),L},E.prototype.getShape=function(L,R,W){if(!Vt(this))return null;var q=this.getChildren(),dt;if(this.isCanvas())dt=this._findShape(q,L,R,W);else{var bt=[L,R,1];bt=this.invertFromMatrix(bt),this.isClipped(bt[0],bt[1])||(dt=this._findShape(q,bt[0],bt[1],W))}return dt},E.prototype._findShape=function(L,R,W,q){for(var dt=null,bt=L.length-1;bt>=0;bt--){var Tt=L[bt];if(Vt(Tt)&&(Tt.isGroup()?dt=Tt.getShape(R,W,q):Tt.isHit(R,W)&&(dt=Tt)),dt)break}return dt},E.prototype.add=function(L){var R=this.getCanvas(),W=this.getChildren(),q=this.get("timeline"),dt=L.getParent();dt&&ci(dt,L,!1),L.set("parent",this),R&&_i(L,R),q&&Tr(L,q),W.push(L),L.onCanvasChange("add"),this._applyElementMatrix(L)},E.prototype._applyElementMatrix=function(L){var R=this.getTotalMatrix();R&&L.applyMatrix(R)},E.prototype.getChildren=function(){return this.get("children")},E.prototype.sort=function(){var L=this.getChildren();(0,O.each)(L,function(R,W){return R[yi]=W,R}),L.sort(ei(function(R,W){return R.get("zIndex")-W.get("zIndex")})),this.onCanvasChange("sort")},E.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var L=this.getChildren(),R=L.length-1;R>=0;R--)L[R].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},E.prototype.destroy=function(){this.get("destroyed")||(this.clear(),x.prototype.destroy.call(this))},E.prototype.getFirst=function(){return this.getChildByIndex(0)},E.prototype.getLast=function(){var L=this.getChildren();return this.getChildByIndex(L.length-1)},E.prototype.getChildByIndex=function(L){var R=this.getChildren();return R[L]},E.prototype.getCount=function(){var L=this.getChildren();return L.length},E.prototype.contain=function(L){var R=this.getChildren();return R.indexOf(L)>-1},E.prototype.removeChild=function(L,R){R===void 0&&(R=!0),this.contain(L)&&L.remove(R)},E.prototype.findAll=function(L){var R=[],W=this.getChildren();return(0,O.each)(W,function(q){L(q)&&R.push(q),q.isGroup()&&(R=R.concat(q.findAll(L)))}),R},E.prototype.find=function(L){var R=null,W=this.getChildren();return(0,O.each)(W,function(q){if(L(q)?R=q:q.isGroup()&&(R=q.find(L)),R)return!1}),R},E.prototype.findById=function(L){return this.find(function(R){return R.get("id")===L})},E.prototype.findByClassName=function(L){return this.find(function(R){return R.get("className")===L})},E.prototype.findAllByName=function(L){return this.findAll(function(R){return R.get("name")===L})},E}(ti),ai=xn,oi=0,ri=0,si=0,Vn=1e3,Li,Ni,Tn=0,Gn=0,li=0,Oi=typeof performance=="object"&&performance.now?performance:Date,xi=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(x){setTimeout(x,17)};function oa(){return Gn||(xi(vi),Gn=Oi.now()+li)}function vi(){Gn=0}function sa(){this._call=this._time=this._next=null}sa.prototype=$i.prototype={constructor:sa,restart:function(x,E,L){if(typeof x!="function")throw new TypeError("callback is not a function");L=(L==null?oa():+L)+(E==null?0:+E),!this._next&&Ni!==this&&(Ni?Ni._next=this:Li=this,Ni=this),this._call=x,this._time=L,ee()},stop:function(){this._call&&(this._call=null,this._time=Infinity,ee())}};function $i(x,E,L){var R=new sa;return R.restart(x,E,L),R}function la(){oa(),++oi;for(var x=Li,E;x;)(E=Gn-x._time)>=0&&x._call.call(null,E),x=x._next;--oi}function ba(){Gn=(Tn=Oi.now())+li,oi=ri=0;try{la()}finally{oi=0,Zt(),Gn=0}}function Dt(){var x=Oi.now(),E=x-Tn;E>Vn&&(li-=E,Tn=x)}function Zt(){for(var x,E=Li,L,R=Infinity;E;)E._call?(R>E._time&&(R=E._time),x=E,E=E._next):(L=E._next,E._next=null,E=x?x._next=L:Li=L);Ni=x,ee(R)}function ee(x){if(!oi){ri&&(ri=clearTimeout(ri));var E=x-Gn;E>24?(x<Infinity&&(ri=setTimeout(ba,x-Oi.now()-li)),si&&(si=clearInterval(si))):(si||(Tn=Oi.now(),si=setInterval(Dt,Vn)),oi=1,xi(ba))}}var ge=d(26257),ye=d(88122),Ee=d(13681),We={};function Ue(x){return We[x.toLowerCase()]||Ee[x]}function Et(x,E){We[x.toLowerCase()]=E}var ft=function(x){return["fill","stroke","fillStyle","strokeStyle"].includes(x)},et=function(x){return/^[r,R,L,l]{1}[\s]*\(/.test(x)},ht=[1,0,0,0,1,0,0,0,1];function Lt(x,E,L){var R={},W=E.fromAttrs,q=E.toAttrs;if(!x.destroyed){var dt;for(var bt in q)if(!(0,O.isEqual)(W[bt],q[bt]))if(bt==="path"){var Tt=q[bt],Ft=W[bt];Tt.length>Ft.length?(Tt=_(q[bt]),Ft=_(W[bt]),Ft=f(Ft,Tt),Ft=Bt(Ft,Tt),E.fromAttrs.path=Ft,E.toAttrs.path=Tt):E.pathFormatted||(Tt=_(q[bt]),Ft=_(W[bt]),Ft=Bt(Ft,Tt),E.fromAttrs.path=Ft,E.toAttrs.path=Tt,E.pathFormatted=!0),R[bt]=[];for(var te=0;te<Tt.length;te++){for(var ne=Tt[te],xe=Ft[te],Ae=[],be=0;be<ne.length;be++)(0,O.isNumber)(ne[be])&&xe&&(0,O.isNumber)(xe[be])?(dt=(0,ge.Z)(xe[be],ne[be]),Ae.push(dt(L))):Ae.push(ne[be]);R[bt].push(Ae)}}else if(bt==="matrix"){var Qe=(0,ye.Z)(W[bt]||ht,q[bt]||ht),nr=Qe(L);R[bt]=nr}else ft(bt)&&et(q[bt])?R[bt]=q[bt]:(0,O.isFunction)(q[bt])||(dt=(0,ge.Z)(W[bt],q[bt]),R[bt]=dt(L));x.attr(R)}}function Ht(x,E,L){var R=E.startTime,W=E.delay;if(L<R+W||E._paused)return!1;var q,dt=E.duration,bt=E.easing,Tt=Ue(bt);if(L=L-R-E.delay,E.repeat)q=L%dt/dt,q=Tt(q);else if(q=L/dt,q<1)q=Tt(q);else return E.onFrame?x.attr(E.onFrame(1)):x.attr(E.toAttrs),!0;if(E.onFrame){var Ft=E.onFrame(q);x.attr(Ft)}else Lt(x,E,q);return!1}var le=function(){function x(E){this.animators=[],this.current=0,this.timer=null,this.canvas=E}return x.prototype.initTimer=function(){var E=this,L=!1,R,W,q;this.timer=$i(function(dt){if(E.current=dt,E.animators.length>0){for(var bt=E.animators.length-1;bt>=0;bt--){if(R=E.animators[bt],R.destroyed){E.removeAnimator(bt);continue}if(!R.isAnimatePaused()){W=R.get("animations");for(var Tt=W.length-1;Tt>=0;Tt--)q=W[Tt],L=Ht(R,q,dt),L&&(W.splice(Tt,1),L=!1,q.callback&&q.callback())}W.length===0&&E.removeAnimator(bt)}var Ft=E.canvas.get("autoDraw");Ft||E.canvas.draw()}})},x.prototype.addAnimator=function(E){this.animators.push(E)},x.prototype.removeAnimator=function(E){this.animators.splice(E,1)},x.prototype.isAnimating=function(){return!!this.animators.length},x.prototype.stop=function(){this.timer&&this.timer.stop()},x.prototype.stopAllAnimations=function(E){E===void 0&&(E=!0),this.animators.forEach(function(L){L.stopAnimate(E)}),this.animators=[],this.canvas.draw()},x.prototype.getTime=function(){return this.current},x}(),ce=le,ue=40,Oe=0,De=":",Fe=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function ir(x,E){for(var L in x)if(x.hasOwnProperty(L)&&L.indexOf(De+E)>=0)return!0;return!1}function Ye(x,E,L){L.name=E,L.target=x,L.currentTarget=x,L.delegateTarget=x,x.emit(E,L)}function Re(x,E,L){if(L.bubbles){var R=void 0,W=!1;if(E==="mouseenter"?(R=L.fromShape,W=!0):E==="mouseleave"&&(W=!0,R=L.toShape),x.isCanvas()&&W)return;if(R&&Ci(x,R)){L.bubbles=!1;return}L.name=E,L.currentTarget=x,L.delegateTarget=x,x.emit(E,L)}}var wr=function(){function x(E){var L=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(R){var W=R.type;L._triggerEvent(W,R)},this._onDocumentMove=function(R){var W=L.canvas,q=W.get("el");if(q!==R.target&&(L.dragging||L.currentShape)){var dt=L._getPointInfo(R);L.dragging&&L._emitEvent("drag",R,dt,L.draggingShape)}},this._onDocumentMouseUp=function(R){var W=L.canvas,q=W.get("el");if(q!==R.target&&L.dragging){var dt=L._getPointInfo(R);L.draggingShape&&L._emitEvent("drop",R,dt,null),L._emitEvent("dragend",R,dt,L.draggingShape),L._afterDrag(L.draggingShape,dt,R)}},this.canvas=E.canvas}return x.prototype.init=function(){this._bindEvents()},x.prototype._bindEvents=function(){var E=this,L=this.canvas.get("el");(0,O.each)(Fe,function(R){L.addEventListener(R,E._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},x.prototype._clearEvents=function(){var E=this,L=this.canvas.get("el");(0,O.each)(Fe,function(R){L.removeEventListener(R,E._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},x.prototype._getEventObj=function(E,L,R,W,q,dt){var bt=new Gt(E,L);return bt.fromShape=q,bt.toShape=dt,bt.x=R.x,bt.y=R.y,bt.clientX=R.clientX,bt.clientY=R.clientY,bt.propagationPath.push(W),bt},x.prototype._getShape=function(E,L){return this.canvas.getShape(E.x,E.y,L)},x.prototype._getPointInfo=function(E){var L=this.canvas,R=L.getClientByEvent(E),W=L.getPointByEvent(E);return{x:W.x,y:W.y,clientX:R.x,clientY:R.y}},x.prototype._triggerEvent=function(E,L){var R=this._getPointInfo(L),W=this._getShape(R,L),q=this["_on"+E],dt=!1;if(q)q.call(this,R,W,L);else{var bt=this.currentShape;E==="mouseenter"||E==="dragenter"||E==="mouseover"?(this._emitEvent(E,L,R,null,null,W),W&&this._emitEvent(E,L,R,W,null,W),E==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",L,R,null)):E==="mouseleave"||E==="dragleave"||E==="mouseout"?(dt=!0,bt&&this._emitEvent(E,L,R,bt,bt,null),this._emitEvent(E,L,R,null,bt,null),E==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",L,R,null)):this._emitEvent(E,L,R,W,null,null)}if(dt||(this.currentShape=W),W&&!W.get("destroyed")){var Tt=this.canvas,Ft=Tt.get("el");Ft.style.cursor=W.attr("cursor")||Tt.get("cursor")}},x.prototype._onmousedown=function(E,L,R){R.button===Oe&&(this.mousedownShape=L,this.mousedownPoint=E,this.mousedownTimeStamp=R.timeStamp),this._emitEvent("mousedown",R,E,L,null,null)},x.prototype._emitMouseoverEvents=function(E,L,R,W){var q=this.canvas.get("el");R!==W&&(R&&(this._emitEvent("mouseout",E,L,R,R,W),this._emitEvent("mouseleave",E,L,R,R,W),(!W||W.get("destroyed"))&&(q.style.cursor=this.canvas.get("cursor"))),W&&(this._emitEvent("mouseover",E,L,W,R,W),this._emitEvent("mouseenter",E,L,W,R,W)))},x.prototype._emitDragoverEvents=function(E,L,R,W,q){W?(W!==R&&(R&&this._emitEvent("dragleave",E,L,R,R,W),this._emitEvent("dragenter",E,L,W,R,W)),q||this._emitEvent("dragover",E,L,W)):R&&this._emitEvent("dragleave",E,L,R,R,W),q&&this._emitEvent("dragover",E,L,W)},x.prototype._afterDrag=function(E,L,R){E&&(E.set("capture",!0),this.draggingShape=null),this.dragging=!1;var W=this._getShape(L,R);W!==E&&this._emitMouseoverEvents(R,L,E,W),this.currentShape=W},x.prototype._onmouseup=function(E,L,R){if(R.button===Oe){var W=this.draggingShape;this.dragging?(W&&this._emitEvent("drop",R,E,L),this._emitEvent("dragend",R,E,W),this._afterDrag(W,E,R)):(this._emitEvent("mouseup",R,E,L),L===this.mousedownShape&&this._emitEvent("click",R,E,L),this.mousedownShape=null,this.mousedownPoint=null)}},x.prototype._ondragover=function(E,L,R){R.preventDefault();var W=this.currentShape;this._emitDragoverEvents(R,E,W,L,!0)},x.prototype._onmousemove=function(E,L,R){var W=this.canvas,q=this.currentShape,dt=this.draggingShape;if(this.dragging)dt&&this._emitDragoverEvents(R,E,q,L,!1),this._emitEvent("drag",R,E,dt);else{var bt=this.mousedownPoint;if(bt){var Tt=this.mousedownShape,Ft=R.timeStamp,te=Ft-this.mousedownTimeStamp,ne=bt.clientX-E.clientX,xe=bt.clientY-E.clientY,Ae=ne*ne+xe*xe;te>120||Ae>ue?Tt&&Tt.get("draggable")?(dt=this.mousedownShape,dt.set("capture",!1),this.draggingShape=dt,this.dragging=!0,this._emitEvent("dragstart",R,E,dt),this.mousedownShape=null,this.mousedownPoint=null):!Tt&&W.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",R,E,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(R,E,q,L),this._emitEvent("mousemove",R,E,L)):(this._emitMouseoverEvents(R,E,q,L),this._emitEvent("mousemove",R,E,L))}else this._emitMouseoverEvents(R,E,q,L),this._emitEvent("mousemove",R,E,L)}},x.prototype._emitEvent=function(E,L,R,W,q,dt){var bt=this._getEventObj(E,L,R,W,q,dt);if(W){bt.shape=W,Ye(W,E,bt);for(var Tt=W.getParent();Tt;)Tt.emitDelegation(E,bt),bt.propagationStopped||Re(Tt,E,bt),bt.propagationPath.push(Tt),Tt=Tt.getParent()}else{var Ft=this.canvas;Ye(Ft,E,bt)}},x.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},x}(),Sr=wr,Yr="px",zr=(0,he.detect)(),dr=zr&&zr.name==="firefox",tr=function(x){ie(E,x);function E(L){var R=x.call(this,L)||this;return R.initContainer(),R.initDom(),R.initEvents(),R.initTimeline(),R}return E.prototype.getDefaultCfg=function(){var L=x.prototype.getDefaultCfg.call(this);return L.cursor="default",L.supportCSSTransform=!1,L},E.prototype.initContainer=function(){var L=this.get("container");(0,O.isString)(L)&&(L=document.getElementById(L),this.set("container",L))},E.prototype.initDom=function(){var L=this.createDom();this.set("el",L);var R=this.get("container");R.appendChild(L),this.setDOMSize(this.get("width"),this.get("height"))},E.prototype.initEvents=function(){var L=new Sr({canvas:this});L.init(),this.set("eventController",L)},E.prototype.initTimeline=function(){var L=new ce(this);this.set("timeline",L)},E.prototype.setDOMSize=function(L,R){var W=this.get("el");Si&&(W.style.width=L+Yr,W.style.height=R+Yr)},E.prototype.changeSize=function(L,R){this.setDOMSize(L,R),this.set("width",L),this.set("height",R),this.onCanvasChange("changeSize")},E.prototype.getRenderer=function(){return this.get("renderer")},E.prototype.getCursor=function(){return this.get("cursor")},E.prototype.setCursor=function(L){this.set("cursor",L);var R=this.get("el");Si&&R&&(R.style.cursor=L)},E.prototype.getPointByEvent=function(L){var R=this.get("supportCSSTransform");if(R){if(dr&&!(0,O.isNil)(L.layerX)&&L.layerX!==L.offsetX)return{x:L.layerX,y:L.layerY};if(!(0,O.isNil)(L.offsetX))return{x:L.offsetX,y:L.offsetY}}var W=this.getClientByEvent(L),q=W.x,dt=W.y;return this.getPointByClient(q,dt)},E.prototype.getClientByEvent=function(L){var R=L;return L.touches&&(L.type==="touchend"?R=L.changedTouches[0]:R=L.touches[0]),{x:R.clientX,y:R.clientY}},E.prototype.getPointByClient=function(L,R){var W=this.get("el"),q=W.getBoundingClientRect();return{x:L-q.left,y:R-q.top}},E.prototype.getClientByPoint=function(L,R){var W=this.get("el"),q=W.getBoundingClientRect();return{x:L+q.left,y:R+q.top}},E.prototype.draw=function(){},E.prototype.removeDom=function(){var L=this.get("el");L.parentNode.removeChild(L)},E.prototype.clearEvents=function(){var L=this.get("eventController");L.destroy()},E.prototype.isCanvas=function(){return!0},E.prototype.getParent=function(){return null},E.prototype.destroy=function(){var L=this.get("timeline");this.get("destroyed")||(this.clear(),L&&L.stop(),this.clearEvents(),this.removeDom(),x.prototype.destroy.call(this))},E}(ai),Xr=tr,un=function(x){ie(E,x);function E(){return x!==null&&x.apply(this,arguments)||this}return E.prototype.isGroup=function(){return!0},E.prototype.isEntityGroup=function(){return!1},E.prototype.clone=function(){for(var L=x.prototype.clone.call(this),R=this.getChildren(),W=0;W<R.length;W++){var q=R[W];L.add(q.clone())}return L},E}(ai),Mn=un,Un=function(x){ie(E,x);function E(L){return x.call(this,L)||this}return E.prototype._isInBBox=function(L,R){var W=this.getBBox();return W.minX<=L&&W.maxX>=L&&W.minY<=R&&W.maxY>=R},E.prototype.afterAttrsChange=function(L){x.prototype.afterAttrsChange.call(this,L),this.clearCacheBBox()},E.prototype.getBBox=function(){var L=this.cfg.bbox;return L||(L=this.calculateBBox(),this.set("bbox",L)),L},E.prototype.getCanvasBBox=function(){var L=this.cfg.canvasBBox;return L||(L=this.calculateCanvasBBox(),this.set("canvasBBox",L)),L},E.prototype.applyMatrix=function(L){x.prototype.applyMatrix.call(this,L),this.set("canvasBBox",null)},E.prototype.calculateCanvasBBox=function(){var L=this.getBBox(),R=this.getTotalMatrix(),W=L.minX,q=L.minY,dt=L.maxX,bt=L.maxY;if(R){var Tt=ar(R,[L.minX,L.minY]),Ft=ar(R,[L.maxX,L.minY]),te=ar(R,[L.minX,L.maxY]),ne=ar(R,[L.maxX,L.maxY]);W=Math.min(Tt[0],Ft[0],te[0],ne[0]),dt=Math.max(Tt[0],Ft[0],te[0],ne[0]),q=Math.min(Tt[1],Ft[1],te[1],ne[1]),bt=Math.max(Tt[1],Ft[1],te[1],ne[1])}var xe=this.attrs;if(xe.shadowColor){var Ae=xe.shadowBlur,be=Ae===void 0?0:Ae,Qe=xe.shadowOffsetX,nr=Qe===void 0?0:Qe,sr=xe.shadowOffsetY,_t=sr===void 0?0:sr,Nt=W-be+nr,Wt=dt+be+nr,ve=q-be+_t,Te=bt+be+_t;W=Math.min(W,Nt),dt=Math.max(dt,Wt),q=Math.min(q,ve),bt=Math.max(bt,Te)}return{x:W,y:q,minX:W,minY:q,maxX:dt,maxY:bt,width:dt-W,height:bt-q}},E.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},E.prototype.isClipShape=function(){return this.get("isClipShape")},E.prototype.isInShape=function(L,R){return!1},E.prototype.isOnlyHitBox=function(){return!1},E.prototype.isHit=function(L,R){var W=this.get("startArrowShape"),q=this.get("endArrowShape"),dt=[L,R,1];dt=this.invertFromMatrix(dt);var bt=dt[0],Tt=dt[1],Ft=this._isInBBox(bt,Tt);return this.isOnlyHitBox()?Ft:!!(Ft&&!this.isClipped(bt,Tt)&&(this.isInShape(bt,Tt)||W&&W.isHit(bt,Tt)||q&&q.isHit(bt,Tt)))},E}(ti),$n=Un,da=new Map;function En(x,E){da.set(x,E)}function Ga(x){return da.get(x)}function Qi(x){var E=x.attr(),L=E.x,R=E.y,W=E.width,q=E.height;return{x:L,y:R,width:W,height:q}}function za(x){var E=x.attr(),L=E.x,R=E.y,W=E.r;return{x:L-W,y:R-W,width:W*2,height:W*2}}var ua=d(89838);function to(x,E){return!x||!E?x||E:{minX:Math.min(x.minX,E.minX),minY:Math.min(x.minY,E.minY),maxX:Math.max(x.maxX,E.maxX),maxY:Math.max(x.maxY,E.maxY)}}function fa(x,E){var L=x.get("startArrowShape"),R=x.get("endArrowShape"),W=null,q=null;return L&&(W=L.getCanvasBBox(),E=to(E,W)),R&&(q=R.getCanvasBBox(),E=to(E,q)),E}function Pa(x){for(var E=x.attr(),L=E.points,R=[],W=[],q=0;q<L.length;q++){var dt=L[q];R.push(dt[0]),W.push(dt[1])}var bt=ua.Util.getBBoxByArray(R,W),Tt=bt.x,Ft=bt.y,te=bt.width,ne=bt.height,xe={minX:Tt,minY:Ft,maxX:Tt+te,maxY:Ft+ne};return xe=fa(x,xe),{x:xe.minX,y:xe.minY,width:xe.maxX-xe.minX,height:xe.maxY-xe.minY}}function pa(x){for(var E=x.attr(),L=E.points,R=[],W=[],q=0;q<L.length;q++){var dt=L[q];R.push(dt[0]),W.push(dt[1])}return ua.Util.getBBoxByArray(R,W)}var Qn=null;function Ji(){if(!Qn){var x=document.createElement("canvas");x.width=1,x.height=1,Qn=x.getContext("2d")}return Qn}function _a(x,E,L){var R=1;if((0,O.isString)(x)&&(R=x.split(`
`).length),R>1){var W=La(E,L);return E*R+W*(R-1)}return E}function La(x,E){return E?E-x:x*.14}function wa(x,E){var L=Ji(),R=0;if((0,O.isNil)(x)||x==="")return R;if(L.save(),L.font=E,(0,O.isString)(x)&&x.includes(`
`)){var W=x.split(`
`);(0,O.each)(W,function(q){var dt=L.measureText(q).width;R<dt&&(R=dt)})}else R=L.measureText(x).width;return L.restore(),R}function an(x){var E=x.fontSize,L=x.fontFamily,R=x.fontWeight,W=x.fontStyle,q=x.fontVariant;return[W,q,R,E+"px",L].join(" ").trim()}function eo(x){var E=x.attr(),L=E.x,R=E.y,W=E.text,q=E.fontSize,dt=E.lineHeight,bt=E.font;bt||(bt=an(E));var Tt=wa(W,bt),Ft;if(!Tt)Ft={x:L,y:R,width:0,height:0};else{var te=E.textAlign,ne=E.textBaseline,xe=_a(W,q,dt),Ae={x:L,y:R-xe};te&&(te==="end"||te==="right"?Ae.x-=Tt:te==="center"&&(Ae.x-=Tt/2)),ne&&(ne==="top"?Ae.y+=xe:ne==="middle"&&(Ae.y+=xe/2)),Ft={x:Ae.x,y:Ae.y,width:Tt,height:xe}}return Ft}var ni=d(57350);function dn(x,E){for(var L=[],R=[],W=[],q=0;q<x.length;q++){var dt=x[q],bt=dt.currentPoint,Tt=dt.params,Ft=dt.prePoint,te=void 0;switch(dt.command){case"Q":te=ua.Quad.box(Ft[0],Ft[1],Tt[1],Tt[2],Tt[3],Tt[4]);break;case"C":te=ua.Cubic.box(Ft[0],Ft[1],Tt[1],Tt[2],Tt[3],Tt[4],Tt[5],Tt[6]);break;case"A":var ne=dt.arcParams;te=ua.Arc.box(ne.cx,ne.cy,ne.rx,ne.ry,ne.xRotation,ne.startAngle,ne.endAngle);break;default:L.push(bt[0]),R.push(bt[1]);break}te&&(dt.box=te,L.push(te.x,te.x+te.width),R.push(te.y,te.y+te.height)),E&&(dt.command==="L"||dt.command==="M")&&dt.prePoint&&dt.nextPoint&&W.push(dt)}L=L.filter(function(sr){return!Number.isNaN(sr)&&sr!==Infinity&&sr!==-Infinity}),R=R.filter(function(sr){return!Number.isNaN(sr)&&sr!==Infinity&&sr!==-Infinity});var xe=(0,O.min)(L),Ae=(0,O.min)(R),be=(0,O.max)(L),Qe=(0,O.max)(R);if(W.length===0)return{x:xe,y:Ae,width:be-xe,height:Qe-Ae};for(var q=0;q<W.length;q++){var dt=W[q],bt=dt.currentPoint,nr=void 0;bt[0]===xe?(nr=Hi(dt,E),xe=xe-nr.xExtra):bt[0]===be&&(nr=Hi(dt,E),be=be+nr.xExtra),bt[1]===Ae?(nr=Hi(dt,E),Ae=Ae-nr.yExtra):bt[1]===Qe&&(nr=Hi(dt,E),Qe=Qe+nr.yExtra)}return{x:xe,y:Ae,width:be-xe,height:Qe-Ae}}function Hi(x,E){var L=x.prePoint,R=x.currentPoint,W=x.nextPoint,q=Math.pow(R[0]-L[0],2)+Math.pow(R[1]-L[1],2),dt=Math.pow(R[0]-W[0],2)+Math.pow(R[1]-W[1],2),bt=Math.pow(L[0]-W[0],2)+Math.pow(L[1]-W[1],2),Tt=Math.acos((q+dt-bt)/(2*Math.sqrt(q)*Math.sqrt(dt)));if(!Tt||Math.sin(Tt)===0||(0,O.isNumberEqual)(Tt,0))return{xExtra:0,yExtra:0};var Ft=Math.abs(Math.atan2(W[1]-R[1],W[0]-R[0])),te=Math.abs(Math.atan2(W[0]-R[0],W[1]-R[1]));Ft=Ft>Math.PI/2?Math.PI-Ft:Ft,te=te>Math.PI/2?Math.PI-te:te;var ne={xExtra:Math.cos(Tt/2-Ft)*(E/2*(1/Math.sin(Tt/2)))-E/2||0,yExtra:Math.cos(te-Tt/2)*(E/2*(1/Math.sin(Tt/2)))-E/2||0};return ne}function cn(x){var E=x.attr(),L=E.path,R=E.stroke,W=R?E.lineWidth:0,q=x.get("segments")||(0,ni.path2Segments)(L),dt=dn(q,W),bt=dt.x,Tt=dt.y,Ft=dt.width,te=dt.height,ne={minX:bt,minY:Tt,maxX:bt+Ft,maxY:Tt+te};return ne=fa(x,ne),{x:ne.minX,y:ne.minY,width:ne.maxX-ne.minX,height:ne.maxY-ne.minY}}function ga(x){var E=x.attr(),L=E.x1,R=E.y1,W=E.x2,q=E.y2,dt=Math.min(L,W),bt=Math.max(L,W),Tt=Math.min(R,q),Ft=Math.max(R,q),te={minX:dt,maxX:bt,minY:Tt,maxY:Ft};return te=fa(x,te),{x:te.minX,y:te.minY,width:te.maxX-te.minX,height:te.maxY-te.minY}}function Xt(x){var E=x.attr(),L=E.x,R=E.y,W=E.rx,q=E.ry;return{x:L-W,y:R-q,width:W*2,height:q*2}}En("rect",Qi),En("image",Qi),En("circle",za),En("marker",za),En("polyline",Pa),En("polygon",pa),En("text",eo),En("path",cn),En("line",ga),En("ellipse",Xt);var ct="0.5.11"},30490:function(mt,C){"use strict";var d;d={value:!0};var S=function(){function O(D,k){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=D,this.name=D,this.originalEvent=k,this.timeStamp=k.timeStamp}return O.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},O.prototype.stopPropagation=function(){this.propagationStopped=!0},O.prototype.toString=function(){var D=this.type;return"[Event (type="+D+")]"},O.prototype.save=function(){},O.prototype.restore=function(){},O}();C.Z=S},14563:function(mt,C,d){"use strict";var S;S={value:!0};var O=d(55654),D=d(74306),k=d(77096),I=d(63528),_=d(64830),P=d(21927),T=d(70530),p=function(w){O.__extends(m,w);function m(){return w!==null&&w.apply(this,arguments)||this}return m.prototype.getDefaultCfg=function(){var b=w.prototype.getDefaultCfg.call(this);return b.renderer="canvas",b.autoDraw=!0,b.localRefresh=!0,b.refreshElements=[],b.clipView=!0,b.quickHit=!1,b},m.prototype.onCanvasChange=function(b){(b==="attr"||b==="sort"||b==="changeSize")&&(this.set("refreshElements",[this]),this.draw())},m.prototype.getShapeBase=function(){return I},m.prototype.getGroupBase=function(){return _.default},m.prototype.getPixelRatio=function(){var b=this.get("pixelRatio")||P.getPixelRatio();return b>=1?Math.ceil(b):1},m.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},m.prototype.createDom=function(){var b=document.createElement("canvas"),y=b.getContext("2d");return this.set("context",y),b},m.prototype.setDOMSize=function(b,y){w.prototype.setDOMSize.call(this,b,y);var A=this.get("context"),B=this.get("el"),N=this.getPixelRatio();B.width=N*b,B.height=N*y,N>1&&A.scale(N,N)},m.prototype.clear=function(){w.prototype.clear.call(this),this._clearFrame();var b=this.get("context"),y=this.get("el");b.clearRect(0,0,y.width,y.height)},m.prototype.getShape=function(b,y){var A;return this.get("quickHit")?A=k.getShape(this,b,y):A=w.prototype.getShape.call(this,b,y,null),A},m.prototype._getRefreshRegion=function(){var b=this.get("refreshElements"),y=this.getViewRange(),A;if(b.length&&b[0]===this)A=y;else if(A=T.getMergedRegion(b),A){A.minX=Math.floor(A.minX),A.minY=Math.floor(A.minY),A.maxX=Math.ceil(A.maxX),A.maxY=Math.ceil(A.maxY),A.maxY+=1;var B=this.get("clipView");B&&(A=T.mergeView(A,y))}return A},m.prototype.refreshElement=function(b){var y=this.get("refreshElements");y.push(b)},m.prototype._clearFrame=function(){var b=this.get("drawFrame");b&&(P.clearAnimationFrame(b),this.set("drawFrame",null),this.set("refreshElements",[]))},m.prototype.draw=function(){var b=this.get("drawFrame");this.get("autoDraw")&&b||this._startDraw()},m.prototype._drawAll=function(){var b=this.get("context"),y=this.get("el"),A=this.getChildren();b.clearRect(0,0,y.width,y.height),T.applyAttrsToContext(b,this),T.drawChildren(b,A),this.set("refreshElements",[])},m.prototype._drawRegion=function(){var b=this.get("context"),y=this.get("refreshElements"),A=this.getChildren(),B=this._getRefreshRegion();B?(b.clearRect(B.minX,B.minY,B.maxX-B.minX,B.maxY-B.minY),b.save(),b.beginPath(),b.rect(B.minX,B.minY,B.maxX-B.minX,B.maxY-B.minY),b.clip(),T.applyAttrsToContext(b,this),T.checkRefresh(this,A,B),T.drawChildren(b,A,B),b.restore()):y.length&&T.clearChanged(y),P.each(y,function(N){N.get("hasChanged")&&N.set("hasChanged",!1)}),this.set("refreshElements",[])},m.prototype._startDraw=function(){var b=this,y=this.get("drawFrame");y||(y=P.requestAnimationFrame(function(){b.get("localRefresh")?b._drawRegion():b._drawAll(),b.set("drawFrame",null)}),this.set("drawFrame",y))},m.prototype.skipDraw=function(){},m.prototype.removeDom=function(){var b=this.get("el");b.width=0,b.height=0,b.parentNode.removeChild(b)},m}(D.AbstractCanvas);C.Z=p},64830:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(55654),O=d(74306),D=d(63528),k=d(70530),I=d(49242),_=d(21927),P=function(T){S.__extends(p,T);function p(){return T!==null&&T.apply(this,arguments)||this}return p.prototype.onCanvasChange=function(w){k.refreshElement(this,w)},p.prototype.getShapeBase=function(){return D},p.prototype.getGroupBase=function(){return p},p.prototype._applyClip=function(w,m){m&&(w.save(),k.applyAttrsToContext(w,m),m.createPath(w),w.restore(),w.clip(),m._afterDraw())},p.prototype.cacheCanvasBBox=function(){var w=this.cfg.children,m=[],b=[];I.each(w,function(H){var K=H.cfg.cacheCanvasBBox;K&&H.cfg.isInView&&(m.push(K.minX,K.maxX),b.push(K.minY,K.maxY))});var y=null;if(m.length){var A=I.min(m),B=I.max(m),N=I.min(b),G=I.max(b);y={minX:A,minY:N,x:A,y:N,maxX:B,maxY:G,width:B-A,height:G-N};var j=this.cfg.canvas;if(j){var J=j.getViewRange();this.set("isInView",_.intersectRect(y,J))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",y)},p.prototype.draw=function(w,m){var b=this.cfg.children,y=m?this.cfg.refresh:!0;b.length&&y&&(w.save(),k.applyAttrsToContext(w,this),this._applyClip(w,this.getClip()),k.drawChildren(w,b,m),w.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},p.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},p}(O.AbstractGroup);C.default=P},41310:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(55654),O=d(74306),D=d(21927),k=d(70530),I=d(74306),_=d(63528),P=d(64830),T=function(p){S.__extends(w,p);function w(){return p!==null&&p.apply(this,arguments)||this}return w.prototype.getDefaultAttrs=function(){var m=p.prototype.getDefaultAttrs.call(this);return S.__assign(S.__assign({},m),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},w.prototype.getShapeBase=function(){return _},w.prototype.getGroupBase=function(){return P.default},w.prototype.onCanvasChange=function(m){k.refreshElement(this,m)},w.prototype.calculateBBox=function(){var m=this.get("type"),b=this.getHitLineWidth(),y=I.getBBoxMethod(m),A=y(this),B=b/2,N=A.x-B,G=A.y-B,j=A.x+A.width+B,J=A.y+A.height+B;return{x:N,minX:N,y:G,minY:G,width:A.width+b,height:A.height+b,maxX:j,maxY:J}},w.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},w.prototype.isStroke=function(){return!!this.attrs.stroke},w.prototype._applyClip=function(m,b){b&&(m.save(),k.applyAttrsToContext(m,b),b.createPath(m),m.restore(),m.clip(),b._afterDraw())},w.prototype.draw=function(m,b){var y=this.cfg.clipShape;if(b){if(this.cfg.refresh===!1){this.set("hasChanged",!1);return}var A=this.getCanvasBBox();if(!D.intersectRect(b,A)){this.set("hasChanged",!1),this.cfg.isInView&&this._afterDraw();return}}m.save(),k.applyAttrsToContext(m,this),this._applyClip(m,y),this.drawPath(m),m.restore(),this._afterDraw()},w.prototype.getCanvasViewBox=function(){var m=this.cfg.canvas;return m?m.getViewRange():null},w.prototype.cacheCanvasBBox=function(){var m=this.getCanvasViewBox();if(m){var b=this.getCanvasBBox(),y=D.intersectRect(b,m);this.set("isInView",y),y?this.set("cacheCanvasBBox",b):this.set("cacheCanvasBBox",null)}},w.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},w.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},w.prototype.drawPath=function(m){this.createPath(m),this.strokeAndFill(m),this.afterDrawPath(m)},w.prototype.fill=function(m){m.fill()},w.prototype.stroke=function(m){m.stroke()},w.prototype.strokeAndFill=function(m){var b=this.attrs,y=b.lineWidth,A=b.opacity,B=b.strokeOpacity,N=b.fillOpacity;this.isFill()&&(!D.isNil(N)&&N!==1?(m.globalAlpha=N,this.fill(m),m.globalAlpha=A):this.fill(m)),this.isStroke()&&y>0&&(!D.isNil(B)&&B!==1&&(m.globalAlpha=B),this.stroke(m)),this.afterDrawPath(m)},w.prototype.createPath=function(m){},w.prototype.afterDrawPath=function(m){},w.prototype.isInShape=function(m,b){var y=this.isStroke(),A=this.isFill(),B=this.getHitLineWidth();return this.isInStrokeOrPath(m,b,y,A,B)},w.prototype.isInStrokeOrPath=function(m,b,y,A,B){return!1},w.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var m=this.attrs;return m.lineWidth+m.lineAppendWidth},w}(O.AbstractShape);C.default=T},22925:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(55654),O=d(41310),D=d(21927),k=function(I){S.__extends(_,I);function _(){return I!==null&&I.apply(this,arguments)||this}return _.prototype.getDefaultAttrs=function(){var P=I.prototype.getDefaultAttrs.call(this);return S.__assign(S.__assign({},P),{x:0,y:0,r:0})},_.prototype.isInStrokeOrPath=function(P,T,p,w,m){var b=this.attr(),y=b.x,A=b.y,B=b.r,N=m/2,G=D.distance(y,A,P,T);return w&&p?G<=B+N:w?G<=B:p?G>=B-N&&G<=B+N:!1},_.prototype.createPath=function(P){var T=this.attr(),p=T.x,w=T.y,m=T.r;P.beginPath(),P.arc(p,w,m,0,Math.PI*2,!1),P.closePath()},_}(O.default);C.default=k},21287:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(55654),O=d(41310);function D(I,_,P,T){return I/(P*P)+_/(T*T)}var k=function(I){S.__extends(_,I);function _(){return I!==null&&I.apply(this,arguments)||this}return _.prototype.getDefaultAttrs=function(){var P=I.prototype.getDefaultAttrs.call(this);return S.__assign(S.__assign({},P),{x:0,y:0,rx:0,ry:0})},_.prototype.isInStrokeOrPath=function(P,T,p,w,m){var b=this.attr(),y=m/2,A=b.x,B=b.y,N=b.rx,G=b.ry,j=(P-A)*(P-A),J=(T-B)*(T-B);return w&&p?D(j,J,N+y,G+y)<=1:w?D(j,J,N,G)<=1:p?D(j,J,N-y,G-y)>=1&&D(j,J,N+y,G+y)<=1:!1},_.prototype.createPath=function(P){var T=this.attr(),p=T.x,w=T.y,m=T.rx,b=T.ry;if(P.beginPath(),P.ellipse)P.ellipse(p,w,m,b,0,0,Math.PI*2,!1);else{var y=m>b?m:b,A=m>b?1:m/b,B=m>b?b/m:1;P.save(),P.translate(p,w),P.scale(A,B),P.arc(0,0,y,0,Math.PI*2),P.restore(),P.closePath()}},_}(O.default);C.default=k},55303:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(55654),O=d(41310),D=d(21927);function k(_){return _ instanceof HTMLElement&&D.isString(_.nodeName)&&_.nodeName.toUpperCase()==="CANVAS"}var I=function(_){S.__extends(P,_);function P(){return _!==null&&_.apply(this,arguments)||this}return P.prototype.getDefaultAttrs=function(){var T=_.prototype.getDefaultAttrs.call(this);return S.__assign(S.__assign({},T),{x:0,y:0,width:0,height:0})},P.prototype.initAttrs=function(T){this._setImage(T.img)},P.prototype.isStroke=function(){return!1},P.prototype.isOnlyHitBox=function(){return!0},P.prototype._afterLoading=function(){if(this.get("toDraw")===!0){var T=this.get("canvas");T?T.draw():this.createPath(this.get("context"))}},P.prototype._setImage=function(T){var p=this,w=this.attrs;if(D.isString(T)){var m=new Image;m.onload=function(){if(p.destroyed)return!1;p.attr("img",m),p.set("loading",!1),p._afterLoading();var b=p.get("callback");b&&b.call(p)},m.crossOrigin="Anonymous",m.src=T,this.set("loading",!0)}else T instanceof Image?(w.width||(w.width=T.width),w.height||(w.height=T.height)):k(T)&&(w.width||(w.width=Number(T.getAttribute("width"))),w.height||(w.height,Number(T.getAttribute("height"))))},P.prototype.onAttrChange=function(T,p,w){_.prototype.onAttrChange.call(this,T,p,w),T==="img"&&this._setImage(p)},P.prototype.createPath=function(T){if(this.get("loading")){this.set("toDraw",!0),this.set("context",T);return}var p=this.attr(),w=p.x,m=p.y,b=p.width,y=p.height,A=p.sx,B=p.sy,N=p.swidth,G=p.sheight,j=p.img;(j instanceof Image||k(j))&&(!D.isNil(A)&&!D.isNil(B)&&!D.isNil(N)&&!D.isNil(G)?T.drawImage(j,A,B,N,G,w,m,b,y):T.drawImage(j,w,m,b,y))},P}(O.default);C.default=I},63528:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.Text=C.Rect=C.Polyline=C.Polygon=C.Path=C.Marker=C.Line=C.Image=C.Ellipse=C.Circle=C.Base=void 0;var S=d(41310);Object.defineProperty(C,"Base",{enumerable:!0,get:function(){return S.default}});var O=d(22925);Object.defineProperty(C,"Circle",{enumerable:!0,get:function(){return O.default}});var D=d(21287);Object.defineProperty(C,"Ellipse",{enumerable:!0,get:function(){return D.default}});var k=d(55303);Object.defineProperty(C,"Image",{enumerable:!0,get:function(){return k.default}});var I=d(65159);Object.defineProperty(C,"Line",{enumerable:!0,get:function(){return I.default}});var _=d(22034);Object.defineProperty(C,"Marker",{enumerable:!0,get:function(){return _.default}});var P=d(55263);Object.defineProperty(C,"Path",{enumerable:!0,get:function(){return P.default}});var T=d(69324);Object.defineProperty(C,"Polygon",{enumerable:!0,get:function(){return T.default}});var p=d(49067);Object.defineProperty(C,"Polyline",{enumerable:!0,get:function(){return p.default}});var w=d(9558);Object.defineProperty(C,"Rect",{enumerable:!0,get:function(){return w.default}});var m=d(17310);Object.defineProperty(C,"Text",{enumerable:!0,get:function(){return m.default}})},65159:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(55654),O=d(89838),D=d(41310),k=d(63161),I=d(27836),_=function(P){S.__extends(T,P);function T(){return P!==null&&P.apply(this,arguments)||this}return T.prototype.getDefaultAttrs=function(){var p=P.prototype.getDefaultAttrs.call(this);return S.__assign(S.__assign({},p),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},T.prototype.initAttrs=function(p){this.setArrow()},T.prototype.onAttrChange=function(p,w,m){P.prototype.onAttrChange.call(this,p,w,m),this.setArrow()},T.prototype.setArrow=function(){var p=this.attr(),w=p.x1,m=p.y1,b=p.x2,y=p.y2,A=p.startArrow,B=p.endArrow;A&&I.addStartArrow(this,p,b,y,w,m),B&&I.addEndArrow(this,p,w,m,b,y)},T.prototype.isInStrokeOrPath=function(p,w,m,b,y){if(!m||!y)return!1;var A=this.attr(),B=A.x1,N=A.y1,G=A.x2,j=A.y2;return k.default(B,N,G,j,y,p,w)},T.prototype.createPath=function(p){var w=this.attr(),m=w.x1,b=w.y1,y=w.x2,A=w.y2,B=w.startArrow,N=w.endArrow,G={dx:0,dy:0},j={dx:0,dy:0};B&&B.d&&(G=I.getShortenOffset(m,b,y,A,w.startArrow.d)),N&&N.d&&(j=I.getShortenOffset(m,b,y,A,w.endArrow.d)),p.beginPath(),p.moveTo(m+G.dx,b+G.dy),p.lineTo(y-j.dx,A-j.dy)},T.prototype.afterDrawPath=function(p){var w=this.get("startArrowShape"),m=this.get("endArrowShape");w&&w.draw(p),m&&m.draw(p)},T.prototype.getTotalLength=function(){var p=this.attr(),w=p.x1,m=p.y1,b=p.x2,y=p.y2;return O.Line.length(w,m,b,y)},T.prototype.getPoint=function(p){var w=this.attr(),m=w.x1,b=w.y1,y=w.x2,A=w.y2;return O.Line.pointAt(m,b,y,A,p)},T}(D.default);C.default=_},22034:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(55654),O=d(49242),D=d(57350),k=d(41310),I=d(21927),_=d(70530),P={circle:function(p,w,m){return[["M",p-m,w],["A",m,m,0,1,0,p+m,w],["A",m,m,0,1,0,p-m,w]]},square:function(p,w,m){return[["M",p-m,w-m],["L",p+m,w-m],["L",p+m,w+m],["L",p-m,w+m],["Z"]]},diamond:function(p,w,m){return[["M",p-m,w],["L",p,w-m],["L",p+m,w],["L",p,w+m],["Z"]]},triangle:function(p,w,m){var b=m*Math.sin(1/3*Math.PI);return[["M",p-m,w+b],["L",p,w-b],["L",p+m,w+b],["Z"]]},"triangle-down":function(p,w,m){var b=m*Math.sin(1/3*Math.PI);return[["M",p-m,w-b],["L",p+m,w-b],["L",p,w+b],["Z"]]}},T=function(p){S.__extends(w,p);function w(){return p!==null&&p.apply(this,arguments)||this}return w.prototype.initAttrs=function(m){this._resetParamsCache()},w.prototype._resetParamsCache=function(){this.set("paramsCache",{})},w.prototype.onAttrChange=function(m,b,y){p.prototype.onAttrChange.call(this,m,b,y),["symbol","x","y","r","radius"].indexOf(m)!==-1&&this._resetParamsCache()},w.prototype.isOnlyHitBox=function(){return!0},w.prototype._getR=function(m){return O.isNil(m.r)?m.radius:m.r},w.prototype._getPath=function(){var m=this.attr(),b=m.x,y=m.y,A=m.symbol||"circle",B=this._getR(m),N,G;if(I.isFunction(A))N=A,G=N(b,y,B),G=D.path2Absolute(G);else{if(N=w.Symbols[A],!N)return console.warn(A+" marker is not supported."),null;G=N(b,y,B)}return G},w.prototype.createPath=function(m){var b=this._getPath(),y=this.get("paramsCache");_.drawPath(this,m,{path:b},y)},w.Symbols=P,w}(k.default);C.default=T},55263:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(55654),O=d(89838),D=d(49242),k=d(41310),I=d(57350),_=d(70530),P=d(31977),T=d(50970),p=d(55531),w=d(27836);function m(y,A,B){for(var N=!1,G=0;G<y.length;G++){var j=y[G];if(N=T.default(j,A,B),N)break}return N}var b=function(y){S.__extends(A,y);function A(){return y!==null&&y.apply(this,arguments)||this}return A.prototype.getDefaultAttrs=function(){var B=y.prototype.getDefaultAttrs.call(this);return S.__assign(S.__assign({},B),{startArrow:!1,endArrow:!1})},A.prototype.initAttrs=function(B){this._setPathArr(B.path),this.setArrow()},A.prototype.onAttrChange=function(B,N,G){y.prototype.onAttrChange.call(this,B,N,G),B==="path"&&this._setPathArr(N),this.setArrow()},A.prototype._setPathArr=function(B){this.attrs.path=I.path2Absolute(B);var N=p.default.hasArc(B);this.set("hasArc",N),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},A.prototype.getSegments=function(){var B=this.get("segements");return B||(B=I.path2Segments(this.attr("path")),this.set("segments",B)),B},A.prototype.setArrow=function(){var B=this.attr(),N=B.startArrow,G=B.endArrow;if(N){var j=this.getStartTangent();w.addStartArrow(this,B,j[0][0],j[0][1],j[1][0],j[1][1])}if(G){var j=this.getEndTangent();w.addEndArrow(this,B,j[0][0],j[0][1],j[1][0],j[1][1])}},A.prototype.isInStrokeOrPath=function(B,N,G,j,J){var H=this.getSegments(),K=this.get("hasArc"),st=!1;if(G){var nt=this.getTotalLength();st=p.default.isPointInStroke(H,J,B,N,nt)}if(!st&&j)if(K)st=P.default(this,B,N);else{var wt=this.attr("path"),gt=p.default.extractPolygons(wt);st=m(gt.polygons,B,N)||m(gt.polylines,B,N)}return st},A.prototype.createPath=function(B){var N=this.attr(),G=this.get("paramsCache");_.drawPath(this,B,N,G)},A.prototype.afterDrawPath=function(B){var N=this.get("startArrowShape"),G=this.get("endArrowShape");N&&N.draw(B),G&&G.draw(B)},A.prototype.getTotalLength=function(){var B=this.get("totalLength");return D.isNil(B)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):B},A.prototype.getPoint=function(B){var N=this.get("tCache");N||(this._calculateCurve(),this._setTcache(),N=this.get("tCache"));var G,j,J=this.get("curve");if(!N||N.length===0)return J?{x:J[0][1],y:J[0][2]}:null;D.each(N,function(nt,wt){B>=nt[0]&&B<=nt[1]&&(G=(B-nt[0])/(nt[1]-nt[0]),j=wt)});var H=J[j];if(D.isNil(H)||D.isNil(j))return null;var K=H.length,st=J[j+1];return O.Cubic.pointAt(H[K-2],H[K-1],st[1],st[2],st[3],st[4],st[5],st[6],G)},A.prototype._calculateCurve=function(){var B=this.attr().path;this.set("curve",p.default.pathToCurve(B))},A.prototype._setTcache=function(){var B=0,N=0,G=[],j,J,H,K,st=this.get("curve");if(!!st){if(D.each(st,function(nt,wt){H=st[wt+1],K=nt.length,H&&(B+=O.Cubic.length(nt[K-2],nt[K-1],H[1],H[2],H[3],H[4],H[5],H[6])||0)}),this.set("totalLength",B),B===0){this.set("tCache",[]);return}D.each(st,function(nt,wt){H=st[wt+1],K=nt.length,H&&(j=[],j[0]=N/B,J=O.Cubic.length(nt[K-2],nt[K-1],H[1],H[2],H[3],H[4],H[5],H[6]),N+=J||0,j[1]=N/B,G.push(j))}),this.set("tCache",G)}},A.prototype.getStartTangent=function(){var B=this.getSegments(),N;if(B.length>1){var G=B[0].currentPoint,j=B[1].currentPoint,J=B[1].startTangent;N=[],J?(N.push([G[0]-J[0],G[1]-J[1]]),N.push([G[0],G[1]])):(N.push([j[0],j[1]]),N.push([G[0],G[1]]))}return N},A.prototype.getEndTangent=function(){var B=this.getSegments(),N=B.length,G;if(N>1){var j=B[N-2].currentPoint,J=B[N-1].currentPoint,H=B[N-1].endTangent;G=[],H?(G.push([J[0]-H[0],J[1]-H[1]]),G.push([J[0],J[1]])):(G.push([j[0],j[1]]),G.push([J[0],J[1]]))}return G},A}(k.default);C.default=b},69324:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(55654),O=d(41310),D=d(39761),k=d(50970),I=function(_){S.__extends(P,_);function P(){return _!==null&&_.apply(this,arguments)||this}return P.prototype.isInStrokeOrPath=function(T,p,w,m,b){var y=this.attr().points,A=!1;return w&&(A=D.default(y,b,T,p,!0)),!A&&m&&(A=k.default(y,T,p)),A},P.prototype.createPath=function(T){var p=this.attr(),w=p.points;if(!(w.length<2)){T.beginPath();for(var m=0;m<w.length;m++){var b=w[m];m===0?T.moveTo(b[0],b[1]):T.lineTo(b[0],b[1])}T.closePath()}},P}(O.default);C.default=I},49067:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(55654),O=d(89838),D=d(89838),k=d(49242),I=d(41310),_=d(39761),P=d(27836),T=function(p){S.__extends(w,p);function w(){return p!==null&&p.apply(this,arguments)||this}return w.prototype.getDefaultAttrs=function(){var m=p.prototype.getDefaultAttrs.call(this);return S.__assign(S.__assign({},m),{startArrow:!1,endArrow:!1})},w.prototype.initAttrs=function(m){this.setArrow()},w.prototype.onAttrChange=function(m,b,y){p.prototype.onAttrChange.call(this,m,b,y),this.setArrow(),["points"].indexOf(m)!==-1&&this._resetCache()},w.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},w.prototype.setArrow=function(){var m=this.attr(),b=this.attrs,y=b.points,A=b.startArrow,B=b.endArrow,N=y.length,G=y[0][0],j=y[0][1],J=y[N-1][0],H=y[N-1][1];A&&P.addStartArrow(this,m,y[1][0],y[1][1],G,j),B&&P.addEndArrow(this,m,y[N-2][0],y[N-2][1],J,H)},w.prototype.isFill=function(){return!1},w.prototype.isInStrokeOrPath=function(m,b,y,A,B){if(!y||!B)return!1;var N=this.attr().points;return _.default(N,B,m,b,!1)},w.prototype.isStroke=function(){return!0},w.prototype.createPath=function(m){var b=this.attr(),y=b.points,A=b.startArrow,B=b.endArrow,N=y.length;if(!(y.length<2)){var G=y[0][0],j=y[0][1],J=y[N-1][0],H=y[N-1][1];if(A&&A.d){var K=P.getShortenOffset(G,j,y[1][0],y[1][1],A.d);G+=K.dx,j+=K.dy}if(B&&B.d){var K=P.getShortenOffset(y[N-2][0],y[N-2][1],J,H,B.d);J-=K.dx,H-=K.dy}m.beginPath(),m.moveTo(G,j);for(var st=0;st<N-1;st++){var nt=y[st];m.lineTo(nt[0],nt[1])}m.lineTo(J,H)}},w.prototype.afterDrawPath=function(m){var b=this.get("startArrowShape"),y=this.get("endArrowShape");b&&b.draw(m),y&&y.draw(m)},w.prototype.getTotalLength=function(){var m=this.attr().points,b=this.get("totalLength");return k.isNil(b)?(this.set("totalLength",D.Polyline.length(m)),this.get("totalLength")):b},w.prototype.getPoint=function(m){var b=this.attr().points,y=this.get("tCache");y||(this._setTcache(),y=this.get("tCache"));var A,B;return k.each(y,function(N,G){m>=N[0]&&m<=N[1]&&(A=(m-N[0])/(N[1]-N[0]),B=G)}),O.Line.pointAt(b[B][0],b[B][1],b[B+1][0],b[B+1][1],A)},w.prototype._setTcache=function(){var m=this.attr().points;if(!(!m||m.length===0)){var b=this.getTotalLength();if(!(b<=0)){var y=0,A=[],B,N;k.each(m,function(G,j){m[j+1]&&(B=[],B[0]=y/b,N=O.Line.length(G[0],G[1],m[j+1][0],m[j+1][1]),y+=N,B[1]=y/b,A.push(B))}),this.set("tCache",A)}}},w.prototype.getStartTangent=function(){var m=this.attr().points,b=[];return b.push([m[1][0],m[1][1]]),b.push([m[0][0],m[0][1]]),b},w.prototype.getEndTangent=function(){var m=this.attr().points,b=m.length-1,y=[];return y.push([m[b-1][0],m[b-1][1]]),y.push([m[b][0],m[b][1]]),y},w}(I.default);C.default=T},9558:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(55654),O=d(41310),D=d(93377),k=d(21927),I=d(21897),_=d(46647),P=d(31977),T=function(p){S.__extends(w,p);function w(){return p!==null&&p.apply(this,arguments)||this}return w.prototype.getDefaultAttrs=function(){var m=p.prototype.getDefaultAttrs.call(this);return S.__assign(S.__assign({},m),{x:0,y:0,width:0,height:0,radius:0})},w.prototype.isInStrokeOrPath=function(m,b,y,A,B){var N=this.attr(),G=N.x,j=N.y,J=N.width,H=N.height,K=N.radius;if(K){var nt=!1;return y&&(nt=_.default(G,j,J,H,K,B,m,b)),!nt&&A&&(nt=P.default(this,m,b)),nt}else{var st=B/2;if(A&&y)return k.inBox(G-st,j-st,J+st,H+st,m,b);if(A)return k.inBox(G,j,J,H,m,b);if(y)return I.default(G,j,J,H,B,m,b)}},w.prototype.createPath=function(m){var b=this.attr(),y=b.x,A=b.y,B=b.width,N=b.height,G=b.radius;if(m.beginPath(),G===0)m.rect(y,A,B,N);else{var j=D.parseRadius(G),J=j[0],H=j[1],K=j[2],st=j[3];m.moveTo(y+J,A),m.lineTo(y+B-H,A),H!==0&&m.arc(y+B-H,A+H,H,-Math.PI/2,0),m.lineTo(y+B,A+N-K),K!==0&&m.arc(y+B-K,A+N-K,K,0,Math.PI/2),m.lineTo(y+st,A+N),st!==0&&m.arc(y+st,A+N-st,st,Math.PI/2,Math.PI),m.lineTo(y,A+J),J!==0&&m.arc(y+J,A+J,J,Math.PI,Math.PI*1.5),m.closePath()}},w}(O.default);C.default=T},17310:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(55654),O=d(41310),D=d(21927),k=d(74306),I=function(_){S.__extends(P,_);function P(){return _!==null&&_.apply(this,arguments)||this}return P.prototype.getDefaultAttrs=function(){var T=_.prototype.getDefaultAttrs.call(this);return S.__assign(S.__assign({},T),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},P.prototype.isOnlyHitBox=function(){return!0},P.prototype.initAttrs=function(T){this._assembleFont(),T.text&&this._setText(T.text)},P.prototype._assembleFont=function(){var T=this.attrs;T.font=k.assembleFont(T)},P.prototype._setText=function(T){var p=null;D.isString(T)&&T.indexOf(`
`)!==-1&&(p=T.split(`
`)),this.set("textArr",p)},P.prototype.onAttrChange=function(T,p,w){_.prototype.onAttrChange.call(this,T,p,w),T.startsWith("font")&&this._assembleFont(),T==="text"&&this._setText(p)},P.prototype._getSpaceingY=function(){var T=this.attrs,p=T.lineHeight,w=T.fontSize*1;return p?p-w:w*.14},P.prototype._drawTextArr=function(T,p,w){var m=this.attrs,b=m.textBaseline,y=m.x,A=m.y,B=m.fontSize*1,N=this._getSpaceingY(),G=k.getTextHeight(m.text,m.fontSize,m.lineHeight),j;D.each(p,function(J,H){j=A+H*(N+B)-G+B,b==="middle"&&(j+=G-B-(G-B)/2),b==="top"&&(j+=G-B),D.isNil(J)||(w?T.fillText(J,y,j):T.strokeText(J,y,j))})},P.prototype._drawText=function(T,p){var w=this.attr(),m=w.x,b=w.y,y=this.get("textArr");if(y)this._drawTextArr(T,y,p);else{var A=w.text;D.isNil(A)||(p?T.fillText(A,m,b):T.strokeText(A,m,b))}},P.prototype.strokeAndFill=function(T){var p=this.attrs,w=p.lineWidth,m=p.opacity,b=p.strokeOpacity,y=p.fillOpacity;this.isStroke()&&w>0&&(!D.isNil(b)&&b!==1&&(T.globalAlpha=m),this.stroke(T)),this.isFill()&&(!D.isNil(y)&&y!==1?(T.globalAlpha=y,this.fill(T),T.globalAlpha=m):this.fill(T)),this.afterDrawPath(T)},P.prototype.fill=function(T){this._drawText(T,!0)},P.prototype.stroke=function(T){this._drawText(T,!1)},P}(O.default);C.default=I},44706:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(21927);function O(_){return Math.sqrt(_[0]*_[0]+_[1]*_[1])}function D(_,P){return O(_)*O(P)?(_[0]*P[0]+_[1]*P[1])/(O(_)*O(P)):1}function k(_,P){return(_[0]*P[1]<_[1]*P[0]?-1:1)*Math.acos(D(_,P))}function I(_,P){var T=P[1],p=P[2],w=S.mod(S.toRadian(P[3]),Math.PI*2),m=P[4],b=P[5],y=_[0],A=_[1],B=P[6],N=P[7],G=Math.cos(w)*(y-B)/2+Math.sin(w)*(A-N)/2,j=-1*Math.sin(w)*(y-B)/2+Math.cos(w)*(A-N)/2,J=G*G/(T*T)+j*j/(p*p);J>1&&(T*=Math.sqrt(J),p*=Math.sqrt(J));var H=T*T*(j*j)+p*p*(G*G),K=H?Math.sqrt((T*T*(p*p)-H)/H):1;m===b&&(K*=-1),isNaN(K)&&(K=0);var st=p?K*T*j/p:0,nt=T?K*-p*G/T:0,wt=(y+B)/2+Math.cos(w)*st-Math.sin(w)*nt,gt=(A+N)/2+Math.sin(w)*st+Math.cos(w)*nt,At=[(G-st)/T,(j-nt)/p],X=[(-1*G-st)/T,(-1*j-nt)/p],Z=k([1,0],At),tt=k(At,X);return D(At,X)<=-1&&(tt=Math.PI),D(At,X)>=1&&(tt=0),b===0&&tt>0&&(tt=tt-2*Math.PI),b===1&&tt<0&&(tt=tt+2*Math.PI),{cx:wt,cy:gt,rx:S.isSamePoint(_,[B,N])?0:T,ry:S.isSamePoint(_,[B,N])?0:p,startAngle:Z,endAngle:Z+tt,xRotation:w,arcFlag:m,sweepFlag:b}}C.default=I},27836:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.addEndArrow=C.addStartArrow=C.getShortenOffset=void 0;var S=d(55654),O=d(63528),D=Math.sin,k=Math.cos,I=Math.atan2,_=Math.PI;function P(b,y,A,B,N,G,j){var J=y.stroke,H=y.lineWidth,K=A-N,st=B-G,nt=I(st,K),wt=new O.Path({type:"path",canvas:b.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*k(_/6)+","+10*D(_/6)+" L0,0 L"+10*k(_/6)+",-"+10*D(_/6),stroke:J,lineWidth:H}});wt.translate(N,G),wt.rotateAtPoint(N,G,nt),b.set(j?"startArrowShape":"endArrowShape",wt)}function T(b,y,A,B,N,G,j){var J=y.startArrow,H=y.endArrow,K=y.stroke,st=y.lineWidth,nt=j?J:H,wt=nt.d,gt=nt.fill,At=nt.stroke,X=nt.lineWidth,Z=S.__rest(nt,["d","fill","stroke","lineWidth"]),tt=A-N,Q=B-G,vt=I(Q,tt);wt&&(N=N-k(vt)*wt,G=G-D(vt)*wt);var lt=new O.Path({type:"path",canvas:b.get("canvas"),isArrowShape:!0,attrs:S.__assign(S.__assign({},Z),{stroke:At||K,lineWidth:X||st,fill:gt})});lt.translate(N,G),lt.rotateAtPoint(N,G,vt),b.set(j?"startArrowShape":"endArrowShape",lt)}function p(b,y,A,B,N){var G=I(B-y,A-b);return{dx:k(G)*N,dy:D(G)*N}}C.getShortenOffset=p;function w(b,y,A,B,N,G){typeof y.startArrow=="object"?T(b,y,A,B,N,G,!0):y.startArrow?P(b,y,A,B,N,G,!0):b.set("startArrowShape",null)}C.addStartArrow=w;function m(b,y,A,B,N,G){typeof y.endArrow=="object"?T(b,y,A,B,N,G,!1):y.endArrow?P(b,y,A,B,N,G,!1):b.set("startArrowShape",null)}C.addEndArrow=m},70530:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.mergeView=C.getMergedRegion=C.getRefreshRegion=C.refreshElement=C.drawPath=C.clearChanged=C.checkChildrenRefresh=C.checkRefresh=C.drawChildren=C.applyAttrsToContext=void 0;var S=d(49242),O=d(93377),D=d(44706),k=d(21927),I=d(27836),_={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function P(J,H){var K=H.attr();for(var st in K){var nt=K[st],wt=_[st]?_[st]:st;wt==="matrix"&&nt?J.transform(nt[0],nt[1],nt[3],nt[4],nt[6],nt[7]):wt==="lineDash"&&J.setLineDash?S.isArray(nt)&&J.setLineDash(nt):(wt==="strokeStyle"||wt==="fillStyle"?nt=O.parseStyle(J,H,nt):wt==="globalAlpha"&&(nt=nt*J.globalAlpha),J[wt]=nt)}}C.applyAttrsToContext=P;function T(J,H,K){for(var st=0;st<H.length;st++){var nt=H[st];nt.cfg.visible?nt.draw(J,K):nt.skipDraw()}}C.drawChildren=T;function p(J,H,K){var st=J.get("refreshElements");S.each(st,function(nt){if(nt!==J)for(var wt=nt.cfg.parent;wt&&wt!==J&&!wt.cfg.refresh;)wt.cfg.refresh=!0,wt=wt.cfg.parent}),st[0]===J?b(H,K):w(H,K)}C.checkRefresh=p;function w(J,H){for(var K=0;K<J.length;K++){var st=J[K];if(st.cfg.visible)if(st.cfg.hasChanged)st.cfg.refresh=!0,st.isGroup()&&b(st.cfg.children,H);else if(st.cfg.refresh)st.isGroup()&&w(st.cfg.children,H);else{var nt=y(st,H);st.cfg.refresh=nt,nt&&st.isGroup()&&w(st.cfg.children,H)}}}C.checkChildrenRefresh=w;function m(J){for(var H=0;H<J.length;H++){var K=J[H];K.cfg.hasChanged=!1,K.isGroup()&&!K.destroyed&&m(K.cfg.children)}}C.clearChanged=m;function b(J,H){for(var K=0;K<J.length;K++){var st=J[K];st.cfg.refresh=!0,st.isGroup()&&b(st.get("children"),H)}}function y(J,H){var K=J.cfg.cacheCanvasBBox,st=J.cfg.isInView&&K&&k.intersectRect(K,H);return st}function A(J,H,K,st){var nt=K.path,wt=K.startArrow,gt=K.endArrow;if(!!nt){var At=[0,0],X=[0,0],Z={dx:0,dy:0};H.beginPath();for(var tt=0;tt<nt.length;tt++){var Q=nt[tt],vt=Q[0];if(tt===0&&wt&&wt.d){var lt=J.getStartTangent();Z=I.getShortenOffset(lt[0][0],lt[0][1],lt[1][0],lt[1][1],wt.d)}else if(tt===nt.length-2&&nt[tt+1][0]==="Z"&&gt&&gt.d){var rt=nt[tt+1];if(rt[0]==="Z"){var lt=J.getEndTangent();Z=I.getShortenOffset(lt[0][0],lt[0][1],lt[1][0],lt[1][1],gt.d)}}else if(tt===nt.length-1&&gt&&gt.d&&nt[0]!=="Z"){var lt=J.getEndTangent();Z=I.getShortenOffset(lt[0][0],lt[0][1],lt[1][0],lt[1][1],gt.d)}var U=Z.dx,$=Z.dy;switch(vt){case"M":H.moveTo(Q[1]-U,Q[2]-$),X=[Q[1],Q[2]];break;case"L":H.lineTo(Q[1]-U,Q[2]-$);break;case"Q":H.quadraticCurveTo(Q[1],Q[2],Q[3]-U,Q[4]-$);break;case"C":H.bezierCurveTo(Q[1],Q[2],Q[3],Q[4],Q[5]-U,Q[6]-$);break;case"A":{var f=void 0;st?(f=st[tt],f||(f=D.default(At,Q),st[tt]=f)):f=D.default(At,Q);var xt=f.cx,Ct=f.cy,Bt=f.rx,qt=f.ry,Gt=f.startAngle,Jt=f.endAngle,ie=f.xRotation,se=f.sweepFlag;if(H.ellipse)H.ellipse(xt,Ct,Bt,qt,ie,Gt,Jt,1-se);else{var Kt=Bt>qt?Bt:qt,kt=Bt>qt?1:Bt/qt,Mt=Bt>qt?qt/Bt:1;H.translate(xt,Ct),H.rotate(ie),H.scale(kt,Mt),H.arc(0,0,Kt,Gt,Jt,1-se),H.scale(1/kt,1/Mt),H.rotate(-ie),H.translate(-xt,-Ct)}break}case"Z":H.closePath();break;default:break}if(vt==="Z")At=X;else{var pt=Q.length;At=[Q[pt-2],Q[pt-1]]}}}}C.drawPath=A;function B(J,H){var K=J.get("canvas");K&&(H==="remove"&&(J._cacheCanvasBBox=J.get("cacheCanvasBBox")),J.get("hasChanged")||(J.set("hasChanged",!0),J.cfg.parent&&J.cfg.parent.get("hasChanged")||(K.refreshElement(J,H,K),K.get("autoDraw")&&K.draw())))}C.refreshElement=B;function N(J){var H;if(J.destroyed)H=J._cacheCanvasBBox;else{var K=J.get("cacheCanvasBBox"),st=K&&!!(K.width&&K.height),nt=J.getCanvasBBox(),wt=nt&&!!(nt.width&&nt.height);st&&wt?H=k.mergeRegion(K,nt):st?H=K:wt&&(H=nt)}return H}C.getRefreshRegion=N;function G(J){if(!J.length)return null;var H=[],K=[],st=[],nt=[];return S.each(J,function(wt){var gt=N(wt);gt&&(H.push(gt.minX),K.push(gt.minY),st.push(gt.maxX),nt.push(gt.maxY))}),{minX:S.min(H),minY:S.min(K),maxX:S.max(st),maxY:S.max(nt)}}C.getMergedRegion=G;function j(J,H){return!J||!H||!k.intersectRect(J,H)?null:{minX:Math.max(J.minX,H.minX),minY:Math.max(J.minY,H.minY),maxX:Math.min(J.maxX,H.maxX),maxY:Math.min(J.maxY,H.maxY)}}C.mergeView=j},77096:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.getShape=void 0;var S=d(74306);function O(_,P){if(P){var T=S.invert(P);return S.multiplyVec2(T,_)}return _}function D(_,P,T){var p=_.getTotalMatrix();if(p){var w=O([P,T,1],p),m=w[0],b=w[1];return[m,b]}return[P,T]}function k(_,P,T){if(_.isCanvas&&_.isCanvas())return!0;if(!S.isAllowCapture(_)||_.cfg.isInView===!1)return!1;if(_.cfg.clipShape){var p=D(_,P,T),w=p[0],m=p[1];if(_.isClipped(w,m))return!1}var b=_.cfg.cacheCanvasBBox||_.getCanvasBBox();return P>=b.minX&&P<=b.maxX&&T>=b.minY&&T<=b.maxY}function I(_,P,T){if(!k(_,P,T))return null;for(var p=null,w=_.getChildren(),m=w.length,b=m-1;b>=0;b--){var y=w[b];if(y.isGroup())p=I(y,P,T);else if(k(y,P,T)){var A=y,B=D(y,P,T),N=B[0],G=B[1];A.isInShape(N,G)&&(p=y)}if(p)break}return p}C.getShape=I},31977:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(74306);function O(D,k,I){var _=S.getOffScreenContext();return D.createPath(_),_.isPointInPath(k,I)}C.default=O},50970:function(mt,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=1e-6;function S(k){return Math.abs(k)<d?0:k<0?-1:1}function O(k,I,_){return(_[0]-k[0])*(I[1]-k[1])==(I[0]-k[0])*(_[1]-k[1])&&Math.min(k[0],I[0])<=_[0]&&_[0]<=Math.max(k[0],I[0])&&Math.min(k[1],I[1])<=_[1]&&_[1]<=Math.max(k[1],I[1])}function D(k,I,_){var P=!1,T=k.length;if(T<=2)return!1;for(var p=0;p<T;p++){var w=k[p],m=k[(p+1)%T];if(O(w,m,[I,_]))return!0;S(w[1]-_)>0!=S(m[1]-_)>0&&S(I-(_-w[1])*(w[0]-m[0])/(w[1]-m[1])-w[0])<0&&(P=!P)}return P}C.default=D},70122:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(21927);function O(D,k,I,_,P,T,p,w){var m=(Math.atan2(w-k,p-D)+Math.PI*2)%(Math.PI*2);if(m<_||m>P)return!1;var b={x:D+I*Math.cos(m),y:k+I*Math.sin(m)};return S.distance(b.x,b.y,p,w)<=T/2}C.default=O},63161:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(89838);function O(D,k,I,_,P,T,p){var w=Math.min(D,I),m=Math.max(D,I),b=Math.min(k,_),y=Math.max(k,_),A=P/2;return T>=w-A&&T<=m+A&&p>=b-A&&p<=y+A?S.Line.pointToLine(D,k,I,_,T,p)<=P/2:!1}C.default=O},39761:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(63161);function O(D,k,I,_,P){var T=D.length;if(T<2)return!1;for(var p=0;p<T-1;p++){var w=D[p][0],m=D[p][1],b=D[p+1][0],y=D[p+1][1];if(S.default(w,m,b,y,k,I,_))return!0}if(P){var A=D[0],B=D[T-1];if(S.default(A[0],A[1],B[0],B[1],k,I,_))return!0}return!1}C.default=O},46647:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(63161),O=d(70122);function D(k,I,_,P,T,p,w,m){var b=p/2;return S.default(k+T,I,k+_-T,I,p,w,m)||S.default(k+_,I+T,k+_,I+P-T,p,w,m)||S.default(k+_-T,I+P,k+T,I+P,p,w,m)||S.default(k,I+P-T,k,I+T,p,w,m)||O.default(k+_-T,I+T,T,1.5*Math.PI,2*Math.PI,p,w,m)||O.default(k+_-T,I+P-T,T,0,.5*Math.PI,p,w,m)||O.default(k+T,I+P-T,T,.5*Math.PI,Math.PI,p,w,m)||O.default(k+T,I+T,T,Math.PI,1.5*Math.PI,p,w,m)}C.default=D},21897:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(21927);function O(D,k,I,_,P,T,p){var w=P/2;return S.inBox(D-w,k-w,I,P,T,p)||S.inBox(D+I-w,k-w,P,_,T,p)||S.inBox(D+w,k+_-w,I,P,T,p)||S.inBox(D-w,k+w,P,_,T,p)}C.default=O},93377:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.parseRadius=C.parseStyle=C.parsePattern=C.parseRadialGradient=C.parseLineGradient=void 0;var S=d(21927),O=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,D=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,k=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,I=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function _(b,y){var A=b.match(I);S.each(A,function(B){var N=B.split(":");y.addColorStop(N[0],N[1])})}function P(b,y,A){var B=O.exec(A),N=parseFloat(B[1])%360*(Math.PI/180),G=B[2],j=y.getBBox(),J,H;N>=0&&N<1/2*Math.PI?(J={x:j.minX,y:j.minY},H={x:j.maxX,y:j.maxY}):1/2*Math.PI<=N&&N<Math.PI?(J={x:j.maxX,y:j.minY},H={x:j.minX,y:j.maxY}):Math.PI<=N&&N<3/2*Math.PI?(J={x:j.maxX,y:j.maxY},H={x:j.minX,y:j.minY}):(J={x:j.minX,y:j.maxY},H={x:j.maxX,y:j.minY});var K=Math.tan(N),st=K*K,nt=(H.x-J.x+K*(H.y-J.y))/(st+1)+J.x,wt=K*(H.x-J.x+K*(H.y-J.y))/(st+1)+J.y,gt=b.createLinearGradient(J.x,J.y,nt,wt);return _(G,gt),gt}C.parseLineGradient=P;function T(b,y,A){var B=D.exec(A),N=parseFloat(B[1]),G=parseFloat(B[2]),j=parseFloat(B[3]),J=B[4];if(j===0){var H=J.match(I);return H[H.length-1].split(":")[1]}var K=y.getBBox(),st=K.maxX-K.minX,nt=K.maxY-K.minY,wt=Math.sqrt(st*st+nt*nt)/2,gt=b.createRadialGradient(K.minX+st*N,K.minY+nt*G,0,K.minX+st/2,K.minY+nt/2,j*wt);return _(J,gt),gt}C.parseRadialGradient=T;function p(b,y,A){if(y.get("patternSource")&&y.get("patternSource")===A)return y.get("pattern");var B,N,G=k.exec(A),j=G[1],J=G[2];function H(){B=b.createPattern(N,j),y.set("pattern",B),y.set("patternSource",A)}switch(j){case"a":j="repeat";break;case"x":j="repeat-x";break;case"y":j="repeat-y";break;case"n":j="no-repeat";break;default:j="no-repeat"}return N=new Image,J.match(/^data:/i)||(N.crossOrigin="Anonymous"),N.src=J,N.complete?H():(N.onload=H,N.src=N.src),B}C.parsePattern=p;function w(b,y,A){var B=y.getBBox();if(isNaN(B.x)||isNaN(B.y)||isNaN(B.width)||isNaN(B.height))return A;if(S.isString(A)){if(A[1]==="("||A[2]==="("){if(A[0]==="l")return P(b,y,A);if(A[0]==="r")return T(b,y,A);if(A[0]==="p")return p(b,y,A)}return A}if(A instanceof CanvasPattern)return A}C.parseStyle=w;function m(b){var y=0,A=0,B=0,N=0;return S.isArray(b)?b.length===1?y=A=B=N=b[0]:b.length===2?(y=B=b[0],A=N=b[1]):b.length===3?(y=b[0],A=N=b[1],B=b[2]):(y=b[0],A=b[1],B=b[2],N=b[3]):y=A=B=N=b,[y,A,B,N]}C.parseRadius=m},55531:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(55654),O=d(74306),D=d(89838),k=d(89838),I=d(77788),_=d(77160),P=d(21927),T=d(63161),p=d(70122),w=I.ext.transform;function m(A){for(var B=!1,N=A.length,G=0;G<N;G++){var j=A[G],J=j[0];if(J==="C"||J==="A"||J==="Q"){B=!0;break}}return B}function b(A,B,N,G,j){for(var J=!1,H=B/2,K=0;K<A.length;K++){var st=A[K],nt=st.currentPoint,wt=st.params,gt=st.prePoint,At=st.box;if(!(At&&!P.inBox(At.x-H,At.y-H,At.width+B,At.height+B,N,G))){switch(st.command){case"L":case"Z":J=T.default(gt[0],gt[1],nt[0],nt[1],B,N,G);break;case"Q":var X=D.Quad.pointDistance(gt[0],gt[1],wt[1],wt[2],wt[3],wt[4],N,G);J=X<=B/2;break;case"C":var Z=k.Cubic.pointDistance(gt[0],gt[1],wt[1],wt[2],wt[3],wt[4],wt[5],wt[6],N,G,j);J=Z<=B/2;break;case"A":var tt=st.arcParams,Q=tt.cx,vt=tt.cy,lt=tt.rx,rt=tt.ry,U=tt.startAngle,$=tt.endAngle,f=tt.xRotation,xt=[N,G,1],Ct=lt>rt?lt:rt,Bt=lt>rt?1:lt/rt,qt=lt>rt?rt/lt:1,Gt=w(null,[["t",-Q,-vt],["r",-f],["s",1/Bt,1/qt]]);_.transformMat3(xt,xt,Gt),J=p.default(0,0,Ct,U,$,B,xt[0],xt[1]);break;default:break}if(J)break}}return J}function y(A){for(var B=A.length,N=[],G=[],j=[],J=0;J<B;J++){var H=A[J],K=H[0];K==="M"?(j.length&&(G.push(j),j=[]),j.push([H[1],H[2]])):K==="Z"?j.length&&(N.push(j),j=[]):j.push([H[1],H[2]])}return j.length>0&&G.push(j),{polygons:N,polylines:G}}C.default=S.__assign({hasArc:m,extractPolygons:y,isPointInStroke:b},O.PathUtil)},21927:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.clearAnimationFrame=C.requestAnimationFrame=C.isNumberEqual=C.mod=C.toRadian=C.each=C.isArray=C.isFunction=C.isString=C.isNil=C.isSamePoint=C.mergeRegion=C.intersectRect=C.inBox=C.distance=C.getPixelRatio=void 0;function S(){return window?window.devicePixelRatio:1}C.getPixelRatio=S;function O(T,p,w,m){var b=T-w,y=p-m;return Math.sqrt(b*b+y*y)}C.distance=O;function D(T,p,w,m,b,y){return b>=T&&b<=T+w&&y>=p&&y<=p+m}C.inBox=D;function k(T,p){return!(p.minX>T.maxX||p.maxX<T.minX||p.minY>T.maxY||p.maxY<T.minY)}C.intersectRect=k;function I(T,p){return!T||!p?T||p:{minX:Math.min(T.minX,p.minX),minY:Math.min(T.minY,p.minY),maxX:Math.max(T.maxX,p.maxX),maxY:Math.max(T.maxY,p.maxY)}}C.mergeRegion=I;function _(T,p){return T[0]===p[0]&&T[1]===p[1]}C.isSamePoint=_;var P=d(49242);Object.defineProperty(C,"isNil",{enumerable:!0,get:function(){return P.isNil}}),Object.defineProperty(C,"isString",{enumerable:!0,get:function(){return P.isString}}),Object.defineProperty(C,"isFunction",{enumerable:!0,get:function(){return P.isFunction}}),Object.defineProperty(C,"isArray",{enumerable:!0,get:function(){return P.isArray}}),Object.defineProperty(C,"each",{enumerable:!0,get:function(){return P.each}}),Object.defineProperty(C,"toRadian",{enumerable:!0,get:function(){return P.toRadian}}),Object.defineProperty(C,"mod",{enumerable:!0,get:function(){return P.mod}}),Object.defineProperty(C,"isNumberEqual",{enumerable:!0,get:function(){return P.isNumberEqual}}),Object.defineProperty(C,"requestAnimationFrame",{enumerable:!0,get:function(){return P.requestAnimationFrame}}),Object.defineProperty(C,"clearAnimationFrame",{enumerable:!0,get:function(){return P.clearAnimationFrame}})},77788:function(mt,C,d){"use strict";d.r(C),d.d(C,{ext:function(){return S},mat3:function(){return O},vec2:function(){return D},vec3:function(){return k}});var S={};d.r(S),d.d(S,{angleTo:function(){return m},direction:function(){return w},leftRotate:function(){return _},leftScale:function(){return P},leftTranslate:function(){return I},transform:function(){return p},vertical:function(){return b}});var O=d(35600),D=d(31437),k=d(77160);function I(y,A,B){var N=[0,0,0,0,0,0,0,0,0];return O.fromTranslation(N,B),O.multiply(y,N,A)}function _(y,A,B){var N=[0,0,0,0,0,0,0,0,0];return O.fromRotation(N,B),O.multiply(y,N,A)}function P(y,A,B){var N=[0,0,0,0,0,0,0,0,0];return O.fromScaling(N,B),O.multiply(y,N,A)}function T(y,A,B){return O.multiply(y,B,A)}function p(y,A){for(var B=y?[].concat(y):[1,0,0,0,1,0,0,0,1],N=0,G=A.length;N<G;N++){var j=A[N];switch(j[0]){case"t":I(B,B,[j[1],j[2]]);break;case"s":P(B,B,[j[1],j[2]]);break;case"r":_(B,B,j[1]);break;case"m":T(B,B,j[1]);break;default:break}}return B}function w(y,A){return y[0]*A[1]-A[0]*y[1]}function m(y,A,B){var N=D.angle(y,A),G=w(y,A)>=0;return B?G?Math.PI*2-N:N:G?N:Math.PI*2-N}function b(y,A,B){return B?(y[0]=A[1],y[1]=-1*A[0]):(y[0]=-1*A[1],y[1]=A[0]),y}},55654:function(mt,C,d){"use strict";d.r(C),d.d(C,{__extends:function(){return O},__assign:function(){return D},__rest:function(){return k},__decorate:function(){return I},__param:function(){return _},__metadata:function(){return P},__awaiter:function(){return T},__generator:function(){return p},__createBinding:function(){return w},__exportStar:function(){return m},__values:function(){return b},__read:function(){return y},__spread:function(){return A},__spreadArrays:function(){return B},__spreadArray:function(){return N},__await:function(){return G},__asyncGenerator:function(){return j},__asyncDelegator:function(){return J},__asyncValues:function(){return H},__makeTemplateObject:function(){return K},__importStar:function(){return nt},__importDefault:function(){return wt},__classPrivateFieldGet:function(){return gt},__classPrivateFieldSet:function(){return At}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var S=function(X,Z){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(tt,Q){tt.__proto__=Q}||function(tt,Q){for(var vt in Q)Object.prototype.hasOwnProperty.call(Q,vt)&&(tt[vt]=Q[vt])},S(X,Z)};function O(X,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Class extends value "+String(Z)+" is not a constructor or null");S(X,Z);function tt(){this.constructor=X}X.prototype=Z===null?Object.create(Z):(tt.prototype=Z.prototype,new tt)}var D=function(){return D=Object.assign||function(Z){for(var tt,Q=1,vt=arguments.length;Q<vt;Q++){tt=arguments[Q];for(var lt in tt)Object.prototype.hasOwnProperty.call(tt,lt)&&(Z[lt]=tt[lt])}return Z},D.apply(this,arguments)};function k(X,Z){var tt={};for(var Q in X)Object.prototype.hasOwnProperty.call(X,Q)&&Z.indexOf(Q)<0&&(tt[Q]=X[Q]);if(X!=null&&typeof Object.getOwnPropertySymbols=="function")for(var vt=0,Q=Object.getOwnPropertySymbols(X);vt<Q.length;vt++)Z.indexOf(Q[vt])<0&&Object.prototype.propertyIsEnumerable.call(X,Q[vt])&&(tt[Q[vt]]=X[Q[vt]]);return tt}function I(X,Z,tt,Q){var vt=arguments.length,lt=vt<3?Z:Q===null?Q=Object.getOwnPropertyDescriptor(Z,tt):Q,rt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")lt=Reflect.decorate(X,Z,tt,Q);else for(var U=X.length-1;U>=0;U--)(rt=X[U])&&(lt=(vt<3?rt(lt):vt>3?rt(Z,tt,lt):rt(Z,tt))||lt);return vt>3&&lt&&Object.defineProperty(Z,tt,lt),lt}function _(X,Z){return function(tt,Q){Z(tt,Q,X)}}function P(X,Z){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(X,Z)}function T(X,Z,tt,Q){function vt(lt){return lt instanceof tt?lt:new tt(function(rt){rt(lt)})}return new(tt||(tt=Promise))(function(lt,rt){function U(xt){try{f(Q.next(xt))}catch(Ct){rt(Ct)}}function $(xt){try{f(Q.throw(xt))}catch(Ct){rt(Ct)}}function f(xt){xt.done?lt(xt.value):vt(xt.value).then(U,$)}f((Q=Q.apply(X,Z||[])).next())})}function p(X,Z){var tt={label:0,sent:function(){if(lt[0]&1)throw lt[1];return lt[1]},trys:[],ops:[]},Q,vt,lt,rt;return rt={next:U(0),throw:U(1),return:U(2)},typeof Symbol=="function"&&(rt[Symbol.iterator]=function(){return this}),rt;function U(f){return function(xt){return $([f,xt])}}function $(f){if(Q)throw new TypeError("Generator is already executing.");for(;tt;)try{if(Q=1,vt&&(lt=f[0]&2?vt.return:f[0]?vt.throw||((lt=vt.return)&&lt.call(vt),0):vt.next)&&!(lt=lt.call(vt,f[1])).done)return lt;switch(vt=0,lt&&(f=[f[0]&2,lt.value]),f[0]){case 0:case 1:lt=f;break;case 4:return tt.label++,{value:f[1],done:!1};case 5:tt.label++,vt=f[1],f=[0];continue;case 7:f=tt.ops.pop(),tt.trys.pop();continue;default:if(lt=tt.trys,!(lt=lt.length>0&&lt[lt.length-1])&&(f[0]===6||f[0]===2)){tt=0;continue}if(f[0]===3&&(!lt||f[1]>lt[0]&&f[1]<lt[3])){tt.label=f[1];break}if(f[0]===6&&tt.label<lt[1]){tt.label=lt[1],lt=f;break}if(lt&&tt.label<lt[2]){tt.label=lt[2],tt.ops.push(f);break}lt[2]&&tt.ops.pop(),tt.trys.pop();continue}f=Z.call(X,tt)}catch(xt){f=[6,xt],vt=0}finally{Q=lt=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var w=Object.create?function(X,Z,tt,Q){Q===void 0&&(Q=tt),Object.defineProperty(X,Q,{enumerable:!0,get:function(){return Z[tt]}})}:function(X,Z,tt,Q){Q===void 0&&(Q=tt),X[Q]=Z[tt]};function m(X,Z){for(var tt in X)tt!=="default"&&!Object.prototype.hasOwnProperty.call(Z,tt)&&w(Z,X,tt)}function b(X){var Z=typeof Symbol=="function"&&Symbol.iterator,tt=Z&&X[Z],Q=0;if(tt)return tt.call(X);if(X&&typeof X.length=="number")return{next:function(){return X&&Q>=X.length&&(X=void 0),{value:X&&X[Q++],done:!X}}};throw new TypeError(Z?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(X,Z){var tt=typeof Symbol=="function"&&X[Symbol.iterator];if(!tt)return X;var Q=tt.call(X),vt,lt=[],rt;try{for(;(Z===void 0||Z-- >0)&&!(vt=Q.next()).done;)lt.push(vt.value)}catch(U){rt={error:U}}finally{try{vt&&!vt.done&&(tt=Q.return)&&tt.call(Q)}finally{if(rt)throw rt.error}}return lt}function A(){for(var X=[],Z=0;Z<arguments.length;Z++)X=X.concat(y(arguments[Z]));return X}function B(){for(var X=0,Z=0,tt=arguments.length;Z<tt;Z++)X+=arguments[Z].length;for(var Q=Array(X),vt=0,Z=0;Z<tt;Z++)for(var lt=arguments[Z],rt=0,U=lt.length;rt<U;rt++,vt++)Q[vt]=lt[rt];return Q}function N(X,Z,tt){if(tt||arguments.length===2)for(var Q=0,vt=Z.length,lt;Q<vt;Q++)(lt||!(Q in Z))&&(lt||(lt=Array.prototype.slice.call(Z,0,Q)),lt[Q]=Z[Q]);return X.concat(lt||Array.prototype.slice.call(Z))}function G(X){return this instanceof G?(this.v=X,this):new G(X)}function j(X,Z,tt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Q=tt.apply(X,Z||[]),vt,lt=[];return vt={},rt("next"),rt("throw"),rt("return"),vt[Symbol.asyncIterator]=function(){return this},vt;function rt(Bt){Q[Bt]&&(vt[Bt]=function(qt){return new Promise(function(Gt,Jt){lt.push([Bt,qt,Gt,Jt])>1||U(Bt,qt)})})}function U(Bt,qt){try{$(Q[Bt](qt))}catch(Gt){Ct(lt[0][3],Gt)}}function $(Bt){Bt.value instanceof G?Promise.resolve(Bt.value.v).then(f,xt):Ct(lt[0][2],Bt)}function f(Bt){U("next",Bt)}function xt(Bt){U("throw",Bt)}function Ct(Bt,qt){Bt(qt),lt.shift(),lt.length&&U(lt[0][0],lt[0][1])}}function J(X){var Z,tt;return Z={},Q("next"),Q("throw",function(vt){throw vt}),Q("return"),Z[Symbol.iterator]=function(){return this},Z;function Q(vt,lt){Z[vt]=X[vt]?function(rt){return(tt=!tt)?{value:G(X[vt](rt)),done:vt==="return"}:lt?lt(rt):rt}:lt}}function H(X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Z=X[Symbol.asyncIterator],tt;return Z?Z.call(X):(X=typeof b=="function"?b(X):X[Symbol.iterator](),tt={},Q("next"),Q("throw"),Q("return"),tt[Symbol.asyncIterator]=function(){return this},tt);function Q(lt){tt[lt]=X[lt]&&function(rt){return new Promise(function(U,$){rt=X[lt](rt),vt(U,$,rt.done,rt.value)})}}function vt(lt,rt,U,$){Promise.resolve($).then(function(f){lt({value:f,done:U})},rt)}}function K(X,Z){return Object.defineProperty?Object.defineProperty(X,"raw",{value:Z}):X.raw=Z,X}var st=Object.create?function(X,Z){Object.defineProperty(X,"default",{enumerable:!0,value:Z})}:function(X,Z){X.default=Z};function nt(X){if(X&&X.__esModule)return X;var Z={};if(X!=null)for(var tt in X)tt!=="default"&&Object.prototype.hasOwnProperty.call(X,tt)&&w(Z,X,tt);return st(Z,X),Z}function wt(X){return X&&X.__esModule?X:{default:X}}function gt(X,Z,tt,Q){if(tt==="a"&&!Q)throw new TypeError("Private accessor was defined without a getter");if(typeof Z=="function"?X!==Z||!Q:!Z.has(X))throw new TypeError("Cannot read private member from an object whose class did not declare it");return tt==="m"?Q:tt==="a"?Q.call(X):Q?Q.value:Z.get(X)}function At(X,Z,tt,Q,vt){if(Q==="m")throw new TypeError("Private method is not writable");if(Q==="a"&&!vt)throw new TypeError("Private accessor was defined without a setter");if(typeof Z=="function"?X!==Z||!vt:!Z.has(X))throw new TypeError("Cannot write private member to an object whose class did not declare it");return Q==="a"?vt.call(X,tt):vt?vt.value=tt:Z.set(X,tt),tt}},70673:function(mt,C,d){"use strict";var S;S={value:!0};var O=d(47862),D=d(74306),k=d(65712),I=d(98820),_=d(50063),P=d(87596),T=d(4206),p=d(11694),w=d(21318),m=function(b){O.__extends(y,b);function y(A){return b.call(this,O.__assign(O.__assign({},A),{autoDraw:!0,renderer:"svg"}))||this}return y.prototype.getShapeBase=function(){return T},y.prototype.getGroupBase=function(){return p.default},y.prototype.getShape=function(A,B,N){var G=N.target||N.srcElement;if(!k.SHAPE_TO_TAGS[G.tagName]){for(var j=G.parentNode;j&&!k.SHAPE_TO_TAGS[j.tagName];)j=j.parentNode;G=j}return this.find(function(J){return J.get("el")===G})},y.prototype.createDom=function(){var A=P.createSVGElement("svg"),B=new w.default(A);return A.setAttribute("width",""+this.get("width")),A.setAttribute("height",""+this.get("height")),this.set("context",B),A},y.prototype.onCanvasChange=function(A){var B=this.get("context"),N=this.get("el");if(A==="sort"){var G=this.get("children");G&&G.length&&P.sortDom(this,function(J,H){return G.indexOf(J)-G.indexOf(H)?1:0})}else if(A==="clear"){if(N){N.innerHTML="";var j=B.el;j.innerHTML="",N.appendChild(j)}}else A==="matrix"?_.setTransform(this):A==="clip"?_.setClip(this,B):A==="changeSize"&&(N.setAttribute("width",""+this.get("width")),N.setAttribute("height",""+this.get("height")))},y.prototype.draw=function(){var A=this.get("context"),B=this.getChildren();_.setClip(this,A),B.length&&I.drawChildren(A,B)},y}(D.AbstractCanvas);C.Z=m},65712:function(mt,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.EVENTS=C.SVG_ATTR_MAP=C.SHAPE_TO_TAGS=void 0,C.SHAPE_TO_TAGS={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},C.SVG_ATTR_MAP={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},C.EVENTS=["click","mousedown","mouseup","dblclick","contextmenu","mouseenter","mouseleave","mouseover","mouseout","mousemove","wheel"]},9353:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(49242),O=d(87596),D=function(){function k(I,_){this.cfg={};var P=O.createSVGElement("marker"),T=S.uniqueId("marker_");P.setAttribute("id",T);var p=O.createSVGElement("path");p.setAttribute("stroke",I.stroke||"none"),p.setAttribute("fill",I.fill||"none"),P.appendChild(p),P.setAttribute("overflow","visible"),P.setAttribute("orient","auto-start-reverse"),this.el=P,this.child=p,this.id=T;var w=I[_==="marker-start"?"startArrow":"endArrow"];return this.stroke=I.stroke||"#000",w===!0?this._setDefaultPath(_,p):(this.cfg=w,this._setMarker(I.lineWidth,p)),this}return k.prototype.match=function(){return!1},k.prototype._setDefaultPath=function(I,_){var P=this.el;_.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),P.setAttribute("refX",""+10*Math.cos(Math.PI/6)),P.setAttribute("refY",""+5)},k.prototype._setMarker=function(I,_){var P=this.el,T=this.cfg.path,p=this.cfg.d;S.isArray(T)&&(T=T.map(function(w){return w.join(" ")}).join("")),_.setAttribute("d",T),P.appendChild(_),p&&P.setAttribute("refX",""+p/I)},k.prototype.update=function(I){var _=this.child;_.attr?_.attr("fill",I):_.setAttribute("fill",I)},k}();C.default=D},67926:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(49242),O=d(87596),D=function(){function k(I){this.type="clip",this.cfg={};var _=O.createSVGElement("clipPath");this.el=_,this.id=S.uniqueId("clip_"),_.id=this.id;var P=I.cfg.el;return _.appendChild(P),this.cfg=I,this}return k.prototype.match=function(){return!1},k.prototype.remove=function(){var I=this.el;I.parentNode.removeChild(I)},k}();C.default=D},10052:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(49242),O=d(87596),D=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,k=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,I=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function _(w){var m=w.match(I);if(!m)return"";var b="";return m.sort(function(y,A){return y=y.split(":"),A=A.split(":"),Number(y[0])-Number(A[0])}),S.each(m,function(y){y=y.split(":"),b+='<stop offset="'+y[0]+'" stop-color="'+y[1]+'"></stop>'}),b}function P(w,m){var b=D.exec(w),y=S.mod(S.toRadian(parseFloat(b[1])),Math.PI*2),A=b[2],B,N;y>=0&&y<.5*Math.PI?(B={x:0,y:0},N={x:1,y:1}):.5*Math.PI<=y&&y<Math.PI?(B={x:1,y:0},N={x:0,y:1}):Math.PI<=y&&y<1.5*Math.PI?(B={x:1,y:1},N={x:0,y:0}):(B={x:0,y:1},N={x:1,y:0});var G=Math.tan(y),j=G*G,J=(N.x-B.x+G*(N.y-B.y))/(j+1)+B.x,H=G*(N.x-B.x+G*(N.y-B.y))/(j+1)+B.y;m.setAttribute("x1",B.x),m.setAttribute("y1",B.y),m.setAttribute("x2",J),m.setAttribute("y2",H),m.innerHTML=_(A)}function T(w,m){var b=k.exec(w),y=parseFloat(b[1]),A=parseFloat(b[2]),B=parseFloat(b[3]),N=b[4];m.setAttribute("cx",y),m.setAttribute("cy",A),m.setAttribute("r",B),m.innerHTML=_(N)}var p=function(){function w(m){this.cfg={};var b=null,y=S.uniqueId("gradient_");return m.toLowerCase()[0]==="l"?(b=O.createSVGElement("linearGradient"),P(m,b)):(b=O.createSVGElement("radialGradient"),T(m,b)),b.setAttribute("id",y),this.el=b,this.id=y,this.cfg=m,this}return w.prototype.match=function(m,b){return this.cfg===b},w}();C.default=p},21318:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(49242),O=d(10052),D=d(96526),k=d(9353),I=d(67926),_=d(10011),P=d(87596),T=function(){function p(w){var m=P.createSVGElement("defs"),b=S.uniqueId("defs_");m.id=b,w.appendChild(m),this.children=[],this.defaultArrow={},this.el=m,this.canvas=w}return p.prototype.find=function(w,m){for(var b=this.children,y=null,A=0;A<b.length;A++)if(b[A].match(w,m)){y=b[A].id;break}return y},p.prototype.findById=function(w){for(var m=this.children,b=null,y=0;y<m.length;y++)if(m[y].id===w){b=m[y];break}return b},p.prototype.add=function(w){this.children.push(w),w.canvas=this.canvas,w.parent=this},p.prototype.getDefaultArrow=function(w,m){var b=w.stroke||w.strokeStyle;if(this.defaultArrow[b])return this.defaultArrow[b].id;var y=new k.default(w,m);return this.defaultArrow[b]=y,this.el.appendChild(y.el),this.add(y),y.id},p.prototype.addGradient=function(w){var m=new O.default(w);return this.el.appendChild(m.el),this.add(m),m.id},p.prototype.addArrow=function(w,m){var b=new k.default(w,m);return this.el.appendChild(b.el),this.add(b),b.id},p.prototype.addShadow=function(w){var m=new D.default(w);return this.el.appendChild(m.el),this.add(m),m.id},p.prototype.addPattern=function(w){var m=new _.default(w);return this.el.appendChild(m.el),this.add(m),m.id},p.prototype.addClip=function(w){var m=new I.default(w);return this.el.appendChild(m.el),this.add(m),m.id},p}();C.default=T},10011:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(49242),O=d(87596),D=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,k=function(){function I(_){this.cfg={};var P=O.createSVGElement("pattern");P.setAttribute("patternUnits","userSpaceOnUse");var T=O.createSVGElement("image");P.appendChild(T);var p=S.uniqueId("pattern_");P.id=p,this.el=P,this.id=p,this.cfg=_;var w=D.exec(_),m=w[2];T.setAttribute("href",m);var b=new Image;m.match(/^data:/i)||(b.crossOrigin="Anonymous"),b.src=m;function y(){P.setAttribute("width",""+b.width),P.setAttribute("height",""+b.height)}return b.complete?y():(b.onload=y,b.src=b.src),this}return I.prototype.match=function(_,P){return this.cfg===P},I}();C.default=k},96526:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(49242),O=d(87596),D={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},k={x:"-40%",y:"-40%",width:"200%",height:"200%"},I=function(){function _(P){this.type="filter",this.cfg={},this.type="filter";var T=O.createSVGElement("filter");return S.each(k,function(p,w){T.setAttribute(w,p)}),this.el=T,this.id=S.uniqueId("filter_"),this.el.id=this.id,this.cfg=P,this._parseShadow(P,T),this}return _.prototype.match=function(P,T){if(this.type!==P)return!1;var p=!0,w=this.cfg;return S.each(Object.keys(w),function(m){if(w[m]!==T[m])return p=!1,!1}),p},_.prototype.update=function(P,T){var p=this.cfg;return p[D[P]]=T,this._parseShadow(p,this.el),this},_.prototype._parseShadow=function(P,T){var p=`<feDropShadow
      dx="`+(P.dx||0)+`"
      dy="`+(P.dy||0)+`"
      stdDeviation="`+(P.blur?P.blur/10:0)+`"
      flood-color="`+(P.color?P.color:"#000")+`"
      flood-opacity="`+(P.opacity?P.opacity:1)+`"
      />`;T.innerHTML=p},_}();C.default=I},11694:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(47862),O=d(74306),D=d(49242),k=d(4206),I=d(98820),_=d(50063),P=d(65712),T=d(87596),p=function(w){S.__extends(m,w);function m(){return w!==null&&w.apply(this,arguments)||this}return m.prototype.isEntityGroup=function(){return!0},m.prototype.createDom=function(){var b=T.createSVGElement("g");this.set("el",b);var y=this.getParent();if(y){var A=y.get("el");A||(A=y.createDom(),y.set("el",A)),A.appendChild(b)}return b},m.prototype.afterAttrsChange=function(b){w.prototype.afterAttrsChange.call(this,b);var y=this.get("canvas");if(y&&y.get("autoDraw")){var A=y.get("context");this.createPath(A,b)}},m.prototype.onCanvasChange=function(b){I.refreshElement(this,b)},m.prototype.getShapeBase=function(){return k},m.prototype.getGroupBase=function(){return m},m.prototype.draw=function(b){var y=this.getChildren(),A=this.get("el");this.get("destroyed")?A&&A.parentNode.removeChild(A):(A||this.createDom(),_.setClip(this,b),this.createPath(b),y.length&&I.drawChildren(b,y))},m.prototype.createPath=function(b,y){var A=this.attr(),B=this.get("el");D.each(y||A,function(N,G){P.SVG_ATTR_MAP[G]&&B.setAttribute(P.SVG_ATTR_MAP[G],N)}),_.setTransform(this)},m}(O.AbstractGroup);C.default=p},4050:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(47862),O=d(74306),D=d(50063),k=d(87596),I=d(98820),_=d(65712),P=d(4206),T=d(11694),p=d(74306),w=function(m){S.__extends(b,m);function b(){var y=m!==null&&m.apply(this,arguments)||this;return y.type="svg",y.canFill=!1,y.canStroke=!1,y}return b.prototype.getDefaultAttrs=function(){var y=m.prototype.getDefaultAttrs.call(this);return S.__assign(S.__assign({},y),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},b.prototype.afterAttrsChange=function(y){m.prototype.afterAttrsChange.call(this,y);var A=this.get("canvas");if(A&&A.get("autoDraw")){var B=A.get("context");this.draw(B,y)}},b.prototype.getShapeBase=function(){return P},b.prototype.getGroupBase=function(){return T.default},b.prototype.onCanvasChange=function(y){I.refreshElement(this,y)},b.prototype.calculateBBox=function(){var y=this.get("el"),A=null;if(y)A=y.getBBox();else{var B=p.getBBoxMethod(this.get("type"));B&&(A=B(this))}if(A){var N=A.x,G=A.y,j=A.width,J=A.height,H=this.getHitLineWidth(),K=H/2,st=N-K,nt=G-K,wt=N+j+K,gt=G+J+K;return{x:st,y:nt,minX:st,minY:nt,maxX:wt,maxY:gt,width:j+H,height:J+H}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},b.prototype.isFill=function(){var y=this.attr(),A=y.fill,B=y.fillStyle;return(A||B||this.isClipShape())&&this.canFill},b.prototype.isStroke=function(){var y=this.attr(),A=y.stroke,B=y.strokeStyle;return(A||B)&&this.canStroke},b.prototype.draw=function(y,A){var B=this.get("el");this.get("destroyed")?B&&B.parentNode.removeChild(B):(B||k.createDom(this),D.setClip(this,y),this.createPath(y,A),this.shadow(y,A),this.strokeAndFill(y,A),this.transform(A))},b.prototype.createPath=function(y,A){},b.prototype.strokeAndFill=function(y,A){var B=A||this.attr(),N=B.fill,G=B.fillStyle,j=B.stroke,J=B.strokeStyle,H=B.fillOpacity,K=B.strokeOpacity,st=B.lineWidth,nt=this.get("el");this.canFill&&(A?"fill"in B?this._setColor(y,"fill",N):"fillStyle"in B&&this._setColor(y,"fill",G):this._setColor(y,"fill",N||G),H&&nt.setAttribute(_.SVG_ATTR_MAP.fillOpacity,H)),this.canStroke&&st>0&&(A?"stroke"in B?this._setColor(y,"stroke",j):"strokeStyle"in B&&this._setColor(y,"stroke",J):this._setColor(y,"stroke",j||J),K&&nt.setAttribute(_.SVG_ATTR_MAP.strokeOpacity,K),st&&nt.setAttribute(_.SVG_ATTR_MAP.lineWidth,st))},b.prototype._setColor=function(y,A,B){var N=this.get("el");if(!B){N.setAttribute(_.SVG_ATTR_MAP[A],"none");return}if(B=B.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(B)){var G=y.find("gradient",B);G||(G=y.addGradient(B)),N.setAttribute(_.SVG_ATTR_MAP[A],"url(#"+G+")")}else if(/^[p,P]{1}[\s]*\(/.test(B)){var G=y.find("pattern",B);G||(G=y.addPattern(B)),N.setAttribute(_.SVG_ATTR_MAP[A],"url(#"+G+")")}else N.setAttribute(_.SVG_ATTR_MAP[A],B)},b.prototype.shadow=function(y,A){var B=this.attr(),N=A||B,G=N.shadowOffsetX,j=N.shadowOffsetY,J=N.shadowBlur,H=N.shadowColor;(G||j||J||H)&&D.setShadow(this,y)},b.prototype.transform=function(y){var A=this.attr(),B=(y||A).matrix;B&&D.setTransform(this)},b.prototype.isInShape=function(y,A){return this.isPointInPath(y,A)},b.prototype.isPointInPath=function(y,A){var B=this.get("el"),N=this.get("canvas"),G=N.get("el").getBoundingClientRect(),j=y+G.left,J=A+G.top,H=document.elementFromPoint(j,J);return!!(H&&H.isEqualNode(B))},b.prototype.getHitLineWidth=function(){var y=this.attrs,A=y.lineWidth,B=y.lineAppendWidth;return this.isStroke()?A+B:0},b}(O.AbstractShape);C.default=w},14661:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(47862),O=d(49242),D=d(65712),k=d(4050),I=function(_){S.__extends(P,_);function P(){var T=_!==null&&_.apply(this,arguments)||this;return T.type="circle",T.canFill=!0,T.canStroke=!0,T}return P.prototype.getDefaultAttrs=function(){var T=_.prototype.getDefaultAttrs.call(this);return S.__assign(S.__assign({},T),{x:0,y:0,r:0})},P.prototype.createPath=function(T,p){var w=this.attr(),m=this.get("el");O.each(p||w,function(b,y){y==="x"||y==="y"?m.setAttribute("c"+y,b):D.SVG_ATTR_MAP[y]&&m.setAttribute(D.SVG_ATTR_MAP[y],b)})},P}(k.default);C.default=I},55504:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(47862),O=d(49242),D=d(65712),k=d(4050),I=function(_){S.__extends(P,_);function P(){var T=_!==null&&_.apply(this,arguments)||this;return T.type="dom",T.canFill=!1,T.canStroke=!1,T}return P.prototype.createPath=function(T,p){var w=this.attr(),m=this.get("el");if(O.each(p||w,function(B,N){D.SVG_ATTR_MAP[N]&&m.setAttribute(D.SVG_ATTR_MAP[N],B)}),typeof w.html=="function"){var b=w.html.call(this,w);if(b instanceof Element||b instanceof HTMLDocument){for(var y=m.childNodes,A=y.length-1;A>=0;A--)m.removeChild(y[A]);m.appendChild(b)}else m.innerHTML=b}else m.innerHTML=w.html},P}(k.default);C.default=I},92502:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(47862),O=d(49242),D=d(65712),k=d(4050),I=function(_){S.__extends(P,_);function P(){var T=_!==null&&_.apply(this,arguments)||this;return T.type="ellipse",T.canFill=!0,T.canStroke=!0,T}return P.prototype.getDefaultAttrs=function(){var T=_.prototype.getDefaultAttrs.call(this);return S.__assign(S.__assign({},T),{x:0,y:0,rx:0,ry:0})},P.prototype.createPath=function(T,p){var w=this.attr(),m=this.get("el");O.each(p||w,function(b,y){y==="x"||y==="y"?m.setAttribute("c"+y,b):D.SVG_ATTR_MAP[y]&&m.setAttribute(D.SVG_ATTR_MAP[y],b)})},P}(k.default);C.default=I},74729:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(47862),O=d(49242),D=d(65712),k=d(4050),I=function(_){S.__extends(P,_);function P(){var T=_!==null&&_.apply(this,arguments)||this;return T.type="image",T.canFill=!1,T.canStroke=!1,T}return P.prototype.getDefaultAttrs=function(){var T=_.prototype.getDefaultAttrs.call(this);return S.__assign(S.__assign({},T),{x:0,y:0,width:0,height:0})},P.prototype.createPath=function(T,p){var w=this,m=this.attr(),b=this.get("el");O.each(p||m,function(y,A){A==="img"?w._setImage(m.img):D.SVG_ATTR_MAP[A]&&b.setAttribute(D.SVG_ATTR_MAP[A],y)})},P.prototype.setAttr=function(T,p){this.attrs[T]=p,T==="img"&&this._setImage(p)},P.prototype._setImage=function(T){var p=this.attr(),w=this.get("el");if(O.isString(T))w.setAttribute("href",T);else if(T instanceof window.Image)p.width||(w.setAttribute("width",T.width),this.attr("width",T.width)),p.height||(w.setAttribute("height",T.height),this.attr("height",T.height)),w.setAttribute("href",T.src);else if(T instanceof HTMLElement&&O.isString(T.nodeName)&&T.nodeName.toUpperCase()==="CANVAS")w.setAttribute("href",T.toDataURL());else if(T instanceof ImageData){var m=document.createElement("canvas");m.setAttribute("width",""+T.width),m.setAttribute("height",""+T.height),m.getContext("2d").putImageData(T,0,0),p.width||(w.setAttribute("width",""+T.width),this.attr("width",T.width)),p.height||(w.setAttribute("height",""+T.height),this.attr("height",T.height)),w.setAttribute("href",m.toDataURL())}},P}(k.default);C.default=I},4206:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(4050);Object.defineProperty(C,"Base",{enumerable:!0,get:function(){return S.default}});var O=d(14661);Object.defineProperty(C,"Circle",{enumerable:!0,get:function(){return O.default}});var D=d(55504);Object.defineProperty(C,"Dom",{enumerable:!0,get:function(){return D.default}});var k=d(92502);Object.defineProperty(C,"Ellipse",{enumerable:!0,get:function(){return k.default}});var I=d(74729);Object.defineProperty(C,"Image",{enumerable:!0,get:function(){return I.default}});var _=d(34870);Object.defineProperty(C,"Line",{enumerable:!0,get:function(){return _.default}});var P=d(59408);Object.defineProperty(C,"Marker",{enumerable:!0,get:function(){return P.default}});var T=d(51076);Object.defineProperty(C,"Path",{enumerable:!0,get:function(){return T.default}});var p=d(36361);Object.defineProperty(C,"Polygon",{enumerable:!0,get:function(){return p.default}});var w=d(46406);Object.defineProperty(C,"Polyline",{enumerable:!0,get:function(){return w.default}});var m=d(71320);Object.defineProperty(C,"Rect",{enumerable:!0,get:function(){return m.default}});var b=d(35726);Object.defineProperty(C,"Text",{enumerable:!0,get:function(){return b.default}})},34870:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(47862),O=d(89838),D=d(49242),k=d(65712),I=d(4050),_=function(P){S.__extends(T,P);function T(){var p=P!==null&&P.apply(this,arguments)||this;return p.type="line",p.canFill=!1,p.canStroke=!0,p}return T.prototype.getDefaultAttrs=function(){var p=P.prototype.getDefaultAttrs.call(this);return S.__assign(S.__assign({},p),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},T.prototype.createPath=function(p,w){var m=this.attr(),b=this.get("el");D.each(w||m,function(y,A){if(A==="startArrow"||A==="endArrow")if(y){var B=D.isObject(y)?p.addArrow(m,k.SVG_ATTR_MAP[A]):p.getDefaultArrow(m,k.SVG_ATTR_MAP[A]);b.setAttribute(k.SVG_ATTR_MAP[A],"url(#"+B+")")}else b.removeAttribute(k.SVG_ATTR_MAP[A]);else k.SVG_ATTR_MAP[A]&&b.setAttribute(k.SVG_ATTR_MAP[A],y)})},T.prototype.getTotalLength=function(){var p=this.attr(),w=p.x1,m=p.y1,b=p.x2,y=p.y2;return O.Line.length(w,m,b,y)},T.prototype.getPoint=function(p){var w=this.attr(),m=w.x1,b=w.y1,y=w.x2,A=w.y2;return O.Line.pointAt(m,b,y,A,p)},T}(I.default);C.default=_},59408:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(47862),O=d(49242),D=d(4050),k=d(22505),I=function(_){S.__extends(P,_);function P(){var T=_!==null&&_.apply(this,arguments)||this;return T.type="marker",T.canFill=!0,T.canStroke=!0,T}return P.prototype.createPath=function(T){var p=this.get("el");p.setAttribute("d",this._assembleMarker())},P.prototype._assembleMarker=function(){var T=this._getPath();return O.isArray(T)?T.map(function(p){return p.join(" ")}).join(""):T},P.prototype._getPath=function(){var T=this.attr(),p=T.x,w=T.y,m=T.r||T.radius,b=T.symbol||"circle",y;return O.isFunction(b)?y=b:y=k.default.get(b),y?y(p,w,m):(console.warn(y+" symbol is not exist."),null)},P.symbolsFactory=k.default,P}(D.default);C.default=I},22505:function(mt,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d={circle:function(S,O,D){return[["M",S,O],["m",-D,0],["a",D,D,0,1,0,D*2,0],["a",D,D,0,1,0,-D*2,0]]},square:function(S,O,D){return[["M",S-D,O-D],["L",S+D,O-D],["L",S+D,O+D],["L",S-D,O+D],["Z"]]},diamond:function(S,O,D){return[["M",S-D,O],["L",S,O-D],["L",S+D,O],["L",S,O+D],["Z"]]},triangle:function(S,O,D){var k=D*Math.sin(1/3*Math.PI);return[["M",S-D,O+k],["L",S,O-k],["L",S+D,O+k],["z"]]},triangleDown:function(S,O,D){var k=D*Math.sin(1/3*Math.PI);return[["M",S-D,O-k],["L",S+D,O-k],["L",S,O+k],["Z"]]}};C.default={get:function(S){return d[S]},register:function(S,O){d[S]=O},remove:function(S){delete d[S]},getAll:function(){return d}}},51076:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(47862),O=d(49242),D=d(65712),k=d(4050),I=function(_){S.__extends(P,_);function P(){var T=_!==null&&_.apply(this,arguments)||this;return T.type="path",T.canFill=!0,T.canStroke=!0,T}return P.prototype.getDefaultAttrs=function(){var T=_.prototype.getDefaultAttrs.call(this);return S.__assign(S.__assign({},T),{startArrow:!1,endArrow:!1})},P.prototype.createPath=function(T,p){var w=this,m=this.attr(),b=this.get("el");O.each(p||m,function(y,A){if(A==="path"&&O.isArray(y))b.setAttribute("d",w._formatPath(y));else if(A==="startArrow"||A==="endArrow")if(y){var B=O.isObject(y)?T.addArrow(m,D.SVG_ATTR_MAP[A]):T.getDefaultArrow(m,D.SVG_ATTR_MAP[A]);b.setAttribute(D.SVG_ATTR_MAP[A],"url(#"+B+")")}else b.removeAttribute(D.SVG_ATTR_MAP[A]);else D.SVG_ATTR_MAP[A]&&b.setAttribute(D.SVG_ATTR_MAP[A],y)})},P.prototype._formatPath=function(T){var p=T.map(function(w){return w.join(" ")}).join("");return~p.indexOf("NaN")?"":p},P.prototype.getTotalLength=function(){var T=this.get("el");return T?T.getTotalLength():null},P.prototype.getPoint=function(T){var p=this.get("el"),w=this.getTotalLength();if(w===0)return null;var m=p?p.getPointAtLength(T*w):null;return m?{x:m.x,y:m.y}:null},P}(k.default);C.default=I},36361:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(47862),O=d(49242),D=d(65712),k=d(4050),I=function(_){S.__extends(P,_);function P(){var T=_!==null&&_.apply(this,arguments)||this;return T.type="polygon",T.canFill=!0,T.canStroke=!0,T}return P.prototype.createPath=function(T,p){var w=this.attr(),m=this.get("el");O.each(p||w,function(b,y){y==="points"&&O.isArray(b)&&b.length>=2?m.setAttribute("points",b.map(function(A){return A[0]+","+A[1]}).join(" ")):D.SVG_ATTR_MAP[y]&&m.setAttribute(D.SVG_ATTR_MAP[y],b)})},P}(k.default);C.default=I},46406:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(47862),O=d(89838),D=d(89838),k=d(49242),I=d(65712),_=d(4050),P=function(T){S.__extends(p,T);function p(){var w=T!==null&&T.apply(this,arguments)||this;return w.type="polyline",w.canFill=!0,w.canStroke=!0,w}return p.prototype.getDefaultAttrs=function(){var w=T.prototype.getDefaultAttrs.call(this);return S.__assign(S.__assign({},w),{startArrow:!1,endArrow:!1})},p.prototype.onAttrChange=function(w,m,b){T.prototype.onAttrChange.call(this,w,m,b),["points"].indexOf(w)!==-1&&this._resetCache()},p.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},p.prototype.createPath=function(w,m){var b=this.attr(),y=this.get("el");k.each(m||b,function(A,B){B==="points"&&k.isArray(A)&&A.length>=2?y.setAttribute("points",A.map(function(N){return N[0]+","+N[1]}).join(" ")):I.SVG_ATTR_MAP[B]&&y.setAttribute(I.SVG_ATTR_MAP[B],A)})},p.prototype.getTotalLength=function(){var w=this.attr().points,m=this.get("totalLength");return k.isNil(m)?(this.set("totalLength",O.Polyline.length(w)),this.get("totalLength")):m},p.prototype.getPoint=function(w){var m=this.attr().points,b=this.get("tCache");b||(this._setTcache(),b=this.get("tCache"));var y,A;return k.each(b,function(B,N){w>=B[0]&&w<=B[1]&&(y=(w-B[0])/(B[1]-B[0]),A=N)}),D.Line.pointAt(m[A][0],m[A][1],m[A+1][0],m[A+1][1],y)},p.prototype._setTcache=function(){var w=this.attr().points;if(!(!w||w.length===0)){var m=this.getTotalLength();if(!(m<=0)){var b=0,y=[],A,B;k.each(w,function(N,G){w[G+1]&&(A=[],A[0]=b/m,B=D.Line.length(N[0],N[1],w[G+1][0],w[G+1][1]),b+=B,A[1]=b/m,y.push(A))}),this.set("tCache",y)}}},p.prototype.getStartTangent=function(){var w=this.attr().points,m=[];return m.push([w[1][0],w[1][1]]),m.push([w[0][0],w[0][1]]),m},p.prototype.getEndTangent=function(){var w=this.attr().points,m=w.length-1,b=[];return b.push([w[m-1][0],w[m-1][1]]),b.push([w[m][0],w[m][1]]),b},p}(_.default);C.default=P},71320:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(47862),O=d(49242),D=d(4050),k=d(65712),I=d(48490),_=function(P){S.__extends(T,P);function T(){var p=P!==null&&P.apply(this,arguments)||this;return p.type="rect",p.canFill=!0,p.canStroke=!0,p}return T.prototype.getDefaultAttrs=function(){var p=P.prototype.getDefaultAttrs.call(this);return S.__assign(S.__assign({},p),{x:0,y:0,width:0,height:0,radius:0})},T.prototype.createPath=function(p,w){var m=this,b=this.attr(),y=this.get("el"),A=!1,B=["x","y","width","height","radius"];O.each(w||b,function(N,G){B.indexOf(G)!==-1&&!A?(y.setAttribute("d",m._assembleRect(b)),A=!0):B.indexOf(G)===-1&&k.SVG_ATTR_MAP[G]&&y.setAttribute(k.SVG_ATTR_MAP[G],N)})},T.prototype._assembleRect=function(p){var w=p.x,m=p.y,b=p.width,y=p.height,A=p.radius;if(!A)return"M "+w+","+m+" l "+b+",0 l 0,"+y+" l"+-b+" 0 z";var B=I.parseRadius(A);O.isArray(A)?A.length===1?B.r1=B.r2=B.r3=B.r4=A[0]:A.length===2?(B.r1=B.r3=A[0],B.r2=B.r4=A[1]):A.length===3?(B.r1=A[0],B.r2=B.r4=A[1],B.r3=A[2]):(B.r1=A[0],B.r2=A[1],B.r3=A[2],B.r4=A[3]):B.r1=B.r2=B.r3=B.r4=A;var N=[["M "+(w+B.r1)+","+m],["l "+(b-B.r1-B.r2)+",0"],["a "+B.r2+","+B.r2+",0,0,1,"+B.r2+","+B.r2],["l 0,"+(y-B.r2-B.r3)],["a "+B.r3+","+B.r3+",0,0,1,"+-B.r3+","+B.r3],["l "+(B.r3+B.r4-b)+",0"],["a "+B.r4+","+B.r4+",0,0,1,"+-B.r4+","+-B.r4],["l 0,"+(B.r4+B.r1-y)],["a "+B.r1+","+B.r1+",0,0,1,"+B.r1+","+-B.r1],["z"]];return N.join(" ")},T}(D.default);C.default=_},35726:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(47862),O=d(49242),D=d(43631),k=d(50063),I=d(65712),_=d(4050),P=.3,T={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},p={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},w={left:"left",start:"left",center:"middle",right:"end",end:"end"},m=function(b){S.__extends(y,b);function y(){var A=b!==null&&b.apply(this,arguments)||this;return A.type="text",A.canFill=!0,A.canStroke=!0,A}return y.prototype.getDefaultAttrs=function(){var A=b.prototype.getDefaultAttrs.call(this);return S.__assign(S.__assign({},A),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},y.prototype.createPath=function(A,B){var N=this,G=this.attr(),j=this.get("el");this._setFont(),O.each(B||G,function(J,H){H==="text"?N._setText(""+J):H==="matrix"&&J?k.setTransform(N):I.SVG_ATTR_MAP[H]&&j.setAttribute(I.SVG_ATTR_MAP[H],J)}),j.setAttribute("paint-order","stroke"),j.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},y.prototype._setFont=function(){var A=this.get("el"),B=this.attr(),N=B.textBaseline,G=B.textAlign,j=D.detect();j&&j.name==="firefox"?A.setAttribute("dominant-baseline",p[N]||"alphabetic"):A.setAttribute("alignment-baseline",T[N]||"baseline"),A.setAttribute("text-anchor",w[G]||"left")},y.prototype._setText=function(A){var B=this.get("el"),N=this.attr(),G=N.x,j=N.textBaseline,J=j===void 0?"bottom":j;if(!A)B.innerHTML="";else if(~A.indexOf(`
`)){var H=A.split(`
`),K=H.length-1,st="";O.each(H,function(nt,wt){wt===0?J==="alphabetic"?st+='<tspan x="'+G+'" dy="'+-K+'em">'+nt+"</tspan>":J==="top"?st+='<tspan x="'+G+'" dy="0.9em">'+nt+"</tspan>":J==="middle"?st+='<tspan x="'+G+'" dy="'+-(K-1)/2+'em">'+nt+"</tspan>":J==="bottom"?st+='<tspan x="'+G+'" dy="-'+(K+P)+'em">'+nt+"</tspan>":J==="hanging"&&(st+='<tspan x="'+G+'" dy="'+(-(K-1)-P)+'em">'+nt+"</tspan>"):st+='<tspan x="'+G+'" dy="1em">'+nt+"</tspan>"}),B.innerHTML=st}else B.innerHTML=A},y}(_.default);C.default=m},87596:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.moveTo=C.sortDom=C.createDom=C.createSVGElement=void 0;var S=d(49242),O=d(65712);function D(P){return document.createElementNS("http://www.w3.org/2000/svg",P)}C.createSVGElement=D;function k(P){var T=O.SHAPE_TO_TAGS[P.type],p=P.getParent();if(!T)throw new Error("the type "+P.type+" is not supported by svg");var w=D(T);if(P.get("id")&&(w.id=P.get("id")),P.set("el",w),P.set("attrs",{}),p){var m=p.get("el");m||(m=p.createDom(),p.set("el",m)),m.appendChild(w)}return w}C.createDom=k;function I(P,T){var p=P.get("el"),w=S.toArray(p.children).sort(T),m=document.createDocumentFragment();w.forEach(function(b){m.appendChild(b)}),p.appendChild(m)}C.sortDom=I;function _(P,T){var p=P.parentNode,w=Array.from(p.childNodes).filter(function(A){return A.nodeType===1&&A.nodeName.toLowerCase()!=="defs"}),m=w[T],b=w.indexOf(P);if(m){if(b>T)p.insertBefore(P,m);else if(b<T){var y=w[T+1];y?p.insertBefore(P,y):p.appendChild(P)}}else p.appendChild(P)}C.moveTo=_},98820:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.refreshElement=C.drawChildren=void 0;var S=d(50063),O=d(87596);function D(I,_){_.forEach(function(P){P.draw(I)})}C.drawChildren=D;function k(I,_){var P=I.get("canvas");if(P&&P.get("autoDraw")){var T=P.get("context"),p=I.getParent(),w=p?p.getChildren():[P],m=I.get("el");if(_==="remove"){var b=I.get("isClipShape");if(b){var y=m&&m.parentNode,A=y&&y.parentNode;y&&A&&A.removeChild(y)}else m&&m.parentNode&&m.parentNode.removeChild(m)}else if(_==="show")m.setAttribute("visibility","visible");else if(_==="hide")m.setAttribute("visibility","hidden");else if(_==="zIndex")O.moveTo(m,w.indexOf(I));else if(_==="sort"){var B=I.get("children");B&&B.length&&O.sortDom(I,function(N,G){return B.indexOf(N)-B.indexOf(G)?1:0})}else _==="clear"?m&&(m.innerHTML=""):_==="matrix"?S.setTransform(I):_==="clip"?S.setClip(I,T):_==="attr"||_==="add"&&I.draw(T)}}C.refreshElement=k},48490:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.parsePath=C.parseRadius=void 0;var S=d(49242),O=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,D=/[^\s,]+/gi;function k(_){var P=0,T=0,p=0,w=0;return S.isArray(_)?_.length===1?P=T=p=w=_[0]:_.length===2?(P=p=_[0],T=w=_[1]):_.length===3?(P=_[0],T=w=_[1],p=_[2]):(P=_[0],T=_[1],p=_[2],w=_[3]):P=T=p=w=_,{r1:P,r2:T,r3:p,r4:w}}C.parseRadius=k;function I(_){if(_=_||[],S.isArray(_))return _;if(S.isString(_))return _=_.match(O),S.each(_,function(P,T){if(P=P.match(D),P[0].length>1){var p=P[0].charAt(0);P.splice(1,0,P[0].substr(1)),P[0]=p}S.each(P,function(w,m){isNaN(w)||(P[m]=+w)}),_[T]=P}),_}C.parsePath=I},50063:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.setClip=C.setTransform=C.setShadow=void 0;var S=d(87596);function O(I,_){var P=I.cfg.el,T=I.attr(),p={dx:T.shadowOffsetX,dy:T.shadowOffsetY,blur:T.shadowBlur,color:T.shadowColor};if(!p.dx&&!p.dy&&!p.blur&&!p.color)P.removeAttribute("filter");else{var w=_.find("filter",p);w||(w=_.addShadow(p)),P.setAttribute("filter","url(#"+w+")")}}C.setShadow=O;function D(I){var _=I.attr().matrix;if(_){for(var P=I.cfg.el,T=[],p=0;p<9;p+=3)T.push(_[p]+","+_[p+1]);T=T.join(","),T.indexOf("NaN")===-1?P.setAttribute("transform","matrix("+T+")"):console.warn("invalid matrix:",_)}}C.setTransform=D;function k(I,_){var P=I.getClip(),T=I.get("el");if(!P)T.removeAttribute("clip-path");else if(P&&!T.hasAttribute("clip-path")){S.createDom(P),P.createPath(_);var p=_.addClip(P);T.setAttribute("clip-path","url(#"+p+")")}}C.setClip=k},47862:function(mt,C,d){"use strict";d.r(C),d.d(C,{__extends:function(){return O},__assign:function(){return D},__rest:function(){return k},__decorate:function(){return I},__param:function(){return _},__metadata:function(){return P},__awaiter:function(){return T},__generator:function(){return p},__createBinding:function(){return w},__exportStar:function(){return m},__values:function(){return b},__read:function(){return y},__spread:function(){return A},__spreadArrays:function(){return B},__spreadArray:function(){return N},__await:function(){return G},__asyncGenerator:function(){return j},__asyncDelegator:function(){return J},__asyncValues:function(){return H},__makeTemplateObject:function(){return K},__importStar:function(){return nt},__importDefault:function(){return wt},__classPrivateFieldGet:function(){return gt},__classPrivateFieldSet:function(){return At}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var S=function(X,Z){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(tt,Q){tt.__proto__=Q}||function(tt,Q){for(var vt in Q)Object.prototype.hasOwnProperty.call(Q,vt)&&(tt[vt]=Q[vt])},S(X,Z)};function O(X,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Class extends value "+String(Z)+" is not a constructor or null");S(X,Z);function tt(){this.constructor=X}X.prototype=Z===null?Object.create(Z):(tt.prototype=Z.prototype,new tt)}var D=function(){return D=Object.assign||function(Z){for(var tt,Q=1,vt=arguments.length;Q<vt;Q++){tt=arguments[Q];for(var lt in tt)Object.prototype.hasOwnProperty.call(tt,lt)&&(Z[lt]=tt[lt])}return Z},D.apply(this,arguments)};function k(X,Z){var tt={};for(var Q in X)Object.prototype.hasOwnProperty.call(X,Q)&&Z.indexOf(Q)<0&&(tt[Q]=X[Q]);if(X!=null&&typeof Object.getOwnPropertySymbols=="function")for(var vt=0,Q=Object.getOwnPropertySymbols(X);vt<Q.length;vt++)Z.indexOf(Q[vt])<0&&Object.prototype.propertyIsEnumerable.call(X,Q[vt])&&(tt[Q[vt]]=X[Q[vt]]);return tt}function I(X,Z,tt,Q){var vt=arguments.length,lt=vt<3?Z:Q===null?Q=Object.getOwnPropertyDescriptor(Z,tt):Q,rt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")lt=Reflect.decorate(X,Z,tt,Q);else for(var U=X.length-1;U>=0;U--)(rt=X[U])&&(lt=(vt<3?rt(lt):vt>3?rt(Z,tt,lt):rt(Z,tt))||lt);return vt>3&&lt&&Object.defineProperty(Z,tt,lt),lt}function _(X,Z){return function(tt,Q){Z(tt,Q,X)}}function P(X,Z){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(X,Z)}function T(X,Z,tt,Q){function vt(lt){return lt instanceof tt?lt:new tt(function(rt){rt(lt)})}return new(tt||(tt=Promise))(function(lt,rt){function U(xt){try{f(Q.next(xt))}catch(Ct){rt(Ct)}}function $(xt){try{f(Q.throw(xt))}catch(Ct){rt(Ct)}}function f(xt){xt.done?lt(xt.value):vt(xt.value).then(U,$)}f((Q=Q.apply(X,Z||[])).next())})}function p(X,Z){var tt={label:0,sent:function(){if(lt[0]&1)throw lt[1];return lt[1]},trys:[],ops:[]},Q,vt,lt,rt;return rt={next:U(0),throw:U(1),return:U(2)},typeof Symbol=="function"&&(rt[Symbol.iterator]=function(){return this}),rt;function U(f){return function(xt){return $([f,xt])}}function $(f){if(Q)throw new TypeError("Generator is already executing.");for(;tt;)try{if(Q=1,vt&&(lt=f[0]&2?vt.return:f[0]?vt.throw||((lt=vt.return)&&lt.call(vt),0):vt.next)&&!(lt=lt.call(vt,f[1])).done)return lt;switch(vt=0,lt&&(f=[f[0]&2,lt.value]),f[0]){case 0:case 1:lt=f;break;case 4:return tt.label++,{value:f[1],done:!1};case 5:tt.label++,vt=f[1],f=[0];continue;case 7:f=tt.ops.pop(),tt.trys.pop();continue;default:if(lt=tt.trys,!(lt=lt.length>0&&lt[lt.length-1])&&(f[0]===6||f[0]===2)){tt=0;continue}if(f[0]===3&&(!lt||f[1]>lt[0]&&f[1]<lt[3])){tt.label=f[1];break}if(f[0]===6&&tt.label<lt[1]){tt.label=lt[1],lt=f;break}if(lt&&tt.label<lt[2]){tt.label=lt[2],tt.ops.push(f);break}lt[2]&&tt.ops.pop(),tt.trys.pop();continue}f=Z.call(X,tt)}catch(xt){f=[6,xt],vt=0}finally{Q=lt=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var w=Object.create?function(X,Z,tt,Q){Q===void 0&&(Q=tt),Object.defineProperty(X,Q,{enumerable:!0,get:function(){return Z[tt]}})}:function(X,Z,tt,Q){Q===void 0&&(Q=tt),X[Q]=Z[tt]};function m(X,Z){for(var tt in X)tt!=="default"&&!Object.prototype.hasOwnProperty.call(Z,tt)&&w(Z,X,tt)}function b(X){var Z=typeof Symbol=="function"&&Symbol.iterator,tt=Z&&X[Z],Q=0;if(tt)return tt.call(X);if(X&&typeof X.length=="number")return{next:function(){return X&&Q>=X.length&&(X=void 0),{value:X&&X[Q++],done:!X}}};throw new TypeError(Z?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(X,Z){var tt=typeof Symbol=="function"&&X[Symbol.iterator];if(!tt)return X;var Q=tt.call(X),vt,lt=[],rt;try{for(;(Z===void 0||Z-- >0)&&!(vt=Q.next()).done;)lt.push(vt.value)}catch(U){rt={error:U}}finally{try{vt&&!vt.done&&(tt=Q.return)&&tt.call(Q)}finally{if(rt)throw rt.error}}return lt}function A(){for(var X=[],Z=0;Z<arguments.length;Z++)X=X.concat(y(arguments[Z]));return X}function B(){for(var X=0,Z=0,tt=arguments.length;Z<tt;Z++)X+=arguments[Z].length;for(var Q=Array(X),vt=0,Z=0;Z<tt;Z++)for(var lt=arguments[Z],rt=0,U=lt.length;rt<U;rt++,vt++)Q[vt]=lt[rt];return Q}function N(X,Z,tt){if(tt||arguments.length===2)for(var Q=0,vt=Z.length,lt;Q<vt;Q++)(lt||!(Q in Z))&&(lt||(lt=Array.prototype.slice.call(Z,0,Q)),lt[Q]=Z[Q]);return X.concat(lt||Array.prototype.slice.call(Z))}function G(X){return this instanceof G?(this.v=X,this):new G(X)}function j(X,Z,tt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Q=tt.apply(X,Z||[]),vt,lt=[];return vt={},rt("next"),rt("throw"),rt("return"),vt[Symbol.asyncIterator]=function(){return this},vt;function rt(Bt){Q[Bt]&&(vt[Bt]=function(qt){return new Promise(function(Gt,Jt){lt.push([Bt,qt,Gt,Jt])>1||U(Bt,qt)})})}function U(Bt,qt){try{$(Q[Bt](qt))}catch(Gt){Ct(lt[0][3],Gt)}}function $(Bt){Bt.value instanceof G?Promise.resolve(Bt.value.v).then(f,xt):Ct(lt[0][2],Bt)}function f(Bt){U("next",Bt)}function xt(Bt){U("throw",Bt)}function Ct(Bt,qt){Bt(qt),lt.shift(),lt.length&&U(lt[0][0],lt[0][1])}}function J(X){var Z,tt;return Z={},Q("next"),Q("throw",function(vt){throw vt}),Q("return"),Z[Symbol.iterator]=function(){return this},Z;function Q(vt,lt){Z[vt]=X[vt]?function(rt){return(tt=!tt)?{value:G(X[vt](rt)),done:vt==="return"}:lt?lt(rt):rt}:lt}}function H(X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Z=X[Symbol.asyncIterator],tt;return Z?Z.call(X):(X=typeof b=="function"?b(X):X[Symbol.iterator](),tt={},Q("next"),Q("throw"),Q("return"),tt[Symbol.asyncIterator]=function(){return this},tt);function Q(lt){tt[lt]=X[lt]&&function(rt){return new Promise(function(U,$){rt=X[lt](rt),vt(U,$,rt.done,rt.value)})}}function vt(lt,rt,U,$){Promise.resolve($).then(function(f){lt({value:f,done:U})},rt)}}function K(X,Z){return Object.defineProperty?Object.defineProperty(X,"raw",{value:Z}):X.raw=Z,X}var st=Object.create?function(X,Z){Object.defineProperty(X,"default",{enumerable:!0,value:Z})}:function(X,Z){X.default=Z};function nt(X){if(X&&X.__esModule)return X;var Z={};if(X!=null)for(var tt in X)tt!=="default"&&Object.prototype.hasOwnProperty.call(X,tt)&&w(Z,X,tt);return st(Z,X),Z}function wt(X){return X&&X.__esModule?X:{default:X}}function gt(X,Z,tt,Q){if(tt==="a"&&!Q)throw new TypeError("Private accessor was defined without a getter");if(typeof Z=="function"?X!==Z||!Q:!Z.has(X))throw new TypeError("Cannot read private member from an object whose class did not declare it");return tt==="m"?Q:tt==="a"?Q.call(X):Q?Q.value:Z.get(X)}function At(X,Z,tt,Q,vt){if(Q==="m")throw new TypeError("Private method is not writable");if(Q==="a"&&!vt)throw new TypeError("Private accessor was defined without a setter");if(typeof Z=="function"?X!==Z||!vt:!Z.has(X))throw new TypeError("Cannot write private member to an object whose class did not declare it");return Q==="a"?vt.call(X,tt):vt?vt.value=tt:Z.set(X,tt),tt}},83077:function(mt,C,d){"use strict";var S;S={value:!0};var O=d(16854);C.wO=O.default;var D=d(13841);S=D.default;var k=d(38269);S=k.default;var I=d(34302);C.vs=I.default},16854:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(31502);S.translate=function(O,D,k){var I=new Array(9);return S.fromTranslation(I,k),S.multiply(O,I,D)},S.rotate=function(O,D,k){var I=new Array(9);return S.fromRotation(I,k),S.multiply(O,I,D)},S.scale=function(O,D,k){var I=new Array(9);return S.fromScaling(I,k),S.multiply(O,I,D)},S.transform=function(O,D){for(var k=[].concat(O),I=0,_=D.length;I<_;I++){var P=D[I];switch(P[0]){case"t":S.translate(k,k,[P[1],P[2]]);break;case"s":S.scale(k,k,[P[1],P[2]]);break;case"r":S.rotate(k,k,P[1]);break;default:break}}return k},C.default=S},34302:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(49242),O=d(16854);C.default=function(D,k){var I=D?S.clone(D):[1,0,0,0,1,0,0,0,1];return S.each(k,function(_){switch(_[0]){case"t":O.default.translate(I,I,[_[1],_[2]]);break;case"s":O.default.scale(I,I,[_[1],_[2]]);break;case"r":O.default.rotate(I,I,_[1]);break;case"m":O.default.multiply(I,I,_[1]);break;default:return!1}}),I}},13841:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(76172),O=d(49242);S.angle=function(D,k){var I=S.dot(D,k)/(S.length(D)*S.length(k));return Math.acos(O.clamp(I,-1,1))},S.direction=function(D,k){return D[0]*k[1]-k[0]*D[1]},S.angleTo=function(D,k,I){var _=S.angle(D,k),P=S.direction(D,k)>=0;return I?P?Math.PI*2-_:_:P?_:Math.PI*2-_},S.vertical=function(D,k,I){return I?(D[0]=k[1],D[1]=-1*k[0]):(D[0]=-1*k[1],D[1]=k[0]),D},C.default=S},38269:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(88395);C.default=S},55223:function(mt,C,d){"use strict";d.r(C);var S=d(49242),O=/rgba?\(([\s.,0-9]+)\)/,D=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,k=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,I=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,_=function(G){return/^[r,R,L,l]{1}[\s]*\(/.test(G)},P=function(){var G=document.createElement("i");return G.title="Web Colour Picker",G.style.display="none",document.body.appendChild(G),G},T=function(G,j,J,H){return G[H]+(j[H]-G[H])*J};function p(G){return"#"+m(G[0])+m(G[1])+m(G[2])}var w=function(G){return[parseInt(G.substr(1,2),16),parseInt(G.substr(3,2),16),parseInt(G.substr(5,2),16)]},m=function(G){var j=Math.round(G).toString(16);return j.length===1?"0"+j:j},b=function(G,j){var J=isNaN(Number(j))||j<0?0:j>1?1:Number(j),H=G.length-1,K=Math.floor(H*J),st=H*J-K,nt=G[K],wt=K===H?nt:G[K+1];return p([T(nt,wt,st,0),T(nt,wt,st,1),T(nt,wt,st,2)])},y,A=function(G){if(G[0]==="#"&&G.length===7)return G;y||(y=P()),y.style.color=G;var j=document.defaultView.getComputedStyle(y,"").getPropertyValue("color"),J=O.exec(j),H=J[1].split(/\s*,\s*/).map(function(K){return Number(K)});return j=p(H),j},B=function(G){var j=(0,S.isString)(G)?G.split("-"):G,J=(0,S.map)(j,function(H){return w(H.indexOf("#")===-1?A(H):H)});return function(H){return b(J,H)}},N=function(G){if(_(G)){var j,J=void 0;if(G[0]==="l"){var H=D.exec(G),K=+H[1]+90;J=H[2],j="linear-gradient("+K+"deg, "}else if(G[0]==="r"){j="radial-gradient(";var H=k.exec(G);J=H[4]}var st=J.match(I);return(0,S.each)(st,function(nt,wt){var gt=nt.split(":");j+=gt[1]+" "+gt[0]*100+"%",wt!==st.length-1&&(j+=", ")}),j+=")",j}return G};C.default={rgb2arr:w,gradient:B,toRGB:(0,S.memoize)(A),toCSSGradient:N}},51441:function(mt,C,d){"use strict";d.r(C),d.d(C,{Annotation:function(){return S},Axis:function(){return _},Component:function(){return kt},Crosshair:function(){return P},Grid:function(){return T},GroupComponent:function(){return at},HtmlComponent:function(){return Ni},Legend:function(){return p},Scrollbar:function(){return ga},Slider:function(){return eo},Tooltip:function(){return m}});var S={};d.r(S),d.d(S,{Arc:function(){return hi},DataMarker:function(){return he},DataRegion:function(){return Se},Image:function(){return $t},Line:function(){return ln},Region:function(){return Ci},RegionFilter:function(){return Pe},Text:function(){return nn}});var O={};d.r(O),d.d(O,{ellipsisHead:function(){return rr},ellipsisMiddle:function(){return lr},ellipsisTail:function(){return ar},getDefault:function(){return hr}});var D={};d.r(D),d.d(D,{equidistance:function(){return Hr},getDefault:function(){return Ir},reserveBoth:function(){return jr},reserveFirst:function(){return Lr},reserveLast:function(){return Br}});var k={};d.r(k),d.d(k,{fixedAngle:function(){return ti},getDefault:function(){return Yn},unfixedAngle:function(){return jn}});var I={};d.r(I),d.d(I,{autoEllipsis:function(){return O},autoHide:function(){return D},autoRotate:function(){return k}});var _={};d.r(_),d.d(_,{Base:function(){return Ne},Circle:function(){return mi},Line:function(){return _i}});var P={};d.r(P),d.d(P,{Base:function(){return ei},Circle:function(){return ri},Html:function(){return vi},Line:function(){return ai}});var T={};d.r(T),d.d(T,{Base:function(){return $i},Circle:function(){return Dt},Line:function(){return ee}});var p={};d.r(p),d.d(p,{Base:function(){return ye},Category:function(){return We},Continuous:function(){return et}});var w={};d.r(w),d.d(w,{CONTAINER_CLASS:function(){return Lt},CROSSHAIR_X:function(){return Fe},CROSSHAIR_Y:function(){return ir},LIST_CLASS:function(){return le},LIST_ITEM_CLASS:function(){return ce},MARKER_CLASS:function(){return ue},NAME_CLASS:function(){return De},TITLE_CLASS:function(){return Ht},VALUE_CLASS:function(){return Oe}});var m={};d.r(m),d.d(m,{Html:function(){return tr}});var b=d(62117),y=d(49242),A=d(66192);function B(Xt,ct,x){var E=new A.default(ct,x);E.target=Xt,E.propagationPath.push(Xt),Xt.emitDelegation(ct,E);for(var L=Xt.getParent();L;)L.emitDelegation(ct,E),E.propagationPath.push(L),L=L.getParent()}var N=d(31506),G=d(31437),j=[1,0,0,0,1,0,0,0,1];function J(Xt,ct,x){if(x===void 0&&(x=j),!ct)return null;var E=N.transform(x,[["t",-Xt.x,-Xt.y],["r",ct],["t",Xt.x,Xt.y]]);return E}function H(Xt,ct){return!Xt.x&&!Xt.y?null:N.transform(ct||j,[["t",Xt.x,Xt.y]])}function K(Xt){var ct=[1,0,0],x=[0,0,0];return vec3.transformMat3(x,ct,Xt),Math.atan2(x[1],x[0])}function st(Xt,ct){var x=[0,0];return G.transformMat3(x,ct,Xt),x}function nt(Xt,ct){var x=st(Xt,[ct.minX,ct.minY]),E=st(Xt,[ct.maxX,ct.minY]),L=st(Xt,[ct.minX,ct.maxY]),R=st(Xt,[ct.maxX,ct.maxY]),W=Math.min(x[0],E[0],L[0],R[0]),q=Math.max(x[0],E[0],L[0],R[0]),dt=Math.min(x[1],E[1],L[1],R[1]),bt=Math.max(x[1],E[1],L[1],R[1]);return{x:W,y:dt,minX:W,minY:dt,maxX:q,maxY:bt,width:q-W,height:bt-dt}}function wt(Xt,ct,x,E){if(ct){var L=J({x,y:E},ct,Xt.getMatrix());Xt.setMatrix(L)}}function gt(Xt,ct,x){var E=H({x:ct,y:x});Xt.attr("matrix",E)}function At(Xt){var ct=0,x=0,E=0,L=0;return(0,y.isNumber)(Xt)?ct=x=E=L=Xt:(0,y.isArray)(Xt)&&(ct=Xt[0],E=(0,y.isNil)(Xt[1])?Xt[0]:Xt[1],L=(0,y.isNil)(Xt[2])?Xt[0]:Xt[2],x=(0,y.isNil)(Xt[3])?E:Xt[3]),[ct,E,L,x]}function X(Xt){for(var ct=Xt.childNodes,x=ct.length,E=x-1;E>=0;E--)Xt.removeChild(ct[E])}function Z(Xt,ct){return!!Xt.className.match(new RegExp("(\\s|^)"+ct+"(\\s|$)"))}function tt(Xt){var ct=Xt.start,x=Xt.end,E=Math.min(ct.x,x.x),L=Math.min(ct.y,x.y),R=Math.max(ct.x,x.x),W=Math.max(ct.y,x.y);return{x:E,y:L,minX:E,minY:L,maxX:R,maxY:W,width:R-E,height:W-L}}function Q(Xt){var ct=Xt.map(function(q){return q.x}),x=Xt.map(function(q){return q.y}),E=Math.min.apply(Math,ct),L=Math.min.apply(Math,x),R=Math.max.apply(Math,ct),W=Math.max.apply(Math,x);return{x:E,y:L,minX:E,minY:L,maxX:R,maxY:W,width:R-E,height:W-L}}function vt(Xt,ct,x,E){return{x:Xt,y:ct,width:x,height:E,minX:Xt,minY:ct,maxX:Xt+x,maxY:ct+E}}function lt(Xt,ct,x){return(1-x)*Xt+ct*x}function rt(Xt,ct,x){return{x:Xt.x+Math.cos(x)*ct,y:Xt.y+Math.sin(x)*ct}}function U(Xt,ct){var x=ct.x-Xt.x,E=ct.y-Xt.y;return Math.sqrt(x*x+E*E)}var $=function(Xt){return new Promise(function(ct){setTimeout(ct,Xt)})},f=function(Xt,ct){return[Xt,ct].includes(Infinity)?Math.abs(Xt)===Math.abs(ct):Math.abs(Xt-ct)<Math.pow(Number.EPSILON,.5)};function xt(Xt,ct){var x=Math.max(Xt.minX,ct.minX),E=Math.max(Xt.minY,ct.minY),L=Math.min(Xt.maxX,ct.maxX),R=Math.min(Xt.maxY,ct.maxY);return vt(x,E,L-x,R-E)}function Ct(Xt,ct){var x=Math.min(Xt.minX,ct.minX),E=Math.min(Xt.minY,ct.minY),L=Math.max(Xt.maxX,ct.maxX),R=Math.max(Xt.maxY,ct.maxY);return vt(x,E,L-x,R-E)}function Bt(Xt){var ct=Xt.getClip(),x=ct&&ct.getBBox(),E;if(!Xt.isGroup())E=Xt.getBBox();else{var L=Infinity,R=-Infinity,W=Infinity,q=-Infinity,dt=Xt.getChildren();dt.length>0?(0,y.each)(dt,function(bt){if(bt.get("visible")){if(bt.isGroup()&&bt.get("children").length===0)return!0;var Tt=Bt(bt),Ft=bt.applyToMatrix([Tt.minX,Tt.minY,1]),te=bt.applyToMatrix([Tt.minX,Tt.maxY,1]),ne=bt.applyToMatrix([Tt.maxX,Tt.minY,1]),xe=bt.applyToMatrix([Tt.maxX,Tt.maxY,1]),Ae=Math.min(Ft[0],te[0],ne[0],xe[0]),be=Math.max(Ft[0],te[0],ne[0],xe[0]),Qe=Math.min(Ft[1],te[1],ne[1],xe[1]),nr=Math.max(Ft[1],te[1],ne[1],xe[1]);Ae<L&&(L=Ae),be>R&&(R=be),Qe<W&&(W=Qe),nr>q&&(q=nr)}}):(L=0,R=0,W=0,q=0),E=vt(L,W,R-L,q-W)}return x?xt(E,x):E}function qt(Xt,ct){if(!(!Xt.getClip()&&!ct.getClip())){var x=ct.getClip();if(!x){Xt.setClip(null);return}var E={type:x.get("type"),attrs:x.attr()};Xt.setClip(E)}}function Gt(Xt){return Xt+"px"}function Jt(Xt,ct,x,E){var L=U(Xt,ct),R=E/L,W=0;return x==="start"?W=0-R:x==="end"&&(W=1+R),{x:lt(Xt.x,ct.x,W),y:lt(Xt.y,ct.y,W)}}var ie=d(65722),se={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},Kt=function(Xt){(0,b.__extends)(ct,Xt);function ct(x){var E=Xt.call(this,x)||this;return E.initCfg(),E}return ct.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},ct.prototype.clear=function(){},ct.prototype.update=function(x){var E=this,L=this.get("defaultCfg");(0,y.each)(x,function(R,W){var q=E.get(W),dt=R;q!==R&&((0,y.isObject)(R)&&L[W]&&(dt=(0,y.deepMix)({},L[W],R)),E.set(W,dt))}),this.updateInner(x),this.afterUpdate(x)},ct.prototype.updateInner=function(x){},ct.prototype.afterUpdate=function(x){(0,y.hasKey)(x,"visible")&&(x.visible?this.show():this.hide()),(0,y.hasKey)(x,"capture")&&this.setCapture(x.capture)},ct.prototype.getLayoutBBox=function(){return this.getBBox()},ct.prototype.getLocationType=function(){return this.get("locationType")},ct.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},ct.prototype.setOffset=function(x,E){this.update({offsetX:x,offsetY:E})},ct.prototype.setLocation=function(x){var E=(0,b.__assign)({},x);this.update(E)},ct.prototype.getLocation=function(){var x=this,E={},L=this.get("locationType"),R=se[L];return(0,y.each)(R,function(W){E[W]=x.get(W)}),E},ct.prototype.isList=function(){return!1},ct.prototype.isSlider=function(){return!1},ct.prototype.init=function(){},ct.prototype.initCfg=function(){var x=this,E=this.get("defaultCfg");(0,y.each)(E,function(L,R){var W=x.get(R);if((0,y.isObject)(W)){var q=(0,y.deepMix)({},L,W);x.set(R,q)}})},ct}(ie.Base),kt=Kt,Mt="update_status",pt=["visible","tip","delegateObject"],Pt=["container","group","shapesMap","isRegister","isUpdating","destroyed"],ut=function(Xt){(0,b.__extends)(ct,Xt);function ct(){return Xt!==null&&Xt.apply(this,arguments)||this}return ct.prototype.getDefaultCfg=function(){var x=Xt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},x),{container:null,shapesMap:{},group:null,capture:!0,isRegister:!1,isUpdating:!1,isInit:!0})},ct.prototype.remove=function(){this.clear();var x=this.get("group");x.remove()},ct.prototype.clear=function(){var x=this.get("group");x.clear(),this.set("shapesMap",{}),this.clearOffScreenCache(),this.set("isInit",!0)},ct.prototype.getChildComponentById=function(x){var E=this.getElementById(x),L=E&&E.get("component");return L},ct.prototype.getElementById=function(x){return this.get("shapesMap")[x]},ct.prototype.getElementByLocalId=function(x){var E=this.getElementId(x);return this.getElementById(E)},ct.prototype.getElementsByName=function(x){var E=[];return(0,y.each)(this.get("shapesMap"),function(L){L.get("name")===x&&E.push(L)}),E},ct.prototype.getContainer=function(){return this.get("container")},ct.prototype.updateInner=function(x){this.offScreenRender(),this.get("updateAutoRender")&&this.render()},ct.prototype.render=function(){var x=this.get("offScreenGroup");x||(x=this.offScreenRender());var E=this.get("group");this.updateElements(x,E),this.deleteElements(),this.applyOffset(),this.get("eventInitted")||(this.initEvent(),this.set("eventInitted",!0)),this.set("isInit",!1)},ct.prototype.show=function(){var x=this.get("group");x.show(),this.set("visible",!0)},ct.prototype.hide=function(){var x=this.get("group");x.hide(),this.set("visible",!1)},ct.prototype.setCapture=function(x){var E=this.get("group");E.set("capture",x),this.set("capture",x)},ct.prototype.destroy=function(){this.removeEvent(),this.remove(),Xt.prototype.destroy.call(this)},ct.prototype.getBBox=function(){return this.get("group").getCanvasBBox()},ct.prototype.getLayoutBBox=function(){var x=this.get("group"),E=this.getInnerLayoutBBox(),L=x.getTotalMatrix();return L&&(E=nt(L,E)),E},ct.prototype.on=function(x,E,L){var R=this.get("group");return R.on(x,E,L),this},ct.prototype.off=function(x,E){var L=this.get("group");return L&&L.off(x,E),this},ct.prototype.emit=function(x,E){var L=this.get("group");L.emit(x,E)},ct.prototype.init=function(){Xt.prototype.init.call(this),this.get("group")||this.initGroup(),this.offScreenRender()},ct.prototype.getInnerLayoutBBox=function(){return this.get("offScreenBBox")||this.get("group").getBBox()},ct.prototype.delegateEmit=function(x,E){var L=this.get("group");E.target=L,L.emit(x,E),B(L,x,E)},ct.prototype.createOffScreenGroup=function(){var x=this.get("group"),E=x.getGroupBase(),L=new E({delegateObject:this.getDelegateObject()});return L},ct.prototype.applyOffset=function(){var x=this.get("offsetX"),E=this.get("offsetY");this.moveElementTo(this.get("group"),{x,y:E})},ct.prototype.initGroup=function(){var x=this.get("container");this.set("group",x.addGroup({id:this.get("id"),name:this.get("name"),capture:this.get("capture"),visible:this.get("visible"),isComponent:!0,component:this,delegateObject:this.getDelegateObject()}))},ct.prototype.offScreenRender=function(){this.clearOffScreenCache();var x=this.createOffScreenGroup();return this.renderInner(x),this.set("offScreenGroup",x),this.set("offScreenBBox",Bt(x)),x},ct.prototype.addGroup=function(x,E){this.appendDelegateObject(x,E);var L=x.addGroup(E);return this.get("isRegister")&&this.registerElement(L),L},ct.prototype.addShape=function(x,E){this.appendDelegateObject(x,E);var L=x.addShape(E);return this.get("isRegister")&&this.registerElement(L),L},ct.prototype.addComponent=function(x,E){var L=E.id,R=E.component,W=(0,b.__rest)(E,["id","component"]),q=new R((0,b.__assign)((0,b.__assign)({},W),{id:L,container:x,updateAutoRender:this.get("updateAutoRender")}));return q.init(),q.render(),this.get("isRegister")&&this.registerElement(q.get("group")),q},ct.prototype.initEvent=function(){},ct.prototype.removeEvent=function(){var x=this.get("group");x.off()},ct.prototype.getElementId=function(x){var E=this.get("id"),L=this.get("name");return E+"-"+L+"-"+x},ct.prototype.registerElement=function(x){var E=x.get("id");this.get("shapesMap")[E]=x},ct.prototype.unregisterElement=function(x){var E=x.get("id");delete this.get("shapesMap")[E]},ct.prototype.moveElementTo=function(x,E){var L=H(E);x.attr("matrix",L)},ct.prototype.addAnimation=function(x,E,L){var R=E.attr("opacity");(0,y.isNil)(R)&&(R=1),E.attr("opacity",0),E.animate({opacity:R},L)},ct.prototype.removeAnimation=function(x,E,L){E.animate({opacity:0},L)},ct.prototype.updateAnimation=function(x,E,L,R){E.animate(L,R)},ct.prototype.updateElements=function(x,E){var L=this,R=this.get("animate"),W=this.get("animateOption"),q=x.getChildren().slice(0),dt;(0,y.each)(q,function(bt){var Tt=bt.get("id"),Ft=L.getElementById(Tt),te=bt.get("name");if(Ft)if(bt.get("isComponent")){var ne=bt.get("component"),xe=Ft.get("component"),Ae=(0,y.pick)(ne.cfg,(0,y.difference)((0,y.keys)(ne.cfg),Pt));xe.update(Ae),Ft.set(Mt,"update")}else{var be=L.getReplaceAttrs(Ft,bt);R&&W.update?L.updateAnimation(te,Ft,be,W.update):Ft.attr(be),bt.isGroup()&&L.updateElements(bt,Ft),(0,y.each)(pt,function(_t){Ft.set(_t,bt.get(_t))}),qt(Ft,bt),dt=Ft,Ft.set(Mt,"update")}else{E.add(bt);var Qe=E.getChildren();if(Qe.splice(Qe.length-1,1),dt){var nr=Qe.indexOf(dt);Qe.splice(nr+1,0,bt)}else Qe.unshift(bt);if(L.registerElement(bt),bt.set(Mt,"add"),bt.get("isComponent")){var ne=bt.get("component");ne.set("container",E)}else bt.isGroup()&&L.registerNewGroup(bt);if(dt=bt,R){var sr=L.get("isInit")?W.appear:W.enter;sr&&L.addAnimation(te,bt,sr)}}})},ct.prototype.clearUpdateStatus=function(x){var E=x.getChildren();(0,y.each)(E,function(L){L.set(Mt,null)})},ct.prototype.clearOffScreenCache=function(){var x=this.get("offScreenGroup");x&&x.destroy(),this.set("offScreenGroup",null),this.set("offScreenBBox",null)},ct.prototype.getDelegateObject=function(){var x,E=this.get("name"),L=(x={},x[E]=this,x.component=this,x);return L},ct.prototype.appendDelegateObject=function(x,E){var L=x.get("delegateObject");E.delegateObject||(E.delegateObject={}),(0,y.mix)(E.delegateObject,L)},ct.prototype.getReplaceAttrs=function(x,E){var L=x.attr(),R=E.attr();return(0,y.each)(L,function(W,q){R[q]===void 0&&(R[q]=void 0)}),R},ct.prototype.registerNewGroup=function(x){var E=this,L=x.getChildren();(0,y.each)(L,function(R){E.registerElement(R),R.set(Mt,"add"),R.isGroup()&&E.registerNewGroup(R)})},ct.prototype.deleteElements=function(){var x=this,E=this.get("shapesMap"),L=[];(0,y.each)(E,function(q,dt){!q.get(Mt)||q.destroyed?L.push([dt,q]):q.set(Mt,null)});var R=this.get("animate"),W=this.get("animateOption");(0,y.each)(L,function(q){var dt=q[0],bt=q[1];if(!bt.destroyed){var Tt=bt.get("name");if(R&&W.leave){var Ft=(0,y.mix)({callback:function(){x.removeElement(bt)}},W.leave);x.removeAnimation(Tt,bt,Ft)}else x.removeElement(bt)}delete E[dt]})},ct.prototype.removeElement=function(x){if(x.get("isGroup")){var E=x.get("component");E&&E.destroy()}x.remove()},ct}(kt),at=ut,St="\u2026";function Ot(Xt){for(var ct=0,x=0;x<Xt.length;x++)ct+=Ut(Xt,x);return ct}function Ut(Xt,ct){return Xt.charCodeAt(ct)>0&&Xt.charCodeAt(ct)<128?1:2}function oe(Xt,ct,x){x===void 0&&(x="tail");var E=Xt.length,L="";if(x==="tail"){for(var R=0,W=0;R<ct;){var q=Ut(Xt,W);if(R+q<=ct)L+=Xt[W],R+=Ut(Xt,W),W++;else break}L+=St}else if(x==="head"){for(var R=0,W=E-1;R<ct;){var q=Ut(Xt,W);if(R+q<=ct)L+=Xt[W],R+=Ut(Xt,W),W--;else break}L=St+L}else{for(var dt="",bt="",R=0,Tt=0,Ft=E-1;R<ct;){var te=Ut(Xt,Tt),ne=!1;te+R<=ct&&(dt+=Xt[Tt],Tt++,R+=te,ne=!0);var xe=Ut(Xt,Ft);if(xe+R<=ct&&(bt=Xt[Ft]+bt,R+=xe,Ft--,ne=!0),!ne)break}L=dt+St+bt}return L}var we="\u2026",Ie=2;function Be(Xt){var ct=0;return(0,y.each)(Xt,function(x){var E=x.getBBox(),L=E.width;ct<L&&(ct=L)}),ct}function ur(Xt,ct){var x=ct.getCanvasBBox();return Xt?x.width:x.height}function vr(Xt,ct){return Xt.getBBox().width<ct}function fr(Xt,ct,x,E){E===void 0&&(E="tail");var L=ct.attr("text"),R=ur(Xt,ct),W=Ot(L),q=!1;if(x<R){var dt=Math.floor(x/R*W)-Ie,bt=void 0;dt>=0?bt=oe(L,dt,E):bt=we,bt&&(ct.attr("text",bt),q=!0)}return q?ct.set("tip",L):ct.set("tip",null),q}function Ar(Xt,ct){var x=ct.x,E=ct.y,L=ct.content,R=ct.style,W=ct.id,q=ct.name,dt=ct.rotate,bt=ct.maxLength,Tt=ct.autoEllipsis,Ft=ct.isVertical,te=ct.ellipsisPosition,ne=ct.background,xe=Xt.addGroup({id:W+"-group",name:q+"-group",attrs:{x,y:E}}),Ae=xe.addShape({type:"text",id:W,name:q,attrs:(0,b.__assign)({x:0,y:0,text:L},R)}),be=At((0,y.get)(ne,"padding",0));if(bt&&Tt){var Qe=bt-(be[1]+be[3]);fr(!Ft,Ae,Qe,te)}if(ne){var nr=(0,y.get)(ne,"style",{}),sr=Ae.getCanvasBBox(),_t=sr.minX,Nt=sr.minY,Wt=sr.width,ve=sr.height,Te=xe.addShape("rect",{id:W+"-bg",name:W+"-bg",attrs:(0,b.__assign)({x:_t-be[3],y:Nt-be[0],width:Wt+be[1]+be[3],height:ve+be[0]+be[2]},nr)});Te.toBack()}gt(xe,x,E),wt(xe,dt,x,E)}var or={fontFamily:`
  "-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",
  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",
  SimSun, "sans-serif"`,textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4},Gr=function(Xt){(0,b.__extends)(ct,Xt);function ct(){return Xt!==null&&Xt.apply(this,arguments)||this}return ct.prototype.getDefaultCfg=function(){var x=Xt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},x),{name:"annotation",type:"line",locationType:"region",start:null,end:null,style:{},text:null,defaultCfg:{style:{fill:or.textColor,fontSize:12,textAlign:"center",textBaseline:"bottom",fontFamily:or.fontFamily},text:{position:"center",autoRotate:!0,content:null,offsetX:0,offsetY:0,style:{stroke:or.lineColor,lineWidth:1}}}})},ct.prototype.renderInner=function(x){this.renderLine(x),this.get("text")&&this.renderLabel(x)},ct.prototype.renderLine=function(x){var E=this.get("start"),L=this.get("end"),R=this.get("style");this.addShape(x,{type:"line",id:this.getElementId("line"),name:"annotation-line",attrs:(0,b.__assign)({x1:E.x,y1:E.y,x2:L.x,y2:L.y},R)})},ct.prototype.getLabelPoint=function(x,E,L){var R;return L==="start"?R=0:L==="center"?R=.5:(0,y.isString)(L)&&L.indexOf("%")!==-1?R=parseInt(L,10)/100:(0,y.isNumber)(L)?R=L:R=1,(R>1||R<0)&&(R=1),{x:lt(x.x,E.x,R),y:lt(x.y,E.y,R)}},ct.prototype.renderLabel=function(x){var E=this.get("text"),L=this.get("start"),R=this.get("end"),W=E.position,q=E.content,dt=E.style,bt=E.offsetX,Tt=E.offsetY,Ft=E.autoRotate,te=E.maxLength,ne=E.autoEllipsis,xe=E.ellipsisPosition,Ae=E.background,be=E.isVertical,Qe=be===void 0?!1:be,nr=this.getLabelPoint(L,R,W),sr=nr.x+bt,_t=nr.y+Tt,Nt={id:this.getElementId("line-text"),name:"annotation-line-text",x:sr,y:_t,content:q,style:dt,maxLength:te,autoEllipsis:ne,ellipsisPosition:xe,background:Ae,isVertical:Qe};if(Ft){var Wt=[R.x-L.x,R.y-L.y];Nt.rotate=Math.atan2(Wt[1],Wt[0])}Ar(x,Nt)},ct}(at),ln=Gr,Nr=function(Xt){(0,b.__extends)(ct,Xt);function ct(){return Xt!==null&&Xt.apply(this,arguments)||this}return ct.prototype.getDefaultCfg=function(){var x=Xt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},x),{name:"annotation",type:"text",locationType:"point",x:0,y:0,content:"",rotate:null,style:{},background:null,maxLength:null,autoEllipsis:!0,isVertical:!1,ellipsisPosition:"tail",defaultCfg:{style:{fill:or.textColor,fontSize:12,textAlign:"center",textBaseline:"middle",fontFamily:or.fontFamily}}})},ct.prototype.setLocation=function(x){this.set("x",x.x),this.set("y",x.y),this.resetLocation()},ct.prototype.renderInner=function(x){var E=this.getLocation(),L=E.x,R=E.y,W=this.get("content"),q=this.get("style"),dt=this.getElementId("text"),bt=this.get("name")+"-text",Tt=this.get("maxLength"),Ft=this.get("autoEllipsis"),te=this.get("isVertical"),ne=this.get("ellipsisPosition"),xe=this.get("background"),Ae=this.get("rotate"),be={id:dt,name:bt,x:L,y:R,content:W,style:q,maxLength:Tt,autoEllipsis:Ft,isVertical:te,ellipsisPosition:ne,background:xe,rotate:Ae};Ar(x,be)},ct.prototype.resetLocation=function(){var x=this.getElementByLocalId("text-group");if(x){var E=this.getLocation(),L=E.x,R=E.y,W=this.get("rotate");gt(x,L,R),wt(x,W,L,R)}},ct}(at),nn=Nr,fi=function(Xt){(0,b.__extends)(ct,Xt);function ct(){return Xt!==null&&Xt.apply(this,arguments)||this}return ct.prototype.getDefaultCfg=function(){var x=Xt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},x),{name:"annotation",type:"arc",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2,style:{stroke:"#999",lineWidth:1}})},ct.prototype.renderInner=function(x){this.renderArc(x)},ct.prototype.getArcPath=function(){var x=this.getLocation(),E=x.center,L=x.radius,R=x.startAngle,W=x.endAngle,q=rt(E,L,R),dt=rt(E,L,W),bt=W-R>Math.PI?1:0,Tt=[["M",q.x,q.y]];if(W-R==Math.PI*2){var Ft=rt(E,L,R+Math.PI);Tt.push(["A",L,L,0,bt,1,Ft.x,Ft.y]),Tt.push(["A",L,L,0,bt,1,dt.x,dt.y])}else Tt.push(["A",L,L,0,bt,1,dt.x,dt.y]);return Tt},ct.prototype.renderArc=function(x){var E=this.getArcPath(),L=this.get("style");this.addShape(x,{type:"path",id:this.getElementId("arc"),name:"annotation-arc",attrs:(0,b.__assign)({path:E},L)})},ct}(at),hi=fi,Si=function(Xt){(0,b.__extends)(ct,Xt);function ct(){return Xt!==null&&Xt.apply(this,arguments)||this}return ct.prototype.getDefaultCfg=function(){var x=Xt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},x),{name:"annotation",type:"region",locationType:"region",start:null,end:null,style:{},defaultCfg:{style:{lineWidth:0,fill:or.regionColor,opacity:.4}}})},ct.prototype.renderInner=function(x){this.renderRegion(x)},ct.prototype.renderRegion=function(x){var E=this.get("start"),L=this.get("end"),R=this.get("style"),W=tt({start:E,end:L});this.addShape(x,{type:"rect",id:this.getElementId("region"),name:"annotation-region",attrs:(0,b.__assign)({x:W.x,y:W.y,width:W.width,height:W.height},R)})},ct}(at),Ci=Si,Vt=function(Xt){(0,b.__extends)(ct,Xt);function ct(){return Xt!==null&&Xt.apply(this,arguments)||this}return ct.prototype.getDefaultCfg=function(){var x=Xt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},x),{name:"annotation",type:"image",locationType:"region",start:null,end:null,src:null,style:{}})},ct.prototype.renderInner=function(x){this.renderImage(x)},ct.prototype.getImageAttrs=function(){var x=this.get("start"),E=this.get("end"),L=this.get("style"),R=tt({start:x,end:E}),W=this.get("src");return(0,b.__assign)({x:R.x,y:R.y,img:W,width:R.width,height:R.height},L)},ct.prototype.renderImage=function(x){this.addShape(x,{type:"image",id:this.getElementId("image"),name:"annotation-image",attrs:this.getImageAttrs()})},ct}(at),$t=Vt,ae=function(Xt){(0,b.__extends)(ct,Xt);function ct(){return Xt!==null&&Xt.apply(this,arguments)||this}return ct.prototype.getDefaultCfg=function(){var x=Xt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},x),{name:"annotation",type:"dataMarker",locationType:"point",x:0,y:0,point:{},line:{},text:{},direction:"upward",autoAdjust:!0,coordinateBBox:null,defaultCfg:{point:{display:!0,style:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2}},line:{display:!0,length:20,style:{stroke:or.lineColor,lineWidth:1}},text:{content:"",display:!0,style:{fill:or.textColor,opacity:.65,fontSize:12,textAlign:"start",fontFamily:or.fontFamily}}}})},ct.prototype.renderInner=function(x){(0,y.get)(this.get("line"),"display")&&this.renderLine(x),(0,y.get)(this.get("text"),"display")&&this.renderText(x),(0,y.get)(this.get("point"),"display")&&this.renderPoint(x),this.get("autoAdjust")&&this.autoAdjust(x)},ct.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x")+this.get("offsetX"),y:this.get("y")+this.get("offsetY")})},ct.prototype.renderPoint=function(x){var E=this.getShapeAttrs().point;this.addShape(x,{type:"circle",id:this.getElementId("point"),name:"annotation-point",attrs:E})},ct.prototype.renderLine=function(x){var E=this.getShapeAttrs().line;this.addShape(x,{type:"path",id:this.getElementId("line"),name:"annotation-line",attrs:E})},ct.prototype.renderText=function(x){var E=this.getShapeAttrs().text,L=E.x,R=E.y,W=E.text,q=(0,b.__rest)(E,["x","y","text"]),dt=this.get("text"),bt=dt.background,Tt=dt.maxLength,Ft=dt.autoEllipsis,te=dt.isVertival,ne=dt.ellipsisPosition,xe={x:L,y:R,id:this.getElementId("text"),name:"annotation-text",content:W,style:q,background:bt,maxLength:Tt,autoEllipsis:Ft,isVertival:te,ellipsisPosition:ne};Ar(x,xe)},ct.prototype.autoAdjust=function(x){var E=this.get("direction"),L=this.get("x"),R=this.get("y"),W=(0,y.get)(this.get("line"),"length",0),q=this.get("coordinateBBox"),dt=x.getBBox(),bt=dt.minX,Tt=dt.maxX,Ft=dt.minY,te=dt.maxY,ne=x.findById(this.getElementId("text-group")),xe=x.findById(this.getElementId("text")),Ae=x.findById(this.getElementId("line"));if(!!q){if(ne){if(L+bt<=q.minX){var be=q.minX-(L+bt);gt(ne,ne.attr("x")+be,ne.attr("y"))}if(L+Tt>=q.maxX){var be=L+Tt-q.maxX;gt(ne,ne.attr("x")-be,ne.attr("y"))}}if(E==="upward"&&R+Ft<=q.minY||E!=="upward"&&R+te>=q.maxY){var Qe=void 0,nr=void 0;E==="upward"&&R+Ft<=q.minY?(Qe="top",nr=1):(Qe="bottom",nr=-1),xe.attr("textBaseline",Qe),Ae&&Ae.attr("path",[["M",0,0],["L",0,W*nr]]),gt(ne,ne.attr("x"),(W+2)*nr)}}},ct.prototype.getShapeAttrs=function(){var x=(0,y.get)(this.get("line"),"display"),E=(0,y.get)(this.get("point"),"style",{}),L=(0,y.get)(this.get("line"),"style",{}),R=(0,y.get)(this.get("text"),"style",{}),W=this.get("direction"),q=x?(0,y.get)(this.get("line"),"length",0):0,dt=W==="upward"?-1:1;return{point:(0,b.__assign)({x:0,y:0},E),line:(0,b.__assign)({path:[["M",0,0],["L",0,q*dt]]},L),text:(0,b.__assign)({x:0,y:(q+2)*dt,text:(0,y.get)(this.get("text"),"content",""),textBaseline:W==="upward"?"bottom":"top"},R)}},ct}(at),he=ae,me=function(Xt){(0,b.__extends)(ct,Xt);function ct(){return Xt!==null&&Xt.apply(this,arguments)||this}return ct.prototype.getDefaultCfg=function(){var x=Xt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},x),{name:"annotation",type:"dataRegion",locationType:"points",points:[],lineLength:0,region:{},text:{},defaultCfg:{region:{style:{lineWidth:0,fill:or.regionColor,opacity:.4}},text:{content:"",style:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:or.textColor,fontFamily:or.fontFamily}}}})},ct.prototype.renderInner=function(x){var E=(0,y.get)(this.get("region"),"style",{}),L=(0,y.get)(this.get("text"),"style",{}),R=this.get("lineLength")||0,W=this.get("points");if(!!W.length){var q=Q(W),dt=[];dt.push(["M",W[0].x,q.minY-R]),W.forEach(function(Tt){dt.push(["L",Tt.x,Tt.y])}),dt.push(["L",W[W.length-1].x,W[W.length-1].y-R]),this.addShape(x,{type:"path",id:this.getElementId("region"),name:"annotation-region",attrs:(0,b.__assign)({path:dt},E)});var bt=(0,b.__assign)({id:this.getElementId("text"),name:"annotation-text",x:(q.minX+q.maxX)/2,y:q.minY-R},this.get("text"));Ar(x,bt)}},ct}(at),Se=me,Ce=function(Xt){(0,b.__extends)(ct,Xt);function ct(){return Xt!==null&&Xt.apply(this,arguments)||this}return ct.prototype.getDefaultCfg=function(){var x=Xt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},x),{name:"annotation",type:"regionFilter",locationType:"region",start:null,end:null,color:null,shape:[]})},ct.prototype.renderInner=function(x){var E=this,L=this.get("start"),R=this.get("end"),W=this.addGroup(x,{id:this.getElementId("region-filter"),capture:!1});(0,y.each)(this.get("shapes"),function(dt,bt){var Tt=dt.get("type"),Ft=(0,y.clone)(dt.attr());E.adjustShapeAttrs(Ft),E.addShape(W,{id:E.getElementId("shape-"+Tt+"-"+bt),capture:!1,type:Tt,attrs:Ft})});var q=tt({start:L,end:R});W.setClip({type:"rect",attrs:{x:q.minX,y:q.minY,width:q.width,height:q.height}})},ct.prototype.adjustShapeAttrs=function(x){var E=this.get("color");x.fill&&(x.fill=x.fillStyle=E),x.stroke=x.strokeStyle=E},ct}(at),Pe=Ce;function pe(Xt,ct,x){var E=ct+"Style",L=null;return(0,y.each)(x,function(R,W){Xt[W]&&R[E]&&(L||(L={}),(0,y.mix)(L,R[E]))}),L}var Ve=function(Xt){(0,b.__extends)(ct,Xt);function ct(){return Xt!==null&&Xt.apply(this,arguments)||this}return ct.prototype.getDefaultCfg=function(){var x=Xt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},x),{name:"axis",ticks:[],line:{},tickLine:{},subTickLine:null,title:null,label:{},verticalFactor:1,verticalLimitLength:null,overlapOrder:["autoRotate","autoEllipsis","autoHide"],tickStates:{},defaultCfg:{line:{style:{lineWidth:1,stroke:or.lineColor}},tickLine:{style:{lineWidth:1,stroke:or.lineColor},alignTick:!0,length:5,displayWithLabel:!0},subTickLine:{style:{lineWidth:1,stroke:or.lineColor},count:4,length:2},label:{autoRotate:!0,autoHide:!1,autoEllipsis:!1,style:{fontSize:12,fill:or.textColor,textBaseline:"middle",fontFamily:or.fontFamily,fontWeight:"normal"},offset:10},title:{autoRotate:!0,spacing:5,position:"center",style:{fontSize:12,fill:or.textColor,textBaseline:"middle",fontFamily:or.fontFamily,textAlign:"center"}},tickStates:{active:{labelStyle:{fontWeight:500},tickLineStyle:{lineWidth:2}},inactive:{labelStyle:{fill:or.uncheckedColor}}}}})},ct.prototype.renderInner=function(x){this.get("line")&&this.drawLine(x),this.drawTicks(x),this.get("title")&&this.drawTitle(x)},ct.prototype.isList=function(){return!0},ct.prototype.getItems=function(){return this.get("ticks")},ct.prototype.setItems=function(x){this.update({ticks:x})},ct.prototype.updateItem=function(x,E){(0,y.mix)(x,E),this.clear(),this.render()},ct.prototype.clearItems=function(){var x=this.getElementByLocalId("label-group");x&&x.clear()},ct.prototype.setItemState=function(x,E,L){x[E]=L,this.updateTickStates(x)},ct.prototype.hasState=function(x,E){return!!x[E]},ct.prototype.getItemStates=function(x){var E=this.get("tickStates"),L=[];return(0,y.each)(E,function(R,W){x[W]&&L.push(W)}),L},ct.prototype.clearItemsState=function(x){var E=this,L=this.getItemsByState(x);(0,y.each)(L,function(R){E.setItemState(R,x,!1)})},ct.prototype.getItemsByState=function(x){var E=this,L=this.getItems();return(0,y.filter)(L,function(R){return E.hasState(R,x)})},ct.prototype.getSidePoint=function(x,E){var L=this,R=L.getSideVector(E,x);return{x:x.x+R[0],y:x.y+R[1]}},ct.prototype.getTextAnchor=function(x){var E;return(0,y.isNumberEqual)(x[0],0)?E="center":x[0]>0?E="start":x[0]<0&&(E="end"),E},ct.prototype.processOverlap=function(x){},ct.prototype.drawLine=function(x){var E=this.getLinePath(),L=this.get("line");this.addShape(x,{type:"path",id:this.getElementId("line"),name:"axis-line",attrs:(0,y.mix)({path:E},L.style)})},ct.prototype.getTickLineItems=function(x){var E=this,L=[],R=this.get("tickLine"),W=R.alignTick,q=R.length,dt=1,bt=x.length;return bt>=2&&(dt=x[1].value-x[0].value),(0,y.each)(x,function(Tt){var Ft=Tt.point;W||(Ft=E.getTickPoint(Tt.value-dt/2));var te=E.getSidePoint(Ft,q);L.push({startPoint:Ft,tickValue:Tt.value,endPoint:te,tickId:Tt.id,id:"tickline-"+Tt.id})}),L},ct.prototype.getSubTickLineItems=function(x){var E=[],L=this.get("subTickLine"),R=L.count,W=x.length;if(W>=2)for(var q=0;q<W-1;q++)for(var dt=x[q],bt=x[q+1],Tt=0;Tt<R;Tt++){var Ft=(Tt+1)/(R+1),te=(1-Ft)*dt.tickValue+Ft*bt.tickValue,ne=this.getTickPoint(te),xe=this.getSidePoint(ne,L.length);E.push({startPoint:ne,endPoint:xe,tickValue:te,id:"sub-"+dt.id+"-"+Tt})}return E},ct.prototype.getTickLineAttrs=function(x,E){var L=this.get(E).style,R=x.startPoint,W=x.endPoint,q=(0,y.mix)({x1:R.x,y1:R.y,x2:W.x,y2:W.y},L);return q},ct.prototype.drawTick=function(x,E,L){this.addShape(E,{type:"line",id:this.getElementId(x.id),name:"axis-"+L,attrs:this.getTickLineAttrs(x,L)})},ct.prototype.drawTickLines=function(x){var E=this,L=this.get("ticks"),R=this.get("subTickLine"),W=this.getTickLineItems(L),q=this.addGroup(x,{name:"axis-tickline-group",id:this.getElementId("tickline-group")}),dt=this.get("tickLine");if((0,y.each)(W,function(Tt){if(dt.displayWithLabel){var Ft=E.getElementId("label-"+Tt.tickId);x.findById(Ft)&&E.drawTick(Tt,q,"tickLine")}else E.drawTick(Tt,q,"tickLine")}),R){var bt=this.getSubTickLineItems(W);(0,y.each)(bt,function(Tt){E.drawTick(Tt,q,"subTickLine")})}},ct.prototype.processTicks=function(){var x=this,E=this.get("ticks");(0,y.each)(E,function(L){L.point=x.getTickPoint(L.value),(0,y.isNil)(L.id)&&(L.id=L.name)})},ct.prototype.drawTicks=function(x){var E=this;this.processTicks(),this.get("label")&&this.drawLabels(x),this.get("tickLine")&&this.drawTickLines(x);var L=this.get("ticks");(0,y.each)(L,function(R){E.applyTickStates(R,x)})},ct.prototype.getLabelAttrs=function(x,E){var L=this.get("label"),R=L.offset,W=L.style,q=L.rotate,dt=L.formatter,bt=this.getSidePoint(x.point,R),Tt=this.getSideVector(R,bt),Ft=dt?dt(x.name,x,E):x.name,te=(0,y.mix)({x:bt.x,y:bt.y,text:Ft,textAlign:this.getTextAnchor(Tt)},W);return q&&(te.matrix=J(bt,q)),te},ct.prototype.drawLabels=function(x){var E=this,L=this.get("ticks"),R=this.addGroup(x,{name:"axis-label-group",id:this.getElementId("label-group")});(0,y.each)(L,function(W,q){E.addShape(R,{type:"text",name:"axis-label",id:E.getElementId("label-"+W.id),attrs:E.getLabelAttrs(W,q),delegateObject:{tick:W,item:W,index:q}})}),this.processOverlap(R)},ct.prototype.getTitleAttrs=function(){var x=this.get("title"),E=x.style,L=x.position,R=x.offset,W=x.spacing,q=W===void 0?0:W,dt=x.autoRotate,bt=E.fontSize,Tt=.5;L==="start"?Tt=0:L==="end"&&(Tt=1);var Ft=this.getTickPoint(Tt),te=this.getSidePoint(Ft,R||q+bt/2),ne=(0,y.mix)({x:te.x,y:te.y,text:x.text},E),xe=x.rotate,Ae=xe;if((0,y.isNil)(xe)&&dt){var be=this.getAxisVector(Ft),Qe=[1,0];Ae=N.angleTo(be,Qe,!0)}if(Ae){var nr=J(te,Ae);ne.matrix=nr}return ne},ct.prototype.drawTitle=function(x){this.addShape(x,{type:"text",id:this.getElementId("title"),name:"axis-title",attrs:this.getTitleAttrs()})},ct.prototype.applyTickStates=function(x,E){var L=this.getItemStates(x);if(L.length){var R=this.get("tickStates"),W=this.getElementId("label-"+x.id),q=E.findById(W);if(q){var dt=pe(x,"label",R);dt&&q.attr(dt)}var bt=this.getElementId("tickline-"+x.id),Tt=E.findById(bt);if(Tt){var Ft=pe(x,"tickLine",R);Ft&&Tt.attr(Ft)}}},ct.prototype.updateTickStates=function(x){var E=this.getItemStates(x),L=this.get("tickStates"),R=this.get("label"),W=this.getElementByLocalId("label-"+x.id),q=this.get("tickLine"),dt=this.getElementByLocalId("tickline-"+x.id);if(E.length){if(W){var bt=pe(x,"label",L);bt&&W.attr(bt)}if(dt){var Tt=pe(x,"tickLine",L);Tt&&dt.attr(Tt)}}else W&&W.attr(R.style),dt&&dt.attr(q.style)},ct}(at),Ne=Ve;function er(Xt,ct,x,E){var L=ct.getChildren(),R=!1;return(0,y.each)(L,function(W){var q=fr(Xt,W,x,E);R=R||q}),R}function hr(){return ar}function rr(Xt,ct,x){return er(Xt,ct,x,"head")}function ar(Xt,ct,x){return er(Xt,ct,x,"tail")}function lr(Xt,ct,x){return er(Xt,ct,x,"middle")}function yr(Xt){var ct=Xt.attr("matrix");return ct&&ct[0]!==1}function Ke(Xt,ct,x,E,L){L===void 0&&(L=!1);var R=!1;if(Xt)R=Math.abs(x.y-E.y)<x.height;else if(ct){var W=L?E.height:x.height;R=Math.abs(x.x-E.x)<W}else{var q=L?E.width:x.width;R=Math.abs(x.x-E.x)<q}return R}function Er(Xt,ct,x){var E=ct.getChildren().slice();if(!E.length)return!1;var L=!1;x&&E.reverse();for(var R=E.length,W=E[0],q=yr(W),dt=W.getBBox(),bt=1;bt<R;bt++){var Tt=E[bt],Ft=Tt.getBBox(),te=Ke(Xt,q,dt,Ft,x);te?(Tt.hide(),L=!0):dt=Ft}return L}function Ir(){return Hr}function Lr(Xt,ct){return Er(Xt,ct,!1)}function Br(Xt,ct){return Er(Xt,ct,!0)}function jr(Xt,ct){var x=ct.getChildren().slice();if(x.length<=2)return!1;for(var E=!1,L=x.length,R=x[0],W=x[L-1],q=yr(R),dt=R.getBBox(),bt=R,Tt=1;Tt<L-1;Tt++){var Ft=x[Tt],te=Ft.getBBox(),ne=Ke(Xt,q,dt,te);ne?(Ft.hide(),E=!0):(dt=te,bt=Ft)}var xe=W.getBBox(),Ae=Ke(Xt,q,dt,xe);return Ae&&(bt.hide(),E=!0),E}function Hr(Xt,ct){var x=ct.getChildren().slice();if(x.length<2)return!1;var E=!1,L=x[0],R=L.getBBox(),W=x[1],q=yr(L),dt=x.length,bt=0;if(Xt){var Tt=Math.abs(W.attr("y")-L.attr("y"));bt=R.height/Tt}else if(q){var Tt=Math.abs(W.attr("x")-L.attr("x"));bt=R.width/Tt}else{var Ft=Be(x),Tt=Math.abs(W.attr("x")-L.attr("x"));bt=Ft/Tt}if(bt>1){bt=Math.ceil(bt);for(var te=0;te<dt;te++)te%bt!=0&&(x[te].hide(),E=!0)}return E}function kn(Xt,ct){(0,y.each)(Xt,function(x){var E=x.attr("x"),L=x.attr("y"),R=J({x:E,y:L},ct);x.attr("matrix",R)})}function tn(Xt,ct,x,E){var L=ct.getChildren();if(!L.length||!Xt&&L.length<2)return!1;var R=Be(L),W=!1;if(Xt)W=!!x&&R>x;else{var q=Math.abs(L[1].attr("x")-L[0].attr("x"));W=R>q}if(W){var dt=E(x,R);kn(L,dt)}return W}function Yn(){return ti}function ti(Xt,ct,x){return tn(Xt,ct,x,function(){return Xt?or.verticalAxisRotate:or.horizontalAxisRotate})}function jn(Xt,ct,x){return tn(Xt,ct,x,function(E,L){if(!E)return Xt?or.verticalAxisRotate:or.horizontalAxisRotate;if(Xt)return-Math.acos(E/L);var R=0;return E>L?R=Math.PI/4:(R=Math.asin(E/L),R>Math.PI/4&&(R=Math.PI/4)),R})}var yi=function(Xt){(0,b.__extends)(ct,Xt);function ct(){return Xt!==null&&Xt.apply(this,arguments)||this}return ct.prototype.getDefaultCfg=function(){var x=Xt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},x),{type:"line",locationType:"region",start:null,end:null})},ct.prototype.getLinePath=function(){var x=this.get("start"),E=this.get("end"),L=[];return L.push(["M",x.x,x.y]),L.push(["L",E.x,E.y]),L},ct.prototype.getInnerLayoutBBox=function(){var x=this.get("start"),E=this.get("end"),L=Xt.prototype.getInnerLayoutBBox.call(this),R=Math.min(x.x,E.x,L.x),W=Math.min(x.y,E.y,L.y),q=Math.max(x.x,E.x,L.maxX),dt=Math.max(x.y,E.y,L.maxY);return{x:R,y:W,minX:R,minY:W,maxX:q,maxY:dt,width:q-R,height:dt-W}},ct.prototype.isVertical=function(){var x=this.get("start"),E=this.get("end");return(0,y.isNumberEqual)(x.x,E.x)},ct.prototype.isHorizontal=function(){var x=this.get("start"),E=this.get("end");return(0,y.isNumberEqual)(x.y,E.y)},ct.prototype.getTickPoint=function(x){var E=this,L=E.get("start"),R=E.get("end"),W=R.x-L.x,q=R.y-L.y;return{x:L.x+W*x,y:L.y+q*x}},ct.prototype.getSideVector=function(x){var E=this.getAxisVector(),L=G.normalize([0,0],E),R=this.get("verticalFactor"),W=[L[1],L[0]*-1];return G.scale([0,0],W,x*R)},ct.prototype.getAxisVector=function(){var x=this.get("start"),E=this.get("end");return[E.x-x.x,E.y-x.y]},ct.prototype.processOverlap=function(x){var E=this,L=this.isVertical(),R=this.isHorizontal();if(!(!L&&!R)){var W=this.get("label"),q=this.get("title"),dt=this.get("verticalLimitLength"),bt=W.offset,Tt=dt,Ft=0,te=0;q&&(Ft=q.style.fontSize,te=q.spacing),Tt&&(Tt=Tt-bt-te-Ft);var ne=this.get("overlapOrder");if((0,y.each)(ne,function(be){W[be]&&E.autoProcessOverlap(be,W[be],x,Tt)}),q){var xe=x.getBBox(),Ae=L?xe.width:xe.height;(0,y.isNil)(q.offset)&&(q.offset=bt+Ae+te+Ft/2)}}},ct.prototype.autoProcessOverlap=function(x,E,L,R){var W=this,q=this.isVertical(),dt=!1,bt=I[x];if(E===!0?dt=bt.getDefault()(q,L,R):(0,y.isFunction)(E)?dt=E(q,L,R):bt[E]&&(dt=bt[E](q,L,R)),x==="autoRotate"){if(dt){var Tt=L.getChildren(),Ft=this.get("verticalFactor");(0,y.each)(Tt,function(ne){var xe=ne.attr("textAlign");if(xe==="center"){var Ae=Ft>0?"end":"start";ne.attr("textAlign",Ae)}})}}else if(x==="autoHide"){var te=L.getChildren().slice(0);(0,y.each)(te,function(ne){ne.get("visible")||(W.get("isRegister")&&W.unregisterElement(ne),ne.remove())})}},ct}(Ne),_i=yi,Tr=function(Xt){(0,b.__extends)(ct,Xt);function ct(){return Xt!==null&&Xt.apply(this,arguments)||this}return ct.prototype.getDefaultCfg=function(){var x=Xt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},x),{type:"circle",locationType:"circle",center:null,radius:null,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},ct.prototype.getLinePath=function(){var x=this.get("center"),E=x.x,L=x.y,R=this.get("radius"),W=R,q=this.get("startAngle"),dt=this.get("endAngle"),bt=[];if(Math.abs(dt-q)===Math.PI*2)bt=[["M",E,L-W],["A",R,W,0,1,1,E,L+W],["A",R,W,0,1,1,E,L-W],["Z"]];else{var Tt=this.getCirclePoint(q),Ft=this.getCirclePoint(dt),te=Math.abs(dt-q)>Math.PI?1:0,ne=q>dt?0:1;bt=[["M",E,L],["L",Tt.x,Tt.y],["A",R,W,0,te,ne,Ft.x,Ft.y],["L",E,L]]}return bt},ct.prototype.getTickPoint=function(x){var E=this.get("startAngle"),L=this.get("endAngle"),R=E+(L-E)*x;return this.getCirclePoint(R)},ct.prototype.getSideVector=function(x,E){var L=this.get("center"),R=[E.x-L.x,E.y-L.y],W=this.get("verticalFactor"),q=G.length(R);return G.scale(R,R,W*x/q),R},ct.prototype.getAxisVector=function(x){var E=this.get("center"),L=[x.x-E.x,x.y-E.y];return[L[1],-1*L[0]]},ct.prototype.getCirclePoint=function(x,E){var L=this.get("center");return E=E||this.get("radius"),{x:L.x+Math.cos(x)*E,y:L.y+Math.sin(x)*E}},ct}(Ne),mi=Tr,ci=function(Xt){(0,b.__extends)(ct,Xt);function ct(){return Xt!==null&&Xt.apply(this,arguments)||this}return ct.prototype.getDefaultCfg=function(){var x=Xt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},x),{name:"crosshair",type:"base",line:{},text:null,textBackground:{},capture:!1,defaultCfg:{line:{style:{lineWidth:1,stroke:or.lineColor}},text:{position:"start",offset:10,autoRotate:!1,content:null,style:{fill:or.textColor,textAlign:"center",textBaseline:"middle",fontFamily:or.fontFamily}},textBackground:{padding:5,style:{stroke:or.lineColor}}}})},ct.prototype.renderInner=function(x){this.get("line")&&this.renderLine(x),this.get("text")&&(this.renderText(x),this.renderBackground(x))},ct.prototype.renderText=function(x){var E=this.get("text"),L=E.style,R=E.autoRotate,W=E.content;if(!(0,y.isNil)(W)){var q=this.getTextPoint(),dt=null;if(R){var bt=this.getRotateAngle();dt=J(q,bt)}this.addShape(x,{type:"text",name:"crosshair-text",id:this.getElementId("text"),attrs:(0,b.__assign)((0,b.__assign)((0,b.__assign)({},q),{text:W,matrix:dt}),L)})}},ct.prototype.renderLine=function(x){var E=this.getLinePath(),L=this.get("line"),R=L.style;this.addShape(x,{type:"path",name:"crosshair-line",id:this.getElementId("line"),attrs:(0,b.__assign)({path:E},R)})},ct.prototype.renderBackground=function(x){var E=this.getElementId("text"),L=x.findById(E),R=this.get("textBackground");if(R&&L){var W=L.getBBox(),q=At(R.padding),dt=R.style,bt=this.addShape(x,{type:"rect",name:"crosshair-text-background",id:this.getElementId("text-background"),attrs:(0,b.__assign)({x:W.x-q[3],y:W.y-q[0],width:W.width+q[1]+q[3],height:W.height+q[0]+q[2],matrix:L.attr("matrix")},dt)});bt.toBack()}},ct}(at),ei=ci,xn=function(Xt){(0,b.__extends)(ct,Xt);function ct(){return Xt!==null&&Xt.apply(this,arguments)||this}return ct.prototype.getDefaultCfg=function(){var x=Xt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},x),{type:"line",locationType:"region",start:null,end:null})},ct.prototype.getRotateAngle=function(){var x=this.getLocation(),E=x.start,L=x.end,R=this.get("text").position,W=Math.atan2(L.y-E.y,L.x-E.x),q=R==="start"?W-Math.PI/2:W+Math.PI/2;return q},ct.prototype.getTextPoint=function(){var x=this.getLocation(),E=x.start,L=x.end,R=this.get("text"),W=R.position,q=R.offset;return Jt(E,L,W,q)},ct.prototype.getLinePath=function(){var x=this.getLocation(),E=x.start,L=x.end;return[["M",E.x,E.y],["L",L.x,L.y]]},ct}(ei),ai=xn,oi=function(Xt){(0,b.__extends)(ct,Xt);function ct(){return Xt!==null&&Xt.apply(this,arguments)||this}return ct.prototype.getDefaultCfg=function(){var x=Xt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},x),{type:"circle",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},ct.prototype.getRotateAngle=function(){var x=this.getLocation(),E=x.startAngle,L=x.endAngle,R=this.get("text").position,W=R==="start"?E+Math.PI/2:L-Math.PI/2;return W},ct.prototype.getTextPoint=function(){var x=this.get("text"),E=x.position,L=x.offset,R=this.getLocation(),W=R.center,q=R.radius,dt=R.startAngle,bt=R.endAngle,Tt=E==="start"?dt:bt,Ft=this.getRotateAngle()-Math.PI,te=rt(W,q,Tt),ne=Math.cos(Ft)*L,xe=Math.sin(Ft)*L;return{x:te.x+ne,y:te.y+xe}},ct.prototype.getLinePath=function(){var x=this.getLocation(),E=x.center,L=x.radius,R=x.startAngle,W=x.endAngle,q=null;if(W-R==Math.PI*2){var dt=E.x,bt=E.y;q=[["M",dt,bt-L],["A",L,L,0,1,1,dt,bt+L],["A",L,L,0,1,1,dt,bt-L],["Z"]]}else{var Tt=rt(E,L,R),Ft=rt(E,L,W),te=Math.abs(W-R)>Math.PI?1:0,ne=R>W?0:1;q=[["M",Tt.x,Tt.y],["A",L,L,0,te,ne,Ft.x,Ft.y]]}return q},ct}(ei),ri=oi,si=d(6056),Vn=d(45442),Li=function(Xt){(0,b.__extends)(ct,Xt);function ct(){return Xt!==null&&Xt.apply(this,arguments)||this}return ct.prototype.getDefaultCfg=function(){var x=Xt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},x),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},ct.prototype.getContainer=function(){return this.get("container")},ct.prototype.show=function(){var x=this.get("container");x.style.display="",this.set("visible",!0)},ct.prototype.hide=function(){var x=this.get("container");x.style.display="none",this.set("visible",!1)},ct.prototype.setCapture=function(x){var E=this.getContainer(),L=x?"auto":"none";E.style.pointerEvents=L,this.set("capture",x)},ct.prototype.getBBox=function(){var x=this.getContainer(),E=parseFloat(x.style.left)||0,L=parseFloat(x.style.top)||0;return vt(E,L,x.clientWidth,x.clientHeight)},ct.prototype.clear=function(){var x=this.get("container");X(x)},ct.prototype.destroy=function(){this.removeEvent(),this.removeDom(),Xt.prototype.destroy.call(this)},ct.prototype.init=function(){Xt.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},ct.prototype.initCapture=function(){this.setCapture(this.get("capture"))},ct.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},ct.prototype.initDom=function(){},ct.prototype.initContainer=function(){var x=this.get("container");if((0,y.isNil)(x)){x=this.createDom();var E=this.get("parent");(0,y.isString)(E)&&(E=document.getElementById(E),this.set("parent",E)),E.appendChild(x),this.set("container",x)}else(0,y.isString)(x)&&(x=document.getElementById(x),this.set("container",x));this.get("parent")||this.set("parent",x.parentNode)},ct.prototype.resetStyles=function(){var x=this.get("domStyles"),E=this.get("defaultStyles");x?x=(0,y.deepMix)({},E,x):x=E,this.set("domStyles",x)},ct.prototype.applyStyles=function(){var x=this.get("domStyles");if(!!x){var E=this.getContainer();this.applyChildrenStyles(E,x);var L=this.get("containerClassName");if(L&&Z(E,L)){var R=x[L];(0,Vn.Z)(E,R)}}},ct.prototype.applyChildrenStyles=function(x,E){(0,y.each)(E,function(L,R){var W=x.getElementsByClassName(R);(0,y.each)(W,function(q){(0,Vn.Z)(q,L)})})},ct.prototype.applyStyle=function(x,E){var L=this.get("domStyles");(0,Vn.Z)(E,L[x])},ct.prototype.createDom=function(){var x=this.get("containerTpl");return(0,si.Z)(x)},ct.prototype.initEvent=function(){},ct.prototype.removeDom=function(){var x=this.get("container");x&&x.parentNode.removeChild(x)},ct.prototype.removeEvent=function(){},ct.prototype.updateInner=function(x){(0,y.hasKey)(x,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},ct.prototype.resetPosition=function(){},ct}(kt),Ni=Li,Tn="g2-crosshair",Gn=Tn+"-line",li=Tn+"-text",Oi,xi=(Oi={},Oi[""+Tn]={position:"relative"},Oi[""+Gn]={position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.25)"},Oi[""+li]={position:"absolute",color:or.textColor,fontFamily:or.fontFamily},Oi),oa=function(Xt){(0,b.__extends)(ct,Xt);function ct(){return Xt!==null&&Xt.apply(this,arguments)||this}return ct.prototype.getDefaultCfg=function(){var x=Xt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},x),{name:"crosshair",type:"html",locationType:"region",start:{x:0,y:0},end:{x:0,y:0},capture:!1,text:null,containerTpl:'<div class="'+Tn+'"></div>',crosshairTpl:'<div class="'+Gn+'"></div>',textTpl:'<span class="'+li+'">{content}</span>',domStyles:null,containerClassName:Tn,defaultStyles:xi,defaultCfg:{text:{position:"start",content:null,align:"center",offset:10}}})},ct.prototype.render=function(){this.resetText(),this.resetPosition()},ct.prototype.initCrossHair=function(){var x=this.getContainer(),E=this.get("crosshairTpl"),L=(0,si.Z)(E);x.appendChild(L),this.applyStyle(Gn,L),this.set("crosshairEl",L)},ct.prototype.getTextPoint=function(){var x=this.getLocation(),E=x.start,L=x.end,R=this.get("text"),W=R.position,q=R.offset;return Jt(E,L,W,q)},ct.prototype.resetText=function(){var x=this.get("text"),E=this.get("textEl");if(x){var L=x.content;if(!E){var R=this.getContainer(),W=(0,y.substitute)(this.get("textTpl"),x);E=(0,si.Z)(W),R.appendChild(E),this.applyStyle(li,E),this.set("textEl",E)}E.innerHTML=L}else E&&E.remove()},ct.prototype.isVertical=function(x,E){return x.x===E.x},ct.prototype.resetPosition=function(){var x=this.get("crosshairEl");x||(this.initCrossHair(),x=this.get("crosshairEl"));var E=this.get("start"),L=this.get("end"),R=Math.min(E.x,L.x),W=Math.min(E.y,L.y);this.isVertical(E,L)?(0,Vn.Z)(x,{width:"1px",height:Gt(Math.abs(L.y-E.y))}):(0,Vn.Z)(x,{height:"1px",width:Gt(Math.abs(L.x-E.x))}),(0,Vn.Z)(x,{top:Gt(W),left:Gt(R)}),this.alignText()},ct.prototype.alignText=function(){var x=this.get("textEl");if(x){var E=this.get("text").align,L=x.clientWidth,R=this.getTextPoint();switch(E){case"center":R.x=R.x-L/2;break;case"right":R.x=R.x-L;case"left":break}(0,Vn.Z)(x,{top:Gt(R.y),left:Gt(R.x)})}},ct.prototype.updateInner=function(x){(0,y.hasKey)(x,"text")&&this.resetText(),Xt.prototype.updateInner.call(this,x)},ct}(Ni),vi=oa,sa=function(Xt){(0,b.__extends)(ct,Xt);function ct(){return Xt!==null&&Xt.apply(this,arguments)||this}return ct.prototype.getDefaultCfg=function(){var x=Xt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},x),{name:"grid",line:{},alternateColor:null,capture:!1,items:[],closed:!1,defaultCfg:{line:{type:"line",style:{lineWidth:1,stroke:or.lineColor}}}})},ct.prototype.getLineType=function(){var x=this.get("line")||this.get("defaultCfg").line;return x.type},ct.prototype.renderInner=function(x){this.drawGrid(x)},ct.prototype.getAlternatePath=function(x,E){var L=this.getGridPath(x),R=E.slice(0).reverse(),W=this.getGridPath(R,!0),q=this.get("closed");return q?L=L.concat(W):(W[0][0]="L",L=L.concat(W),L.push(["Z"])),L},ct.prototype.getPathStyle=function(){return this.get("line").style},ct.prototype.drawGrid=function(x){var E=this,L=this.get("line"),R=this.get("items"),W=this.get("alternateColor"),q=null;(0,y.each)(R,function(dt,bt){var Tt=dt.id||bt;if(L){var Ft=E.getPathStyle(),te=E.getElementId("line-"+Tt),ne=E.getGridPath(dt.points);E.addShape(x,{type:"path",name:"grid-line",id:te,attrs:(0,y.mix)({path:ne},Ft)})}if(W&&bt>0){var xe=E.getElementId("region-"+Tt),Ae=bt%2==0;if((0,y.isString)(W))Ae&&E.drawAlternateRegion(xe,x,q.points,dt.points,W);else{var be=Ae?W[1]:W[0];E.drawAlternateRegion(xe,x,q.points,dt.points,be)}}q=dt})},ct.prototype.drawAlternateRegion=function(x,E,L,R,W){var q=this.getAlternatePath(L,R);this.addShape(E,{type:"path",id:x,name:"grid-region",attrs:{path:q,fill:W}})},ct}(at),$i=sa;function la(Xt,ct,x,E){var L=x-Xt,R=E-ct;return Math.sqrt(L*L+R*R)}var ba=function(Xt){(0,b.__extends)(ct,Xt);function ct(){return Xt!==null&&Xt.apply(this,arguments)||this}return ct.prototype.getDefaultCfg=function(){var x=Xt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},x),{type:"circle",center:null,closed:!0})},ct.prototype.getGridPath=function(x,E){var L=this.getLineType(),R=this.get("closed"),W=[];if(x.length)if(L==="circle"){var q=this.get("center"),dt=x[0],bt=la(q.x,q.y,dt.x,dt.y),Tt=E?0:1;R?(W.push(["M",q.x,q.y-bt]),W.push(["A",bt,bt,0,0,Tt,q.x,q.y+bt]),W.push(["A",bt,bt,0,0,Tt,q.x,q.y-bt]),W.push(["Z"])):(0,y.each)(x,function(Ft,te){te===0?W.push(["M",Ft.x,Ft.y]):W.push(["A",bt,bt,0,0,Tt,Ft.x,Ft.y])})}else(0,y.each)(x,function(Ft,te){te===0?W.push(["M",Ft.x,Ft.y]):W.push(["L",Ft.x,Ft.y])}),R&&W.push(["Z"]);return W},ct}($i),Dt=ba,Zt=function(Xt){(0,b.__extends)(ct,Xt);function ct(){return Xt!==null&&Xt.apply(this,arguments)||this}return ct.prototype.getDefaultCfg=function(){var x=Xt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},x),{type:"line"})},ct.prototype.getGridPath=function(x){var E=[];return(0,y.each)(x,function(L,R){R===0?E.push(["M",L.x,L.y]):E.push(["L",L.x,L.y])}),E},ct}($i),ee=Zt,ge=function(Xt){(0,b.__extends)(ct,Xt);function ct(){return Xt!==null&&Xt.apply(this,arguments)||this}return ct.prototype.getDefaultCfg=function(){var x=Xt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},x),{name:"legend",layout:"horizontal",locationType:"point",x:0,y:0,offsetX:0,offsetY:0,title:null,background:null})},ct.prototype.getLayoutBBox=function(){var x=Xt.prototype.getLayoutBBox.call(this),E=this.get("x"),L=this.get("y"),R=this.get("offsetX"),W=this.get("offsetY"),q=this.get("maxWidth"),dt=this.get("maxHeight"),bt=E+R,Tt=L+W,Ft=x.maxX-bt,te=x.maxY-Tt;return q&&(Ft=Math.min(Ft,q)),dt&&(te=Math.min(te,dt)),vt(bt,Tt,Ft,te)},ct.prototype.setLocation=function(x){this.set("x",x.x),this.set("y",x.y),this.resetLocation()},ct.prototype.resetLocation=function(){var x=this.get("x"),E=this.get("y"),L=this.get("offsetX"),R=this.get("offsetY");this.moveElementTo(this.get("group"),{x:x+L,y:E+R})},ct.prototype.applyOffset=function(){this.resetLocation()},ct.prototype.getDrawPoint=function(){return this.get("currentPoint")},ct.prototype.setDrawPoint=function(x){return this.set("currentPoint",x)},ct.prototype.renderInner=function(x){this.resetDraw(),this.get("title")&&this.drawTitle(x),this.drawLegendContent(x),this.get("background")&&this.drawBackground(x)},ct.prototype.drawBackground=function(x){var E=this.get("background"),L=x.getBBox(),R=At(E.padding),W=(0,b.__assign)({x:0,y:0,width:L.width+R[1]+R[3],height:L.height+R[0]+R[2]},E.style),q=this.addShape(x,{type:"rect",id:this.getElementId("background"),name:"legend-background",attrs:W});q.toBack()},ct.prototype.drawTitle=function(x){var E=this.get("currentPoint"),L=this.get("title"),R=L.spacing,W=L.style,q=L.text,dt=this.addShape(x,{type:"text",id:this.getElementId("title"),name:"legend-title",attrs:(0,b.__assign)({text:q,x:E.x,y:E.y},W)}),bt=dt.getBBox();this.set("currentPoint",{x:E.x,y:bt.maxY+R})},ct.prototype.resetDraw=function(){var x=this.get("background"),E={x:0,y:0};if(x){var L=At(x.padding);E.x=L[3],E.y=L[0]}this.set("currentPoint",E)},ct}(at),ye=ge,Ee=function(Xt){(0,b.__extends)(ct,Xt);function ct(){var x=Xt!==null&&Xt.apply(this,arguments)||this;return x.currentPageIndex=1,x.totalPagesCnt=1,x.pageWidth=0,x.pageHeight=0,x.startX=0,x.startY=0,x.onNavigationBack=function(){var E=x.getElementByLocalId("item-group");if(x.currentPageIndex>1){x.currentPageIndex-=1,x.updateNavigation();var L=x.getCurrentNavigationMatrix();x.get("animate")?E.animate({matrix:L},100):E.attr({matrix:L})}},x.onNavigationAfter=function(){var E=x.getElementByLocalId("item-group");if(x.currentPageIndex<x.totalPagesCnt){x.currentPageIndex+=1,x.updateNavigation();var L=x.getCurrentNavigationMatrix();x.get("animate")?E.animate({matrix:L},100):E.attr({matrix:L})}},x}return ct.prototype.getDefaultCfg=function(){var x=Xt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},x),{name:"legend",type:"category",itemSpacing:24,maxItemWidth:null,itemWidth:null,itemHeight:null,itemName:{},itemValue:null,maxWidth:null,maxHeight:null,marker:{},items:[],itemStates:{},itemBackground:{},defaultCfg:{title:{spacing:5,style:{fill:or.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}},background:{padding:5,style:{stroke:or.lineColor}},itemBackground:{style:{opacity:0,fill:"#fff"}},itemName:{spacing:16,style:{fill:or.textColor,fontSize:12,textAlign:"start",textBaseline:"middle"}},marker:{spacing:8,style:{r:6,symbol:"circle"}},itemValue:{alignRight:!1,formatter:null,style:{fill:or.textColor,fontSize:12,textAlign:"start",textBaseline:"middle"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:or.uncheckedColor},markerStyle:{fill:or.uncheckedColor,stroke:or.uncheckedColor}},inactive:{nameStyle:{fill:or.uncheckedColor},markerStyle:{opacity:.2}}}}})},ct.prototype.isList=function(){return!0},ct.prototype.getItems=function(){return this.get("items")},ct.prototype.setItems=function(x){this.update({items:x})},ct.prototype.updateItem=function(x,E){(0,y.mix)(x,E),this.clear(),this.render()},ct.prototype.clearItems=function(){var x=this.getElementByLocalId("item-group");x&&x.clear()},ct.prototype.setItemState=function(x,E,L){x[E]=L;var R=this.getElementByLocalId("item-"+x.id);if(R){var W=this.getItems(),q=W.indexOf(x),dt=this.createOffScreenGroup(),bt=this.drawItem(x,q,this.getItemHeight(),dt);this.updateElements(bt,R),this.clearUpdateStatus(R)}},ct.prototype.hasState=function(x,E){return!!x[E]},ct.prototype.getItemStates=function(x){var E=this.get("itemStates"),L=[];return(0,y.each)(E,function(R,W){x[W]&&L.push(W)}),L},ct.prototype.clearItemsState=function(x){var E=this,L=this.getItemsByState(x);(0,y.each)(L,function(R){E.setItemState(R,x,!1)})},ct.prototype.getItemsByState=function(x){var E=this,L=this.getItems();return(0,y.filter)(L,function(R){return E.hasState(R,x)})},ct.prototype.drawLegendContent=function(x){this.processItems(),this.drawItems(x)},ct.prototype.processItems=function(){var x=this.get("items");(0,y.each)(x,function(E){E.id||(E.id=E.name)})},ct.prototype.drawItems=function(x){var E=this,L=this.addGroup(x,{id:this.getElementId("item-container-group"),name:"legend-item-container-group"}),R=this.addGroup(L,{id:this.getElementId("item-group"),name:"legend-item-group"}),W=this.getItemHeight(),q=this.get("itemWidth"),dt=this.get("itemSpacing"),bt=this.get("currentPoint"),Tt=bt.x,Ft=bt.y,te=this.get("layout"),ne=this.get("items"),xe=!1,Ae=0,be=this.get("maxWidth"),Qe=this.get("maxHeight");(0,y.each)(ne,function(nr,sr){var _t=E.drawItem(nr,sr,W,R),Nt=_t.getBBox(),Wt=q||Nt.width;Wt>Ae&&(Ae=Wt),te==="horizontal"?(be&&be<bt.x+Wt-Tt&&(xe=!0,bt.x=Tt,bt.y+=W),E.moveElementTo(_t,bt),bt.x+=Wt+dt):(Qe&&Qe<bt.y+W-Ft&&(xe=!0,bt.x+=Ae+dt,bt.y=Ft,Ae=0),E.moveElementTo(_t,bt),bt.y+=W)}),xe&&this.get("flipPage")&&(this.pageHeight=0,this.pageWidth=0,this.totalPagesCnt=1,this.startX=Tt,this.startY=Ft,this.adjustNavigation(x,R))},ct.prototype.getItemHeight=function(){var x=this.get("itemHeight");if(!x){var E=this.get("itemName");E&&(x=E.style.fontSize+8)}return x},ct.prototype.drawMarker=function(x,E,L,R){var W=(0,b.__assign)((0,b.__assign)((0,b.__assign)({x:0,y:R/2},E.style),{symbol:(0,y.get)(L.marker,"symbol","circle")}),(0,y.get)(L.marker,"style",{})),q=this.addShape(x,{type:"marker",id:this.getElementId("item-"+L.id+"-marker"),name:"legend-item-marker",attrs:W}),dt=q.getBBox();q.attr("x",dt.width/2);var bt=q.attr(),Tt=bt.stroke,Ft=bt.fill;return Tt&&q.set("isStroke",!0),Ft&&q.set("isFill",!0),q},ct.prototype.drawItemText=function(x,E,L,R,W,q,dt){var bt=L.formatter,Tt=(0,b.__assign)({x:q,y:W/2,text:bt?bt(R[E],R,dt):R[E]},L.style);return this.addShape(x,{type:"text",id:this.getElementId("item-"+R.id+"-"+E),name:"legend-item-"+E,attrs:Tt})},ct.prototype.drawItem=function(x,E,L,R){var W="item-"+x.id,q=this.addGroup(R,{name:"legend-item-container",id:this.getElementId("item-container-"+W),delegateObject:{item:x,index:E}}),dt=this.addGroup(q,{name:"legend-item",id:this.getElementId(W),delegateObject:{item:x,index:E}}),bt=this.get("marker"),Tt=this.get("itemName"),Ft=this.get("itemValue"),te=this.get("itemBackground"),ne=this.getLimitItemWidth(),xe=0;if(bt){var Ae=this.drawMarker(dt,bt,x,L);xe=Ae.getBBox().maxX+bt.spacing}if(Tt){var be=this.drawItemText(dt,"name",Tt,x,L,xe,E);ne&&fr(!0,be,(0,y.clamp)(ne-xe,0,ne)),xe=be.getBBox().maxX+Tt.spacing}if(Ft){var Qe=this.drawItemText(dt,"value",Ft,x,L,xe,E);ne&&(Ft.alignRight?(Qe.attr({textAlign:"right",x:ne}),fr(!0,Qe,(0,y.clamp)(ne-xe,0,ne),"head")):fr(!0,Qe,(0,y.clamp)(ne-xe,0,ne)))}if(te){var nr=dt.getBBox(),sr=this.addShape(dt,{type:"rect",name:"legend-item-background",id:this.getElementId(W+"-background"),attrs:(0,b.__assign)({x:0,y:0,width:nr.width,height:L},te.style)});sr.toBack()}return this.applyItemStates(x,dt),dt},ct.prototype.adjustNavigation=function(x,E){var L=this,R=this.startX,W=this.startY,q=this.get("layout"),dt=E.findAll(function(Wt){return Wt.get("name")==="legend-item"}),bt=this.get("maxWidth"),Tt=this.get("maxHeight"),Ft=this.get("itemWidth"),te=this.get("itemSpacing"),ne=this.getItemHeight(),xe=this.drawNavigation(x,q,"00/00",12),Ae=xe.getBBox(),be={x:R,y:W},Qe=1,nr=0,sr=0,_t=0;if(q==="horizontal")this.pageHeight=ne,(0,y.each)(dt,function(Wt){var ve=Wt.getBBox(),Te=Ft||ve.width;(nr&&nr<be.x+Te+te||bt<be.x+Te+te+Ae.width)&&(Qe===1&&(nr=be.x+te,L.pageWidth=nr,L.moveElementTo(xe,{x:bt-te-Ae.width-Ae.minX,y:be.y+ne/2-Ae.height/2-Ae.minY})),Qe+=1,be.x=R,be.y+=ne),L.moveElementTo(Wt,be),Wt.getParent().setClip({type:"rect",attrs:{x:be.x,y:be.y,width:Te+te,height:ne}}),be.x+=Te+te});else{(0,y.each)(dt,function(Wt){var ve=Wt.getBBox();ve.width>sr&&(sr=ve.width)}),_t=sr,sr+=te,bt&&(sr=Math.min(bt,sr),_t=Math.min(bt,_t)),this.pageWidth=sr,this.pageHeight=Tt-Math.max(Ae.height,ne);var Nt=Math.floor(this.pageHeight/ne);(0,y.each)(dt,function(Wt,ve){ve!==0&&ve%Nt==0&&(Qe+=1,be.x+=sr,be.y=W),L.moveElementTo(Wt,be),Wt.getParent().setClip({type:"rect",attrs:{x:be.x,y:be.y,width:sr,height:ne}}),be.y+=ne}),this.totalPagesCnt=Qe,this.moveElementTo(xe,{x:R+_t/2-Ae.width/2-Ae.minX,y:Tt-Ae.height-Ae.minY})}this.pageHeight&&this.pageWidth&&E.getParent().setClip({type:"rect",attrs:{x:this.startX,y:this.startY,width:this.pageWidth,height:this.pageHeight}}),this.totalPagesCnt=Qe,this.currentPageIndex>this.totalPagesCnt&&(this.currentPageIndex=1),this.updateNavigation(xe),E.attr("matrix",this.getCurrentNavigationMatrix())},ct.prototype.drawNavigation=function(x,E,L,R){var W={x:0,y:0},q=this.addGroup(x,{id:this.getElementId("navigation-group"),name:"legend-navigation"}),dt=this.drawArrow(q,W,"navigation-arrow-left",E==="horizontal"?"up":"left",R);dt.on("click",this.onNavigationBack);var bt=dt.getBBox();W.x+=bt.width+2;var Tt=this.addShape(q,{type:"text",id:this.getElementId("navigation-text"),name:"navigation-text",attrs:{x:W.x,y:W.y+R/2,text:L,fontSize:12,fill:"#ccc",textBaseline:"middle"}}),Ft=Tt.getBBox();W.x+=Ft.width+2;var te=this.drawArrow(q,W,"navigation-arrow-right",E==="horizontal"?"down":"right",R);return te.on("click",this.onNavigationAfter),q},ct.prototype.updateNavigation=function(x){var E=this.currentPageIndex+"/"+this.totalPagesCnt,L=x?x.getChildren()[1]:this.getElementByLocalId("navigation-text"),R=x?x.findById(this.getElementId("navigation-arrow-left")):this.getElementByLocalId("navigation-arrow-left"),W=x?x.findById(this.getElementId("navigation-arrow-right")):this.getElementByLocalId("navigation-arrow-right"),q=L.getBBox();L.attr("text",E);var dt=L.getBBox();L.attr("x",L.attr("x")-(dt.width-q.width)/2),R.attr("opacity",this.currentPageIndex===1?.45:1),R.attr("cursor",this.currentPageIndex===1?"not-allowed":"pointer"),W.attr("opacity",this.currentPageIndex===this.totalPagesCnt?.45:1),W.attr("cursor",this.currentPageIndex===this.totalPagesCnt?"not-allowed":"pointer")},ct.prototype.drawArrow=function(x,E,L,R,W){var q=E.x,dt=E.y,bt={right:90*Math.PI/180,left:(360-90)*Math.PI/180,up:0,down:180*Math.PI/180},Tt=this.addShape(x,{type:"path",id:this.getElementId(L),name:L,attrs:{path:[["M",q+W/2,dt],["L",q,dt+W],["L",q+W,dt+W],["Z"]],fill:"#000",cursor:"pointer"}});return Tt.attr("matrix",J({x:q+W/2,y:dt+W/2},bt[R])),Tt},ct.prototype.getCurrentNavigationMatrix=function(){var x=this,E=x.currentPageIndex,L=x.pageWidth,R=x.pageHeight,W=this.get("layout"),q=W==="horizontal"?{x:0,y:R*(1-E)}:{x:L*(1-E),y:0};return H(q)},ct.prototype.applyItemStates=function(x,E){var L=this.getItemStates(x),R=L.length>0;if(R){var W=E.getChildren(),q=this.get("itemStates");(0,y.each)(W,function(dt){var bt=dt.get("name"),Tt=bt.split("-")[2],Ft=pe(x,Tt,q);Ft&&(dt.attr(Ft),Tt==="marker"&&!(dt.get("isStroke")&&dt.get("isFill"))&&(dt.get("isStroke")&&dt.attr("fill",null),dt.get("isFill")&&dt.attr("stroke",null)))})}},ct.prototype.getLimitItemWidth=function(){var x=this.get("itemWidth"),E=this.get("maxItemWidth");return E?x&&(E=x<=E?x:E):x&&(E=x),E},ct}(ye),We=Ee,Ue=1.4,Et=.4,ft=function(Xt){(0,b.__extends)(ct,Xt);function ct(){return Xt!==null&&Xt.apply(this,arguments)||this}return ct.prototype.getDefaultCfg=function(){var x=Xt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},x),{type:"continue",min:0,max:100,value:null,colors:[],track:{},rail:{},label:{},handler:{},slidable:!0,tip:null,step:null,maxWidth:null,maxHeight:null,defaultCfg:{label:{align:"rail",spacing:5,formatter:null,style:{fontSize:12,fill:or.textColor,textBaseline:"middle",fontFamily:or.fontFamily}},handler:{size:10,style:{fill:"#fff",stroke:"#333"}},track:{},rail:{type:"color",size:20,defaultLength:100,style:{fill:"#DCDEE2"}},title:{spacing:5,style:{fill:or.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}}}})},ct.prototype.isSlider=function(){return!0},ct.prototype.getValue=function(){return this.getCurrentValue()},ct.prototype.getRange=function(){return{min:this.get("min"),max:this.get("max")}},ct.prototype.setRange=function(x,E){this.update({min:x,max:E})},ct.prototype.setValue=function(x){var E=this.getValue();this.set("value",x);var L=this.get("group");this.resetTrackClip(),this.get("slidable")&&this.resetHandlers(L),this.delegateEmit("valuechanged",{originValue:E,value:x})},ct.prototype.initEvent=function(){var x=this.get("group");this.bindSliderEvent(x),this.bindRailEvent(x),this.bindTrackEvent(x)},ct.prototype.drawLegendContent=function(x){this.drawRail(x),this.drawLabels(x),this.fixedElements(x),this.resetTrack(x),this.resetTrackClip(x),this.get("slidable")&&this.resetHandlers(x)},ct.prototype.bindSliderEvent=function(x){this.bindHandlersEvent(x)},ct.prototype.bindHandlersEvent=function(x){var E=this;x.on("legend-handler-min:drag",function(L){var R=E.getValueByCanvasPoint(L.x,L.y),W=E.getCurrentValue(),q=W[1];q<R&&(q=R),E.setValue([R,q])}),x.on("legend-handler-max:drag",function(L){var R=E.getValueByCanvasPoint(L.x,L.y),W=E.getCurrentValue(),q=W[0];q>R&&(q=R),E.setValue([q,R])})},ct.prototype.bindRailEvent=function(x){},ct.prototype.bindTrackEvent=function(x){var E=this,L=null;x.on("legend-track:dragstart",function(R){L={x:R.x,y:R.y}}),x.on("legend-track:drag",function(R){if(!!L){var W=E.getValueByCanvasPoint(L.x,L.y),q=E.getValueByCanvasPoint(R.x,R.y),dt=E.getCurrentValue(),bt=dt[1]-dt[0],Tt=E.getRange(),Ft=q-W;Ft<0?dt[0]+Ft>Tt.min?E.setValue([dt[0]+Ft,dt[1]+Ft]):E.setValue([Tt.min,Tt.min+bt]):Ft>0&&(Ft>0&&dt[1]+Ft<Tt.max?E.setValue([dt[0]+Ft,dt[1]+Ft]):E.setValue([Tt.max-bt,Tt.max])),L={x:R.x,y:R.y}}}),x.on("legend-track:dragend",function(R){L=null})},ct.prototype.drawLabels=function(x){this.drawLabel("min",x),this.drawLabel("max",x)},ct.prototype.drawLabel=function(x,E){var L=this.get("label"),R=L.style,W=L.align,q=this.get(x),dt=this.getLabelAlignAttrs(x,W),bt="label-"+x;this.addShape(E,{type:"text",id:this.getElementId(bt),name:"legend-label-"+x,attrs:(0,b.__assign)((0,b.__assign)({x:0,y:0,text:q},R),dt)})},ct.prototype.getLabelAlignAttrs=function(x,E){var L=this.isVertical(),R="center",W="middle";return L?(R="start",E!=="rail"?x==="min"?W="top":W="bottom":W="top"):E!=="rail"?(W="top",x==="min"?R="start":R="end"):(R="start",W="middle"),{textAlign:R,textBaseline:W}},ct.prototype.getRailPath=function(x,E,L,R){var W=this.get("rail"),q=W.size,dt=W.defaultLength,bt=W.type,Tt=this.isVertical(),Ft=dt,te=L,ne=R;te||(te=Tt?q:Ft),ne||(ne=Tt?Ft:q);var xe=[];return bt==="color"?(xe.push(["M",x,E]),xe.push(["L",x+te,E]),xe.push(["L",x+te,E+ne]),xe.push(["L",x,E+ne]),xe.push(["Z"])):(xe.push(["M",x+te,E]),xe.push(["L",x+te,E+ne]),xe.push(["L",x,E+ne]),xe.push(["Z"])),xe},ct.prototype.drawRail=function(x){var E=this.get("rail"),L=E.style;this.addShape(x,{type:"path",id:this.getElementId("rail"),name:"legend-rail",attrs:(0,b.__assign)({path:this.getRailPath(0,0)},L)})},ct.prototype.getTrackColor=function(x){var E=x.length;if(!E)return null;if(E===1)return x[0];var L;this.isVertical()?L="l(90)":L="l(0)";for(var R=0;R<E;R++){var W=R/(E-1);L+=" "+W+":"+x[R]}return L},ct.prototype.getTrackPath=function(x){var E=this.getRailShape(x),L=E.attr("path");return(0,y.clone)(L)},ct.prototype.getClipTrackAttrs=function(x){var E=this.getCurrentValue(),L=E[0],R=E[1],W=this.getRailBBox(x),q=this.getPointByValue(L,x),dt=this.getPointByValue(R,x),bt=this.isVertical(),Tt,Ft,te,ne;return bt?(Tt=W.minX,Ft=q.y,te=W.width,ne=dt.y-q.y):(Tt=q.x,Ft=W.minY,te=dt.x-q.x,ne=W.height),{x:Tt,y:Ft,width:te,height:ne}},ct.prototype.getTrackAttrs=function(x){var E=this.get("track"),L=this.get("colors"),R=this.getTrackPath(x);return(0,y.mix)({path:R,fill:this.getTrackColor(L)},E.style)},ct.prototype.resetTrackClip=function(x){var E=x||this.get("group"),L=this.getElementId("track"),R=E.findById(L),W=R.getClip(),q=this.getClipTrackAttrs(x);W?W.attr(q):R.setClip({type:"rect",attrs:q})},ct.prototype.resetTrack=function(x){var E=this.getElementId("track"),L=x.findById(E),R=this.getTrackAttrs(x);L?L.attr(R):this.addShape(x,{type:"path",id:E,draggable:this.get("slidable"),name:"legend-track",attrs:R})},ct.prototype.getPointByValue=function(x,E){var L=this.getRange(),R=L.min,W=L.max,q=(x-R)/(W-R),dt=this.getRailBBox(E),bt=this.isVertical(),Tt={x:0,y:0};return bt?(Tt.x=dt.minX+dt.width/2,Tt.y=lt(dt.minY,dt.maxY,q)):(Tt.x=lt(dt.minX,dt.maxX,q),Tt.y=dt.minY+dt.height/2),Tt},ct.prototype.getRailShape=function(x){var E=x||this.get("group");return E.findById(this.getElementId("rail"))},ct.prototype.getRailBBox=function(x){var E=this.getRailShape(x),L=E.getBBox();return L},ct.prototype.getRailCanvasBBox=function(){var x=this.get("group"),E=x.findById(this.getElementId("rail")),L=E.getCanvasBBox();return L},ct.prototype.isVertical=function(){return this.get("layout")==="vertical"},ct.prototype.getValueByCanvasPoint=function(x,E){var L=this.getRange(),R=L.min,W=L.max,q=this.getRailCanvasBBox(),dt=this.isVertical(),bt=this.get("step"),Tt;dt?Tt=(E-q.minY)/q.height:Tt=(x-q.minX)/q.width;var Ft=lt(R,W,Tt);if(bt){var te=Math.round((Ft-R)/bt);Ft=R+te*bt}return Ft>W&&(Ft=W),Ft<R&&(Ft=R),Ft},ct.prototype.getCurrentValue=function(){var x=this.get("value");return x||(x=[this.get("min"),this.get("max")]),x},ct.prototype.resetHandlers=function(x){var E=this.getCurrentValue(),L=E[0],R=E[1];this.resetHandler(x,"min",L),this.resetHandler(x,"max",R)},ct.prototype.getHandlerPath=function(x,E){var L=this.isVertical(),R=[],W=x.size,q=E.x,dt=E.y,bt=W*Ue,Tt=W/2,Ft=W/6;if(L){var te=q+bt*Et;R.push(["M",q,dt]),R.push(["L",te,dt+Tt]),R.push(["L",q+bt,dt+Tt]),R.push(["L",q+bt,dt-Tt]),R.push(["L",te,dt-Tt]),R.push(["Z"]),R.push(["M",te,dt+Ft]),R.push(["L",q+bt-2,dt+Ft]),R.push(["M",te,dt-Ft]),R.push(["L",q+bt-2,dt-Ft])}else{var ne=dt+bt*Et;R.push(["M",q,dt]),R.push(["L",q-Tt,ne]),R.push(["L",q-Tt,dt+bt]),R.push(["L",q+Tt,dt+bt]),R.push(["L",q+Tt,ne]),R.push(["Z"]),R.push(["M",q-Ft,ne]),R.push(["L",q-Ft,dt+bt-2]),R.push(["M",q+Ft,ne]),R.push(["L",q+Ft,dt+bt-2])}return R},ct.prototype.resetHandler=function(x,E,L){var R=this.getPointByValue(L,x),W=this.get("handler"),q=this.getHandlerPath(W,R),dt=this.getElementId("handler-"+E),bt=x.findById(dt),Tt=this.isVertical();bt?bt.attr("path",q):this.addShape(x,{type:"path",name:"legend-handler-"+E,draggable:!0,id:dt,attrs:(0,b.__assign)((0,b.__assign)({path:q},W.style),{cursor:Tt?"ns-resize":"ew-resize"})})},ct.prototype.fixedElements=function(x){var E=x.findById(this.getElementId("rail")),L=x.findById(this.getElementId("label-min")),R=x.findById(this.getElementId("label-max")),W=this.getDrawPoint();this.isVertical()?this.fixedVertail(L,R,E,W):this.fixedHorizontal(L,R,E,W)},ct.prototype.fitRailLength=function(x,E,L,R){var W=this.isVertical(),q=W?"height":"width",dt=this.get("label"),bt=dt.align,Tt=dt.spacing,Ft=this.get("max"+(0,y.upperFirst)(q));if(Ft){var te=bt==="rail"?L[q]+x[q]+E[q]+Tt*2:L[q],ne=te-Ft;ne>0&&this.changeRailLength(R,q,L[q]-ne)}},ct.prototype.changeRailLength=function(x,E,L){var R=x.getBBox(),W;E==="height"?W=this.getRailPath(R.x,R.y,R.width,L):W=this.getRailPath(R.x,R.y,L,R.height),x.attr("path",W)},ct.prototype.changeRailPosition=function(x,E,L){var R=x.getBBox(),W=this.getRailPath(E,L,R.width,R.height);x.attr("path",W)},ct.prototype.fixedHorizontal=function(x,E,L,R){var W=this.get("label"),q=W.align,dt=W.spacing,bt=L.getBBox(),Tt=x.getBBox(),Ft=E.getBBox(),te=bt.height;this.fitRailLength(Tt,Ft,bt,L),bt=L.getBBox(),q==="rail"?(x.attr({x:R.x,y:R.y+te/2}),this.changeRailPosition(L,R.x+Tt.width+dt,R.y),E.attr({x:R.x+Tt.width+bt.width+dt*2,y:R.y+te/2})):q==="top"?(x.attr({x:R.x,y:R.y}),E.attr({x:R.x+bt.width,y:R.y}),this.changeRailPosition(L,R.x,R.y+Tt.height+dt)):(this.changeRailPosition(L,R.x,R.y),x.attr({x:R.x,y:R.y+bt.height+dt}),E.attr({x:R.x+bt.width,y:R.y+bt.height+dt}))},ct.prototype.fixedVertail=function(x,E,L,R){var W=this.get("label"),q=W.align,dt=W.spacing,bt=L.getBBox(),Tt=x.getBBox(),Ft=E.getBBox();if(this.fitRailLength(Tt,Ft,bt,L),bt=L.getBBox(),q==="rail")x.attr({x:R.x,y:R.y}),this.changeRailPosition(L,R.x,R.y+Tt.height+dt),E.attr({x:R.x,y:R.y+Tt.height+bt.height+dt*2});else if(q==="right")x.attr({x:R.x+bt.width+dt,y:R.y}),this.changeRailPosition(L,R.x,R.y),E.attr({x:R.x+bt.width+dt,y:R.y+bt.height});else{var te=Math.max(Tt.width,Ft.width);x.attr({x:R.x,y:R.y}),this.changeRailPosition(L,R.x+te+dt,R.y),E.attr({x:R.x,y:R.y+bt.height})}},ct}(ye),et=ft,ht=d(55223),Lt="g2-tooltip",Ht="g2-tooltip-title",le="g2-tooltip-list",ce="g2-tooltip-list-item",ue="g2-tooltip-marker",Oe="g2-tooltip-value",De="g2-tooltip-name",Fe="g2-tooltip-crosshair-x",ir="g2-tooltip-crosshair-y",Ye,Re=(Ye={},Ye[""+Lt]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:or.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},Ye[""+Ht]={marginBottom:"4px"},Ye[""+le]={margin:"0px",listStyleType:"none",padding:"0px"},Ye[""+ce]={listStyleType:"none",marginBottom:"4px"},Ye[""+ue]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},Ye[""+Oe]={display:"inline-block",float:"right",marginLeft:"30px"},Ye[""+Fe]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},Ye[""+ir]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},Ye);function wr(Xt,ct,x,E,L){var R={left:Xt<L.x,right:Xt+x>L.x+L.width,top:ct<L.y,bottom:ct+E>L.y+L.height};return R}function Sr(Xt,ct,x,E,L,R){var W=Xt,q=ct;switch(R){case"left":W=Xt-E-x,q=ct-L/2;break;case"right":W=Xt+x,q=ct-L/2;break;case"top":W=Xt-E/2,q=ct-L-x;break;case"bottom":W=Xt-E/2,q=ct+x;break;default:W=Xt+x,q=ct-L-x;break}return{x:W,y:q}}function Yr(Xt,ct,x,E,L,R,W){var q=Sr(Xt,ct,x,E,L,R);if(W){var dt=wr(q.x,q.y,E,L,W);R==="auto"?(dt.right&&(q.x=Math.max(0,Xt-E-x)),dt.top&&(q.y=Math.max(0,ct-L-x))):R==="top"||R==="bottom"?(dt.left&&(q.x=W.x),dt.right&&(q.x=W.x+W.width-E),R==="top"&&dt.top&&(q.y=ct+x),R==="bottom"&&dt.bottom&&(q.y=ct-L-x)):(dt.top&&(q.y=W.y),dt.bottom&&(q.y=W.y+W.height-L),R==="left"&&dt.left&&(q.x=Xt+x),R==="right"&&dt.right&&(q.x=Xt-E-x))}return q}function zr(Xt,ct){var x=!1;return(0,y.each)(ct,function(E){if((0,y.hasKey)(Xt,E))return x=!0,!1}),x}var dr=function(Xt){(0,b.__extends)(ct,Xt);function ct(){return Xt!==null&&Xt.apply(this,arguments)||this}return ct.prototype.getDefaultCfg=function(){var x=Xt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},x),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+Lt+'"><div class="'+Ht+'"></div><ul class="'+le+'"></ul></div>',itemTpl:'<li class="'+ce+`" data-index={index}>
          <span class="`+ue+`" style="background:{color}"></span>
          <span class="`+De+`">{name}</span>:
          <span class="`+Oe+`">{value}</span>
        </li>`,xCrosshairTpl:'<div class="'+Fe+'"></div>',yCrosshairTpl:'<div class="'+ir+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:Lt,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:Re})},ct.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},ct.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},ct.prototype.show=function(){var x=this.getContainer();!x||this.destroyed||(this.set("visible",!0),(0,Vn.Z)(x,{visibility:"visible"}),this.setCrossHairsVisible(!0))},ct.prototype.hide=function(){var x=this.getContainer();!x||this.destroyed||(this.set("visible",!1),(0,Vn.Z)(x,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},ct.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},ct.prototype.setLocation=function(x){this.set("x",x.x),this.set("y",x.y),this.resetPosition()},ct.prototype.setCrossHairsVisible=function(x){var E=x?"":"none",L=this.get("xCrosshairDom"),R=this.get("yCrosshairDom");L&&(0,Vn.Z)(L,{display:E}),R&&(0,Vn.Z)(R,{display:E})},ct.prototype.initContainer=function(){if(Xt.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var x=this.getHtmlContentNode();this.get("parent").appendChild(x),this.set("container",x),this.resetStyles(),this.applyStyles()}},ct.prototype.updateInner=function(x){this.get("customContent")?this.renderCustomContent():(zr(x,["title","showTitle"])&&this.resetTitle(),(0,y.hasKey)(x,"items")&&this.renderItems()),Xt.prototype.updateInner.call(this,x)},ct.prototype.initDom=function(){this.cacheDoms()},ct.prototype.removeDom=function(){Xt.prototype.removeDom.call(this),this.clearCrosshairs()},ct.prototype.resetPosition=function(){var x=this.get("x"),E=this.get("y"),L=this.get("offset"),R=this.getOffset(),W=R.offsetX,q=R.offsetY,dt=this.get("position"),bt=this.get("region"),Tt=this.getContainer(),Ft=this.getBBox(),te=Ft.width,ne=Ft.height,xe;bt&&(xe=tt(bt));var Ae=Yr(x,E,L,te,ne,dt,xe);(0,Vn.Z)(Tt,{left:Gt(Ae.x+W),top:Gt(Ae.y+q)}),this.resetCrosshairs()},ct.prototype.renderCustomContent=function(){var x=this.getHtmlContentNode(),E=this.get("parent"),L=this.get("container");L&&L.parentNode===E?E.replaceChild(x,L):E.appendChild(x),this.set("container",x),this.resetStyles(),this.applyStyles()},ct.prototype.getHtmlContentNode=function(){var x,E=this.get("customContent");if(E){var L=E(this.get("title"),this.get("items"));(0,y.isElement)(L)?x=L:x=(0,si.Z)(L)}return x},ct.prototype.cacheDoms=function(){var x=this.getContainer(),E=x.getElementsByClassName(Ht)[0],L=x.getElementsByClassName(le)[0];this.set("titleDom",E),this.set("listDom",L)},ct.prototype.resetTitle=function(){var x=this.get("title"),E=this.get("showTitle");E&&x?this.setTitle(x):this.setTitle("")},ct.prototype.setTitle=function(x){var E=this.get("titleDom");E&&(E.innerText=x)},ct.prototype.resetCrosshairs=function(){var x=this.get("crosshairsRegion"),E=this.get("crosshairs");if(!x||!E)this.clearCrosshairs();else{var L=tt(x),R=this.get("xCrosshairDom"),W=this.get("yCrosshairDom");E==="x"?(this.resetCrosshair("x",L),W&&(W.remove(),this.set("yCrosshairDom",null))):E==="y"?(this.resetCrosshair("y",L),R&&(R.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",L),this.resetCrosshair("y",L)),this.setCrossHairsVisible(this.get("visible"))}},ct.prototype.resetCrosshair=function(x,E){var L=this.checkCrosshair(x),R=this.get(x);x==="x"?(0,Vn.Z)(L,{left:Gt(R),top:Gt(E.y),height:Gt(E.height)}):(0,Vn.Z)(L,{top:Gt(R),left:Gt(E.x),width:Gt(E.width)})},ct.prototype.checkCrosshair=function(x){var E=x+"CrosshairDom",L=x+"CrosshairTpl",R="CROSSHAIR_"+x.toUpperCase(),W=w[R],q=this.get(E),dt=this.get("parent");return q||(q=(0,si.Z)(this.get(L)),this.applyStyle(W,q),dt.appendChild(q),this.set(E,q)),q},ct.prototype.renderItems=function(){this.clearItemDoms();var x=this.get("items"),E=this.get("itemTpl"),L=this.get("listDom");L&&((0,y.each)(x,function(R){var W=ht.default.toCSSGradient(R.color),q=(0,b.__assign)((0,b.__assign)({},R),{color:W}),dt=(0,y.substitute)(E,q),bt=(0,si.Z)(dt);L.appendChild(bt)}),this.applyChildrenStyles(L,this.get("domStyles")))},ct.prototype.clearItemDoms=function(){this.get("listDom")&&X(this.get("listDom"))},ct.prototype.clearCrosshairs=function(){var x=this.get("xCrosshairDom"),E=this.get("yCrosshairDom");x&&x.remove(),E&&E.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},ct}(Ni),tr=dr,Xr={opacity:0},un={stroke:"#C5C5C5",strokeOpacity:.85},Mn={fill:"#CACED4",opacity:.85},Un=d(57350),$n=d(72469);function da(Xt){return(0,y.map)(Xt,function(ct,x){var E=x===0?"M":"L",L=ct[0],R=ct[1];return[E,L,R]})}function En(Xt){return da(Xt)}function Ga(Xt){if(Xt.length<=2)return En(Xt);var ct=[];(0,y.each)(Xt,function(W){(0,y.isEqual)(W,ct.slice(ct.length-2))||ct.push(W[0],W[1])});var x=(0,Un.catmullRom2Bezier)(ct,!1),E=(0,y.head)(Xt),L=E[0],R=E[1];return x.unshift(["M",L,R]),x}function Qi(Xt,ct,x,E){E===void 0&&(E=!0);var L=new $n.Linear({values:Xt}),R=new $n.Category({values:(0,y.map)(Xt,function(q,dt){return dt})}),W=(0,y.map)(Xt,function(q,dt){return[R.scale(dt)*ct,x-L.scale(q)*x]});return E?Ga(W):En(W)}function za(Xt,ct,x){var E=(0,b.__spreadArrays)(Xt);return E.push(["L",ct,0]),E.push(["L",0,x]),E.push(["Z"]),E}var ua=function(Xt){(0,b.__extends)(ct,Xt);function ct(){return Xt!==null&&Xt.apply(this,arguments)||this}return ct.prototype.getDefaultCfg=function(){var x=Xt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},x),{name:"trend",x:0,y:0,width:200,height:16,smooth:!0,isArea:!1,data:[],backgroundStyle:Xr,lineStyle:un,areaStyle:Mn})},ct.prototype.renderInner=function(x){var E=this.cfg,L=E.width,R=E.height,W=E.data,q=E.smooth,dt=E.isArea,bt=E.backgroundStyle,Tt=E.lineStyle,Ft=E.areaStyle;this.addShape(x,{id:this.getElementId("background"),type:"rect",attrs:(0,b.__assign)({x:0,y:0,width:L,height:R},bt)});var te=Qi(W,L,R,q);if(this.addShape(x,{id:this.getElementId("line"),type:"path",attrs:(0,b.__assign)({path:te},Tt)}),dt){var ne=za(te,L,R);this.addShape(x,{id:this.getElementId("area"),type:"path",attrs:(0,b.__assign)({path:ne},Ft)})}},ct.prototype.applyOffset=function(){var x=this.cfg,E=x.x,L=x.y;this.moveElementTo(this.get("group"),{x:E,y:L})},ct}(at),to=null,fa={fill:"#416180",opacity:.05},Pa={fill:"#5B8FF9",opacity:.15,cursor:"move"},pa=10,Qn={width:pa,height:24},Ji={textBaseline:"middle",fill:"#000",opacity:.45},_a="sliderchange",La={fill:"#F7F7F7",stroke:"#BFBFBF",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#FFF"},wa=function(Xt){(0,b.__extends)(ct,Xt);function ct(){return Xt!==null&&Xt.apply(this,arguments)||this}return ct.prototype.getDefaultCfg=function(){var x=Xt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},x),{name:"handler",x:0,y:0,width:10,height:24,style:La})},ct.prototype.renderInner=function(x){var E=this.cfg,L=E.width,R=E.height,W=E.style,q=W.fill,dt=W.stroke,bt=W.radius,Tt=W.opacity,Ft=W.cursor;this.addShape(x,{type:"rect",id:this.getElementId("background"),attrs:{x:0,y:0,width:L,height:R,fill:q,stroke:dt,radius:bt,opacity:Tt,cursor:Ft}});var te=1/3*L,ne=2/3*L,xe=1/4*R,Ae=3/4*R;this.addShape(x,{id:this.getElementId("line-left"),type:"line",attrs:{x1:te,y1:xe,x2:te,y2:Ae,stroke:dt,cursor:Ft}}),this.addShape(x,{id:this.getElementId("line-right"),type:"line",attrs:{x1:ne,y1:xe,x2:ne,y2:Ae,stroke:dt,cursor:Ft}})},ct.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},ct.prototype.initEvent=function(){this.bindEvents()},ct.prototype.bindEvents=function(){var x=this;this.get("group").on("mouseenter",function(){var E=x.get("style").highLightFill;x.getElementByLocalId("background").attr("fill",E),x.draw()}),this.get("group").on("mouseleave",function(){var E=x.get("style").fill;x.getElementByLocalId("background").attr("fill",E),x.draw()})},ct.prototype.draw=function(){var x=this.get("container").get("canvas");x&&x.draw()},ct}(at),an=null,eo=function(Xt){(0,b.__extends)(ct,Xt);function ct(){var x=Xt!==null&&Xt.apply(this,arguments)||this;return x.onMouseDown=function(E){return function(L){x.currentTarget=E;var R=L.originalEvent;R.stopPropagation(),R.preventDefault(),x.prevX=(0,y.get)(R,"touches.0.pageX",R.pageX),x.prevY=(0,y.get)(R,"touches.0.pageY",R.pageY);var W=x.getContainerDOM();W.addEventListener("mousemove",x.onMouseMove),W.addEventListener("mouseup",x.onMouseUp),W.addEventListener("mouseleave",x.onMouseUp),W.addEventListener("touchmove",x.onMouseMove),W.addEventListener("touchend",x.onMouseUp),W.addEventListener("touchcancel",x.onMouseUp)}},x.onMouseMove=function(E){var L=x.cfg.width,R=[x.get("start"),x.get("end")];E.stopPropagation(),E.preventDefault();var W=(0,y.get)(E,"touches.0.pageX",E.pageX),q=(0,y.get)(E,"touches.0.pageY",E.pageY),dt=W-x.prevX,bt=x.adjustOffsetRange(dt/L);x.updateStartEnd(bt),x.updateUI(x.getElementByLocalId("foreground"),x.getElementByLocalId("minText"),x.getElementByLocalId("maxText")),x.prevX=W,x.prevY=q,x.draw(),x.emit(_a,[x.get("start"),x.get("end")].sort()),x.delegateEmit("valuechanged",{originValue:R,value:[x.get("start"),x.get("end")]})},x.onMouseUp=function(){x.currentTarget&&(x.currentTarget=void 0);var E=x.getContainerDOM();E&&(E.removeEventListener("mousemove",x.onMouseMove),E.removeEventListener("mouseup",x.onMouseUp),E.removeEventListener("mouseleave",x.onMouseUp),E.removeEventListener("touchmove",x.onMouseMove),E.removeEventListener("touchend",x.onMouseUp),E.removeEventListener("touchcancel",x.onMouseUp))},x}return ct.prototype.setRange=function(x,E){this.set("minLimit",x),this.set("maxLimit",E);var L=this.get("start"),R=this.get("end"),W=(0,y.clamp)(L,x,E),q=(0,y.clamp)(R,x,E);!this.get("isInit")&&(L!==W||R!==q)&&this.setValue([W,q])},ct.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},ct.prototype.setValue=function(x){var E=this.getRange();if((0,y.isArray)(x)&&x.length===2){var L=[this.get("start"),this.get("end")];this.update({start:(0,y.clamp)(x[0],E.min,E.max),end:(0,y.clamp)(x[1],E.min,E.max)}),this.get("updateAutoRender")||this.render(),this.delegateEmit("valuechanged",{originValue:L,value:x})}},ct.prototype.getValue=function(){return[this.get("start"),this.get("end")]},ct.prototype.getDefaultCfg=function(){var x=Xt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},x),{name:"slider",x:0,y:0,width:100,height:16,backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},defaultCfg:{backgroundStyle:fa,foregroundStyle:Pa,handlerStyle:Qn,textStyle:Ji}})},ct.prototype.update=function(x){var E=x.start,L=x.end,R=(0,b.__assign)({},x);(0,y.isNil)(E)||(R.start=(0,y.clamp)(E,0,1)),(0,y.isNil)(L)||(R.end=(0,y.clamp)(L,0,1)),Xt.prototype.update.call(this,R),this.minHandler=this.getChildComponentById(this.getElementId("minHandler")),this.maxHandler=this.getChildComponentById(this.getElementId("maxHandler"))},ct.prototype.init=function(){this.set("start",(0,y.clamp)(this.get("start"),0,1)),this.set("end",(0,y.clamp)(this.get("end"),0,1)),Xt.prototype.init.call(this)},ct.prototype.renderInner=function(x){var E=this.cfg,L=E.start,R=E.end,W=E.width,q=E.height,dt=E.trendCfg,bt=dt===void 0?{}:dt,Tt=E.minText,Ft=E.maxText,te=E.backgroundStyle,ne=te===void 0?{}:te,xe=E.foregroundStyle,Ae=xe===void 0?{}:xe,be=E.textStyle,Qe=be===void 0?{}:be,nr=E.handlerStyle,sr=nr===void 0?{}:nr,_t=L*W,Nt=R*W;(0,y.size)((0,y.get)(bt,"data"))&&this.addComponent(x,(0,b.__assign)({component:ua,id:this.getElementId("trend"),x:0,y:0,width:W,height:q},bt)),this.addShape(x,{id:this.getElementId("background"),type:"rect",attrs:(0,b.__assign)({x:0,y:0,width:W,height:q},ne)});var Wt=this.addShape(x,{id:this.getElementId("minText"),type:"text",attrs:(0,b.__assign)({y:q/2,textAlign:"right",text:Tt,silent:!1},Qe)}),ve=this.addShape(x,{id:this.getElementId("maxText"),type:"text",attrs:(0,b.__assign)({y:q/2,textAlign:"left",text:Ft,silent:!1},Qe)}),Te=this.addShape(x,{id:this.getElementId("foreground"),name:"foreground",type:"rect",attrs:(0,b.__assign)({y:0,height:q},Ae)}),Je=(0,y.get)(sr,"height",24);this.minHandler=this.addComponent(x,(0,b.__assign)({component:wa,id:this.getElementId("minHandler"),name:"handler-min",x:0,y:(q-Je)/2,width:W,height:Je,cursor:"ew-resize"},sr)),this.maxHandler=this.addComponent(x,(0,b.__assign)({component:wa,id:this.getElementId("maxHandler"),name:"handler-max",x:0,y:(q-Je)/2,width:W,height:Je,cursor:"ew-resize"},sr)),this.updateUI(Te,Wt,ve)},ct.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},ct.prototype.initEvent=function(){this.bindEvents()},ct.prototype.updateUI=function(x,E,L){var R=this.cfg,W=R.start,q=R.end,dt=R.width,bt=R.minText,Tt=R.maxText,Ft=R.handlerStyle,te=W*dt,ne=q*dt;x.attr("x",te),x.attr("width",ne-te);var xe=(0,y.get)(Ft,"width",pa);E.attr("text",bt),L.attr("text",Tt);var Ae=this._dodgeText([te,ne],E,L),be=Ae[0],Qe=Ae[1];this.minHandler&&(this.minHandler.update({x:te-xe/2}),this.get("updateAutoRender")||this.minHandler.render()),(0,y.each)(be,function(nr,sr){return E.attr(sr,nr)}),this.maxHandler&&(this.maxHandler.update({x:ne-xe/2}),this.get("updateAutoRender")||this.maxHandler.render()),(0,y.each)(Qe,function(nr,sr){return L.attr(sr,nr)})},ct.prototype.bindEvents=function(){var x=this.get("group");x.on("handler-min:mousedown",this.onMouseDown("minHandler")),x.on("handler-min:touchstart",this.onMouseDown("minHandler")),x.on("handler-max:mousedown",this.onMouseDown("maxHandler")),x.on("handler-max:touchstart",this.onMouseDown("maxHandler"));var E=x.findById(this.getElementId("foreground"));E.on("mousedown",this.onMouseDown("foreground")),E.on("touchstart",this.onMouseDown("foreground"))},ct.prototype.adjustOffsetRange=function(x){var E=this.cfg,L=E.start,R=E.end;switch(this.currentTarget){case"minHandler":{var W=0-L,q=1-L;return Math.min(q,Math.max(W,x))}case"maxHandler":{var W=0-R,q=1-R;return Math.min(q,Math.max(W,x))}case"foreground":{var W=0-L,q=1-R;return Math.min(q,Math.max(W,x))}}},ct.prototype.updateStartEnd=function(x){var E=this.cfg,L=E.start,R=E.end;switch(this.currentTarget){case"minHandler":L+=x;break;case"maxHandler":R+=x;break;case"foreground":L+=x,R+=x;break}this.set("start",L),this.set("end",R)},ct.prototype._dodgeText=function(x,E,L){var R,W,q=this.cfg,dt=q.handlerStyle,bt=q.width,Tt=2,Ft=(0,y.get)(dt,"width",pa),te=x[0],ne=x[1],xe=!1;te>ne&&(R=[ne,te],te=R[0],ne=R[1],W=[L,E],E=W[0],L=W[1],xe=!0);var Ae=E.getBBox(),be=L.getBBox(),Qe=Ae.width>te-Tt?{x:te+Ft/2+Tt,textAlign:"left"}:{x:te-Ft/2-Tt,textAlign:"right"},nr=be.width>bt-ne-Tt?{x:ne-Ft/2-Tt,textAlign:"right"}:{x:ne+Ft/2+Tt,textAlign:"left"};return xe?[nr,Qe]:[Qe,nr]},ct.prototype.draw=function(){var x=this.get("container"),E=x&&x.get("canvas");E&&E.draw()},ct.prototype.getContainerDOM=function(){var x=this.get("container"),E=x&&x.get("canvas");return E&&E.get("container")},ct}(at),ni=null,dn=d(57817),Hi={trackColor:"rgba(0,0,0,0)",thumbColor:"rgba(0,0,0,0.15)",size:8,lineCap:"round"},cn={default:Hi,hover:{thumbColor:"rgba(0,0,0,0.2)"}},ga=function(Xt){(0,b.__extends)(ct,Xt);function ct(){var x=Xt!==null&&Xt.apply(this,arguments)||this;return x.clearEvents=y.noop,x.onStartEvent=function(E){return function(L){x.isMobile=E,L.originalEvent.preventDefault();var R=E?(0,y.get)(L.originalEvent,"touches.0.clientX"):L.clientX,W=E?(0,y.get)(L.originalEvent,"touches.0.clientY"):L.clientY;x.startPos=x.cfg.isHorizontal?R:W,x.bindLaterEvent()}},x.bindLaterEvent=function(){var E=x.getContainerDOM(),L=[];x.isMobile?L=[(0,dn.Z)(E,"touchmove",x.onMouseMove),(0,dn.Z)(E,"touchend",x.onMouseUp),(0,dn.Z)(E,"touchcancel",x.onMouseUp)]:L=[(0,dn.Z)(E,"mousemove",x.onMouseMove),(0,dn.Z)(E,"mouseup",x.onMouseUp),(0,dn.Z)(E,"mouseleave",x.onMouseUp)],x.clearEvents=function(){L.forEach(function(R){R.remove()})}},x.onMouseMove=function(E){var L=x.cfg,R=L.isHorizontal,W=L.thumbOffset;E.preventDefault();var q=x.isMobile?(0,y.get)(E,"touches.0.clientX"):E.clientX,dt=x.isMobile?(0,y.get)(E,"touches.0.clientY"):E.clientY,bt=R?q:dt,Tt=bt-x.startPos;x.startPos=bt,x.updateThumbOffset(W+Tt)},x.onMouseUp=function(E){E.preventDefault(),x.clearEvents()},x.onTrackClick=function(E){var L=x.cfg,R=L.isHorizontal,W=L.x,q=L.y,dt=L.thumbLen,bt=x.getContainerDOM(),Tt=bt.getBoundingClientRect(),Ft=E.clientX,te=E.clientY,ne=R?Ft-Tt.left-W-dt/2:te-Tt.top-q-dt/2,xe=x.validateRange(ne);x.updateThumbOffset(xe)},x.onThumbMouseOver=function(){var E=x.cfg.theme.hover.thumbColor;x.getElementByLocalId("thumb").attr("stroke",E),x.draw()},x.onThumbMouseOut=function(){var E=x.cfg.theme.default.thumbColor;x.getElementByLocalId("thumb").attr("stroke",E),x.draw()},x}return ct.prototype.setRange=function(x,E){this.set("minLimit",x),this.set("maxLimit",E);var L=this.getValue(),R=(0,y.clamp)(L,x,E);L!==R&&!this.get("isInit")&&this.setValue(R)},ct.prototype.getRange=function(){var x=this.get("minLimit")||0,E=this.get("maxLimit")||1;return{min:x,max:E}},ct.prototype.setValue=function(x){var E=this.getRange(),L=this.getValue();this.update({thumbOffset:(this.get("trackLen")-this.get("thumbLen"))*(0,y.clamp)(x,E.min,E.max)}),this.delegateEmit("valuechange",{originalValue:L,value:this.getValue()})},ct.prototype.getValue=function(){return(0,y.clamp)(this.get("thumbOffset")/(this.get("trackLen")-this.get("thumbLen")),0,1)},ct.prototype.getDefaultCfg=function(){var x=Xt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},x),{name:"scrollbar",isHorizontal:!0,minThumbLen:20,thumbOffset:0,theme:cn})},ct.prototype.renderInner=function(x){this.renderTrackShape(x),this.renderThumbShape(x)},ct.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},ct.prototype.initEvent=function(){this.bindEvents()},ct.prototype.renderTrackShape=function(x){var E=this.cfg,L=E.trackLen,R=E.theme,W=R===void 0?{default:{}}:R,q=W.default,dt=q.lineCap,bt=q.trackColor,Tt=q.size,Ft=this.get("isHorizontal")?{x1:0+Tt/2,y1:Tt/2,x2:L-Tt/2,y2:Tt/2,lineWidth:Tt,stroke:bt,lineCap:dt}:{x1:Tt/2,y1:0+Tt/2,x2:Tt/2,y2:L-Tt/2,lineWidth:Tt,stroke:bt,lineCap:dt};return this.addShape(x,{id:this.getElementId("track"),name:"track",type:"line",attrs:Ft})},ct.prototype.renderThumbShape=function(x){var E=this.cfg,L=E.thumbOffset,R=E.thumbLen,W=E.theme,q=W===void 0?{default:{}}:W,dt=q.default,bt=dt.size,Tt=dt.lineCap,Ft=dt.thumbColor,te=this.get("isHorizontal")?{x1:L+bt/2,y1:bt/2,x2:L+R-bt/2,y2:bt/2,lineWidth:bt,stroke:Ft,lineCap:Tt,cursor:"default"}:{x1:bt/2,y1:L+bt/2,x2:bt/2,y2:L+R-bt/2,lineWidth:bt,stroke:Ft,lineCap:Tt,cursor:"default"};return this.addShape(x,{id:this.getElementId("thumb"),name:"thumb",type:"line",attrs:te})},ct.prototype.bindEvents=function(){var x=this.get("group");x.on("mousedown",this.onStartEvent(!1)),x.on("mouseup",this.onMouseUp),x.on("touchstart",this.onStartEvent(!0)),x.on("touchend",this.onMouseUp);var E=x.findById(this.getElementId("track"));E.on("click",this.onTrackClick);var L=x.findById(this.getElementId("thumb"));L.on("mouseover",this.onThumbMouseOver),L.on("mouseout",this.onThumbMouseOut)},ct.prototype.getContainerDOM=function(){var x=this.get("container"),E=x&&x.get("canvas");return E&&E.get("container")},ct.prototype.validateRange=function(x){var E=this.cfg,L=E.thumbLen,R=E.trackLen,W=x;return x+L>R?W=R-L:x+L<L&&(W=0),W},ct.prototype.draw=function(){var x=this.get("container"),E=x&&x.get("canvas");E&&E.draw()},ct.prototype.updateThumbOffset=function(x){var E=this.cfg,L=E.thumbOffset,R=E.isHorizontal,W=E.thumbLen,q=E.size,dt=this.validateRange(x);if(dt!==L){var bt=this.getElementByLocalId("thumb");R?bt.attr({x1:dt+q/2,x2:dt+W-q/2}):bt.attr({y1:dt+q/2,y2:dt+W-q/2}),this.emitOffsetChange(dt)}},ct.prototype.emitOffsetChange=function(x){var E=this.cfg,L=E.thumbOffset,R=E.trackLen,W=E.thumbLen;this.cfg.thumbOffset=x,this.emit("scrollchange",{thumbOffset:x,ratio:(0,y.clamp)(x/(R-W),0,1)}),this.delegateEmit("valuechange",{originalValue:L,value:x})},ct}(at)},15110:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(62117),O=d(65722),D=d(49242),k={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},I=function(_){S.__extends(P,_);function P(T){var p=_.call(this,T)||this;return p.initCfg(),p}return P.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},P.prototype.clear=function(){},P.prototype.update=function(T){var p=this,w=this.get("defaultCfg");D.each(T,function(m,b){var y=p.get(b),A=m;y!==m&&(D.isObject(m)&&w[b]&&(A=D.deepMix({},w[b],m)),p.set(b,A))}),this.updateInner(T),this.afterUpdate(T)},P.prototype.updateInner=function(T){},P.prototype.afterUpdate=function(T){D.hasKey(T,"visible")&&(T.visible?this.show():this.hide()),D.hasKey(T,"capture")&&this.setCapture(T.capture)},P.prototype.getLayoutBBox=function(){return this.getBBox()},P.prototype.getLocationType=function(){return this.get("locationType")},P.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},P.prototype.setOffset=function(T,p){this.update({offsetX:T,offsetY:p})},P.prototype.setLocation=function(T){var p=S.__assign({},T);this.update(p)},P.prototype.getLocation=function(){var T=this,p={},w=this.get("locationType"),m=k[w];return D.each(m,function(b){p[b]=T.get(b)}),p},P.prototype.isList=function(){return!1},P.prototype.isSlider=function(){return!1},P.prototype.init=function(){},P.prototype.initCfg=function(){var T=this,p=this.get("defaultCfg");D.each(p,function(w,m){var b=T.get(m);if(D.isObject(b)){var y=D.deepMix({},w,b);T.set(m,y)}})},P}(O.Base);C.default=I},51964:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(62117),O=d(80478),D=d(49242),k=d(11594),I=d(15110),_=function(P){S.__extends(T,P);function T(){return P!==null&&P.apply(this,arguments)||this}return T.prototype.getDefaultCfg=function(){var p=P.prototype.getDefaultCfg.call(this);return S.__assign(S.__assign({},p),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},T.prototype.getContainer=function(){return this.get("container")},T.prototype.show=function(){var p=this.get("container");p.style.display="",this.set("visible",!0)},T.prototype.hide=function(){var p=this.get("container");p.style.display="none",this.set("visible",!1)},T.prototype.setCapture=function(p){var w=this.getContainer(),m=p?"auto":"none";w.style.pointerEvents=m,this.set("capture",p)},T.prototype.getBBox=function(){var p=this.getContainer(),w=parseFloat(p.style.left)||0,m=parseFloat(p.style.top)||0;return k.createBBox(w,m,p.clientWidth,p.clientHeight)},T.prototype.clear=function(){var p=this.get("container");k.clearDom(p)},T.prototype.destroy=function(){this.removeEvent(),this.removeDom(),P.prototype.destroy.call(this)},T.prototype.init=function(){P.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},T.prototype.initCapture=function(){this.setCapture(this.get("capture"))},T.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},T.prototype.initDom=function(){},T.prototype.initContainer=function(){var p=this.get("container");if(D.isNil(p)){p=this.createDom();var w=this.get("parent");D.isString(w)&&(w=document.getElementById(w),this.set("parent",w)),w.appendChild(p),this.set("container",p)}else D.isString(p)&&(p=document.getElementById(p),this.set("container",p));this.get("parent")||this.set("parent",p.parentNode)},T.prototype.resetStyles=function(){var p=this.get("domStyles"),w=this.get("defaultStyles");p?p=D.deepMix({},w,p):p=w,this.set("domStyles",p)},T.prototype.applyStyles=function(){var p=this.get("domStyles");if(!!p){var w=this.getContainer();this.applyChildrenStyles(w,p);var m=this.get("containerClassName");if(m&&k.hasClass(w,m)){var b=p[m];O.modifyCSS(w,b)}}},T.prototype.applyChildrenStyles=function(p,w){D.each(w,function(m,b){var y=p.getElementsByClassName(b);D.each(y,function(A){O.modifyCSS(A,m)})})},T.prototype.applyStyle=function(p,w){var m=this.get("domStyles");O.modifyCSS(w,m[p])},T.prototype.createDom=function(){var p=this.get("containerTpl");return O.createDom(p)},T.prototype.initEvent=function(){},T.prototype.removeDom=function(){var p=this.get("container");p&&p.parentNode.removeChild(p)},T.prototype.removeEvent=function(){},T.prototype.updateInner=function(p){D.hasKey(p,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},T.prototype.resetPosition=function(){},T}(I.default);C.default=_},7755:function(mt,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.CROSSHAIR_Y=C.CROSSHAIR_X=C.NAME_CLASS=C.VALUE_CLASS=C.MARKER_CLASS=C.LIST_ITEM_CLASS=C.LIST_CLASS=C.TITLE_CLASS=C.CONTAINER_CLASS=void 0,C.CONTAINER_CLASS="g2-tooltip",C.TITLE_CLASS="g2-tooltip-title",C.LIST_CLASS="g2-tooltip-list",C.LIST_ITEM_CLASS="g2-tooltip-list-item",C.MARKER_CLASS="g2-tooltip-marker",C.VALUE_CLASS="g2-tooltip-value",C.NAME_CLASS="g2-tooltip-name",C.CROSSHAIR_X="g2-tooltip-crosshair-x",C.CROSSHAIR_Y="g2-tooltip-crosshair-y"},55225:function(mt,C,d){"use strict";var S;Object.defineProperty(C,"__esModule",{value:!0});var O=d(52782),D=d(7755);C.default=(S={},S[""+D.CONTAINER_CLASS]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:O.default.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},S[""+D.TITLE_CLASS]={marginBottom:"4px"},S[""+D.LIST_CLASS]={margin:"0px",listStyleType:"none",padding:"0px"},S[""+D.LIST_ITEM_CLASS]={listStyleType:"none",marginBottom:"4px"},S[""+D.MARKER_CLASS]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},S[""+D.VALUE_CLASS]={display:"inline-block",float:"right",marginLeft:"30px"},S[""+D.CROSSHAIR_X]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},S[""+D.CROSSHAIR_Y]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},S)},88373:function(mt,C,d){"use strict";var S;S={value:!0};var O=d(62117),D=d(55223),k=d(80478),I=d(49242),_=d(51964),P=d(11594),T=d(7755),p=d(55225),w=d(51227);function m(y,A){var B=!1;return I.each(A,function(N){if(I.hasKey(y,N))return B=!0,!1}),B}var b=function(y){O.__extends(A,y);function A(){return y!==null&&y.apply(this,arguments)||this}return A.prototype.getDefaultCfg=function(){var B=y.prototype.getDefaultCfg.call(this);return O.__assign(O.__assign({},B),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+T.CONTAINER_CLASS+'"><div class="'+T.TITLE_CLASS+'"></div><ul class="'+T.LIST_CLASS+'"></ul></div>',itemTpl:'<li class="'+T.LIST_ITEM_CLASS+`" data-index={index}>
          <span class="`+T.MARKER_CLASS+`" style="background:{color}"></span>
          <span class="`+T.NAME_CLASS+`">{name}</span>:
          <span class="`+T.VALUE_CLASS+`">{value}</span>
        </li>`,xCrosshairTpl:'<div class="'+T.CROSSHAIR_X+'"></div>',yCrosshairTpl:'<div class="'+T.CROSSHAIR_Y+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:T.CONTAINER_CLASS,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:p.default})},A.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},A.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},A.prototype.show=function(){var B=this.getContainer();!B||this.destroyed||(this.set("visible",!0),k.modifyCSS(B,{visibility:"visible"}),this.setCrossHairsVisible(!0))},A.prototype.hide=function(){var B=this.getContainer();!B||this.destroyed||(this.set("visible",!1),k.modifyCSS(B,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},A.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},A.prototype.setLocation=function(B){this.set("x",B.x),this.set("y",B.y),this.resetPosition()},A.prototype.setCrossHairsVisible=function(B){var N=B?"":"none",G=this.get("xCrosshairDom"),j=this.get("yCrosshairDom");G&&k.modifyCSS(G,{display:N}),j&&k.modifyCSS(j,{display:N})},A.prototype.initContainer=function(){if(y.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var B=this.getHtmlContentNode();this.get("parent").appendChild(B),this.set("container",B),this.resetStyles(),this.applyStyles()}},A.prototype.updateInner=function(B){this.get("customContent")?this.renderCustomContent():(m(B,["title","showTitle"])&&this.resetTitle(),I.hasKey(B,"items")&&this.renderItems()),y.prototype.updateInner.call(this,B)},A.prototype.initDom=function(){this.cacheDoms()},A.prototype.removeDom=function(){y.prototype.removeDom.call(this),this.clearCrosshairs()},A.prototype.resetPosition=function(){var B=this.get("x"),N=this.get("y"),G=this.get("offset"),j=this.getOffset(),J=j.offsetX,H=j.offsetY,K=this.get("position"),st=this.get("region"),nt=this.getContainer(),wt=this.getBBox(),gt=wt.width,At=wt.height,X;st&&(X=P.regionToBBox(st));var Z=w.getAlignPoint(B,N,G,gt,At,K,X);k.modifyCSS(nt,{left:P.toPx(Z.x+J),top:P.toPx(Z.y+H)}),this.resetCrosshairs()},A.prototype.renderCustomContent=function(){var B=this.getHtmlContentNode(),N=this.get("parent"),G=this.get("container");G&&G.parentNode===N?N.replaceChild(B,G):N.appendChild(B),this.set("container",B),this.resetStyles(),this.applyStyles()},A.prototype.getHtmlContentNode=function(){var B,N=this.get("customContent");if(N){var G=N(this.get("title"),this.get("items"));I.isElement(G)?B=G:B=k.createDom(G)}return B},A.prototype.cacheDoms=function(){var B=this.getContainer(),N=B.getElementsByClassName(T.TITLE_CLASS)[0],G=B.getElementsByClassName(T.LIST_CLASS)[0];this.set("titleDom",N),this.set("listDom",G)},A.prototype.resetTitle=function(){var B=this.get("title"),N=this.get("showTitle");N&&B?this.setTitle(B):this.setTitle("")},A.prototype.setTitle=function(B){var N=this.get("titleDom");N&&(N.innerText=B)},A.prototype.resetCrosshairs=function(){var B=this.get("crosshairsRegion"),N=this.get("crosshairs");if(!B||!N)this.clearCrosshairs();else{var G=P.regionToBBox(B),j=this.get("xCrosshairDom"),J=this.get("yCrosshairDom");N==="x"?(this.resetCrosshair("x",G),J&&(J.remove(),this.set("yCrosshairDom",null))):N==="y"?(this.resetCrosshair("y",G),j&&(j.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",G),this.resetCrosshair("y",G)),this.setCrossHairsVisible(this.get("visible"))}},A.prototype.resetCrosshair=function(B,N){var G=this.checkCrosshair(B),j=this.get(B);B==="x"?k.modifyCSS(G,{left:P.toPx(j),top:P.toPx(N.y),height:P.toPx(N.height)}):k.modifyCSS(G,{top:P.toPx(j),left:P.toPx(N.x),width:P.toPx(N.width)})},A.prototype.checkCrosshair=function(B){var N=B+"CrosshairDom",G=B+"CrosshairTpl",j="CROSSHAIR_"+B.toUpperCase(),J=T[j],H=this.get(N),K=this.get("parent");return H||(H=k.createDom(this.get(G)),this.applyStyle(J,H),K.appendChild(H),this.set(N,H)),H},A.prototype.renderItems=function(){this.clearItemDoms();var B=this.get("items"),N=this.get("itemTpl"),G=this.get("listDom");G&&(I.each(B,function(j){var J=D.default.toCSSGradient(j.color),H=O.__assign(O.__assign({},j),{color:J}),K=I.substitute(N,H),st=k.createDom(K);G.appendChild(st)}),this.applyChildrenStyles(G,this.get("domStyles")))},A.prototype.clearItemDoms=function(){this.get("listDom")&&P.clearDom(this.get("listDom"))},A.prototype.clearCrosshairs=function(){var B=this.get("xCrosshairDom"),N=this.get("yCrosshairDom");B&&B.remove(),N&&N.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},A}(_.default);C.Z=b},51227:function(mt,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.getAlignPoint=C.getPointByPosition=C.getOutSides=void 0;function d(D,k,I,_,P){var T={left:D<P.x,right:D+I>P.x+P.width,top:k<P.y,bottom:k+_>P.y+P.height};return T}C.getOutSides=d;function S(D,k,I,_,P,T){var p=D,w=k;switch(T){case"left":p=D-_-I,w=k-P/2;break;case"right":p=D+I,w=k-P/2;break;case"top":p=D-_/2,w=k-P-I;break;case"bottom":p=D-_/2,w=k+I;break;default:p=D+I,w=k-P-I;break}return{x:p,y:w}}C.getPointByPosition=S;function O(D,k,I,_,P,T,p){var w=S(D,k,I,_,P,T);if(p){var m=d(w.x,w.y,_,P,p);T==="auto"?(m.right&&(w.x=Math.max(0,D-_-I)),m.top&&(w.y=Math.max(0,k-P-I))):T==="top"||T==="bottom"?(m.left&&(w.x=p.x),m.right&&(w.x=p.x+p.width-_),T==="top"&&m.top&&(w.y=k+I),T==="bottom"&&m.bottom&&(w.y=k-P-I)):(m.top&&(w.y=p.y),m.bottom&&(w.y=p.y+p.height-P),T==="left"&&m.left&&(w.x=D+I),T==="right"&&m.right&&(w.x=D-_-I))}return w}C.getAlignPoint=O},31207:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.propagationDelegate=void 0;var S=d(66192);function O(D,k,I){var _=new S.default(k,I);_.target=D,_.propagationPath.push(D),D.emitDelegation(k,_);for(var P=D.getParent();P;)P.emitDelegation(k,_),_.propagationPath.push(P),P=P.getParent()}C.propagationDelegate=O},52782:function(mt,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={fontFamily:`
  "-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",
  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",
  SimSun, "sans-serif"`,textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4}},11594:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.getTextPoint=C.toPx=C.updateClip=C.getBBoxWithClip=C.mergeBBox=C.intersectBBox=C.near=C.wait=C.distance=C.getCirclePoint=C.getValueByPercent=C.createBBox=C.pointsToBBox=C.regionToBBox=C.hasClass=C.clearDom=C.formatPadding=void 0;var S=d(49242);function O(G){var j=0,J=0,H=0,K=0;return S.isNumber(G)?j=J=H=K=G:S.isArray(G)&&(j=G[0],H=S.isNil(G[1])?G[0]:G[1],K=S.isNil(G[2])?G[0]:G[2],J=S.isNil(G[3])?H:G[3]),[j,H,K,J]}C.formatPadding=O;function D(G){for(var j=G.childNodes,J=j.length,H=J-1;H>=0;H--)G.removeChild(j[H])}C.clearDom=D;function k(G,j){return!!G.className.match(new RegExp("(\\s|^)"+j+"(\\s|$)"))}C.hasClass=k;function I(G){var j=G.start,J=G.end,H=Math.min(j.x,J.x),K=Math.min(j.y,J.y),st=Math.max(j.x,J.x),nt=Math.max(j.y,J.y);return{x:H,y:K,minX:H,minY:K,maxX:st,maxY:nt,width:st-H,height:nt-K}}C.regionToBBox=I;function _(G){var j=G.map(function(wt){return wt.x}),J=G.map(function(wt){return wt.y}),H=Math.min.apply(Math,j),K=Math.min.apply(Math,J),st=Math.max.apply(Math,j),nt=Math.max.apply(Math,J);return{x:H,y:K,minX:H,minY:K,maxX:st,maxY:nt,width:st-H,height:nt-K}}C.pointsToBBox=_;function P(G,j,J,H){return{x:G,y:j,width:J,height:H,minX:G,minY:j,maxX:G+J,maxY:j+H}}C.createBBox=P;function T(G,j,J){return(1-J)*G+j*J}C.getValueByPercent=T;function p(G,j,J){return{x:G.x+Math.cos(J)*j,y:G.y+Math.sin(J)*j}}C.getCirclePoint=p;function w(G,j){var J=j.x-G.x,H=j.y-G.y;return Math.sqrt(J*J+H*H)}C.distance=w,C.wait=function(G){return new Promise(function(j){setTimeout(j,G)})},C.near=function(G,j){return[G,j].includes(Infinity)?Math.abs(G)===Math.abs(j):Math.abs(G-j)<Math.pow(Number.EPSILON,.5)};function m(G,j){var J=Math.max(G.minX,j.minX),H=Math.max(G.minY,j.minY),K=Math.min(G.maxX,j.maxX),st=Math.min(G.maxY,j.maxY);return P(J,H,K-J,st-H)}C.intersectBBox=m;function b(G,j){var J=Math.min(G.minX,j.minX),H=Math.min(G.minY,j.minY),K=Math.max(G.maxX,j.maxX),st=Math.max(G.maxY,j.maxY);return P(J,H,K-J,st-H)}C.mergeBBox=b;function y(G){var j=G.getClip(),J=j&&j.getBBox(),H;if(!G.isGroup())H=G.getBBox();else{var K=Infinity,st=-Infinity,nt=Infinity,wt=-Infinity,gt=G.getChildren();gt.length>0?S.each(gt,function(At){if(At.get("visible")){if(At.isGroup()&&At.get("children").length===0)return!0;var X=y(At),Z=At.applyToMatrix([X.minX,X.minY,1]),tt=At.applyToMatrix([X.minX,X.maxY,1]),Q=At.applyToMatrix([X.maxX,X.minY,1]),vt=At.applyToMatrix([X.maxX,X.maxY,1]),lt=Math.min(Z[0],tt[0],Q[0],vt[0]),rt=Math.max(Z[0],tt[0],Q[0],vt[0]),U=Math.min(Z[1],tt[1],Q[1],vt[1]),$=Math.max(Z[1],tt[1],Q[1],vt[1]);lt<K&&(K=lt),rt>st&&(st=rt),U<nt&&(nt=U),$>wt&&(wt=$)}}):(K=0,st=0,nt=0,wt=0),H=P(K,nt,st-K,wt-nt)}return J?m(H,J):H}C.getBBoxWithClip=y;function A(G,j){if(!(!G.getClip()&&!j.getClip())){var J=j.getClip();if(!J){G.setClip(null);return}var H={type:J.get("type"),attrs:J.attr()};G.setClip(H)}}C.updateClip=A;function B(G){return G+"px"}C.toPx=B;function N(G,j,J,H){var K=w(G,j),st=H/K,nt=0;return J==="start"?nt=0-st:J==="end"&&(nt=1+st),{x:T(G.x,j.x,nt),y:T(G.y,j.y,nt)}}C.getTextPoint=N},13541:function(mt,C,d){"use strict";d.r(C),d.d(C,{Coordinate:function(){return P},getCoordinate:function(){return N},registerCoordinate:function(){return G}});var S=d(70655),O=d(77160),D=d(35600),k=d(31506),I=d(49242),_=function(){function j(J){this.type="coordinate",this.isRect=!1,this.isHelix=!1,this.isPolar=!1,this.isReflectX=!1,this.isReflectY=!1;var H=J.start,K=J.end,st=J.matrix,nt=st===void 0?[1,0,0,0,1,0,0,0,1]:st,wt=J.isTransposed,gt=wt===void 0?!1:wt;this.start=H,this.end=K,this.matrix=nt,this.originalMatrix=(0,S.__spreadArray)([],nt),this.isTransposed=gt}return j.prototype.initial=function(){this.center={x:(this.start.x+this.end.x)/2,y:(this.start.y+this.end.y)/2},this.width=Math.abs(this.end.x-this.start.x),this.height=Math.abs(this.end.y-this.start.y)},j.prototype.update=function(J){(0,I.assign)(this,J),this.initial()},j.prototype.convertDim=function(J,H){var K,st=this[H],nt=st.start,wt=st.end;return this.isReflect(H)&&(K=[wt,nt],nt=K[0],wt=K[1]),nt+J*(wt-nt)},j.prototype.invertDim=function(J,H){var K,st=this[H],nt=st.start,wt=st.end;return this.isReflect(H)&&(K=[wt,nt],nt=K[0],wt=K[1]),(J-nt)/(wt-nt)},j.prototype.applyMatrix=function(J,H,K){K===void 0&&(K=0);var st=this.matrix,nt=[J,H,K];return O.transformMat3(nt,nt,st),nt},j.prototype.invertMatrix=function(J,H,K){K===void 0&&(K=0);var st=this.matrix,nt=D.invert([0,0,0,0,0,0,0,0,0],st),wt=[J,H,K];return nt&&O.transformMat3(wt,wt,nt),wt},j.prototype.convert=function(J){var H=this.convertPoint(J),K=H.x,st=H.y,nt=this.applyMatrix(K,st,1);return{x:nt[0],y:nt[1]}},j.prototype.invert=function(J){var H=this.invertMatrix(J.x,J.y,1);return this.invertPoint({x:H[0],y:H[1]})},j.prototype.rotate=function(J){var H=this.matrix,K=this.center;return k.leftTranslate(H,H,[-K.x,-K.y]),k.leftRotate(H,H,J),k.leftTranslate(H,H,[K.x,K.y]),this},j.prototype.reflect=function(J){return J==="x"?this.isReflectX=!this.isReflectX:this.isReflectY=!this.isReflectY,this},j.prototype.scale=function(J,H){var K=this.matrix,st=this.center;return k.leftTranslate(K,K,[-st.x,-st.y]),k.leftScale(K,K,[J,H]),k.leftTranslate(K,K,[st.x,st.y]),this},j.prototype.translate=function(J,H){var K=this.matrix;return k.leftTranslate(K,K,[J,H]),this},j.prototype.transpose=function(){return this.isTransposed=!this.isTransposed,this},j.prototype.getCenter=function(){return this.center},j.prototype.getWidth=function(){return this.width},j.prototype.getHeight=function(){return this.height},j.prototype.getRadius=function(){return this.radius},j.prototype.isReflect=function(J){return J==="x"?this.isReflectX:this.isReflectY},j.prototype.resetMatrix=function(J){this.matrix=J||(0,S.__spreadArray)([],this.originalMatrix)},j}(),P=_,T=function(j){(0,S.__extends)(J,j);function J(H){var K=j.call(this,H)||this;return K.isRect=!0,K.type="cartesian",K.initial(),K}return J.prototype.initial=function(){j.prototype.initial.call(this);var H=this.start,K=this.end;this.x={start:H.x,end:K.x},this.y={start:H.y,end:K.y}},J.prototype.convertPoint=function(H){var K,st=H.x,nt=H.y;return this.isTransposed&&(K=[nt,st],st=K[0],nt=K[1]),{x:this.convertDim(st,"x"),y:this.convertDim(nt,"y")}},J.prototype.invertPoint=function(H){var K,st=this.invertDim(H.x,"x"),nt=this.invertDim(H.y,"y");return this.isTransposed&&(K=[nt,st],st=K[0],nt=K[1]),{x:st,y:nt}},J}(P),p=T,w=d(31437),m=function(j){(0,S.__extends)(J,j);function J(H){var K=j.call(this,H)||this;K.isHelix=!0,K.type="helix";var st=H.startAngle,nt=st===void 0?1.25*Math.PI:st,wt=H.endAngle,gt=wt===void 0?7.25*Math.PI:wt,At=H.innerRadius,X=At===void 0?0:At,Z=H.radius;return K.startAngle=nt,K.endAngle=gt,K.innerRadius=X,K.radius=Z,K.initial(),K}return J.prototype.initial=function(){j.prototype.initial.call(this);var H=(this.endAngle-this.startAngle)/(2*Math.PI)+1,K=Math.min(this.width,this.height)/2;this.radius&&this.radius>=0&&this.radius<=1&&(K=K*this.radius),this.d=Math.floor(K*(1-this.innerRadius)/H),this.a=this.d/(Math.PI*2),this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*K,end:this.innerRadius*K+this.d*.99}},J.prototype.convertPoint=function(H){var K,st=H.x,nt=H.y;this.isTransposed&&(K=[nt,st],st=K[0],nt=K[1]);var wt=this.convertDim(st,"x"),gt=this.a*wt,At=this.convertDim(nt,"y");return{x:this.center.x+Math.cos(wt)*(gt+At),y:this.center.y+Math.sin(wt)*(gt+At)}},J.prototype.invertPoint=function(H){var K,st=this.d+this.y.start,nt=w.subtract([0,0],[H.x,H.y],[this.center.x,this.center.y]),wt=k.angleTo(nt,[1,0],!0),gt=wt*this.a;w.length(nt)<gt&&(gt=w.length(nt));var At=Math.floor((w.length(nt)-gt)/st);wt=2*At*Math.PI+wt;var X=this.a*wt,Z=w.length(nt)-X;Z=(0,I.isNumberEqual)(Z,0)?0:Z;var tt=this.invertDim(wt,"x"),Q=this.invertDim(Z,"y");return tt=(0,I.isNumberEqual)(tt,0)?0:tt,Q=(0,I.isNumberEqual)(Q,0)?0:Q,this.isTransposed&&(K=[Q,tt],tt=K[0],Q=K[1]),{x:tt,y:Q}},J}(P),b=m,y=function(j){(0,S.__extends)(J,j);function J(H){var K=j.call(this,H)||this;K.isPolar=!0,K.type="polar";var st=H.startAngle,nt=st===void 0?-Math.PI/2:st,wt=H.endAngle,gt=wt===void 0?Math.PI*3/2:wt,At=H.innerRadius,X=At===void 0?0:At,Z=H.radius;return K.startAngle=nt,K.endAngle=gt,K.innerRadius=X,K.radius=Z,K.initial(),K}return J.prototype.initial=function(){for(j.prototype.initial.call(this);this.endAngle<this.startAngle;)this.endAngle+=Math.PI*2;var H=this.getOneBox(),K=H.maxX-H.minX,st=H.maxY-H.minY,nt=Math.abs(H.minX)/K,wt=Math.abs(H.minY)/st,gt;this.height/st>this.width/K?(gt=this.width/K,this.circleCenter={x:this.center.x-(.5-nt)*this.width,y:this.center.y-(.5-wt)*gt*st}):(gt=this.height/st,this.circleCenter={x:this.center.x-(.5-nt)*gt*K,y:this.center.y-(.5-wt)*this.height}),this.polarRadius=this.radius,this.radius?this.radius>0&&this.radius<=1?this.polarRadius=gt*this.radius:(this.radius<=0||this.radius>gt)&&(this.polarRadius=gt):this.polarRadius=gt,this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*this.polarRadius,end:this.polarRadius}},J.prototype.getRadius=function(){return this.polarRadius},J.prototype.convertPoint=function(H){var K,st=this.getCenter(),nt=H.x,wt=H.y;return this.isTransposed&&(K=[wt,nt],nt=K[0],wt=K[1]),nt=this.convertDim(nt,"x"),wt=this.convertDim(wt,"y"),{x:st.x+Math.cos(nt)*wt,y:st.y+Math.sin(nt)*wt}},J.prototype.invertPoint=function(H){var K,st=this.getCenter(),nt=[H.x-st.x,H.y-st.y],wt=this,gt=wt.startAngle,At=wt.endAngle;this.isReflect("x")&&(K=[At,gt],gt=K[0],At=K[1]);var X=[1,0,0,0,1,0,0,0,1];k.leftRotate(X,X,gt);var Z=[1,0,0];O.transformMat3(Z,Z,X);var tt=[Z[0],Z[1]],Q=k.angleTo(tt,nt,At<gt);(0,I.isNumberEqual)(Q,Math.PI*2)&&(Q=0);var vt=w.length(nt),lt=Q/(At-gt);lt=At-gt>0?lt:-lt;var rt=this.invertDim(vt,"y"),U={x:0,y:0};return U.x=this.isTransposed?rt:lt,U.y=this.isTransposed?lt:rt,U},J.prototype.getCenter=function(){return this.circleCenter},J.prototype.getOneBox=function(){var H=this.startAngle,K=this.endAngle;if(Math.abs(K-H)>=Math.PI*2)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var st=[0,Math.cos(H),Math.cos(K)],nt=[0,Math.sin(H),Math.sin(K)],wt=Math.min(H,K);wt<Math.max(H,K);wt+=Math.PI/18)st.push(Math.cos(wt)),nt.push(Math.sin(wt));return{minX:Math.min.apply(Math,st),maxX:Math.max.apply(Math,st),minY:Math.min.apply(Math,nt),maxY:Math.max.apply(Math,nt)}},J}(P),A=y,B={},N=function(j){return B[j.toLowerCase()]},G=function(j,J){B[j.toLowerCase()]=J};G("rect",p),G("cartesian",p),G("polar",A),G("helix",b)},57817:function(mt,C,d){"use strict";d.d(C,{Z:function(){return S}});function S(O,D,k){if(O){if(typeof O.addEventListener=="function")return O.addEventListener(D,k,!1),{remove:function(){O.removeEventListener(D,k,!1)}};if(typeof O.attachEvent=="function")return O.attachEvent("on"+D,k),{remove:function(){O.detachEvent("on"+D,k)}}}}},6056:function(mt,C,d){"use strict";d.d(C,{Z:function(){return _}});var S,O,D,k;function I(){S=document.createElement("table"),O=document.createElement("tr"),D=/^\s*<(\w+|!)[^>]*>/,k={tr:document.createElement("tbody"),tbody:S,thead:S,tfoot:S,td:O,th:O,"*":document.createElement("div")}}function _(P){S||I();var T=D.test(P)&&RegExp.$1;(!T||!(T in k))&&(T="*");var p=k[T];P=typeof P=="string"?P.replace(/(^\s*)|(\s*$)/g,""):P,p.innerHTML=""+P;var w=p.childNodes[0];return w&&p.contains(w)&&p.removeChild(w),w}},10430:function(mt,C,d){"use strict";d.d(C,{Z:function(){return O}});var S=d(99911);function O(D,k){var I=(0,S.Z)(D,"height",k);return I==="auto"&&(I=D.offsetHeight),parseFloat(I)}},79189:function(mt,C,d){"use strict";d.d(C,{Z:function(){return D}});var S=d(99911),O=d(10430);function D(k,I){var _=(0,O.Z)(k,I),P=parseFloat((0,S.Z)(k,"borderTopWidth"))||0,T=parseFloat((0,S.Z)(k,"paddingTop"))||0,p=parseFloat((0,S.Z)(k,"paddingBottom"))||0,w=parseFloat((0,S.Z)(k,"borderBottomWidth"))||0,m=parseFloat((0,S.Z)(k,"marginTop"))||0,b=parseFloat((0,S.Z)(k,"marginBottom"))||0;return _+P+w+T+p+m+b}},89810:function(mt,C,d){"use strict";d.d(C,{Z:function(){return D}});var S=d(99911),O=d(23408);function D(k,I){var _=(0,O.Z)(k,I),P=parseFloat((0,S.Z)(k,"borderLeftWidth"))||0,T=parseFloat((0,S.Z)(k,"paddingLeft"))||0,p=parseFloat((0,S.Z)(k,"paddingRight"))||0,w=parseFloat((0,S.Z)(k,"borderRightWidth"))||0,m=parseFloat((0,S.Z)(k,"marginRight"))||0,b=parseFloat((0,S.Z)(k,"marginLeft"))||0;return _+P+w+T+p+b+m}},99911:function(mt,C,d){"use strict";d.d(C,{Z:function(){return S}});function S(O,D,k){var I;try{I=window.getComputedStyle?window.getComputedStyle(O,null)[D]:O.style[D]}catch(_){}finally{I=I===void 0?k:I}return I}},23408:function(mt,C,d){"use strict";d.d(C,{Z:function(){return O}});var S=d(99911);function O(D,k){var I=(0,S.Z)(D,"width",k);return I==="auto"&&(I=D.offsetWidth),parseFloat(I)}},80478:function(mt,C,d){"use strict";d.r(C),d.d(C,{addEventListener:function(){return S.Z},createDom:function(){return O.Z},getHeight:function(){return D.Z},getOuterHeight:function(){return k.Z},getOuterWidth:function(){return I.Z},getRatio:function(){return _},getStyle:function(){return P.Z},getWidth:function(){return T.Z},modifyCSS:function(){return p.Z}});var S=d(57817),O=d(6056),D=d(10430),k=d(79189),I=d(89810);function _(){return window.devicePixelRatio?window.devicePixelRatio:2}var P=d(99911),T=d(23408),p=d(45442)},45442:function(mt,C,d){"use strict";d.d(C,{Z:function(){return S}});function S(O,D){if(O)for(var k in D)D.hasOwnProperty(k)&&(O.style[k]=D[k]);return O}},73136:function(mt,C){"use strict";var d;d={value:!0};function S(O,D,k){if(O){if(typeof O.addEventListener=="function")return O.addEventListener(D,k,!1),{remove:function(){O.removeEventListener(D,k,!1)}};if(typeof O.attachEvent=="function")return O.attachEvent("on"+D,k),{remove:function(){O.detachEvent("on"+D,k)}}}}C.Z=S},57821:function(mt,C){"use strict";var d;d={value:!0};var S,O,D,k;function I(){S=document.createElement("table"),O=document.createElement("tr"),D=/^\s*<(\w+|!)[^>]*>/,k={tr:document.createElement("tbody"),tbody:S,thead:S,tfoot:S,td:O,th:O,"*":document.createElement("div")}}function _(P){S||I();var T=D.test(P)&&RegExp.$1;(!T||!(T in k))&&(T="*");var p=k[T];P=typeof P=="string"?P.replace(/(^\s*)|(\s*$)/g,""):P,p.innerHTML=""+P;var w=p.childNodes[0];return w&&p.contains(w)&&p.removeChild(w),w}C.Z=_},1513:function(mt,C){"use strict";var d;d={value:!0};function S(O,D){if(O)for(var k in D)D.hasOwnProperty(k)&&(O.style[k]=D[k]);return O}C.Z=S},90494:function(mt,C,d){"use strict";d.r(C);var S="*",O=function(){function D(){this._events={}}return D.prototype.on=function(k,I,_){return this._events[k]||(this._events[k]=[]),this._events[k].push({callback:I,once:!!_}),this},D.prototype.once=function(k,I){return this.on(k,I,!0)},D.prototype.emit=function(k){for(var I=this,_=[],P=1;P<arguments.length;P++)_[P-1]=arguments[P];var T=this._events[k]||[],p=this._events[S]||[],w=function(m){for(var b=m.length,y=0;y<b;y++)if(!!m[y]){var A=m[y],B=A.callback,N=A.once;N&&(m.splice(y,1),m.length===0&&delete I._events[k],b--,y--),B.apply(I,_)}};w(T),w(p)},D.prototype.off=function(k,I){if(!k)this._events={};else if(!I)delete this._events[k];else{for(var _=this._events[k]||[],P=_.length,T=0;T<P;T++)_[T].callback===I&&(_.splice(T,1),P--,T--);_.length===0&&delete this._events[k]}return this},D.prototype.getEvents=function(){return this._events},D}();C.default=O},65722:function(mt,C,d){"use strict";d.r(C),d.d(C,{AbstractCanvas:function(){return Zt},AbstractGroup:function(){return ge},AbstractShape:function(){return Ee},Base:function(){return Ie},Event:function(){return Gt},PathUtil:function(){return S},version:function(){return Ue}});var S={};d.r(S),d.d(S,{catmullRomToBezier:function(){return P},fillPath:function(){return lt},fillPathByDiff:function(){return f},formatPath:function(){return Bt},intersection:function(){return Z},parsePathArray:function(){return B},parsePathString:function(){return _},pathToAbsolute:function(){return p},pathToCurve:function(){return y},rectPath:function(){return K}});var O=d(49242),D=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,k=new RegExp("([a-z])["+D+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+D+"]*,?["+D+"]*)+)","ig"),I=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+D+"]*,?["+D+"]*","ig"),_=function(Et){if(!Et)return null;if((0,O.isArray)(Et))return Et;var ft={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},et=[];return String(Et).replace(k,function(ht,Lt,Ht){var le=[],ce=Lt.toLowerCase();if(Ht.replace(I,function(ue,Oe){Oe&&le.push(+Oe)}),ce==="m"&&le.length>2&&(et.push([Lt].concat(le.splice(0,2))),ce="l",Lt=Lt==="m"?"l":"L"),ce==="o"&&le.length===1&&et.push([Lt,le[0]]),ce==="r")et.push([Lt].concat(le));else for(;le.length>=ft[ce]&&(et.push([Lt].concat(le.splice(0,ft[ce]))),!!ft[ce]););return Et}),et},P=function(Et,ft){for(var et=[],ht=0,Lt=Et.length;Lt-2*!ft>ht;ht+=2){var Ht=[{x:+Et[ht-2],y:+Et[ht-1]},{x:+Et[ht],y:+Et[ht+1]},{x:+Et[ht+2],y:+Et[ht+3]},{x:+Et[ht+4],y:+Et[ht+5]}];ft?ht?Lt-4===ht?Ht[3]={x:+Et[0],y:+Et[1]}:Lt-2===ht&&(Ht[2]={x:+Et[0],y:+Et[1]},Ht[3]={x:+Et[2],y:+Et[3]}):Ht[0]={x:+Et[Lt-2],y:+Et[Lt-1]}:Lt-4===ht?Ht[3]=Ht[2]:ht||(Ht[0]={x:+Et[ht],y:+Et[ht+1]}),et.push(["C",(-Ht[0].x+6*Ht[1].x+Ht[2].x)/6,(-Ht[0].y+6*Ht[1].y+Ht[2].y)/6,(Ht[1].x+6*Ht[2].x-Ht[3].x)/6,(Ht[1].y+6*Ht[2].y-Ht[3].y)/6,Ht[2].x,Ht[2].y])}return et},T=function(Et,ft,et,ht,Lt){var Ht=[];if(Lt===null&&ht===null&&(ht=et),Et=+Et,ft=+ft,et=+et,ht=+ht,Lt!==null){var le=Math.PI/180,ce=Et+et*Math.cos(-ht*le),ue=Et+et*Math.cos(-Lt*le),Oe=ft+et*Math.sin(-ht*le),De=ft+et*Math.sin(-Lt*le);Ht=[["M",ce,Oe],["A",et,et,0,+(Lt-ht>180),0,ue,De]]}else Ht=[["M",Et,ft],["m",0,-ht],["a",et,ht,0,1,1,0,2*ht],["a",et,ht,0,1,1,0,-2*ht],["z"]];return Ht},p=function(Et){if(Et=_(Et),!Et||!Et.length)return[["M",0,0]];var ft=[],et=0,ht=0,Lt=0,Ht=0,le=0,ce,ue;Et[0][0]==="M"&&(et=+Et[0][1],ht=+Et[0][2],Lt=et,Ht=ht,le++,ft[0]=["M",et,ht]);for(var Oe=Et.length===3&&Et[0][0]==="M"&&Et[1][0].toUpperCase()==="R"&&Et[2][0].toUpperCase()==="Z",De=void 0,Fe=void 0,ir=le,Ye=Et.length;ir<Ye;ir++){if(ft.push(De=[]),Fe=Et[ir],ce=Fe[0],ce!==ce.toUpperCase())switch(De[0]=ce.toUpperCase(),De[0]){case"A":De[1]=Fe[1],De[2]=Fe[2],De[3]=Fe[3],De[4]=Fe[4],De[5]=Fe[5],De[6]=+Fe[6]+et,De[7]=+Fe[7]+ht;break;case"V":De[1]=+Fe[1]+ht;break;case"H":De[1]=+Fe[1]+et;break;case"R":ue=[et,ht].concat(Fe.slice(1));for(var Re=2,wr=ue.length;Re<wr;Re++)ue[Re]=+ue[Re]+et,ue[++Re]=+ue[Re]+ht;ft.pop(),ft=ft.concat(P(ue,Oe));break;case"O":ft.pop(),ue=T(et,ht,Fe[1],Fe[2]),ue.push(ue[0]),ft=ft.concat(ue);break;case"U":ft.pop(),ft=ft.concat(T(et,ht,Fe[1],Fe[2],Fe[3])),De=["U"].concat(ft[ft.length-1].slice(-2));break;case"M":Lt=+Fe[1]+et,Ht=+Fe[2]+ht;break;default:for(var Re=1,wr=Fe.length;Re<wr;Re++)De[Re]=+Fe[Re]+(Re%2?et:ht)}else if(ce==="R")ue=[et,ht].concat(Fe.slice(1)),ft.pop(),ft=ft.concat(P(ue,Oe)),De=["R"].concat(Fe.slice(-2));else if(ce==="O")ft.pop(),ue=T(et,ht,Fe[1],Fe[2]),ue.push(ue[0]),ft=ft.concat(ue);else if(ce==="U")ft.pop(),ft=ft.concat(T(et,ht,Fe[1],Fe[2],Fe[3])),De=["U"].concat(ft[ft.length-1].slice(-2));else for(var Sr=0,Yr=Fe.length;Sr<Yr;Sr++)De[Sr]=Fe[Sr];if(ce=ce.toUpperCase(),ce!=="O")switch(De[0]){case"Z":et=+Lt,ht=+Ht;break;case"H":et=De[1];break;case"V":ht=De[1];break;case"M":Lt=De[De.length-2],Ht=De[De.length-1];break;default:et=De[De.length-2],ht=De[De.length-1]}}return ft},w=function(Et,ft,et,ht){return[Et,ft,et,ht,et,ht]},m=function(Et,ft,et,ht,Lt,Ht){var le=1/3,ce=2/3;return[le*Et+ce*et,le*ft+ce*ht,le*Lt+ce*et,le*Ht+ce*ht,Lt,Ht]},b=function(Et,ft,et,ht,Lt,Ht,le,ce,ue,Oe){et===ht&&(et+=1);var De=Math.PI*120/180,Fe=Math.PI/180*(+Lt||0),ir=[],Ye,Re,wr,Sr,Yr,zr=function(ni,dn,Hi){var cn=ni*Math.cos(Hi)-dn*Math.sin(Hi),ga=ni*Math.sin(Hi)+dn*Math.cos(Hi);return{x:cn,y:ga}};if(Oe)Re=Oe[0],wr=Oe[1],Sr=Oe[2],Yr=Oe[3];else{Ye=zr(Et,ft,-Fe),Et=Ye.x,ft=Ye.y,Ye=zr(ce,ue,-Fe),ce=Ye.x,ue=Ye.y,Et===ce&&ft===ue&&(ce+=1,ue+=1);var dr=(Et-ce)/2,tr=(ft-ue)/2,Xr=dr*dr/(et*et)+tr*tr/(ht*ht);Xr>1&&(Xr=Math.sqrt(Xr),et=Xr*et,ht=Xr*ht);var un=et*et,Mn=ht*ht,Un=(Ht===le?-1:1)*Math.sqrt(Math.abs((un*Mn-un*tr*tr-Mn*dr*dr)/(un*tr*tr+Mn*dr*dr)));Sr=Un*et*tr/ht+(Et+ce)/2,Yr=Un*-ht*dr/et+(ft+ue)/2,Re=Math.asin(((ft-Yr)/ht).toFixed(9)),wr=Math.asin(((ue-Yr)/ht).toFixed(9)),Re=Et<Sr?Math.PI-Re:Re,wr=ce<Sr?Math.PI-wr:wr,Re<0&&(Re=Math.PI*2+Re),wr<0&&(wr=Math.PI*2+wr),le&&Re>wr&&(Re=Re-Math.PI*2),!le&&wr>Re&&(wr=wr-Math.PI*2)}var $n=wr-Re;if(Math.abs($n)>De){var da=wr,En=ce,Ga=ue;wr=Re+De*(le&&wr>Re?1:-1),ce=Sr+et*Math.cos(wr),ue=Yr+ht*Math.sin(wr),ir=b(ce,ue,et,ht,Lt,0,le,En,Ga,[wr,da,Sr,Yr])}$n=wr-Re;var Qi=Math.cos(Re),za=Math.sin(Re),ua=Math.cos(wr),to=Math.sin(wr),fa=Math.tan($n/4),Pa=4/3*et*fa,pa=4/3*ht*fa,Qn=[Et,ft],Ji=[Et+Pa*za,ft-pa*Qi],_a=[ce+Pa*to,ue-pa*ua],La=[ce,ue];if(Ji[0]=2*Qn[0]-Ji[0],Ji[1]=2*Qn[1]-Ji[1],Oe)return[Ji,_a,La].concat(ir);ir=[Ji,_a,La].concat(ir).join().split(",");for(var wa=[],an=0,eo=ir.length;an<eo;an++)wa[an]=an%2?zr(ir[an-1],ir[an],Fe).y:zr(ir[an],ir[an+1],Fe).x;return wa},y=function(Et,ft){var et=p(Et),ht=ft&&p(ft),Lt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Ht={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},le=[],ce=[],ue="",Oe="",De,Fe=function(dr,tr,Xr){var un,Mn;if(!dr)return["C",tr.x,tr.y,tr.x,tr.y,tr.x,tr.y];switch(!(dr[0]in{T:1,Q:1})&&(tr.qx=tr.qy=null),dr[0]){case"M":tr.X=dr[1],tr.Y=dr[2];break;case"A":dr=["C"].concat(b.apply(0,[tr.x,tr.y].concat(dr.slice(1))));break;case"S":Xr==="C"||Xr==="S"?(un=tr.x*2-tr.bx,Mn=tr.y*2-tr.by):(un=tr.x,Mn=tr.y),dr=["C",un,Mn].concat(dr.slice(1));break;case"T":Xr==="Q"||Xr==="T"?(tr.qx=tr.x*2-tr.qx,tr.qy=tr.y*2-tr.qy):(tr.qx=tr.x,tr.qy=tr.y),dr=["C"].concat(m(tr.x,tr.y,tr.qx,tr.qy,dr[1],dr[2]));break;case"Q":tr.qx=dr[1],tr.qy=dr[2],dr=["C"].concat(m(tr.x,tr.y,dr[1],dr[2],dr[3],dr[4]));break;case"L":dr=["C"].concat(w(tr.x,tr.y,dr[1],dr[2]));break;case"H":dr=["C"].concat(w(tr.x,tr.y,dr[1],tr.y));break;case"V":dr=["C"].concat(w(tr.x,tr.y,tr.x,dr[1]));break;case"Z":dr=["C"].concat(w(tr.x,tr.y,tr.X,tr.Y));break;default:break}return dr},ir=function(dr,tr){if(dr[tr].length>7){dr[tr].shift();for(var Xr=dr[tr];Xr.length;)le[tr]="A",ht&&(ce[tr]="A"),dr.splice(tr++,0,["C"].concat(Xr.splice(0,6)));dr.splice(tr,1),De=Math.max(et.length,ht&&ht.length||0)}},Ye=function(dr,tr,Xr,un,Mn){dr&&tr&&dr[Mn][0]==="M"&&tr[Mn][0]!=="M"&&(tr.splice(Mn,0,["M",un.x,un.y]),Xr.bx=0,Xr.by=0,Xr.x=dr[Mn][1],Xr.y=dr[Mn][2],De=Math.max(et.length,ht&&ht.length||0))};De=Math.max(et.length,ht&&ht.length||0);for(var Re=0;Re<De;Re++){et[Re]&&(ue=et[Re][0]),ue!=="C"&&(le[Re]=ue,Re&&(Oe=le[Re-1])),et[Re]=Fe(et[Re],Lt,Oe),le[Re]!=="A"&&ue==="C"&&(le[Re]="C"),ir(et,Re),ht&&(ht[Re]&&(ue=ht[Re][0]),ue!=="C"&&(ce[Re]=ue,Re&&(Oe=ce[Re-1])),ht[Re]=Fe(ht[Re],Ht,Oe),ce[Re]!=="A"&&ue==="C"&&(ce[Re]="C"),ir(ht,Re)),Ye(et,ht,Lt,Ht,Re),Ye(ht,et,Ht,Lt,Re);var wr=et[Re],Sr=ht&&ht[Re],Yr=wr.length,zr=ht&&Sr.length;Lt.x=wr[Yr-2],Lt.y=wr[Yr-1],Lt.bx=parseFloat(wr[Yr-4])||Lt.x,Lt.by=parseFloat(wr[Yr-3])||Lt.y,Ht.bx=ht&&(parseFloat(Sr[zr-4])||Ht.x),Ht.by=ht&&(parseFloat(Sr[zr-3])||Ht.y),Ht.x=ht&&Sr[zr-2],Ht.y=ht&&Sr[zr-1]}return ht?[et,ht]:et},A=/,?([a-z]),?/gi,B=function(Et){return Et.join(",").replace(A,"$1")},N=function(Et,ft,et,ht,Lt){var Ht=-3*ft+9*et-9*ht+3*Lt,le=Et*Ht+6*ft-12*et+6*ht;return Et*le-3*ft+3*et},G=function(Et,ft,et,ht,Lt,Ht,le,ce,ue){ue===null&&(ue=1),ue=ue>1?1:ue<0?0:ue;for(var Oe=ue/2,De=12,Fe=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],ir=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],Ye=0,Re=0;Re<De;Re++){var wr=Oe*Fe[Re]+Oe,Sr=N(wr,Et,et,Lt,le),Yr=N(wr,ft,ht,Ht,ce),zr=Sr*Sr+Yr*Yr;Ye+=ir[Re]*Math.sqrt(zr)}return Oe*Ye},j=function(Et,ft,et,ht,Lt,Ht,le,ce){for(var ue=[],Oe=[[],[]],De,Fe,ir,Ye,Re=0;Re<2;++Re){if(Re===0?(Fe=6*Et-12*et+6*Lt,De=-3*Et+9*et-9*Lt+3*le,ir=3*et-3*Et):(Fe=6*ft-12*ht+6*Ht,De=-3*ft+9*ht-9*Ht+3*ce,ir=3*ht-3*ft),Math.abs(De)<1e-12){if(Math.abs(Fe)<1e-12)continue;Ye=-ir/Fe,Ye>0&&Ye<1&&ue.push(Ye);continue}var wr=Fe*Fe-4*ir*De,Sr=Math.sqrt(wr);if(!(wr<0)){var Yr=(-Fe+Sr)/(2*De);Yr>0&&Yr<1&&ue.push(Yr);var zr=(-Fe-Sr)/(2*De);zr>0&&zr<1&&ue.push(zr)}}for(var dr=ue.length,tr=dr,Xr;dr--;)Ye=ue[dr],Xr=1-Ye,Oe[0][dr]=Xr*Xr*Xr*Et+3*Xr*Xr*Ye*et+3*Xr*Ye*Ye*Lt+Ye*Ye*Ye*le,Oe[1][dr]=Xr*Xr*Xr*ft+3*Xr*Xr*Ye*ht+3*Xr*Ye*Ye*Ht+Ye*Ye*Ye*ce;return Oe[0][tr]=Et,Oe[1][tr]=ft,Oe[0][tr+1]=le,Oe[1][tr+1]=ce,Oe[0].length=Oe[1].length=tr+2,{min:{x:Math.min.apply(0,Oe[0]),y:Math.min.apply(0,Oe[1])},max:{x:Math.max.apply(0,Oe[0]),y:Math.max.apply(0,Oe[1])}}},J=function(Et,ft,et,ht,Lt,Ht,le,ce){if(!(Math.max(Et,et)<Math.min(Lt,le)||Math.min(Et,et)>Math.max(Lt,le)||Math.max(ft,ht)<Math.min(Ht,ce)||Math.min(ft,ht)>Math.max(Ht,ce))){var ue=(Et*ht-ft*et)*(Lt-le)-(Et-et)*(Lt*ce-Ht*le),Oe=(Et*ht-ft*et)*(Ht-ce)-(ft-ht)*(Lt*ce-Ht*le),De=(Et-et)*(Ht-ce)-(ft-ht)*(Lt-le);if(!!De){var Fe=ue/De,ir=Oe/De,Ye=+Fe.toFixed(2),Re=+ir.toFixed(2);if(!(Ye<+Math.min(Et,et).toFixed(2)||Ye>+Math.max(Et,et).toFixed(2)||Ye<+Math.min(Lt,le).toFixed(2)||Ye>+Math.max(Lt,le).toFixed(2)||Re<+Math.min(ft,ht).toFixed(2)||Re>+Math.max(ft,ht).toFixed(2)||Re<+Math.min(Ht,ce).toFixed(2)||Re>+Math.max(Ht,ce).toFixed(2)))return{x:Fe,y:ir}}}},H=function(Et,ft,et){return ft>=Et.x&&ft<=Et.x+Et.width&&et>=Et.y&&et<=Et.y+Et.height},K=function(Et,ft,et,ht,Lt){if(Lt)return[["M",+Et+ +Lt,ft],["l",et-Lt*2,0],["a",Lt,Lt,0,0,1,Lt,Lt],["l",0,ht-Lt*2],["a",Lt,Lt,0,0,1,-Lt,Lt],["l",Lt*2-et,0],["a",Lt,Lt,0,0,1,-Lt,-Lt],["l",0,Lt*2-ht],["a",Lt,Lt,0,0,1,Lt,-Lt],["z"]];var Ht=[["M",Et,ft],["l",et,0],["l",0,ht],["l",-et,0],["z"]];return Ht.parsePathArray=B,Ht},st=function(Et,ft,et,ht){return Et===null&&(Et=ft=et=ht=0),ft===null&&(ft=Et.y,et=Et.width,ht=Et.height,Et=Et.x),{x:Et,y:ft,width:et,w:et,height:ht,h:ht,x2:Et+et,y2:ft+ht,cx:Et+et/2,cy:ft+ht/2,r1:Math.min(et,ht)/2,r2:Math.max(et,ht)/2,r0:Math.sqrt(et*et+ht*ht)/2,path:K(Et,ft,et,ht),vb:[Et,ft,et,ht].join(" ")}},nt=function(Et,ft){return Et=st(Et),ft=st(ft),H(ft,Et.x,Et.y)||H(ft,Et.x2,Et.y)||H(ft,Et.x,Et.y2)||H(ft,Et.x2,Et.y2)||H(Et,ft.x,ft.y)||H(Et,ft.x2,ft.y)||H(Et,ft.x,ft.y2)||H(Et,ft.x2,ft.y2)||(Et.x<ft.x2&&Et.x>ft.x||ft.x<Et.x2&&ft.x>Et.x)&&(Et.y<ft.y2&&Et.y>ft.y||ft.y<Et.y2&&ft.y>Et.y)},wt=function(Et,ft,et,ht,Lt,Ht,le,ce){(0,O.isArray)(Et)||(Et=[Et,ft,et,ht,Lt,Ht,le,ce]);var ue=j.apply(null,Et);return st(ue.min.x,ue.min.y,ue.max.x-ue.min.x,ue.max.y-ue.min.y)},gt=function(Et,ft,et,ht,Lt,Ht,le,ce,ue){var Oe=1-ue,De=Math.pow(Oe,3),Fe=Math.pow(Oe,2),ir=ue*ue,Ye=ir*ue,Re=De*Et+Fe*3*ue*et+Oe*3*ue*ue*Lt+Ye*le,wr=De*ft+Fe*3*ue*ht+Oe*3*ue*ue*Ht+Ye*ce,Sr=Et+2*ue*(et-Et)+ir*(Lt-2*et+Et),Yr=ft+2*ue*(ht-ft)+ir*(Ht-2*ht+ft),zr=et+2*ue*(Lt-et)+ir*(le-2*Lt+et),dr=ht+2*ue*(Ht-ht)+ir*(ce-2*Ht+ht),tr=Oe*Et+ue*et,Xr=Oe*ft+ue*ht,un=Oe*Lt+ue*le,Mn=Oe*Ht+ue*ce,Un=90-Math.atan2(Sr-zr,Yr-dr)*180/Math.PI;return{x:Re,y:wr,m:{x:Sr,y:Yr},n:{x:zr,y:dr},start:{x:tr,y:Xr},end:{x:un,y:Mn},alpha:Un}},At=function(Et,ft,et){var ht=wt(Et),Lt=wt(ft);if(!nt(ht,Lt))return et?0:[];for(var Ht=G.apply(0,Et),le=G.apply(0,ft),ce=~~(Ht/8),ue=~~(le/8),Oe=[],De=[],Fe={},ir=et?0:[],Ye=0;Ye<ce+1;Ye++){var Re=gt.apply(0,Et.concat(Ye/ce));Oe.push({x:Re.x,y:Re.y,t:Ye/ce})}for(var Ye=0;Ye<ue+1;Ye++){var Re=gt.apply(0,ft.concat(Ye/ue));De.push({x:Re.x,y:Re.y,t:Ye/ue})}for(var Ye=0;Ye<ce;Ye++)for(var wr=0;wr<ue;wr++){var Sr=Oe[Ye],Yr=Oe[Ye+1],zr=De[wr],dr=De[wr+1],tr=Math.abs(Yr.x-Sr.x)<.001?"y":"x",Xr=Math.abs(dr.x-zr.x)<.001?"y":"x",un=J(Sr.x,Sr.y,Yr.x,Yr.y,zr.x,zr.y,dr.x,dr.y);if(un){if(Fe[un.x.toFixed(4)]===un.y.toFixed(4))continue;Fe[un.x.toFixed(4)]=un.y.toFixed(4);var Mn=Sr.t+Math.abs((un[tr]-Sr[tr])/(Yr[tr]-Sr[tr]))*(Yr.t-Sr.t),Un=zr.t+Math.abs((un[Xr]-zr[Xr])/(dr[Xr]-zr[Xr]))*(dr.t-zr.t);Mn>=0&&Mn<=1&&Un>=0&&Un<=1&&(et?ir+=1:ir.push({x:un.x,y:un.y,t1:Mn,t2:Un}))}}return ir},X=function(Et,ft,et){Et=y(Et),ft=y(ft);for(var ht,Lt,Ht,le,ce,ue,Oe,De,Fe,ir,Ye=et?0:[],Re=0,wr=Et.length;Re<wr;Re++){var Sr=Et[Re];if(Sr[0]==="M")ht=ce=Sr[1],Lt=ue=Sr[2];else{Sr[0]==="C"?(Fe=[ht,Lt].concat(Sr.slice(1)),ht=Fe[6],Lt=Fe[7]):(Fe=[ht,Lt,ht,Lt,ce,ue,ce,ue],ht=ce,Lt=ue);for(var Yr=0,zr=ft.length;Yr<zr;Yr++){var dr=ft[Yr];if(dr[0]==="M")Ht=Oe=dr[1],le=De=dr[2];else{dr[0]==="C"?(ir=[Ht,le].concat(dr.slice(1)),Ht=ir[6],le=ir[7]):(ir=[Ht,le,Ht,le,Oe,De,Oe,De],Ht=Oe,le=De);var tr=At(Fe,ir,et);if(et)Ye+=tr;else{for(var Xr=0,un=tr.length;Xr<un;Xr++)tr[Xr].segment1=Re,tr[Xr].segment2=Yr,tr[Xr].bez1=Fe,tr[Xr].bez2=ir;Ye=Ye.concat(tr)}}}}}return Ye},Z=function(Et,ft){return X(Et,ft)};function tt(Et,ft){var et=[],ht=[];function Lt(Ht,le){if(Ht.length===1)et.push(Ht[0]),ht.push(Ht[0]);else{for(var ce=[],ue=0;ue<Ht.length-1;ue++)ue===0&&et.push(Ht[0]),ue===Ht.length-2&&ht.push(Ht[ue+1]),ce[ue]=[(1-le)*Ht[ue][0]+le*Ht[ue+1][0],(1-le)*Ht[ue][1]+le*Ht[ue+1][1]];Lt(ce,le)}}return Et.length&&Lt(Et,ft),{left:et,right:ht.reverse()}}function Q(Et,ft,et){var ht=[[Et[1],Et[2]]];et=et||2;var Lt=[];ft[0]==="A"?(ht.push(ft[6]),ht.push(ft[7])):ft[0]==="C"?(ht.push([ft[1],ft[2]]),ht.push([ft[3],ft[4]]),ht.push([ft[5],ft[6]])):ft[0]==="S"||ft[0]==="Q"?(ht.push([ft[1],ft[2]]),ht.push([ft[3],ft[4]])):ht.push([ft[1],ft[2]]);for(var Ht=ht,le=1/et,ce=0;ce<et-1;ce++){var ue=le/(1-le*ce),Oe=tt(Ht,ue);Lt.push(Oe.left),Ht=Oe.right}Lt.push(Ht);var De=Lt.map(function(Fe){var ir=[];return Fe.length===4&&(ir.push("C"),ir=ir.concat(Fe[2])),Fe.length>=3&&(Fe.length===3&&ir.push("Q"),ir=ir.concat(Fe[1])),Fe.length===2&&ir.push("L"),ir=ir.concat(Fe[Fe.length-1]),ir});return De}var vt=function(Et,ft,et){if(et===1)return[[].concat(Et)];var ht=[];if(ft[0]==="L"||ft[0]==="C"||ft[0]==="Q")ht=ht.concat(Q(Et,ft,et));else{var Lt=[].concat(Et);Lt[0]==="M"&&(Lt[0]="L");for(var Ht=0;Ht<=et-1;Ht++)ht.push(Lt)}return ht},lt=function(Et,ft){if(Et.length===1)return Et;var et=Et.length-1,ht=ft.length-1,Lt=et/ht,Ht=[];if(Et.length===1&&Et[0][0]==="M"){for(var le=0;le<ht-et;le++)Et.push(Et[0]);return Et}for(var le=0;le<ht;le++){var ce=Math.floor(Lt*le);Ht[ce]=(Ht[ce]||0)+1}var ue=Ht.reduce(function(Oe,De,Fe){return Fe===et?Oe.concat(Et[et]):Oe.concat(vt(Et[Fe],Et[Fe+1],De))},[]);return ue.unshift(Et[0]),(ft[ht]==="Z"||ft[ht]==="z")&&ue.push("Z"),ue},rt=function(Et,ft){if(Et.length!==ft.length)return!1;var et=!0;return(0,O.each)(Et,function(ht,Lt){if(ht!==ft[Lt])return et=!1,!1}),et};function U(Et,ft,et){var ht=null,Lt=et;return ft<Lt&&(Lt=ft,ht="add"),Et<Lt&&(Lt=Et,ht="del"),{type:ht,min:Lt}}var $=function(Et,ft){var et=Et.length,ht=ft.length,Lt,Ht,le=0;if(et===0||ht===0)return null;for(var ce=[],ue=0;ue<=et;ue++)ce[ue]=[],ce[ue][0]={min:ue};for(var Oe=0;Oe<=ht;Oe++)ce[0][Oe]={min:Oe};for(var ue=1;ue<=et;ue++){Lt=Et[ue-1];for(var Oe=1;Oe<=ht;Oe++){Ht=ft[Oe-1],rt(Lt,Ht)?le=0:le=1;var De=ce[ue-1][Oe].min+1,Fe=ce[ue][Oe-1].min+1,ir=ce[ue-1][Oe-1].min+le;ce[ue][Oe]=U(De,Fe,ir)}}return ce},f=function(Et,ft){var et=$(Et,ft),ht=Et.length,Lt=ft.length,Ht=[],le=1,ce=1;if(et[ht][Lt].min!==ht){for(var ue=1;ue<=ht;ue++){var Oe=et[ue][ue].min;ce=ue;for(var De=le;De<=Lt;De++)et[ue][De].min<Oe&&(Oe=et[ue][De].min,ce=De);le=ce,et[ue][le].type&&Ht.push({index:ue-1,type:et[ue][le].type})}for(var ue=Ht.length-1;ue>=0;ue--)le=Ht[ue].index,Ht[ue].type==="add"?Et.splice(le,0,[].concat(Et[le])):Et.splice(le,1)}ht=Et.length;var Fe=Lt-ht;if(ht<Lt)for(var ue=0;ue<Fe;ue++)Et[ht-1][0]==="z"||Et[ht-1][0]==="Z"?Et.splice(ht-2,0,Et[ht-2]):Et.push(Et[ht-1]),ht+=1;return Et};function xt(Et,ft,et){for(var ht=[].concat(Et),Lt,Ht=1/(et+1),le=Ct(ft)[0],ce=1;ce<=et;ce++)Ht*=ce,Lt=Math.floor(Et.length*Ht),Lt===0?ht.unshift([le[0]*Ht+Et[Lt][0]*(1-Ht),le[1]*Ht+Et[Lt][1]*(1-Ht)]):ht.splice(Lt,0,[le[0]*Ht+Et[Lt][0]*(1-Ht),le[1]*Ht+Et[Lt][1]*(1-Ht)]);return ht}function Ct(Et){var ft=[];switch(Et[0]){case"M":ft.push([Et[1],Et[2]]);break;case"L":ft.push([Et[1],Et[2]]);break;case"A":ft.push([Et[6],Et[7]]);break;case"Q":ft.push([Et[3],Et[4]]),ft.push([Et[1],Et[2]]);break;case"T":ft.push([Et[1],Et[2]]);break;case"C":ft.push([Et[5],Et[6]]),ft.push([Et[1],Et[2]]),ft.push([Et[3],Et[4]]);break;case"S":ft.push([Et[3],Et[4]]),ft.push([Et[1],Et[2]]);break;case"H":ft.push([Et[1],Et[1]]);break;case"V":ft.push([Et[1],Et[1]]);break;default:}return ft}var Bt=function(Et,ft){if(Et.length<=1)return Et;for(var et,ht=0;ht<ft.length;ht++)if(Et[ht][0]!==ft[ht][0])switch(et=Ct(Et[ht]),ft[ht][0]){case"M":Et[ht]=["M"].concat(et[0]);break;case"L":Et[ht]=["L"].concat(et[0]);break;case"A":Et[ht]=[].concat(ft[ht]),Et[ht][6]=et[0][0],Et[ht][7]=et[0][1];break;case"Q":if(et.length<2)if(ht>0)et=xt(et,Et[ht-1],1);else{Et[ht]=ft[ht];break}Et[ht]=["Q"].concat(et.reduce(function(Lt,Ht){return Lt.concat(Ht)},[]));break;case"T":Et[ht]=["T"].concat(et[0]);break;case"C":if(et.length<3)if(ht>0)et=xt(et,Et[ht-1],2);else{Et[ht]=ft[ht];break}Et[ht]=["C"].concat(et.reduce(function(Lt,Ht){return Lt.concat(Ht)},[]));break;case"S":if(et.length<2)if(ht>0)et=xt(et,Et[ht-1],1);else{Et[ht]=ft[ht];break}Et[ht]=["S"].concat(et.reduce(function(Lt,Ht){return Lt.concat(Ht)},[]));break;default:Et[ht]=ft[ht]}return Et},qt=function(){function Et(ft,et){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=ft,this.name=ft,this.originalEvent=et,this.timeStamp=et.timeStamp}return Et.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},Et.prototype.stopPropagation=function(){this.propagationStopped=!0},Et.prototype.toString=function(){var ft=this.type;return"[Event (type="+ft+")]"},Et.prototype.save=function(){},Et.prototype.restore=function(){},Et}(),Gt=qt,Jt=d(70655),ie=d(90494),se=d(73890),Kt=d(46812),kt=d(21830),Mt=d(33643),pt=d(66631),Pt=d(66974),ut=d(27154),at=d(85260);function St(Et,ft){var et=Et.indexOf(ft);et!==-1&&Et.splice(et,1)}var Ot=typeof window!="undefined"&&typeof window.document!="undefined";function Ut(Et,ft){if(Et.isCanvas())return!0;for(var et=ft.getParent(),ht=!1;et;){if(et===Et){ht=!0;break}et=et.getParent()}return ht}function oe(Et){return Et.cfg.visible&&Et.cfg.capture}var we=function(Et){(0,Jt.__extends)(ft,Et);function ft(et){var ht=Et.call(this)||this;ht.destroyed=!1;var Lt=ht.getDefaultCfg();return ht.cfg=(0,Pt.default)(Lt,et),ht}return ft.prototype.getDefaultCfg=function(){return{}},ft.prototype.get=function(et){return this.cfg[et]},ft.prototype.set=function(et,ht){this.cfg[et]=ht},ft.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},ft}(ie.default),Ie=we,Be=d(43631),ur=d(31506);function vr(Et,ft){var et=[],ht=Et[0],Lt=Et[1],Ht=Et[2],le=Et[3],ce=Et[4],ue=Et[5],Oe=Et[6],De=Et[7],Fe=Et[8],ir=ft[0],Ye=ft[1],Re=ft[2],wr=ft[3],Sr=ft[4],Yr=ft[5],zr=ft[6],dr=ft[7],tr=ft[8];return et[0]=ir*ht+Ye*le+Re*Oe,et[1]=ir*Lt+Ye*ce+Re*De,et[2]=ir*Ht+Ye*ue+Re*Fe,et[3]=wr*ht+Sr*le+Yr*Oe,et[4]=wr*Lt+Sr*ce+Yr*De,et[5]=wr*Ht+Sr*ue+Yr*Fe,et[6]=zr*ht+dr*le+tr*Oe,et[7]=zr*Lt+dr*ce+tr*De,et[8]=zr*Ht+dr*ue+tr*Fe,et}function fr(Et,ft){var et=[],ht=ft[0],Lt=ft[1];return et[0]=Et[0]*ht+Et[3]*Lt+Et[6],et[1]=Et[1]*ht+Et[4]*Lt+Et[7],et}function Ar(Et){var ft=[],et=Et[0],ht=Et[1],Lt=Et[2],Ht=Et[3],le=Et[4],ce=Et[5],ue=Et[6],Oe=Et[7],De=Et[8],Fe=De*le-ce*Oe,ir=-De*Ht+ce*ue,Ye=Oe*Ht-le*ue,Re=et*Fe+ht*ir+Lt*Ye;return Re?(Re=1/Re,ft[0]=Fe*Re,ft[1]=(-De*ht+Lt*Oe)*Re,ft[2]=(ce*ht-Lt*le)*Re,ft[3]=ir*Re,ft[4]=(De*et-Lt*ue)*Re,ft[5]=(-ce*et+Lt*Ht)*Re,ft[6]=Ye*Re,ft[7]=(-Oe*et+ht*ue)*Re,ft[8]=(le*et-ht*Ht)*Re,ft):null}var or="matrix",Gr=["zIndex","capture","visible","type"],ln=["repeat"],Nr=":",nn="*";function fi(Et){for(var ft=[],et=0;et<Et.length;et++)(0,O.isArray)(Et[et])?ft.push([].concat(Et[et])):ft.push(Et[et]);return ft}function hi(Et,ft){var et={},ht=ft.attrs;for(var Lt in Et)et[Lt]=ht[Lt];return et}function Si(Et,ft){var et={},ht=ft.attr();return(0,O.each)(Et,function(Lt,Ht){ln.indexOf(Ht)===-1&&!(0,O.isEqual)(ht[Ht],Lt)&&(et[Ht]=Lt)}),et}function Ci(Et,ft){if(ft.onFrame)return Et;var et=ft.startTime,ht=ft.delay,Lt=ft.duration,Ht=Object.prototype.hasOwnProperty;return(0,O.each)(Et,function(le){et+ht<le.startTime+le.delay+le.duration&&Lt>le.delay&&(0,O.each)(ft.toAttrs,function(ce,ue){Ht.call(le.toAttrs,ue)&&(delete le.toAttrs[ue],delete le.fromAttrs[ue])})}),Et}var Vt=function(Et){(0,Jt.__extends)(ft,Et);function ft(et){var ht=Et.call(this,et)||this;ht.attrs={};var Lt=ht.getDefaultAttrs();return(0,O.mix)(Lt,et.attrs),ht.attrs=Lt,ht.initAttrs(Lt),ht.initAnimate(),ht}return ft.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},ft.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},ft.prototype.onCanvasChange=function(et){},ft.prototype.initAttrs=function(et){},ft.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},ft.prototype.isGroup=function(){return!1},ft.prototype.getParent=function(){return this.get("parent")},ft.prototype.getCanvas=function(){return this.get("canvas")},ft.prototype.attr=function(){for(var et,ht=[],Lt=0;Lt<arguments.length;Lt++)ht[Lt]=arguments[Lt];var Ht=ht[0],le=ht[1];if(!Ht)return this.attrs;if((0,O.isObject)(Ht)){for(var ce in Ht)this.setAttr(ce,Ht[ce]);return this.afterAttrsChange(Ht),this}return ht.length===2?(this.setAttr(Ht,le),this.afterAttrsChange((et={},et[Ht]=le,et)),this):this.attrs[Ht]},ft.prototype.isClipped=function(et,ht){var Lt=this.getClip();return Lt&&!Lt.isHit(et,ht)},ft.prototype.setAttr=function(et,ht){var Lt=this.attrs[et];Lt!==ht&&(this.attrs[et]=ht,this.onAttrChange(et,ht,Lt))},ft.prototype.onAttrChange=function(et,ht,Lt){et==="matrix"&&this.set("totalMatrix",null)},ft.prototype.afterAttrsChange=function(et){this.onCanvasChange("attr")},ft.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},ft.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},ft.prototype.setZIndex=function(et){this.set("zIndex",et);var ht=this.getParent();return ht&&ht.sort(),this},ft.prototype.toFront=function(){var et=this.getParent();if(!!et){var ht=et.getChildren(),Lt=this.get("el"),Ht=ht.indexOf(this);ht.splice(Ht,1),ht.push(this),this.onCanvasChange("zIndex")}},ft.prototype.toBack=function(){var et=this.getParent();if(!!et){var ht=et.getChildren(),Lt=this.get("el"),Ht=ht.indexOf(this);ht.splice(Ht,1),ht.unshift(this),this.onCanvasChange("zIndex")}},ft.prototype.remove=function(et){et===void 0&&(et=!0);var ht=this.getParent();ht?(St(ht.getChildren(),this),ht.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),et&&this.destroy()},ft.prototype.resetMatrix=function(){this.attr(or,this.getDefaultMatrix()),this.onCanvasChange("matrix")},ft.prototype.getMatrix=function(){return this.attr(or)},ft.prototype.setMatrix=function(et){this.attr(or,et),this.onCanvasChange("matrix")},ft.prototype.getTotalMatrix=function(){var et=this.get("totalMatrix");if(!et){var ht=this.attr("matrix"),Lt=this.get("parentMatrix");Lt&&ht?et=vr(Lt,ht):et=ht||Lt,this.set("totalMatrix",et)}return et},ft.prototype.applyMatrix=function(et){var ht=this.attr("matrix"),Lt=null;et&&ht?Lt=vr(et,ht):Lt=ht||et,this.set("totalMatrix",Lt),this.set("parentMatrix",et)},ft.prototype.getDefaultMatrix=function(){return null},ft.prototype.applyToMatrix=function(et){var ht=this.attr("matrix");return ht?fr(ht,et):et},ft.prototype.invertFromMatrix=function(et){var ht=this.attr("matrix");if(ht){var Lt=Ar(ht);if(Lt)return fr(Lt,et)}return et},ft.prototype.setClip=function(et){var ht=this.getCanvas(),Lt=null;if(et){var Ht=this.getShapeBase(),le=(0,O.upperFirst)(et.type),ce=Ht[le];ce&&(Lt=new ce({type:et.type,isClipShape:!0,attrs:et.attrs,canvas:ht}))}return this.set("clipShape",Lt),this.onCanvasChange("clip"),Lt},ft.prototype.getClip=function(){var et=this.cfg.clipShape;return et||null},ft.prototype.clone=function(){var et=this,ht=this.attrs,Lt={};(0,O.each)(ht,function(ce,ue){(0,O.isArray)(ht[ue])?Lt[ue]=fi(ht[ue]):Lt[ue]=ht[ue]});var Ht=this.constructor,le=new Ht({attrs:Lt});return(0,O.each)(Gr,function(ce){le.set(ce,et.get(ce))}),le},ft.prototype.destroy=function(){var et=this.destroyed;et||(this.attrs={},Et.prototype.destroy.call(this))},ft.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},ft.prototype.animate=function(){for(var et=[],ht=0;ht<arguments.length;ht++)et[ht]=arguments[ht];this.set("animating",!0);var Lt=this.get("timeline");Lt||(Lt=this.get("canvas").get("timeline"),this.set("timeline",Lt));var Ht=this.get("animations")||[];Lt.timer||Lt.initTimer();var le=et[0],ce=et[1],ue=et[2],Oe=ue===void 0?"easeLinear":ue,De=et[3],Fe=De===void 0?O.noop:De,ir=et[4],Ye=ir===void 0?0:ir,Re,wr,Sr,Yr,zr;(0,O.isFunction)(le)?(Re=le,le={}):(0,O.isObject)(le)&&le.onFrame&&(Re=le.onFrame,wr=le.repeat),(0,O.isObject)(ce)?(zr=ce,ce=zr.duration,Oe=zr.easing||"easeLinear",Ye=zr.delay||0,wr=zr.repeat||wr||!1,Fe=zr.callback||O.noop,Sr=zr.pauseCallback||O.noop,Yr=zr.resumeCallback||O.noop):((0,O.isNumber)(Fe)&&(Ye=Fe,Fe=null),(0,O.isFunction)(Oe)?(Fe=Oe,Oe="easeLinear"):Oe=Oe||"easeLinear");var dr=Si(le,this),tr={fromAttrs:hi(dr,this),toAttrs:dr,duration:ce,easing:Oe,repeat:wr,callback:Fe,pauseCallback:Sr,resumeCallback:Yr,delay:Ye,startTime:Lt.getTime(),id:(0,O.uniqueId)(),onFrame:Re,pathFormatted:!1};Ht.length>0?Ht=Ci(Ht,tr):Lt.addAnimator(this),Ht.push(tr),this.set("animations",Ht),this.set("_pause",{isPaused:!1})},ft.prototype.stopAnimate=function(et){var ht=this;et===void 0&&(et=!0);var Lt=this.get("animations");(0,O.each)(Lt,function(Ht){et&&(Ht.onFrame?ht.attr(Ht.onFrame(1)):ht.attr(Ht.toAttrs)),Ht.callback&&Ht.callback()}),this.set("animating",!1),this.set("animations",[])},ft.prototype.pauseAnimate=function(){var et=this.get("timeline"),ht=this.get("animations"),Lt=et.getTime();return(0,O.each)(ht,function(Ht){Ht._paused=!0,Ht._pauseTime=Lt,Ht.pauseCallback&&Ht.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:Lt}),this},ft.prototype.resumeAnimate=function(){var et=this.get("timeline"),ht=et.getTime(),Lt=this.get("animations"),Ht=this.get("_pause").pauseTime;return(0,O.each)(Lt,function(le){le.startTime=le.startTime+(ht-Ht),le._paused=!1,le._pauseTime=null,le.resumeCallback&&le.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",Lt),this},ft.prototype.emitDelegation=function(et,ht){var Lt=this,Ht=ht.propagationPath,le=this.getEvents(),ce;et==="mouseenter"?ce=ht.fromShape:et==="mouseleave"&&(ce=ht.toShape);for(var ue=function(ir){var Ye=Ht[ir],Re=Ye.get("name");if(Re){if((Ye.isGroup()||Ye.isCanvas&&Ye.isCanvas())&&ce&&Ut(Ye,ce))return"break";(0,O.isArray)(Re)?(0,O.each)(Re,function(wr){Lt.emitDelegateEvent(Ye,wr,ht)}):Oe.emitDelegateEvent(Ye,Re,ht)}},Oe=this,De=0;De<Ht.length;De++){var Fe=ue(De);if(Fe==="break")break}},ft.prototype.emitDelegateEvent=function(et,ht,Lt){var Ht=this.getEvents(),le=ht+Nr+Lt.type;(Ht[le]||Ht[nn])&&(Lt.name=le,Lt.currentTarget=et,Lt.delegateTarget=this,Lt.delegateObject=et.get("delegateObject"),this.emit(le,Lt))},ft.prototype.translate=function(et,ht){et===void 0&&(et=0),ht===void 0&&(ht=0);var Lt=this.getMatrix(),Ht=ur.transform(Lt,[["t",et,ht]]);return this.setMatrix(Ht),this},ft.prototype.move=function(et,ht){var Lt=this.attr("x")||0,Ht=this.attr("y")||0;return this.translate(et-Lt,ht-Ht),this},ft.prototype.moveTo=function(et,ht){return this.move(et,ht)},ft.prototype.scale=function(et,ht){var Lt=this.getMatrix(),Ht=ur.transform(Lt,[["s",et,ht||et]]);return this.setMatrix(Ht),this},ft.prototype.rotate=function(et){var ht=this.getMatrix(),Lt=ur.transform(ht,[["r",et]]);return this.setMatrix(Lt),this},ft.prototype.rotateAtStart=function(et){var ht=this.attr(),Lt=ht.x,Ht=ht.y,le=this.getMatrix(),ce=ur.transform(le,[["t",-Lt,-Ht],["r",et],["t",Lt,Ht]]);return this.setMatrix(ce),this},ft.prototype.rotateAtPoint=function(et,ht,Lt){var Ht=this.getMatrix(),le=ur.transform(Ht,[["t",-et,-ht],["r",Lt],["t",et,ht]]);return this.setMatrix(le),this},ft}(Ie),$t=Vt,ae={},he="_INDEX";function me(Et){Et.isGroup()?(Et.isEntityGroup()||Et.get("children").length)&&Et.onCanvasChange("add"):Et.onCanvasChange("add")}function Se(Et,ft){if(Et.set("canvas",ft),Et.isGroup()){var et=Et.get("children");et.length&&et.forEach(function(ht){Se(ht,ft)})}}function Ce(Et,ft){if(Et.set("timeline",ft),Et.isGroup()){var et=Et.get("children");et.length&&et.forEach(function(ht){Ce(ht,ft)})}}function Pe(Et,ft){var et=Et.getChildren();return et.indexOf(ft)>=0}function pe(Et,ft,et){et===void 0&&(et=!0),et?ft.destroy():(ft.set("parent",null),ft.set("canvas",null)),St(Et.getChildren(),ft)}function Ve(Et){return function(ft,et){var ht=Et(ft,et);return ht===0?ft[he]-et[he]:ht}}var Ne=function(Et){(0,Jt.__extends)(ft,Et);function ft(){return Et!==null&&Et.apply(this,arguments)||this}return ft.prototype.isCanvas=function(){return!1},ft.prototype.getBBox=function(){var et=Infinity,ht=-Infinity,Lt=Infinity,Ht=-Infinity,le=[],ce=[],ue=this.getChildren().filter(function(De){return De.get("visible")&&(!De.isGroup()||De.isGroup()&&De.getChildren().length>0)});ue.length>0?((0,ut.default)(ue,function(De){var Fe=De.getBBox();le.push(Fe.minX,Fe.maxX),ce.push(Fe.minY,Fe.maxY)}),et=Math.min.apply(null,le),ht=Math.max.apply(null,le),Lt=Math.min.apply(null,ce),Ht=Math.max.apply(null,ce)):(et=0,ht=0,Lt=0,Ht=0);var Oe={x:et,y:Lt,minX:et,minY:Lt,maxX:ht,maxY:Ht,width:ht-et,height:Ht-Lt};return Oe},ft.prototype.getCanvasBBox=function(){var et=Infinity,ht=-Infinity,Lt=Infinity,Ht=-Infinity,le=[],ce=[],ue=this.getChildren().filter(function(De){return De.get("visible")&&(!De.isGroup()||De.isGroup()&&De.getChildren().length>0)});ue.length>0?((0,ut.default)(ue,function(De){var Fe=De.getCanvasBBox();le.push(Fe.minX,Fe.maxX),ce.push(Fe.minY,Fe.maxY)}),et=Math.min.apply(null,le),ht=Math.max.apply(null,le),Lt=Math.min.apply(null,ce),Ht=Math.max.apply(null,ce)):(et=0,ht=0,Lt=0,Ht=0);var Oe={x:et,y:Lt,minX:et,minY:Lt,maxX:ht,maxY:Ht,width:ht-et,height:Ht-Lt};return Oe},ft.prototype.getDefaultCfg=function(){var et=Et.prototype.getDefaultCfg.call(this);return et.children=[],et},ft.prototype.onAttrChange=function(et,ht,Lt){if(Et.prototype.onAttrChange.call(this,et,ht,Lt),et==="matrix"){var Ht=this.getTotalMatrix();this._applyChildrenMarix(Ht)}},ft.prototype.applyMatrix=function(et){var ht=this.getTotalMatrix();Et.prototype.applyMatrix.call(this,et);var Lt=this.getTotalMatrix();Lt!==ht&&this._applyChildrenMarix(Lt)},ft.prototype._applyChildrenMarix=function(et){var ht=this.getChildren();(0,ut.default)(ht,function(Lt){Lt.applyMatrix(et)})},ft.prototype.addShape=function(){for(var et=[],ht=0;ht<arguments.length;ht++)et[ht]=arguments[ht];var Lt=et[0],Ht=et[1];(0,Mt.default)(Lt)?Ht=Lt:Ht.type=Lt;var le=ae[Ht.type];le||(le=(0,at.default)(Ht.type),ae[Ht.type]=le);var ce=this.getShapeBase(),ue=new ce[le](Ht);return this.add(ue),ue},ft.prototype.addGroup=function(){for(var et=[],ht=0;ht<arguments.length;ht++)et[ht]=arguments[ht];var Lt=et[0],Ht=et[1],le;if((0,Kt.default)(Lt))Ht?le=new Lt(Ht):le=new Lt({parent:this});else{var ce=Lt||{},ue=this.getGroupBase();le=new ue(ce)}return this.add(le),le},ft.prototype.getCanvas=function(){var et;return this.isCanvas()?et=this:et=this.get("canvas"),et},ft.prototype.getShape=function(et,ht,Lt){if(!oe(this))return null;var Ht=this.getChildren(),le;if(this.isCanvas())le=this._findShape(Ht,et,ht,Lt);else{var ce=[et,ht,1];ce=this.invertFromMatrix(ce),this.isClipped(ce[0],ce[1])||(le=this._findShape(Ht,ce[0],ce[1],Lt))}return le},ft.prototype._findShape=function(et,ht,Lt,Ht){for(var le=null,ce=et.length-1;ce>=0;ce--){var ue=et[ce];if(oe(ue)&&(ue.isGroup()?le=ue.getShape(ht,Lt,Ht):ue.isHit(ht,Lt)&&(le=ue)),le)break}return le},ft.prototype.add=function(et){var ht=this.getCanvas(),Lt=this.getChildren(),Ht=this.get("timeline"),le=et.getParent();le&&pe(le,et,!1),et.set("parent",this),ht&&Se(et,ht),Ht&&Ce(et,Ht),Lt.push(et),me(et),this._applyElementMatrix(et)},ft.prototype._applyElementMatrix=function(et){var ht=this.getTotalMatrix();ht&&et.applyMatrix(ht)},ft.prototype.getChildren=function(){return this.get("children")},ft.prototype.sort=function(){var et=this.getChildren();(0,ut.default)(et,function(ht,Lt){return ht[he]=Lt,ht}),et.sort(Ve(function(ht,Lt){return ht.get("zIndex")-Lt.get("zIndex")})),this.onCanvasChange("sort")},ft.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var et=this.getChildren(),ht=et.length-1;ht>=0;ht--)et[ht].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},ft.prototype.destroy=function(){this.get("destroyed")||(this.clear(),Et.prototype.destroy.call(this))},ft.prototype.getFirst=function(){return this.getChildByIndex(0)},ft.prototype.getLast=function(){var et=this.getChildren();return this.getChildByIndex(et.length-1)},ft.prototype.getChildByIndex=function(et){var ht=this.getChildren();return ht[et]},ft.prototype.getCount=function(){var et=this.getChildren();return et.length},ft.prototype.contain=function(et){var ht=this.getChildren();return ht.indexOf(et)>-1},ft.prototype.removeChild=function(et,ht){ht===void 0&&(ht=!0),this.contain(et)&&et.remove(ht)},ft.prototype.findAll=function(et){var ht=[],Lt=this.getChildren();return(0,ut.default)(Lt,function(Ht){et(Ht)&&ht.push(Ht),Ht.isGroup()&&(ht=ht.concat(Ht.findAll(et)))}),ht},ft.prototype.find=function(et){var ht=null,Lt=this.getChildren();return(0,ut.default)(Lt,function(Ht){if(et(Ht)?ht=Ht:Ht.isGroup()&&(ht=Ht.find(et)),ht)return!1}),ht},ft.prototype.findById=function(et){return this.find(function(ht){return ht.get("id")===et})},ft.prototype.findByClassName=function(et){return this.find(function(ht){return ht.get("className")===et})},ft.prototype.findAllByName=function(et){return this.findAll(function(ht){return ht.get("name")===et})},ft}($t),er=Ne,hr=0,rr=0,ar=0,lr=1e3,yr,Ke,Er=0,Ir=0,Lr=0,Br=typeof performance=="object"&&performance.now?performance:Date,jr=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(Et){setTimeout(Et,17)};function Hr(){return Ir||(jr(kn),Ir=Br.now()+Lr)}function kn(){Ir=0}function tn(){this._call=this._time=this._next=null}tn.prototype=Yn.prototype={constructor:tn,restart:function(Et,ft,et){if(typeof Et!="function")throw new TypeError("callback is not a function");et=(et==null?Hr():+et)+(ft==null?0:+ft),!this._next&&Ke!==this&&(Ke?Ke._next=this:yr=this,Ke=this),this._call=Et,this._time=et,Tr()},stop:function(){this._call&&(this._call=null,this._time=Infinity,Tr())}};function Yn(Et,ft,et){var ht=new tn;return ht.restart(Et,ft,et),ht}function ti(){Hr(),++hr;for(var Et=yr,ft;Et;)(ft=Ir-Et._time)>=0&&Et._call.call(null,ft),Et=Et._next;--hr}function jn(){Ir=(Er=Br.now())+Lr,hr=rr=0;try{ti()}finally{hr=0,_i(),Ir=0}}function yi(){var Et=Br.now(),ft=Et-Er;ft>lr&&(Lr-=ft,Er=Et)}function _i(){for(var Et,ft=yr,et,ht=Infinity;ft;)ft._call?(ht>ft._time&&(ht=ft._time),Et=ft,ft=ft._next):(et=ft._next,ft._next=null,ft=Et?Et._next=et:yr=et);Ke=Et,Tr(ht)}function Tr(Et){if(!hr){rr&&(rr=clearTimeout(rr));var ft=Et-Ir;ft>24?(Et<Infinity&&(rr=setTimeout(jn,Et-Br.now()-Lr)),ar&&(ar=clearInterval(ar))):(ar||(Er=Br.now(),ar=setInterval(yi,lr)),hr=1,jr(jn))}}var mi=d(13681),ci=d(26257),ei=d(88122),xn=function(Et){return["fill","stroke","fillStyle","strokeStyle"].includes(Et)},ai=function(Et){return/^[r,R,L,l]{1}[\s]*\(/.test(Et)},oi=[1,0,0,0,1,0,0,0,1];function ri(Et,ft,et){var ht={},Lt=ft.fromAttrs,Ht=ft.toAttrs;if(!Et.destroyed){var le;for(var ce in Ht)if(!(0,O.isEqual)(Lt[ce],Ht[ce]))if(ce==="path"){var ue=Ht[ce],Oe=Lt[ce];ue.length>Oe.length?(ue=_(Ht[ce]),Oe=_(Lt[ce]),Oe=f(Oe,ue),Oe=Bt(Oe,ue),ft.fromAttrs.path=Oe,ft.toAttrs.path=ue):ft.pathFormatted||(ue=_(Ht[ce]),Oe=_(Lt[ce]),Oe=Bt(Oe,ue),ft.fromAttrs.path=Oe,ft.toAttrs.path=ue,ft.pathFormatted=!0),ht[ce]=[];for(var De=0;De<ue.length;De++){for(var Fe=ue[De],ir=Oe[De],Ye=[],Re=0;Re<Fe.length;Re++)(0,O.isNumber)(Fe[Re])&&ir&&(0,O.isNumber)(ir[Re])?(le=(0,ci.Z)(ir[Re],Fe[Re]),Ye.push(le(et))):Ye.push(Fe[Re]);ht[ce].push(Ye)}}else if(ce==="matrix"){var wr=(0,ei.Z)(Lt[ce]||oi,Ht[ce]||oi),Sr=wr(et);ht[ce]=Sr}else xn(ce)&&ai(Ht[ce])?ht[ce]=Ht[ce]:(0,O.isFunction)(Ht[ce])||(le=(0,ci.Z)(Lt[ce],Ht[ce]),ht[ce]=le(et));Et.attr(ht)}}function si(Et,ft,et){var ht=ft.startTime,Lt=ft.delay;if(et<ht+Lt||ft._paused)return!1;var Ht,le=ft.duration,ce=ft.easing;if(et=et-ht-ft.delay,ft.repeat)Ht=et%le/le,Ht=mi[ce](Ht);else if(Ht=et/le,Ht<1)Ht=mi[ce](Ht);else return ft.onFrame?Et.attr(ft.onFrame(1)):Et.attr(ft.toAttrs),!0;if(ft.onFrame){var ue=ft.onFrame(Ht);Et.attr(ue)}else ri(Et,ft,Ht);return!1}var Vn=function(){function Et(ft){this.animators=[],this.current=0,this.timer=null,this.canvas=ft}return Et.prototype.initTimer=function(){var ft=this,et=!1,ht,Lt,Ht;this.timer=Yn(function(le){if(ft.current=le,ft.animators.length>0){for(var ce=ft.animators.length-1;ce>=0;ce--){if(ht=ft.animators[ce],ht.destroyed){ft.removeAnimator(ce);continue}if(!ht.isAnimatePaused()){Lt=ht.get("animations");for(var ue=Lt.length-1;ue>=0;ue--)Ht=Lt[ue],et=si(ht,Ht,le),et&&(Lt.splice(ue,1),et=!1,Ht.callback&&Ht.callback())}Lt.length===0&&ft.removeAnimator(ce)}var Oe=ft.canvas.get("autoDraw");Oe||ft.canvas.draw()}})},Et.prototype.addAnimator=function(ft){this.animators.push(ft)},Et.prototype.removeAnimator=function(ft){this.animators.splice(ft,1)},Et.prototype.isAnimating=function(){return!!this.animators.length},Et.prototype.stop=function(){this.timer&&this.timer.stop()},Et.prototype.stopAllAnimations=function(ft){ft===void 0&&(ft=!0),this.animators.forEach(function(et){et.stopAnimate(ft)}),this.animators=[],this.canvas.draw()},Et.prototype.getTime=function(){return this.current},Et}(),Li=Vn,Ni=40,Tn=0,Gn=":",li=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function Oi(Et,ft){for(var et in Et)if(Et.hasOwnProperty(et)&&et.indexOf(Gn+ft)>=0)return!0;return!1}function xi(Et,ft,et){et.name=ft,et.target=Et,et.currentTarget=Et,et.delegateTarget=Et,Et.emit(ft,et)}function oa(Et,ft,et){if(et.bubbles){var ht=void 0,Lt=!1;if(ft==="mouseenter"?(ht=et.fromShape,Lt=!0):ft==="mouseleave"&&(Lt=!0,ht=et.toShape),Et.isCanvas()&&Lt)return;if(ht&&Ut(Et,ht)){et.bubbles=!1;return}et.name=ft,et.currentTarget=Et,et.delegateTarget=Et,Et.emit(ft,et)}}var vi=function(){function Et(ft){var et=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(ht){var Lt=ht.type;et._triggerEvent(Lt,ht)},this._onDocumentMove=function(ht){var Lt=et.canvas,Ht=Lt.get("el");if(Ht!==ht.target&&(et.dragging||et.currentShape)){var le=et._getPointInfo(ht);et.dragging&&et._emitEvent("drag",ht,le,et.draggingShape)}},this._onDocumentMouseUp=function(ht){var Lt=et.canvas,Ht=Lt.get("el");if(Ht!==ht.target&&et.dragging){var le=et._getPointInfo(ht);et.draggingShape&&et._emitEvent("drop",ht,le,null),et._emitEvent("dragend",ht,le,et.draggingShape),et._afterDrag(et.draggingShape,le,ht)}},this.canvas=ft.canvas}return Et.prototype.init=function(){this._bindEvents()},Et.prototype._bindEvents=function(){var ft=this,et=this.canvas.get("el");(0,ut.default)(li,function(ht){et.addEventListener(ht,ft._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},Et.prototype._clearEvents=function(){var ft=this,et=this.canvas.get("el");(0,ut.default)(li,function(ht){et.removeEventListener(ht,ft._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},Et.prototype._getEventObj=function(ft,et,ht,Lt,Ht,le){var ce=new Gt(ft,et);return ce.fromShape=Ht,ce.toShape=le,ce.x=ht.x,ce.y=ht.y,ce.clientX=ht.clientX,ce.clientY=ht.clientY,ce.propagationPath.push(Lt),ce},Et.prototype._getShape=function(ft,et){return this.canvas.getShape(ft.x,ft.y,et)},Et.prototype._getPointInfo=function(ft){var et=this.canvas,ht=et.getClientByEvent(ft),Lt=et.getPointByEvent(ft);return{x:Lt.x,y:Lt.y,clientX:ht.x,clientY:ht.y}},Et.prototype._triggerEvent=function(ft,et){var ht=this._getPointInfo(et),Lt=this._getShape(ht,et),Ht=this["_on"+ft],le=!1;if(Ht)Ht.call(this,ht,Lt,et);else{var ce=this.currentShape;ft==="mouseenter"||ft==="dragenter"||ft==="mouseover"?(this._emitEvent(ft,et,ht,null,null,Lt),Lt&&this._emitEvent(ft,et,ht,Lt,null,Lt),ft==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",et,ht,null)):ft==="mouseleave"||ft==="dragleave"||ft==="mouseout"?(le=!0,ce&&this._emitEvent(ft,et,ht,ce,ce,null),this._emitEvent(ft,et,ht,null,ce,null),ft==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",et,ht,null)):this._emitEvent(ft,et,ht,Lt,null,null)}if(le||(this.currentShape=Lt),Lt&&!Lt.get("destroyed")){var ue=this.canvas,Oe=ue.get("el");Oe.style.cursor=Lt.attr("cursor")||ue.get("cursor")}},Et.prototype._onmousedown=function(ft,et,ht){ht.button===Tn&&(this.mousedownShape=et,this.mousedownPoint=ft,this.mousedownTimeStamp=ht.timeStamp),this._emitEvent("mousedown",ht,ft,et,null,null)},Et.prototype._emitMouseoverEvents=function(ft,et,ht,Lt){var Ht=this.canvas.get("el");ht!==Lt&&(ht&&(this._emitEvent("mouseout",ft,et,ht,ht,Lt),this._emitEvent("mouseleave",ft,et,ht,ht,Lt),(!Lt||Lt.get("destroyed"))&&(Ht.style.cursor=this.canvas.get("cursor"))),Lt&&(this._emitEvent("mouseover",ft,et,Lt,ht,Lt),this._emitEvent("mouseenter",ft,et,Lt,ht,Lt)))},Et.prototype._emitDragoverEvents=function(ft,et,ht,Lt,Ht){Lt?(Lt!==ht&&(ht&&this._emitEvent("dragleave",ft,et,ht,ht,Lt),this._emitEvent("dragenter",ft,et,Lt,ht,Lt)),Ht||this._emitEvent("dragover",ft,et,Lt)):ht&&this._emitEvent("dragleave",ft,et,ht,ht,Lt),Ht&&this._emitEvent("dragover",ft,et,Lt)},Et.prototype._afterDrag=function(ft,et,ht){ft&&(ft.set("capture",!0),this.draggingShape=null),this.dragging=!1;var Lt=this._getShape(et,ht);Lt!==ft&&this._emitMouseoverEvents(ht,et,ft,Lt),this.currentShape=Lt},Et.prototype._onmouseup=function(ft,et,ht){if(ht.button===Tn){var Lt=this.draggingShape;this.dragging?(Lt&&this._emitEvent("drop",ht,ft,et),this._emitEvent("dragend",ht,ft,Lt),this._afterDrag(Lt,ft,ht)):(this._emitEvent("mouseup",ht,ft,et),et===this.mousedownShape&&this._emitEvent("click",ht,ft,et),this.mousedownShape=null,this.mousedownPoint=null)}},Et.prototype._ondragover=function(ft,et,ht){ht.preventDefault();var Lt=this.currentShape;this._emitDragoverEvents(ht,ft,Lt,et,!0)},Et.prototype._onmousemove=function(ft,et,ht){var Lt=this.canvas,Ht=this.currentShape,le=this.draggingShape;if(this.dragging)le&&this._emitDragoverEvents(ht,ft,Ht,et,!1),this._emitEvent("drag",ht,ft,le);else{var ce=this.mousedownPoint;if(ce){var ue=this.mousedownShape,Oe=ht.timeStamp,De=Oe-this.mousedownTimeStamp,Fe=ce.clientX-ft.clientX,ir=ce.clientY-ft.clientY,Ye=Fe*Fe+ir*ir;De>120||Ye>Ni?ue&&ue.get("draggable")?(le=this.mousedownShape,le.set("capture",!1),this.draggingShape=le,this.dragging=!0,this._emitEvent("dragstart",ht,ft,le),this.mousedownShape=null,this.mousedownPoint=null):!ue&&Lt.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",ht,ft,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(ht,ft,Ht,et),this._emitEvent("mousemove",ht,ft,et)):(this._emitMouseoverEvents(ht,ft,Ht,et),this._emitEvent("mousemove",ht,ft,et))}else this._emitMouseoverEvents(ht,ft,Ht,et),this._emitEvent("mousemove",ht,ft,et)}},Et.prototype._emitEvent=function(ft,et,ht,Lt,Ht,le){var ce=this._getEventObj(ft,et,ht,Lt,Ht,le);if(Lt){ce.shape=Lt,xi(Lt,ft,ce);for(var ue=Lt.getParent();ue;)ue.emitDelegation(ft,ce),ce.propagationStopped||oa(ue,ft,ce),ce.propagationPath.push(ue),ue=ue.getParent()}else{var Oe=this.canvas;xi(Oe,ft,ce)}},Et.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},Et}(),sa=vi,$i="px",la=(0,Be.detect)(),ba=la&&la.name==="firefox",Dt=function(Et){(0,Jt.__extends)(ft,Et);function ft(et){var ht=Et.call(this,et)||this;return ht.initContainer(),ht.initDom(),ht.initEvents(),ht.initTimeline(),ht}return ft.prototype.getDefaultCfg=function(){var et=Et.prototype.getDefaultCfg.call(this);return et.cursor="default",et.supportCSSTransform=!1,et},ft.prototype.initContainer=function(){var et=this.get("container");(0,kt.default)(et)&&(et=document.getElementById(et),this.set("container",et))},ft.prototype.initDom=function(){var et=this.createDom();this.set("el",et);var ht=this.get("container");ht.appendChild(et),this.setDOMSize(this.get("width"),this.get("height"))},ft.prototype.initEvents=function(){var et=new sa({canvas:this});et.init(),this.set("eventController",et)},ft.prototype.initTimeline=function(){var et=new Li(this);this.set("timeline",et)},ft.prototype.setDOMSize=function(et,ht){var Lt=this.get("el");Ot&&(Lt.style.width=et+$i,Lt.style.height=ht+$i)},ft.prototype.changeSize=function(et,ht){this.setDOMSize(et,ht),this.set("width",et),this.set("height",ht),this.onCanvasChange("changeSize")},ft.prototype.getRenderer=function(){return this.get("renderer")},ft.prototype.getCursor=function(){return this.get("cursor")},ft.prototype.setCursor=function(et){this.set("cursor",et);var ht=this.get("el");Ot&&ht&&(ht.style.cursor=et)},ft.prototype.getPointByEvent=function(et){var ht=this.get("supportCSSTransform");if(ht){if(ba&&!(0,se.default)(et.layerX)&&et.layerX!==et.offsetX)return{x:et.layerX,y:et.layerY};if(!(0,se.default)(et.offsetX))return{x:et.offsetX,y:et.offsetY}}var Lt=this.getClientByEvent(et),Ht=Lt.x,le=Lt.y;return this.getPointByClient(Ht,le)},ft.prototype.getClientByEvent=function(et){var ht=et;return et.touches&&(et.type==="touchend"?ht=et.changedTouches[0]:ht=et.touches[0]),{x:ht.clientX,y:ht.clientY}},ft.prototype.getPointByClient=function(et,ht){var Lt=this.get("el"),Ht=Lt.getBoundingClientRect();return{x:et-Ht.left,y:ht-Ht.top}},ft.prototype.getClientByPoint=function(et,ht){var Lt=this.get("el"),Ht=Lt.getBoundingClientRect();return{x:et+Ht.left,y:ht+Ht.top}},ft.prototype.draw=function(){},ft.prototype.removeDom=function(){var et=this.get("el");et.parentNode.removeChild(et)},ft.prototype.clearEvents=function(){var et=this.get("eventController");et.destroy()},ft.prototype.isCanvas=function(){return!0},ft.prototype.getParent=function(){return null},ft.prototype.destroy=function(){var et=this.get("timeline");this.get("destroyed")||(this.clear(),et&&et.stop(),this.clearEvents(),this.removeDom(),Et.prototype.destroy.call(this))},ft}(er),Zt=Dt,ee=function(Et){(0,Jt.__extends)(ft,Et);function ft(){return Et!==null&&Et.apply(this,arguments)||this}return ft.prototype.isGroup=function(){return!0},ft.prototype.isEntityGroup=function(){return!1},ft.prototype.clone=function(){for(var et=Et.prototype.clone.call(this),ht=this.getChildren(),Lt=0;Lt<ht.length;Lt++){var Ht=ht[Lt];et.add(Ht.clone())}return et},ft}(er),ge=ee,ye=function(Et){(0,Jt.__extends)(ft,Et);function ft(et){return Et.call(this,et)||this}return ft.prototype._isInBBox=function(et,ht){var Lt=this.getBBox();return Lt.minX<=et&&Lt.maxX>=et&&Lt.minY<=ht&&Lt.maxY>=ht},ft.prototype.afterAttrsChange=function(et){Et.prototype.afterAttrsChange.call(this,et),this.clearCacheBBox()},ft.prototype.getBBox=function(){var et=this.get("bbox");return et||(et=this.calculateBBox(),this.set("bbox",et)),et},ft.prototype.getCanvasBBox=function(){var et=this.get("canvasBox");return et||(et=this.calculateCanvasBBox(),this.set("canvasBox",et)),et},ft.prototype.applyMatrix=function(et){Et.prototype.applyMatrix.call(this,et),this.set("canvasBox",null)},ft.prototype.calculateCanvasBBox=function(){var et=this.getBBox(),ht=this.getTotalMatrix(),Lt=et.minX,Ht=et.minY,le=et.maxX,ce=et.maxY;if(ht){var ue=fr(ht,[et.minX,et.minY]),Oe=fr(ht,[et.maxX,et.minY]),De=fr(ht,[et.minX,et.maxY]),Fe=fr(ht,[et.maxX,et.maxY]);Lt=Math.min(ue[0],Oe[0],De[0],Fe[0]),le=Math.max(ue[0],Oe[0],De[0],Fe[0]),Ht=Math.min(ue[1],Oe[1],De[1],Fe[1]),ce=Math.max(ue[1],Oe[1],De[1],Fe[1])}var ir=this.attrs;if(ir.shadowColor){var Ye=ir.shadowBlur,Re=Ye===void 0?0:Ye,wr=ir.shadowOffsetX,Sr=wr===void 0?0:wr,Yr=ir.shadowOffsetY,zr=Yr===void 0?0:Yr,dr=Lt-Re+Sr,tr=le+Re+Sr,Xr=Ht-Re+zr,un=ce+Re+zr;Lt=Math.min(Lt,dr),le=Math.max(le,tr),Ht=Math.min(Ht,Xr),ce=Math.max(ce,un)}return{x:Lt,y:Ht,minX:Lt,minY:Ht,maxX:le,maxY:ce,width:le-Lt,height:ce-Ht}},ft.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBox",null)},ft.prototype.isClipShape=function(){return this.get("isClipShape")},ft.prototype.isInShape=function(et,ht){return!1},ft.prototype.isOnlyHitBox=function(){return!1},ft.prototype.isHit=function(et,ht){var Lt=this.get("startArrowShape"),Ht=this.get("endArrowShape"),le=[et,ht,1];le=this.invertFromMatrix(le);var ce=le[0],ue=le[1],Oe=this._isInBBox(ce,ue);return this.isOnlyHitBox()?Oe:!!(Oe&&!this.isClipped(ce,ue)&&(this.isInShape(ce,ue)||Lt&&Lt.isHit(ce,ue)||Ht&&Ht.isHit(ce,ue)))},ft}($t),Ee=ye,We=d(76062),Ue=We.version},40455:function(mt,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});function d(S){var O=S.attr(),D=O.x,k=O.y,I=O.r;return{x:D-I,y:k-I,width:I*2,height:I*2}}C.default=d},27633:function(mt,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});function d(S){var O=S.attr(),D=O.x,k=O.y,I=O.rx,_=O.ry;return{x:D-I,y:k-_,width:I*2,height:_*2}}C.default=d},41056:function(mt,C,d){"use strict";var S;S={value:!0};var O=d(28648);C.b=O.getMethod;var D=d(3541),k=d(40455),I=d(10687),_=d(19914),P=d(92933),T=d(89372),p=d(74461),w=d(27633);O.register("rect",D.default),O.register("image",D.default),O.register("circle",k.default),O.register("marker",k.default),O.register("polyline",I.default),O.register("polygon",_.default),O.register("text",P.default),O.register("path",T.default),O.register("line",p.default),O.register("ellipse",w.default)},74461:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(3406);function O(D){var k=D.attr(),I=k.x1,_=k.y1,P=k.x2,T=k.y2,p=Math.min(I,P),w=Math.max(I,P),m=Math.min(_,T),b=Math.max(_,T),y={minX:p,maxX:w,minY:m,maxY:b};return y=S.mergeArrowBBox(D,y),{x:y.minX,y:y.minY,width:y.maxX-y.minX,height:y.maxY-y.minY}}C.default=O},89372:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(2879),O=d(15730),D=d(33418),k=d(49274),I=d(39984),_=d(3406);function P(w,m){for(var b=[],y=[],A=[],B=0;B<w.length;B++){var N=w[B],G=N.currentPoint,j=N.params,J=N.prePoint,H=void 0;switch(N.command){case"Q":H=S.default.box(J[0],J[1],j[1],j[2],j[3],j[4]);break;case"C":H=O.default.box(J[0],J[1],j[1],j[2],j[3],j[4],j[5],j[6]);break;case"A":var K=N.arcParams;H=D.default.box(K.cx,K.cy,K.rx,K.ry,K.xRotation,K.startAngle,K.endAngle);break;default:b.push(G[0]),y.push(G[1]);break}H&&(N.box=H,b.push(H.x,H.x+H.width),y.push(H.y,H.y+H.height)),m&&(N.command==="L"||N.command==="M")&&N.prePoint&&N.nextPoint&&A.push(N)}b=b.filter(function(X){return!Number.isNaN(X)}),y=y.filter(function(X){return!Number.isNaN(X)});var st=Math.min.apply(null,b),nt=Math.min.apply(null,y),wt=Math.max.apply(null,b),gt=Math.max.apply(null,y);if(A.length===0)return{x:st,y:nt,width:wt-st,height:gt-nt};for(var B=0;B<A.length;B++){var N=A[B],G=N.currentPoint,At=void 0;G[0]===st?(At=T(N,m),st=st-At.xExtra):G[0]===wt&&(At=T(N,m),wt=wt+At.xExtra),G[1]===nt?(At=T(N,m),nt=nt-At.yExtra):G[1]===gt&&(At=T(N,m),gt=gt+At.yExtra)}return{x:st,y:nt,width:wt-st,height:gt-nt}}function T(w,m){var b=w.prePoint,y=w.currentPoint,A=w.nextPoint,B=Math.pow(y[0]-b[0],2)+Math.pow(y[1]-b[1],2),N=Math.pow(y[0]-A[0],2)+Math.pow(y[1]-A[1],2),G=Math.pow(b[0]-A[0],2)+Math.pow(b[1]-A[1],2),j=Math.acos((B+N-G)/(2*Math.sqrt(B)*Math.sqrt(N)));if(!j||Math.sin(j)===0||I.default(j,0))return{xExtra:0,yExtra:0};var J=Math.abs(Math.atan2(A[1]-y[1],A[0]-y[0])),H=Math.abs(Math.atan2(A[0]-y[0],A[1]-y[1]));J=J>Math.PI/2?Math.PI-J:J,H=H>Math.PI/2?Math.PI-H:H;var K={xExtra:Math.cos(j/2-J)*(m/2*(1/Math.sin(j/2)))-m/2||0,yExtra:Math.cos(H-j/2)*(m/2*(1/Math.sin(j/2)))-m/2||0};return K}function p(w){var m=w.attr(),b=m.path,y=m.stroke,A=y?m.lineWidth:0,B=w.get("segments")||k.default(b),N=P(B,A),G=N.x,j=N.y,J=N.width,H=N.height,K={minX:G,minY:j,maxX:G+J,maxY:j+H};return K=_.mergeArrowBBox(w,K),{x:K.minX,y:K.minY,width:K.maxX-K.minX,height:K.maxY-K.minY}}C.default=p},19914:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(76256);function O(D){for(var k=D.attr(),I=k.points,_=[],P=[],T=0;T<I.length;T++){var p=I[T];_.push(p[0]),P.push(p[1])}return S.getBBoxByArray(_,P)}C.default=O},10687:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(76256),O=d(3406);function D(k){for(var I=k.attr(),_=I.points,P=[],T=[],p=0;p<_.length;p++){var w=_[p];P.push(w[0]),T.push(w[1])}var m=S.getBBoxByArray(P,T),b=m.x,y=m.y,A=m.width,B=m.height,N={minX:b,minY:y,maxX:b+A,maxY:y+B};return N=O.mergeArrowBBox(k,N),{x:N.minX,y:N.minY,width:N.maxX-N.minX,height:N.maxY-N.minY}}C.default=D},3541:function(mt,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});function d(S){var O=S.attr(),D=O.x,k=O.y,I=O.width,_=O.height;return{x:D,y:k,width:I,height:_}}C.default=d},28648:function(mt,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=new Map;function S(D,k){d.set(D,k)}C.register=S;function O(D){return d.get(D)}C.getMethod=O},92933:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(8914);function O(D){var k=D.attr(),I=k.x,_=k.y,P=k.text,T=k.fontSize,p=k.lineHeight,w=k.font;w||(w=S.assembleFont(k));var m=S.getTextWidth(P,w),b;if(!m)b={x:I,y:_,width:0,height:0};else{var y=k.textAlign,A=k.textBaseline,B=S.getTextHeight(P,T,p),N={x:I,y:_-B};y&&(y==="end"||y==="right"?N.x-=m:y==="center"&&(N.x-=m/2)),A&&(A==="top"?N.y+=B:A==="middle"&&(N.y+=B/2)),b={x:N.x,y:N.y,width:m,height:B}}return b}C.default=O},3406:function(mt,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});function d(O,D){return!O||!D?O||D:{minX:Math.min(O.minX,D.minX),minY:Math.min(O.minY,D.minY),maxX:Math.max(O.maxX,D.maxX),maxY:Math.max(O.maxY,D.maxY)}}C.mergeBBox=d;function S(O,D){var k=O.get("startArrowShape"),I=O.get("endArrowShape"),_=null,P=null;return k&&(_=k.getCanvasBBox(),D=d(D,_)),I&&(P=I.getCanvasBBox(),D=d(D,P)),D}C.mergeArrowBBox=S},66192:function(mt,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=function(){function S(O,D){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=O,this.name=O,this.originalEvent=D,this.timeStamp=D.timeStamp}return S.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},S.prototype.stopPropagation=function(){this.propagationStopped=!0},S.prototype.toString=function(){var O=this.type;return"[Event (type="+O+")]"},S.prototype.save=function(){},S.prototype.restore=function(){},S}();C.default=d},85424:function(mt,C){"use strict";var d;d={value:!0}},4555:function(mt,C){"use strict";Object.defineProperty(C,"X",{value:!0})},6052:function(mt,C){"use strict";var d;d={value:!0};function S(k,I){var _=[],P=k[0],T=k[1],p=k[2],w=k[3],m=k[4],b=k[5],y=k[6],A=k[7],B=k[8],N=I[0],G=I[1],j=I[2],J=I[3],H=I[4],K=I[5],st=I[6],nt=I[7],wt=I[8];return _[0]=N*P+G*w+j*y,_[1]=N*T+G*m+j*A,_[2]=N*p+G*b+j*B,_[3]=J*P+H*w+K*y,_[4]=J*T+H*m+K*A,_[5]=J*p+H*b+K*B,_[6]=st*P+nt*w+wt*y,_[7]=st*T+nt*m+wt*A,_[8]=st*p+nt*b+wt*B,_}d=S;function O(k,I){var _=[],P=I[0],T=I[1];return _[0]=k[0]*P+k[3]*T+k[6],_[1]=k[1]*P+k[4]*T+k[7],_}C.rG=O;function D(k){var I=[],_=k[0],P=k[1],T=k[2],p=k[3],w=k[4],m=k[5],b=k[6],y=k[7],A=k[8],B=A*w-m*y,N=-A*p+m*b,G=y*p-w*b,j=_*B+P*N+T*G;return j?(j=1/j,I[0]=B*j,I[1]=(-A*P+T*y)*j,I[2]=(m*P-T*w)*j,I[3]=N*j,I[4]=(A*_-T*b)*j,I[5]=(-m*_+T*p)*j,I[6]=G*j,I[7]=(-y*_+P*b)*j,I[8]=(w*_-P*p)*j,I):null}C.U_=D},26632:function(mt,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=null;function S(){if(!d){var O=document.createElement("canvas");O.width=1,O.height=1,d=O.getContext("2d")}return d}C.getOffScreenContext=S},8914:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(22487),O=d(26632);function D(P,T,p){var w=1;if(S.isString(P)&&(w=P.split(`
`).length),w>1){var m=k(T,p);return T*w+m*(w-1)}return T}C.getTextHeight=D;function k(P,T){return T?T-P:P*.14}C.getLineSpaceing=k;function I(P,T){var p=O.getOffScreenContext(),w=0;if(S.isNil(P)||P==="")return w;if(p.save(),p.font=T,S.isString(P)&&P.includes(`
`)){var m=P.split(`
`);S.each(m,function(b){var y=p.measureText(b).width;w<y&&(w=y)})}else w=p.measureText(P).width;return p.restore(),w}C.getTextWidth=I;function _(P){var T=P.fontSize,p=P.fontFamily,w=P.fontWeight,m=P.fontStyle,b=P.fontVariant;return[m,b,w,T+"px",p].join(" ").trim()}C.assembleFont=_},22487:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});function S(b,y){var A=b.indexOf(y);A!==-1&&b.splice(A,1)}C.removeFromArray=S,C.isBrowser=typeof window!="undefined"&&typeof window.document!="undefined";var O=d(73890);C.isNil=O.default;var D=d(46812);C.isFunction=D.default;var k=d(21830);C.isString=k.default;var I=d(33643);C.isObject=I.default;var _=d(66631);C.isArray=_.default;var P=d(66974);C.mix=P.default;var T=d(27154);C.each=T.default;var p=d(85260);C.upperFirst=p.default;function w(b,y){if(b.isCanvas())return!0;for(var A=y.getParent(),B=!1;A;){if(A===b){B=!0;break}A=A.getParent()}return B}C.isParent=w;function m(b){return b.cfg.visible&&b.cfg.capture}C.isAllowCapture=m},76062:function(mt){"use strict";mt.exports=JSON.parse('{"name":"@antv/g-base","version":"0.4.7","description":"A common util collection for antv projects","main":"lib/index.js","module":"esm/index.js","types":"lib/index.d.ts","files":["package.json","esm","lib","LICENSE","README.md"],"scripts":{"build":"npm run clean && run-p build:*","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","clean":"rm -rf esm lib","watch:cjs":"tsc-watch -p tsconfig.json --target ES5 --module commonjs --outDir lib --compiler typescript/bin/tsc","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive --opts tests/mocha.opts","tsc":"tsc --noEmit","typecheck":"tsc --noEmit"},"repository":{"type":"git","url":"git+https://github.com/antvis/util.git"},"keywords":["util","antv","g"],"publishConfig":{"access":"public"},"author":"https://github.com/orgs/antvis/people","license":"ISC","bugs":{"url":"https://github.com/antvis/util/issues"},"devDependencies":{"@antv/torch":"^1.0.0","gl-matrix":"^3.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","tsc-watch":"^4.0.0"},"homepage":"https://github.com/antvis/util#readme","dependencies":{"@antv/event-emitter":"^0.1.1","@antv/g-math":"^0.1.3","@antv/matrix-util":"^3.1.0-beta.1","@antv/path-util":"~2.0.5","@antv/util":"~2.0.0","@types/d3-timer":"^1.0.9","d3-ease":"^1.0.5","d3-interpolate":"^1.3.2","d3-timer":"^1.0.9","detect-browser":"^5.1.0"},"__npminstall_done":false,"gitHead":"eb6a2503cb7bb8154697592b10680939d954a31a"}')},84909:function(mt,C,d){"use strict";var S;S={value:!0};var O=d(48465);function D(P){return Math.sqrt(P[0]*P[0]+P[1]*P[1])}function k(P,T){return D(P)*D(T)?(P[0]*T[0]+P[1]*T[1])/(D(P)*D(T)):1}function I(P,T){return(P[0]*T[1]<P[1]*T[0]?-1:1)*Math.acos(k(P,T))}function _(P,T){var p=T[1],w=T[2],m=O.mod(O.toRadian(T[3]),Math.PI*2),b=T[4],y=T[5],A=P[0],B=P[1],N=T[6],G=T[7],j=Math.cos(m)*(A-N)/2+Math.sin(m)*(B-G)/2,J=-1*Math.sin(m)*(A-N)/2+Math.cos(m)*(B-G)/2,H=j*j/(p*p)+J*J/(w*w);H>1&&(p*=Math.sqrt(H),w*=Math.sqrt(H));var K=p*p*(J*J)+w*w*(j*j),st=K?Math.sqrt((p*p*(w*w)-K)/K):1;b===y&&(st*=-1),isNaN(st)&&(st=0);var nt=w?st*p*J/w:0,wt=p?st*-w*j/p:0,gt=(A+N)/2+Math.cos(m)*nt-Math.sin(m)*wt,At=(B+G)/2+Math.sin(m)*nt+Math.cos(m)*wt,X=[(j-nt)/p,(J-wt)/w],Z=[(-1*j-nt)/p,(-1*J-wt)/w],tt=I([1,0],X),Q=I(X,Z);return k(X,Z)<=-1&&(Q=Math.PI),k(X,Z)>=1&&(Q=0),y===0&&Q>0&&(Q=Q-2*Math.PI),y===1&&Q<0&&(Q=Q+2*Math.PI),{cx:gt,cy:At,rx:O.isSamePoint(P,[N,G])?0:p,ry:O.isSamePoint(P,[N,G])?0:w,startAngle:tt,endAngle:tt+Q,xRotation:m,arcFlag:b,sweepFlag:y}}C.Z=_},48465:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.isSamePoint=C.mergeRegion=C.intersectRect=C.inBox=C.distance=C.getPixelRatio=void 0;function S(){return window?window.devicePixelRatio:1}C.getPixelRatio=S;function O(G,j,J,H){var K=G-J,st=j-H;return Math.sqrt(K*K+st*st)}C.distance=O;function D(G,j,J,H,K,st){return K>=G&&K<=G+J&&st>=j&&st<=j+H}C.inBox=D;function k(G,j){return!(j.minX>G.maxX||j.maxX<G.minX||j.minY>G.maxY||j.maxY<G.minY)}C.intersectRect=k;function I(G,j){return!G||!j?G||j:{minX:Math.min(G.minX,j.minX),minY:Math.min(G.minY,j.minY),maxX:Math.max(G.maxX,j.maxX),maxY:Math.max(G.maxY,j.maxY)}}C.mergeRegion=I;function _(G,j){return G[0]===j[0]&&G[1]===j[1]}C.isSamePoint=_;var P=d(73890);Object.defineProperty(C,"isNil",{enumerable:!0,get:function(){return P.default}});var T=d(21830);Object.defineProperty(C,"isString",{enumerable:!0,get:function(){return T.default}});var p=d(46812);Object.defineProperty(C,"isFunction",{enumerable:!0,get:function(){return p.default}});var w=d(66631);Object.defineProperty(C,"isArray",{enumerable:!0,get:function(){return w.default}});var m=d(27154);Object.defineProperty(C,"each",{enumerable:!0,get:function(){return m.default}});var b=d(9217);Object.defineProperty(C,"toRadian",{enumerable:!0,get:function(){return b.default}});var y=d(5253);Object.defineProperty(C,"mod",{enumerable:!0,get:function(){return y.default}});var A=d(39984);Object.defineProperty(C,"isNumberEqual",{enumerable:!0,get:function(){return A.default}});var B=d(98229);Object.defineProperty(C,"requestAnimationFrame",{enumerable:!0,get:function(){return B.default}});var N=d(35755);Object.defineProperty(C,"clearAnimationFrame",{enumerable:!0,get:function(){return N.default}})},71270:function(mt){"use strict";mt.exports=JSON.parse('{"name":"@antv/g-canvas","version":"0.4.15","description":"A canvas library which providing 2d","main":"lib/index.js","module":"esm/index.js","unpkg":"dist/g.min.js","types":"lib/index.d.ts","files":["package.json","esm","lib","dist","LICENSE","README.md"],"scripts":{"build":"npm run clean && run-p build:*","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","build:umd":"webpack --config webpack.config.js --mode production","clean":"rm -rf esm lib dist","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive --opts tests/mocha.opts","tsc":"tsc --noEmit","typecheck":"tsc --noEmit","dist":"webpack --config webpack.config.js --mode production"},"repository":{"type":"git","url":"git+https://github.com/antvis/g.git"},"keywords":["util","antv","g"],"publishConfig":{"access":"public"},"author":"https://github.com/orgs/antvis/people","license":"ISC","bugs":{"url":"https://github.com/antvis/g/issues"},"devDependencies":{"@antv/torch":"^1.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","webpack":"^4.26.1","webpack-cli":"^3.1.2"},"homepage":"https://github.com/antvis/g#readme","dependencies":{"@antv/g-base":"^0.4.7","@antv/g-math":"^0.1.3","@antv/path-util":"~2.0.5","@antv/util":"~2.0.0","gl-matrix":"^3.0.0"},"__npminstall_done":false,"gitHead":"9092384bf6b7efd6ec71bbcdec1b801a0079c403"}')},89838:function(mt,C,d){"use strict";d.r(C),d.d(C,{Arc:function(){return xt},Cubic:function(){return gt},Line:function(){return w},Polygon:function(){return Kt},Polyline:function(){return ie},Quad:function(){return J},Util:function(){return S}});var S={};d.r(S),d.d(S,{distance:function(){return k},getBBoxByArray:function(){return _},getBBoxRange:function(){return P},isNumberEqual:function(){return I},piMod:function(){return T}});function O(kt){return Math.min.apply(null,kt)}function D(kt){return Math.max.apply(null,kt)}function k(kt,Mt,pt,Pt){var ut=kt-pt,at=Mt-Pt;return Math.sqrt(ut*ut+at*at)}function I(kt,Mt){return Math.abs(kt-Mt)<.001}function _(kt,Mt){var pt=O(kt),Pt=O(Mt),ut=D(kt),at=D(Mt);return{x:pt,y:Pt,width:ut-pt,height:at-Pt}}function P(kt,Mt,pt,Pt){return{minX:O([kt,pt]),maxX:D([kt,pt]),minY:O([Mt,Pt]),maxY:D([Mt,Pt])}}function T(kt){return(kt+Math.PI*2)%(Math.PI*2)}var p=d(31437),w={box:function(kt,Mt,pt,Pt){return _([kt,pt],[Mt,Pt])},length:function(kt,Mt,pt,Pt){return k(kt,Mt,pt,Pt)},pointAt:function(kt,Mt,pt,Pt,ut){return{x:(1-ut)*kt+ut*pt,y:(1-ut)*Mt+ut*Pt}},pointDistance:function(kt,Mt,pt,Pt,ut,at){var St=(pt-kt)*(ut-kt)+(Pt-Mt)*(at-Mt);if(St<0)return k(kt,Mt,ut,at);var Ot=(pt-kt)*(pt-kt)+(Pt-Mt)*(Pt-Mt);return St>Ot?k(pt,Pt,ut,at):this.pointToLine(kt,Mt,pt,Pt,ut,at)},pointToLine:function(kt,Mt,pt,Pt,ut,at){var St=[pt-kt,Pt-Mt];if(p.exactEquals(St,[0,0]))return Math.sqrt((ut-kt)*(ut-kt)+(at-Mt)*(at-Mt));var Ot=[-St[1],St[0]];p.normalize(Ot,Ot);var Ut=[ut-kt,at-Mt];return Math.abs(p.dot(Ut,Ot))},tangentAngle:function(kt,Mt,pt,Pt){return Math.atan2(Pt-Mt,pt-kt)}},m=1e-4;function b(kt,Mt,pt,Pt,ut,at){var St,Ot=Infinity,Ut=[pt,Pt],oe=20;at&&at>200&&(oe=at/10);for(var we=1/oe,Ie=we/10,Be=0;Be<=oe;Be++){var ur=Be*we,vr=[ut.apply(null,kt.concat([ur])),ut.apply(null,Mt.concat([ur]))],fr=k(Ut[0],Ut[1],vr[0],vr[1]);fr<Ot&&(St=ur,Ot=fr)}if(St===0)return{x:kt[0],y:Mt[0]};if(St===1){var Ar=kt.length;return{x:kt[Ar-1],y:Mt[Ar-1]}}Ot=Infinity;for(var Be=0;Be<32&&!(Ie<m);Be++){var or=St-Ie,Gr=St+Ie,vr=[ut.apply(null,kt.concat([or])),ut.apply(null,Mt.concat([or]))],fr=k(Ut[0],Ut[1],vr[0],vr[1]);if(or>=0&&fr<Ot)St=or,Ot=fr;else{var ln=[ut.apply(null,kt.concat([Gr])),ut.apply(null,Mt.concat([Gr]))],Nr=k(Ut[0],Ut[1],ln[0],ln[1]);Gr<=1&&Nr<Ot?(St=Gr,Ot=Nr):Ie*=.5}}return{x:ut.apply(null,kt.concat([St])),y:ut.apply(null,Mt.concat([St]))}}function y(kt,Mt){for(var pt=0,Pt=kt.length,ut=0;ut<Pt;ut++){var at=kt[ut],St=Mt[ut],Ot=kt[(ut+1)%Pt],Ut=Mt[(ut+1)%Pt];pt+=k(at,St,Ot,Ut)}return pt/2}function A(kt,Mt,pt,Pt){var ut=1-Pt;return ut*ut*kt+2*Pt*ut*Mt+Pt*Pt*pt}function B(kt,Mt,pt){var Pt=kt+pt-2*Mt;if(I(Pt,0))return[.5];var ut=(kt-Mt)/Pt;return ut<=1&&ut>=0?[ut]:[]}function N(kt,Mt,pt,Pt){return 2*(1-Pt)*(Mt-kt)+2*Pt*(pt-Mt)}function G(kt,Mt,pt,Pt,ut,at,St){var Ot=A(kt,pt,ut,St),Ut=A(Mt,Pt,at,St),oe=w.pointAt(kt,Mt,pt,Pt,St),we=w.pointAt(pt,Pt,ut,at,St);return[[kt,Mt,oe.x,oe.y,Ot,Ut],[Ot,Ut,we.x,we.y,ut,at]]}function j(kt,Mt,pt,Pt,ut,at,St){if(St===0)return(k(kt,Mt,pt,Pt)+k(pt,Pt,ut,at)+k(kt,Mt,ut,at))/2;var Ot=G(kt,Mt,pt,Pt,ut,at,.5),Ut=Ot[0],oe=Ot[1];return Ut.push(St-1),oe.push(St-1),j.apply(null,Ut)+j.apply(null,oe)}var J={box:function(kt,Mt,pt,Pt,ut,at){var St=B(kt,pt,ut)[0],Ot=B(Mt,Pt,at)[0],Ut=[kt,ut],oe=[Mt,at];return St!==void 0&&Ut.push(A(kt,pt,ut,St)),Ot!==void 0&&oe.push(A(Mt,Pt,at,Ot)),_(Ut,oe)},length:function(kt,Mt,pt,Pt,ut,at){return j(kt,Mt,pt,Pt,ut,at,3)},nearestPoint:function(kt,Mt,pt,Pt,ut,at,St,Ot){return b([kt,pt,ut],[Mt,Pt,at],St,Ot,A)},pointDistance:function(kt,Mt,pt,Pt,ut,at,St,Ot){var Ut=this.nearestPoint(kt,Mt,pt,Pt,ut,at,St,Ot);return k(Ut.x,Ut.y,St,Ot)},interpolationAt:A,pointAt:function(kt,Mt,pt,Pt,ut,at,St){return{x:A(kt,pt,ut,St),y:A(Mt,Pt,at,St)}},divide:function(kt,Mt,pt,Pt,ut,at,St){return G(kt,Mt,pt,Pt,ut,at,St)},tangentAngle:function(kt,Mt,pt,Pt,ut,at,St){var Ot=N(kt,pt,ut,St),Ut=N(Mt,Pt,at,St),oe=Math.atan2(Ut,Ot);return T(oe)}};function H(kt,Mt,pt,Pt,ut){var at=1-ut;return at*at*at*kt+3*Mt*ut*at*at+3*pt*ut*ut*at+Pt*ut*ut*ut}function K(kt,Mt,pt,Pt,ut){var at=1-ut;return 3*(at*at*(Mt-kt)+2*at*ut*(pt-Mt)+ut*ut*(Pt-pt))}function st(kt,Mt,pt,Pt){var ut=-3*kt+9*Mt-9*pt+3*Pt,at=6*kt-12*Mt+6*pt,St=3*Mt-3*kt,Ot=[],Ut,oe,we;if(I(ut,0))I(at,0)||(Ut=-St/at,Ut>=0&&Ut<=1&&Ot.push(Ut));else{var Ie=at*at-4*ut*St;I(Ie,0)?Ot.push(-at/(2*ut)):Ie>0&&(we=Math.sqrt(Ie),Ut=(-at+we)/(2*ut),oe=(-at-we)/(2*ut),Ut>=0&&Ut<=1&&Ot.push(Ut),oe>=0&&oe<=1&&Ot.push(oe))}return Ot}function nt(kt,Mt,pt,Pt,ut,at,St,Ot,Ut){var oe=H(kt,pt,ut,St,Ut),we=H(Mt,Pt,at,Ot,Ut),Ie=w.pointAt(kt,Mt,pt,Pt,Ut),Be=w.pointAt(pt,Pt,ut,at,Ut),ur=w.pointAt(ut,at,St,Ot,Ut),vr=w.pointAt(Ie.x,Ie.y,Be.x,Be.y,Ut),fr=w.pointAt(Be.x,Be.y,ur.x,ur.y,Ut);return[[kt,Mt,Ie.x,Ie.y,vr.x,vr.y,oe,we],[oe,we,fr.x,fr.y,ur.x,ur.y,St,Ot]]}function wt(kt,Mt,pt,Pt,ut,at,St,Ot,Ut){if(Ut===0)return y([kt,pt,ut,St],[Mt,Pt,at,Ot]);var oe=nt(kt,Mt,pt,Pt,ut,at,St,Ot,.5),we=oe[0],Ie=oe[1];return we.push(Ut-1),Ie.push(Ut-1),wt.apply(null,we)+wt.apply(null,Ie)}var gt={extrema:st,box:function(kt,Mt,pt,Pt,ut,at,St,Ot){for(var Ut=[kt,St],oe=[Mt,Ot],we=st(kt,pt,ut,St),Ie=st(Mt,Pt,at,Ot),Be=0;Be<we.length;Be++)Ut.push(H(kt,pt,ut,St,we[Be]));for(var Be=0;Be<Ie.length;Be++)oe.push(H(Mt,Pt,at,Ot,Ie[Be]));return _(Ut,oe)},length:function(kt,Mt,pt,Pt,ut,at,St,Ot){return wt(kt,Mt,pt,Pt,ut,at,St,Ot,3)},nearestPoint:function(kt,Mt,pt,Pt,ut,at,St,Ot,Ut,oe,we){return b([kt,pt,ut,St],[Mt,Pt,at,Ot],Ut,oe,H,we)},pointDistance:function(kt,Mt,pt,Pt,ut,at,St,Ot,Ut,oe,we){var Ie=this.nearestPoint(kt,Mt,pt,Pt,ut,at,St,Ot,Ut,oe,we);return k(Ie.x,Ie.y,Ut,oe)},interpolationAt:H,pointAt:function(kt,Mt,pt,Pt,ut,at,St,Ot,Ut){return{x:H(kt,pt,ut,St,Ut),y:H(Mt,Pt,at,Ot,Ut)}},divide:function(kt,Mt,pt,Pt,ut,at,St,Ot,Ut){return nt(kt,Mt,pt,Pt,ut,at,St,Ot,Ut)},tangentAngle:function(kt,Mt,pt,Pt,ut,at,St,Ot,Ut){var oe=K(kt,pt,ut,St,Ut),we=K(Mt,Pt,at,Ot,Ut);return T(Math.atan2(we,oe))}};function At(kt,Mt){var pt=Math.abs(kt);return Mt>0?pt:pt*-1}var X={box:function(kt,Mt,pt,Pt){return{x:kt-pt,y:Mt-Pt,width:pt*2,height:Pt*2}},length:function(kt,Mt,pt,Pt){return Math.PI*(3*(pt+Pt)-Math.sqrt((3*pt+Pt)*(pt+3*Pt)))},nearestPoint:function(kt,Mt,pt,Pt,ut,at){var St=pt,Ot=Pt;if(St===0||Ot===0)return{x:kt,y:Mt};for(var Ut=ut-kt,oe=at-Mt,we=Math.abs(Ut),Ie=Math.abs(oe),Be=St*St,ur=Ot*Ot,vr=Math.PI/4,fr,Ar,or=0;or<4;or++){fr=St*Math.cos(vr),Ar=Ot*Math.sin(vr);var Gr=(Be-ur)*Math.pow(Math.cos(vr),3)/St,ln=(ur-Be)*Math.pow(Math.sin(vr),3)/Ot,Nr=fr-Gr,nn=Ar-ln,fi=we-Gr,hi=Ie-ln,Si=Math.hypot(nn,Nr),Ci=Math.hypot(hi,fi),Vt=Si*Math.asin((Nr*hi-nn*fi)/(Si*Ci)),$t=Vt/Math.sqrt(Be+ur-fr*fr-Ar*Ar);vr+=$t,vr=Math.min(Math.PI/2,Math.max(0,vr))}return{x:kt+At(fr,Ut),y:Mt+At(Ar,oe)}},pointDistance:function(kt,Mt,pt,Pt,ut,at){var St=this.nearestPoint(kt,Mt,pt,Pt,ut,at);return k(St.x,St.y,ut,at)},pointAt:function(kt,Mt,pt,Pt,ut){var at=2*Math.PI*ut;return{x:kt+pt*Math.cos(at),y:Mt+Pt*Math.sin(at)}},tangentAngle:function(kt,Mt,pt,Pt,ut){var at=2*Math.PI*ut,St=Math.atan2(Pt*Math.cos(at),-pt*Math.sin(at));return T(St)}};function Z(kt,Mt,pt,Pt,ut,at,St,Ot){return-1*pt*Math.cos(ut)*Math.sin(Ot)-Pt*Math.sin(ut)*Math.cos(Ot)}function tt(kt,Mt,pt,Pt,ut,at,St,Ot){return-1*pt*Math.sin(ut)*Math.sin(Ot)+Pt*Math.cos(ut)*Math.cos(Ot)}function Q(kt,Mt,pt){return Math.atan(-Mt/kt*Math.tan(pt))}function vt(kt,Mt,pt){return Math.atan(Mt/(kt*Math.tan(pt)))}function lt(kt,Mt,pt,Pt,ut,at){return pt*Math.cos(ut)*Math.cos(at)-Pt*Math.sin(ut)*Math.sin(at)+kt}function rt(kt,Mt,pt,Pt,ut,at){return pt*Math.sin(ut)*Math.cos(at)+Pt*Math.cos(ut)*Math.sin(at)+Mt}function U(kt,Mt,pt,Pt){var ut=Math.atan2(Pt*kt,pt*Mt);return(ut+Math.PI*2)%(Math.PI*2)}function $(kt,Mt,pt){return{x:kt*Math.cos(pt),y:Mt*Math.sin(pt)}}function f(kt,Mt,pt){var Pt=Math.cos(pt),ut=Math.sin(pt);return[kt*Pt-Mt*ut,kt*ut+Mt*Pt]}var xt={box:function(kt,Mt,pt,Pt,ut,at,St){for(var Ot=Q(pt,Pt,ut),Ut=Infinity,oe=-Infinity,we=[at,St],Ie=-Math.PI*2;Ie<=Math.PI*2;Ie+=Math.PI){var Be=Ot+Ie;at<St?at<Be&&Be<St&&we.push(Be):St<Be&&Be<at&&we.push(Be)}for(var Ie=0;Ie<we.length;Ie++){var ur=lt(kt,Mt,pt,Pt,ut,we[Ie]);ur<Ut&&(Ut=ur),ur>oe&&(oe=ur)}for(var vr=vt(pt,Pt,ut),fr=Infinity,Ar=-Infinity,or=[at,St],Ie=-Math.PI*2;Ie<=Math.PI*2;Ie+=Math.PI){var Gr=vr+Ie;at<St?at<Gr&&Gr<St&&or.push(Gr):St<Gr&&Gr<at&&or.push(Gr)}for(var Ie=0;Ie<or.length;Ie++){var ln=rt(kt,Mt,pt,Pt,ut,or[Ie]);ln<fr&&(fr=ln),ln>Ar&&(Ar=ln)}return{x:Ut,y:fr,width:oe-Ut,height:Ar-fr}},length:function(kt,Mt,pt,Pt,ut,at,St){},nearestPoint:function(kt,Mt,pt,Pt,ut,at,St,Ot,Ut){var oe=f(Ot-kt,Ut-Mt,-ut),we=oe[0],Ie=oe[1],Be=X.nearestPoint(0,0,pt,Pt,we,Ie),ur=U(pt,Pt,Be.x,Be.y);ur<at?Be=$(pt,Pt,at):ur>St&&(Be=$(pt,Pt,St));var vr=f(Be.x,Be.y,ut);return{x:vr[0]+kt,y:vr[1]+Mt}},pointDistance:function(kt,Mt,pt,Pt,ut,at,St,Ot,Ut){var oe=this.nearestPoint(kt,Mt,pt,Pt,Ot,Ut);return k(oe.x,oe.y,Ot,Ut)},pointAt:function(kt,Mt,pt,Pt,ut,at,St,Ot){var Ut=(St-at)*Ot+at;return{x:lt(kt,Mt,pt,Pt,ut,Ut),y:rt(kt,Mt,pt,Pt,ut,Ut)}},tangentAngle:function(kt,Mt,pt,Pt,ut,at,St,Ot){var Ut=(St-at)*Ot+at,oe=Z(kt,Mt,pt,Pt,ut,at,St,Ut),we=tt(kt,Mt,pt,Pt,ut,at,St,Ut);return T(Math.atan2(we,oe))}};function Ct(kt){for(var Mt=0,pt=[],Pt=0;Pt<kt.length-1;Pt++){var ut=kt[Pt],at=kt[Pt+1],St=k(ut[0],ut[1],at[0],at[1]),Ot={from:ut,to:at,length:St};pt.push(Ot),Mt+=St}return{segments:pt,totalLength:Mt}}function Bt(kt){if(kt.length<2)return 0;for(var Mt=0,pt=0;pt<kt.length-1;pt++){var Pt=kt[pt],ut=kt[pt+1];Mt+=k(Pt[0],Pt[1],ut[0],ut[1])}return Mt}function qt(kt,Mt){if(Mt>1||Mt<0||kt.length<2)return null;var pt=Ct(kt),Pt=pt.segments,ut=pt.totalLength;if(ut===0)return{x:kt[0][0],y:kt[0][1]};for(var at=0,St=null,Ot=0;Ot<Pt.length;Ot++){var Ut=Pt[Ot],oe=Ut.from,we=Ut.to,Ie=Ut.length/ut;if(Mt>=at&&Mt<=at+Ie){var Be=(Mt-at)/Ie;St=w.pointAt(oe[0],oe[1],we[0],we[1],Be);break}at+=Ie}return St}function Gt(kt,Mt){if(Mt>1||Mt<0||kt.length<2)return 0;for(var pt=Ct(kt),Pt=pt.segments,ut=pt.totalLength,at=0,St=0,Ot=0;Ot<Pt.length;Ot++){var Ut=Pt[Ot],oe=Ut.from,we=Ut.to,Ie=Ut.length/ut;if(Mt>=at&&Mt<=at+Ie){St=Math.atan2(we[1]-oe[1],we[0]-oe[0]);break}at+=Ie}return St}function Jt(kt,Mt,pt){for(var Pt=Infinity,ut=0;ut<kt.length-1;ut++){var at=kt[ut],St=kt[ut+1],Ot=w.pointDistance(at[0],at[1],St[0],St[1],Mt,pt);Ot<Pt&&(Pt=Ot)}return Pt}var ie={box:function(kt){for(var Mt=[],pt=[],Pt=0;Pt<kt.length;Pt++){var ut=kt[Pt];Mt.push(ut[0]),pt.push(ut[1])}return _(Mt,pt)},length:function(kt){return Bt(kt)},pointAt:function(kt,Mt){return qt(kt,Mt)},pointDistance:function(kt,Mt,pt){return Jt(kt,Mt,pt)},tangentAngle:function(kt,Mt){return Gt(kt,Mt)}};function se(kt){var Mt=kt.slice(0);return kt.length&&Mt.push(kt[0]),Mt}var Kt={box:function(kt){return ie.box(kt)},length:function(kt){return Bt(se(kt))},pointAt:function(kt,Mt){return qt(se(kt),Mt)},pointDistance:function(kt,Mt,pt){return Jt(se(kt),Mt,pt)},tangentAngle:function(kt,Mt){return Gt(se(kt),Mt)}}},33418:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(76256),O=d(55397);function D(b,y,A,B,N,G,j,J){return-1*A*Math.cos(N)*Math.sin(J)-B*Math.sin(N)*Math.cos(J)}function k(b,y,A,B,N,G,j,J){return-1*A*Math.sin(N)*Math.sin(J)+B*Math.cos(N)*Math.cos(J)}function I(b,y,A){return Math.atan(-y/b*Math.tan(A))}function _(b,y,A){return Math.atan(y/(b*Math.tan(A)))}function P(b,y,A,B,N,G){return A*Math.cos(N)*Math.cos(G)-B*Math.sin(N)*Math.sin(G)+b}function T(b,y,A,B,N,G){return A*Math.sin(N)*Math.cos(G)+B*Math.cos(N)*Math.sin(G)+y}function p(b,y,A,B){var N=Math.atan2(B*b,A*y);return(N+Math.PI*2)%(Math.PI*2)}function w(b,y,A){return{x:b*Math.cos(A),y:y*Math.sin(A)}}function m(b,y,A){var B=Math.cos(A),N=Math.sin(A);return[b*B-y*N,b*N+y*B]}C.default={box:function(b,y,A,B,N,G,j){for(var J=I(A,B,N),H=Infinity,K=-Infinity,st=[G,j],nt=-Math.PI*2;nt<=Math.PI*2;nt+=Math.PI){var wt=J+nt;G<j?G<wt&&wt<j&&st.push(wt):j<wt&&wt<G&&st.push(wt)}for(var nt=0;nt<st.length;nt++){var gt=P(b,y,A,B,N,st[nt]);gt<H&&(H=gt),gt>K&&(K=gt)}for(var At=_(A,B,N),X=Infinity,Z=-Infinity,tt=[G,j],nt=-Math.PI*2;nt<=Math.PI*2;nt+=Math.PI){var Q=At+nt;G<j?G<Q&&Q<j&&tt.push(Q):j<Q&&Q<G&&tt.push(Q)}for(var nt=0;nt<tt.length;nt++){var vt=T(b,y,A,B,N,tt[nt]);vt<X&&(X=vt),vt>Z&&(Z=vt)}return{x:H,y:X,width:K-H,height:Z-X}},length:function(b,y,A,B,N,G,j){},nearestPoint:function(b,y,A,B,N,G,j,J,H){var K=m(J-b,H-y,-N),st=K[0],nt=K[1],wt=O.default.nearestPoint(0,0,A,B,st,nt),gt=p(A,B,wt.x,wt.y);gt<G?wt=w(A,B,G):gt>j&&(wt=w(A,B,j));var At=m(wt.x,wt.y,N);return{x:At[0]+b,y:At[1]+y}},pointDistance:function(b,y,A,B,N,G,j,J,H){var K=this.nearestPoint(b,y,A,B,J,H);return S.distance(K.x,K.y,J,H)},pointAt:function(b,y,A,B,N,G,j,J){var H=(j-G)*J+G;return{x:P(b,y,A,B,N,H),y:T(b,y,A,B,N,H)}},tangentAngle:function(b,y,A,B,N,G,j,J){var H=(j-G)*J+G,K=D(b,y,A,B,N,G,j,H),st=k(b,y,A,B,N,G,j,H);return S.piMod(Math.atan2(st,K))}}},87335:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.snapLength=C.nearestPoint=void 0;var S=d(76256),O=1e-4;function D(I,_,P,T,p,w){var m,b=Infinity,y=[P,T],A=20;w&&w>200&&(A=w/10);for(var B=1/A,N=B/10,G=0;G<=A;G++){var j=G*B,J=[p.apply(null,I.concat([j])),p.apply(null,_.concat([j]))],H=S.distance(y[0],y[1],J[0],J[1]);H<b&&(m=j,b=H)}if(m===0)return{x:I[0],y:_[0]};if(m===1){var K=I.length;return{x:I[K-1],y:_[K-1]}}b=Infinity;for(var G=0;G<32&&!(N<O);G++){var st=m-N,nt=m+N,J=[p.apply(null,I.concat([st])),p.apply(null,_.concat([st]))],H=S.distance(y[0],y[1],J[0],J[1]);if(st>=0&&H<b)m=st,b=H;else{var wt=[p.apply(null,I.concat([nt])),p.apply(null,_.concat([nt]))],gt=S.distance(y[0],y[1],wt[0],wt[1]);nt<=1&&gt<b?(m=nt,b=gt):N*=.5}}return{x:p.apply(null,I.concat([m])),y:p.apply(null,_.concat([m]))}}C.nearestPoint=D;function k(I,_){for(var P=0,T=I.length,p=0;p<T;p++){var w=I[p],m=_[p],b=I[(p+1)%T],y=_[(p+1)%T];P+=S.distance(w,m,b,y)}return P/2}C.snapLength=k},15730:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(76256),O=d(23646),D=d(87335);function k(p,w,m,b,y){var A=1-y;return A*A*A*p+3*w*y*A*A+3*m*y*y*A+b*y*y*y}function I(p,w,m,b,y){var A=1-y;return 3*(A*A*(w-p)+2*A*y*(m-w)+y*y*(b-m))}function _(p,w,m,b){var y=-3*p+9*w-9*m+3*b,A=6*p-12*w+6*m,B=3*w-3*p,N=[],G,j,J;if(S.isNumberEqual(y,0))S.isNumberEqual(A,0)||(G=-B/A,G>=0&&G<=1&&N.push(G));else{var H=A*A-4*y*B;S.isNumberEqual(H,0)?N.push(-A/(2*y)):H>0&&(J=Math.sqrt(H),G=(-A+J)/(2*y),j=(-A-J)/(2*y),G>=0&&G<=1&&N.push(G),j>=0&&j<=1&&N.push(j))}return N}function P(p,w,m,b,y,A,B,N,G){var j=k(p,m,y,B,G),J=k(w,b,A,N,G),H=O.default.pointAt(p,w,m,b,G),K=O.default.pointAt(m,b,y,A,G),st=O.default.pointAt(y,A,B,N,G),nt=O.default.pointAt(H.x,H.y,K.x,K.y,G),wt=O.default.pointAt(K.x,K.y,st.x,st.y,G);return[[p,w,H.x,H.y,nt.x,nt.y,j,J],[j,J,wt.x,wt.y,st.x,st.y,B,N]]}function T(p,w,m,b,y,A,B,N,G){if(G===0)return D.snapLength([p,m,y,B],[w,b,A,N]);var j=P(p,w,m,b,y,A,B,N,.5),J=j[0],H=j[1];return J.push(G-1),H.push(G-1),T.apply(null,J)+T.apply(null,H)}C.default={extrema:_,box:function(p,w,m,b,y,A,B,N){for(var G=[p,B],j=[w,N],J=_(p,m,y,B),H=_(w,b,A,N),K=0;K<J.length;K++)G.push(k(p,m,y,B,J[K]));for(var K=0;K<H.length;K++)j.push(k(w,b,A,N,H[K]));return S.getBBoxByArray(G,j)},length:function(p,w,m,b,y,A,B,N){return T(p,w,m,b,y,A,B,N,3)},nearestPoint:function(p,w,m,b,y,A,B,N,G,j,J){return D.nearestPoint([p,m,y,B],[w,b,A,N],G,j,k,J)},pointDistance:function(p,w,m,b,y,A,B,N,G,j,J){var H=this.nearestPoint(p,w,m,b,y,A,B,N,G,j,J);return S.distance(H.x,H.y,G,j)},interpolationAt:k,pointAt:function(p,w,m,b,y,A,B,N,G){return{x:k(p,m,y,B,G),y:k(w,b,A,N,G)}},divide:function(p,w,m,b,y,A,B,N,G){return P(p,w,m,b,y,A,B,N,G)},tangentAngle:function(p,w,m,b,y,A,B,N,G){var j=I(p,m,y,B,G),J=I(w,b,A,N,G);return S.piMod(Math.atan2(J,j))}}},55397:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(76256);function O(D,k){var I=Math.abs(D);return k>0?I:I*-1}C.default={box:function(D,k,I,_){return{x:D-I,y:k-_,width:I*2,height:_*2}},length:function(D,k,I,_){return Math.PI*(3*(I+_)-Math.sqrt((3*I+_)*(I+3*_)))},nearestPoint:function(D,k,I,_,P,T){var p=I,w=_;if(p===0||w===0)return{x:D,y:k};for(var m=P-D,b=T-k,y=Math.abs(m),A=Math.abs(b),B=p*p,N=w*w,G=Math.PI/4,j,J,H=0;H<4;H++){j=p*Math.cos(G),J=w*Math.sin(G);var K=(B-N)*Math.pow(Math.cos(G),3)/p,st=(N-B)*Math.pow(Math.sin(G),3)/w,nt=j-K,wt=J-st,gt=y-K,At=A-st,X=Math.hypot(wt,nt),Z=Math.hypot(At,gt),tt=X*Math.asin((nt*At-wt*gt)/(X*Z)),Q=tt/Math.sqrt(B+N-j*j-J*J);G+=Q,G=Math.min(Math.PI/2,Math.max(0,G))}return{x:D+O(j,m),y:k+O(J,b)}},pointDistance:function(D,k,I,_,P,T){var p=this.nearestPoint(D,k,I,_,P,T);return S.distance(p.x,p.y,P,T)},pointAt:function(D,k,I,_,P){var T=2*Math.PI*P;return{x:D+I*Math.cos(T),y:k+_*Math.sin(T)}},tangentAngle:function(D,k,I,_,P){var T=2*Math.PI*P,p=Math.atan2(_*Math.cos(T),-I*Math.sin(T));return S.piMod(p)}}},23646:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(76256),O=d(31437);C.default={box:function(D,k,I,_){return S.getBBoxByArray([D,I],[k,_])},length:function(D,k,I,_){return S.distance(D,k,I,_)},pointAt:function(D,k,I,_,P){return{x:(1-P)*D+P*I,y:(1-P)*k+P*_}},pointDistance:function(D,k,I,_,P,T){var p=(I-D)*(P-D)+(_-k)*(T-k);if(p<0)return S.distance(D,k,P,T);var w=(I-D)*(I-D)+(_-k)*(_-k);return p>w?S.distance(I,_,P,T):this.pointToLine(D,k,I,_,P,T)},pointToLine:function(D,k,I,_,P,T){var p=[I-D,_-k];if(O.exactEquals(p,[0,0]))return Math.sqrt((P-D)*(P-D)+(T-k)*(T-k));var w=[-p[1],p[0]];O.normalize(w,w);var m=[P-D,T-k];return Math.abs(O.dot(m,w))},tangentAngle:function(D,k,I,_){return Math.atan2(_-k,I-D)}}},65386:function(mt,C,d){"use strict";var S;S={value:!0};var O=d(28171),D=d(76256);C.Z={box:function(k){for(var I=[],_=[],P=0;P<k.length;P++){var T=k[P];I.push(T[0]),_.push(T[1])}return D.getBBoxByArray(I,_)},length:function(k){return O.lengthOfSegment(k)},pointAt:function(k,I){return O.pointAtSegments(k,I)},pointDistance:function(k,I,_){return O.distanceAtSegment(k,I,_)},tangentAngle:function(k,I){return O.angleAtSegments(k,I)}}},2879:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(23646),O=d(76256),D=d(87335);function k(p,w,m,b){var y=1-b;return y*y*p+2*b*y*w+b*b*m}function I(p,w,m){var b=p+m-2*w;if(O.isNumberEqual(b,0))return[.5];var y=(p-w)/b;return y<=1&&y>=0?[y]:[]}function _(p,w,m,b){return 2*(1-b)*(w-p)+2*b*(m-w)}function P(p,w,m,b,y,A,B){var N=k(p,m,y,B),G=k(w,b,A,B),j=S.default.pointAt(p,w,m,b,B),J=S.default.pointAt(m,b,y,A,B);return[[p,w,j.x,j.y,N,G],[N,G,J.x,J.y,y,A]]}function T(p,w,m,b,y,A,B){if(B===0)return(O.distance(p,w,m,b)+O.distance(m,b,y,A)+O.distance(p,w,y,A))/2;var N=P(p,w,m,b,y,A,.5),G=N[0],j=N[1];return G.push(B-1),j.push(B-1),T.apply(null,G)+T.apply(null,j)}C.default={box:function(p,w,m,b,y,A){var B=I(p,m,y)[0],N=I(w,b,A)[0],G=[p,y],j=[w,A];return B!==void 0&&G.push(k(p,m,y,B)),N!==void 0&&j.push(k(w,b,A,N)),O.getBBoxByArray(G,j)},length:function(p,w,m,b,y,A){return T(p,w,m,b,y,A,3)},nearestPoint:function(p,w,m,b,y,A,B,N){return D.nearestPoint([p,m,y],[w,b,A],B,N,k)},pointDistance:function(p,w,m,b,y,A,B,N){var G=this.nearestPoint(p,w,m,b,y,A,B,N);return O.distance(G.x,G.y,B,N)},interpolationAt:k,pointAt:function(p,w,m,b,y,A,B){return{x:k(p,m,y,B),y:k(w,b,A,B)}},divide:function(p,w,m,b,y,A,B){return P(p,w,m,b,y,A,B)},tangentAngle:function(p,w,m,b,y,A,B){var N=_(p,m,y,B),G=_(w,b,A,B),j=Math.atan2(G,N);return O.piMod(j)}}},28171:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.distanceAtSegment=C.angleAtSegments=C.pointAtSegments=C.lengthOfSegment=void 0;var S=d(23646),O=d(76256);function D(T){for(var p=0,w=[],m=0;m<T.length-1;m++){var b=T[m],y=T[m+1],A=O.distance(b[0],b[1],y[0],y[1]),B={from:b,to:y,length:A};w.push(B),p+=A}return{segments:w,totalLength:p}}function k(T){if(T.length<2)return 0;for(var p=0,w=0;w<T.length-1;w++){var m=T[w],b=T[w+1];p+=O.distance(m[0],m[1],b[0],b[1])}return p}C.lengthOfSegment=k;function I(T,p){if(p>1||p<0||T.length<2)return null;var w=D(T),m=w.segments,b=w.totalLength;if(b===0)return{x:T[0][0],y:T[0][1]};for(var y=0,A=null,B=0;B<m.length;B++){var N=m[B],G=N.from,j=N.to,J=N.length/b;if(p>=y&&p<=y+J){var H=(p-y)/J;A=S.default.pointAt(G[0],G[1],j[0],j[1],H);break}y+=J}return A}C.pointAtSegments=I;function _(T,p){if(p>1||p<0||T.length<2)return 0;for(var w=D(T),m=w.segments,b=w.totalLength,y=0,A=0,B=0;B<m.length;B++){var N=m[B],G=N.from,j=N.to,J=N.length/b;if(p>=y&&p<=y+J){A=Math.atan2(j[1]-G[1],j[0]-G[0]);break}y+=J}return A}C.angleAtSegments=_;function P(T,p,w){for(var m=Infinity,b=0;b<T.length-1;b++){var y=T[b],A=T[b+1],B=S.default.pointDistance(y[0],y[1],A[0],A[1],p,w);B<m&&(m=B)}return m}C.distanceAtSegment=P},76256:function(mt,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.piMod=C.getBBoxRange=C.getBBoxByArray=C.isNumberEqual=C.distance=void 0;function d(P){return Math.min.apply(null,P)}function S(P){return Math.max.apply(null,P)}function O(P,T,p,w){var m=P-p,b=T-w;return Math.sqrt(m*m+b*b)}C.distance=O;function D(P,T){return Math.abs(P-T)<.001}C.isNumberEqual=D;function k(P,T){var p=d(P),w=d(T),m=S(P),b=S(T);return{x:p,y:w,width:m-p,height:b-w}}C.getBBoxByArray=k;function I(P,T,p,w){return{minX:d([P,p]),maxX:S([P,p]),minY:d([T,w]),maxY:S([T,w])}}C.getBBoxRange=I;function _(P){return(P+Math.PI*2)%(Math.PI*2)}C.piMod=_},56463:function(mt,C,d){"use strict";var S=d(34155),O=this&&this.__spreadArrays||function(){for(var N=0,G=0,j=arguments.length;G<j;G++)N+=arguments[G].length;for(var J=Array(N),H=0,G=0;G<j;G++)for(var K=arguments[G],st=0,nt=K.length;st<nt;st++,H++)J[H]=K[st];return J};Object.defineProperty(C,"__esModule",{value:!0});var D=function(){function N(G,j,J){this.name=G,this.version=j,this.os=J}return N}();C.BrowserInfo=D;var k=function(){function N(G){this.version=G,this.name="node",this.os=S.platform}return N}();C.NodeInfo=k;var I=function(){function N(){this.bot=!0,this.name="bot",this.version=null,this.os=null}return N}();C.BotInfo=I;var _=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,P=/(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\/Teoma)|(ia_archiver)/,T=3,p=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["vivaldi",/Vivaldi\/([0-9\.]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/Edg\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",_]],w=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/],["Search Bot",P]];function m(N){return N?b(N):typeof navigator!="undefined"?b(navigator.userAgent):A()}C.detect=m;function b(N){var G=N!==""&&p.reduce(function(K,st){var nt=st[0],wt=st[1];if(K)return K;var gt=wt.exec(N);return!!gt&&[nt,gt]},!1);if(!G)return null;var j=G[0],J=G[1];if(j==="searchbot")return new I;var H=J[1]&&J[1].split(/[._]/).slice(0,3);return H?H.length<T&&(H=O(H,B(T-H.length))):H=[],new D(j,H.join("."),y(N))}C.parseUserAgent=b;function y(N){for(var G=0,j=w.length;G<j;G++){var J=w[G],H=J[0],K=J[1],st=K.test(N);if(st)return H}return null}C.detectOS=y;function A(){var N=typeof S!="undefined"&&S.version;return N?new k(S.version.slice(1)):null}C.getNodeVersion=A;function B(N){for(var G=[],j=0;j<N;j++)G.push("0");return G}},23231:function(mt){"use strict";mt.exports=JSON.parse('{"name":"@antv/g-svg","version":"0.4.7","description":"A canvas library which providing 2d","main":"lib/index.js","module":"esm/index.js","unpkg":"dist/g.min.js","types":"lib/index.d.ts","files":["package.json","esm","lib","dist","LICENSE","README.md"],"scripts":{"build":"npm run clean && run-p build:*","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","build:umd":"webpack --config webpack.config.js --mode production","clean":"rm -rf esm lib dist","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive --opts tests/mocha.opts","tsc":"tsc --noEmit","typecheck":"tsc --noEmit"},"repository":{"type":"git","url":"git+https://github.com/antvis/g.git"},"keywords":["util","antv","g"],"publishConfig":{"access":"public"},"author":"https://github.com/orgs/antvis/people","license":"ISC","bugs":{"url":"https://github.com/antvis/g/issues"},"devDependencies":{"@antv/torch":"^1.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","webpack":"^4.39.3","webpack-cli":"^3.3.7"},"homepage":"https://github.com/antvis/g#readme","dependencies":{"@antv/g-base":"^0.4.7","@antv/g-math":"^0.1.3","@antv/util":"~2.0.0","detect-browser":"^4.6.0"},"__npminstall_done":false,"gitHead":"eb6a2503cb7bb8154697592b10680939d954a31a"}')},52351:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(49242),O=d(2810),D=function(){function k(I){var _=I.xField,P=I.yField,T=I.adjustNames,p=T===void 0?["x","y"]:T,w=I.dimValuesMap;this.adjustNames=p,this.xField=_,this.yField=P,this.dimValuesMap=w}return k.prototype.isAdjust=function(I){return this.adjustNames.indexOf(I)>=0},k.prototype.getAdjustRange=function(I,_,P){var T=this.yField,p=P.indexOf(_),w=P.length,m,b;return!T&&this.isAdjust("y")?(m=0,b=1):w>1?(m=P[p===0?0:p-1],b=P[p===w-1?w-1:p+1],p!==0?m+=(_-m)/2:m-=(b-_)/2,p!==w-1?b-=(b-_)/2:b+=(_-P[w-2])/2):(m=_===0?0:_-.5,b=_===0?1:_+.5),{pre:m,next:b}},k.prototype.adjustData=function(I,_){var P=this,T=this.getDimValues(_);S.each(I,function(p,w){S.each(T,function(m,b){P.adjustDim(b,m,p,w)})})},k.prototype.groupData=function(I,_){return S.each(I,function(P){P[_]===void 0&&(P[_]=O.DEFAULT_Y)}),S.groupBy(I,_)},k.prototype.adjustDim=function(I,_,P,T){},k.prototype.getDimValues=function(I){var _=this,P=_.xField,T=_.yField,p=S.assign({},this.dimValuesMap),w=[];if(P&&this.isAdjust("x")&&w.push(P),T&&this.isAdjust("y")&&w.push(T),w.forEach(function(b){p&&p[b]||(p[b]=S.valuesOfKey(I,b).sort(function(y,A){return y-A}))}),!T&&this.isAdjust("y")){var m="y";p[m]=[O.DEFAULT_Y,1]}return p},k}();C.default=D},2810:function(mt,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.GAP=C.DODGE_RATIO=C.MARGIN_RATIO=C.DEFAULT_Y=void 0,C.DEFAULT_Y=0,C.MARGIN_RATIO=1/2,C.DODGE_RATIO=1/2,C.GAP=.05},68060:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.Adjust=C.registerAdjust=C.getAdjust=void 0;var S=d(8108),O=d(52351);C.Adjust=O.default;var D={},k=function(_){return D[_.toLowerCase()]};C.getAdjust=k;var I=function(_,P){if(k(_))throw new Error("Adjust type '"+_+"' existed.");D[_.toLowerCase()]=P};C.registerAdjust=I,S.__exportStar(d(62056),C)},62056:function(mt,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0})},58368:function(mt,C,d){"use strict";d.r(C),d.d(C,{Attribute:function(){return k},Color:function(){return T},Opacity:function(){return w},Position:function(){return b},Scale:function(){return G.Scale},Shape:function(){return A},Size:function(){return N},getAttribute:function(){return J},registerAttribute:function(){return H}});var S=d(49242),O=function(K,st){return(0,S.isString)(st)?st:K.invert(K.scale(st))},D=function(){function K(st){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(st)}return K.prototype.mapping=function(){for(var st=this,nt=[],wt=0;wt<arguments.length;wt++)nt[wt]=arguments[wt];var gt=nt.map(function(At,X){return st._toOriginParam(At,st.scales[X])});return this.callback.apply(this,gt)},K.prototype.getLinearValue=function(st){var nt=this.values.length-1,wt=Math.floor(nt*st),gt=nt*st-wt,At=this.values[wt],X=wt===nt?At:this.values[wt+1];return At+(X-At)*gt},K.prototype.getNames=function(){for(var st=this.scales,nt=this.names,wt=Math.min(st.length,nt.length),gt=[],At=0;At<wt;At+=1)gt.push(nt[At]);return gt},K.prototype.getFields=function(){return this.scales.map(function(st){return st.field})},K.prototype.getScale=function(st){return this.scales[this.names.indexOf(st)]},K.prototype.defaultCallback=function(){for(var st=this,nt=[],wt=0;wt<arguments.length;wt++)nt[wt]=arguments[wt];return nt.length===0?this.values:nt.map(function(gt,At){var X=st.scales[At];return X.type==="identity"?X.values[0]:st._getAttributeValue(X,gt)})},K.prototype._parseCfg=function(st){var nt=this,wt=st.type,gt=wt===void 0?"base":wt,At=st.names,X=At===void 0?[]:At,Z=st.scales,tt=Z===void 0?[]:Z,Q=st.values,vt=Q===void 0?[]:Q,lt=st.callback;this.type=gt,this.scales=tt,this.values=vt,this.names=X,this.callback=function(){for(var rt=[],U=0;U<arguments.length;U++)rt[U]=arguments[U];if(lt){var $=lt.apply(void 0,rt);if(!(0,S.isNil)($))return[$]}return nt.defaultCallback.apply(nt,rt)}},K.prototype._getAttributeValue=function(st,nt){if(st.isCategory&&!this.linear){var wt=st.translate(nt);return this.values[wt%this.values.length]}var gt=st.scale(nt);return this.getLinearValue(gt)},K.prototype._toOriginParam=function(st,nt){return nt.isLinear?st:(0,S.isArray)(st)?st.map(function(wt){return O(nt,wt)}):O(nt,st)},K}(),k=D,I=d(8108),_=d(55223),P=function(K){(0,I.__extends)(st,K);function st(nt){var wt=K.call(this,nt)||this;return wt.type="color",wt.names=["color"],(0,S.isString)(wt.values)&&(wt.linear=!0),wt.gradient=_.default.gradient(wt.values),wt}return st.prototype.getLinearValue=function(nt){return this.gradient(nt)},st}(k),T=P,p=function(K){(0,I.__extends)(st,K);function st(nt){var wt=K.call(this,nt)||this;return wt.type="opacity",wt.names=["opacity"],wt}return st}(k),w=p,m=function(K){(0,I.__extends)(st,K);function st(nt){var wt=K.call(this,nt)||this;return wt.names=["x","y"],wt.type="position",wt}return st.prototype.mapping=function(nt,wt){var gt=this.scales,At=gt[0],X=gt[1];return(0,S.isNil)(nt)||(0,S.isNil)(wt)?[]:[(0,S.isArray)(nt)?nt.map(function(Z){return At.scale(Z)}):At.scale(nt),(0,S.isArray)(wt)?wt.map(function(Z){return X.scale(Z)}):X.scale(wt)]},st}(k),b=m,y=function(K){(0,I.__extends)(st,K);function st(nt){var wt=K.call(this,nt)||this;return wt.type="shape",wt.names=["shape"],wt}return st.prototype.getLinearValue=function(nt){var wt=Math.round((this.values.length-1)*nt);return this.values[wt]},st}(k),A=y,B=function(K){(0,I.__extends)(st,K);function st(nt){var wt=K.call(this,nt)||this;return wt.type="size",wt.names=["size"],wt}return st}(k),N=B,G=d(72469),j={},J=function(K){return j[K.toLowerCase()]},H=function(K,st){if(J(K))throw new Error("Attribute type '"+K+"' existed.");j[K.toLowerCase()]=st};H("Color",T),H("Opacity",w),H("Position",b),H("Shape",A),H("Size",N)},27210:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(49242),O=function(k,I){return S.isString(I)?I:k.invert(k.scale(I))},D=function(){function k(I){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(I)}return k.prototype.mapping=function(){for(var I=this,_=[],P=0;P<arguments.length;P++)_[P]=arguments[P];var T=_.map(function(p,w){return I._toOriginParam(p,I.scales[w])});return this.callback.apply(this,T)},k.prototype.getLinearValue=function(I){var _=this.values.length-1,P=Math.floor(_*I),T=_*I-P,p=this.values[P],w=P===_?p:this.values[P+1];return p+(w-p)*T},k.prototype.getNames=function(){for(var I=this.scales,_=this.names,P=Math.min(I.length,_.length),T=[],p=0;p<P;p+=1)T.push(_[p]);return T},k.prototype.getFields=function(){return this.scales.map(function(I){return I.field})},k.prototype.getScale=function(I){return this.scales[this.names.indexOf(I)]},k.prototype.defaultCallback=function(){for(var I=this,_=[],P=0;P<arguments.length;P++)_[P]=arguments[P];return _.length===0?this.values:_.map(function(T,p){var w=I.scales[p];return w.type==="identity"?w.values[0]:I._getAttributeValue(w,T)})},k.prototype._parseCfg=function(I){var _=this,P=I.type,T=P===void 0?"base":P,p=I.names,w=p===void 0?[]:p,m=I.scales,b=m===void 0?[]:m,y=I.values,A=y===void 0?[]:y,B=I.callback;this.type=T,this.scales=b,this.values=A,this.names=w,this.callback=function(){for(var N=[],G=0;G<arguments.length;G++)N[G]=arguments[G];if(B){var j=B.apply(void 0,N);if(!S.isNil(j))return[j]}return _.defaultCallback.apply(_,N)}},k.prototype._getAttributeValue=function(I,_){if(I.isCategory&&!this.linear){var P=I.translate(_);return this.values[P%this.values.length]}var T=I.scale(_);return this.getLinearValue(T)},k.prototype._toOriginParam=function(I,_){return _.isLinear?I:S.isArray(I)?I.map(function(P){return O(_,P)}):O(_,I)},k}();C.default=D},25228:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.Attribute=C.registerAttribute=C.getAttribute=void 0;var S=d(8108),O=d(27210);C.Attribute=O.default;var D={},k=function(_){return D[_.toLowerCase()]};C.getAttribute=k;var I=function(_,P){if(k(_))throw new Error("Attribute type '"+_+"' existed.");D[_.toLowerCase()]=P};C.registerAttribute=I,S.__exportStar(d(5925),C)},5925:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.Scale=void 0;var S=d(72469);Object.defineProperty(C,"Scale",{enumerable:!0,get:function(){return S.Scale}})},61102:function(){},50817:function(mt,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.registerAnimation=C.getAnimation=void 0;var d={};function S(D){return d[D.toLowerCase()]}C.getAnimation=S;function O(D,k){d[D.toLowerCase()]=k}C.registerAnimation=O},97488:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.doGroupAppearAnimate=C.doAnimate=C.getDefaultAnimateCfg=C.DEFAULT_ANIMATE_CFG=void 0;var S=d(80123),O=d(49242),D=d(78646),k=d(50817);C.DEFAULT_ANIMATE_CFG={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}};var I={interval:function(m){return{enter:{animation:m.isRect?m.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:m.isPolar&&m.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},_={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(m){var b;return m.isRect?b=m.isTransposed?"grow-in-x":"grow-in-y":(b="grow-in-xy",m.isPolar&&m.isTransposed&&(b="wave-in")),{animation:b}},schema:function(m){var b;return m.isRect?b=m.isTransposed?"grow-in-x":"grow-in-y":b="grow-in-xy",{animation:b}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function P(m,b){return{delay:O.isFunction(m.delay)?m.delay(b):m.delay,easing:O.isFunction(m.easing)?m.easing(b):m.easing,duration:O.isFunction(m.duration)?m.duration(b):m.duration,callback:m.callback}}function T(m,b,y){var A=I[m];return A&&(O.isFunction(A)&&(A=A(b)),A=O.deepMix({},C.DEFAULT_ANIMATE_CFG,A),y)?A[y]:A}C.getDefaultAnimateCfg=T;function p(m,b,y){var A=O.get(m.get("origin"),"data",D.FIELD_ORIGIN),B=b.animation,N=P(b,A);if(B){var G=k.getAnimation(B);G&&G(m,N,y)}else m.animate(y.toAttrs,N)}C.doAnimate=p;function w(m,b,y,A,B){if(_[y]){var N=_[y](A),G=k.getAnimation(O.get(N,"animation",""));if(G){var j=S.__assign(S.__assign(S.__assign({},C.DEFAULT_ANIMATE_CFG.appear),N),b);m.stopAnimate(),G(m,j,{coordinate:A,minYPoint:B,toAttrs:null})}}}C.doGroupAppearAnimate=w},51315:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(80123),O=S.__importDefault(d(90494)),D=function(k){S.__extends(I,k);function I(_){var P=k.call(this)||this;P.destroyed=!1;var T=_.visible,p=T===void 0?!0:T;return P.visible=p,P}return I.prototype.show=function(){var _=this.visible;_||this.changeVisible(!0)},I.prototype.hide=function(){var _=this.visible;_&&this.changeVisible(!1)},I.prototype.destroy=function(){this.off(),this.destroyed=!0},I.prototype.changeVisible=function(_){this.visible!==_&&(this.visible=_)},I}(O.default);C.default=D},72282:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.Controller=void 0;var S=d(49242),O=function(){function D(k){this.visible=!0,this.components=[],this.view=k}return D.prototype.clear=function(){S.each(this.components,function(k){k.component.destroy()}),this.components=[]},D.prototype.destroy=function(){this.clear()},D.prototype.getComponents=function(){return this.components},D.prototype.changeVisible=function(k){this.visible!==k&&(this.components.forEach(function(I){k?I.component.show():I.component.hide()}),this.visible=k)},D}();C.Controller=O},67984:function(mt,C,d){"use strict";var S;S={value:!0};var O=d(80123),D=d(72282),k=250,I=function(w,m){var b=m.x-w.x,y=m.y-w.y;return Math.abs(b)>Math.abs(y)?b>0?"right":"left":y>0?"down":"up"},_=function(w,m){var b=Math.abs(m.x-w.x),y=Math.abs(m.y-w.y);return Math.sqrt(b*b+y*y)},P=function(w,m){var b=(w.x+m.x)/2,y=(w.y+m.y)/2;return{x:b,y}},T=function(w,m){if(!!w){for(var b=[],y=w.length,A=0;A<y;A++){var B=w[A],N=B.clientX,G=B.clientY,j=m.getPointByClient(N,G);b.push(j)}return b}},p=function(w){O.__extends(m,w);function m(b){var y=w.call(this,b)||this;return y.processEvent={},y.touchStart=function(A){var B=T(A.originalEvent.touches,y.canvas);!B||(A.points=B,y.reset(),y.startTime=Date.now(),y.startPoints=B,B.length>1?(y.startDistance=_(B[0],B[1]),y.center=P(B[0],B[1])):y.pressTimeout=setTimeout(function(){var N="press";A.direction="none",y.emitStart(N,A),y.emitEvent(N,A),y.eventType=N},k))},y.touchMove=function(A){var B=T(A.originalEvent.touches,y.canvas);if(!!B){y.clearPressTimeout(),A.points=B;var N=y.startPoints;if(!!N)if(B.length>1){var G=y.startDistance,j=_(B[0],B[1]);A.zoom=j/G,A.center=y.center,y.emitStart("pinch",A),y.emitEvent("pinch",A)}else{var J=B[0].x-N[0].x,H=B[0].y-N[0].y,K=y.direction||I(N[0],B[0]);y.direction=K;var st=y.getEventType(B);A.direction=K,A.deltaX=J,A.deltaY=H,y.emitStart(st,A),y.emitEvent(st,A);var nt=y.lastMoveTime,wt=Date.now();wt-nt>0&&(y.prevMoveTime=nt,y.prevMovePoints=y.lastMovePoints,y.lastMoveTime=wt,y.lastMovePoints=B)}}},y.touchEnd=function(A){y.emitEnd(A);var B=y.lastMoveTime,N=Date.now();if(N-B<100){var G=y.prevMoveTime||y.startTime,j=B-G;if(j>0){var J=y.prevMovePoints||y.startPoints,H=y.lastMovePoints,K=_(J[0],H[0])/j;K>.3&&(A.velocity=K,A.direction=I(J[0],H[0]),y.emitEvent("swipe",A))}}y.reset();var st=A.touches;st&&st.length>0&&y.touchStart(A)},y.canvas=b.getCanvas(),y.delegateEvent(),y.processEvent={},y}return Object.defineProperty(m.prototype,"name",{get:function(){return"gesture"},enumerable:!1,configurable:!0}),m.prototype.init=function(){},m.prototype.render=function(){},m.prototype.layout=function(){},m.prototype.update=function(){},m.prototype.destroy=function(){this.reset(),this.offEvent(),this.processEvent=null},m.prototype.delegateEvent=function(){this.canvas.on("touchstart",this.touchStart),this.canvas.on("touchmove",this.touchMove),this.canvas.on("touchend",this.touchEnd)},m.prototype.offEvent=function(){this.canvas.off("touchstart",this.touchStart),this.canvas.off("touchmove",this.touchMove),this.canvas.off("touchend",this.touchEnd)},m.prototype.emitEvent=function(b,y){var A=this.view;A.emit(b,y)},m.prototype.emitStart=function(b,y){this.isProcess(b)||(this.enable(b),this.emitEvent(b+"start",y))},m.prototype.emitEnd=function(b){var y=this,A=this.processEvent;Object.keys(A).forEach(function(B){y.emitEvent(B+"end",b),delete A[B]})},m.prototype.enable=function(b){this.processEvent[b]=!0},m.prototype.isProcess=function(b){return this.processEvent[b]},m.prototype.reset=function(){this.clearPressTimeout(),this.startTime=0,this.startPoints=null,this.startDistance=0,this.direction=null,this.eventType=null,this.prevMoveTime=0,this.prevMovePoints=null,this.lastMoveTime=0,this.lastMovePoints=null},m.prototype.clearPressTimeout=function(){this.pressTimeout&&(clearTimeout(this.pressTimeout),this.pressTimeout=0)},m.prototype.getEventType=function(b){var y=this,A=y.eventType,B=y.view,N=y.startTime,G=y.startPoints;if(A)return A;var j,J=B.getEvents().pan;if(!J||!J.length)j="press";else{var H=Date.now();H-N>k&&_(G[0],b[0])<10?j="press":j="pan"}return this.eventType=j,j},m}(D.Controller);C.Z=p},13733:function(mt,C,d){"use strict";var S;S={value:!0};var O=d(80123),D=d(49242),k=d(96397),I=d(83714),_=d(38674),P=d(97127),T=d(72282);function p(m){for(var b=[],y=function(B){var N=m[B],G=D.find(b,function(j){return j.color===N.color&&j.name===N.name&&j.value===N.value&&j.title===N.title});G||b.push(N)},A=0;A<m.length;A++)y(A);return b}var w=function(m){O.__extends(b,m);function b(){var y=m!==null&&m.apply(this,arguments)||this;return y.isLocked=!1,y}return Object.defineProperty(b.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),b.prototype.init=function(){},b.prototype.isVisible=function(){var y=this.view.getOptions().tooltip;return y!==!1},b.prototype.render=function(){},b.prototype.showTooltip=function(y){if(this.point=y,!!this.isVisible()){var A=this.view,B=this.getTooltipItems(y);if(!B.length){this.hideTooltip();return}var N=this.getTitle(B),G={x:B[0].x,y:B[0].y};A.emit("tooltip:show",O.__assign({items:B,title:N},y));var j=this.getTooltipCfg(),J=j.follow,H=j.showMarkers,K=j.showCrosshairs,st=j.showContent,nt=j.marker,wt=this.items,gt=this.title;if(!D.isEqual(gt,N)||!D.isEqual(wt,B)?(A.emit("tooltip:change",O.__assign({items:B,title:N},y)),st&&(this.tooltip||this.renderTooltip(),this.tooltip.update(D.mix({},j,{items:B,title:N},J?y:{})),this.tooltip.show()),H&&this.renderTooltipMarkers(B,nt)):(this.tooltip&&J&&(this.tooltip.update(y),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()),this.items=B,this.title=N,K){var At=D.get(j,["crosshairs","follow"],!1);this.renderCrosshairs(At?y:G,j)}}},b.prototype.hideTooltip=function(){var y=this.getTooltipCfg().follow;if(!y){this.point=null;return}var A=this.tooltipMarkersGroup;A&&A.hide();var B=this.xCrosshair,N=this.yCrosshair;B&&B.hide(),N&&N.hide();var G=this.tooltip;G&&G.hide(),this.view.emit("tooltip:hide",{}),this.point=null},b.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},b.prototype.unlockTooltip=function(){this.isLocked=!1;var y=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(y.capture)},b.prototype.isTooltipLocked=function(){return this.isLocked},b.prototype.clear=function(){var y=this,A=y.tooltip,B=y.xCrosshair,N=y.yCrosshair,G=y.tooltipMarkersGroup;A&&(A.hide(),A.clear()),B&&B.clear(),N&&N.clear(),G&&G.clear()},b.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},b.prototype.changeVisible=function(y){if(this.visible!==y){var A=this,B=A.tooltip,N=A.tooltipMarkersGroup,G=A.xCrosshair,j=A.yCrosshair;y?(B&&B.show(),N&&N.show(),G&&G.show(),j&&j.show()):(B&&B.hide(),N&&N.hide(),G&&G.hide(),j&&j.hide()),this.visible=y}},b.prototype.getTooltipItems=function(y){var A=this.findItemsFromView(this.view,y);if(A.length){A=D.flatten(A);for(var B=0,N=A;B<N.length;B++)for(var G=N[B],j=0,J=G;j<J.length;j++){var H=J[j],K=H.mappingData,st=K.x,nt=K.y;H.x=D.isArray(st)?st[st.length-1]:st,H.y=D.isArray(nt)?nt[nt.length-1]:nt}var wt=this.getTooltipCfg().shared;if(wt===!1&&A.length>1){for(var gt=A[0],At=Math.abs(y.y-gt[0].y),X=0,Z=A;X<Z.length;X++){var tt=Z[X],Q=Math.abs(y.y-tt[0].y);Q<=At&&(gt=tt,At=Q)}A=[gt]}return p(D.flatten(A))}return[]},b.prototype.layout=function(){},b.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var y=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:y.get("width"),y:y.get("height")}})}},b.prototype.getTooltipCfg=function(){var y=this.view,A=y.getOptions().tooltip,B=y.getTheme(),N=D.get(B,["components","tooltip"],{}),G=D.isUndefined(D.get(A,"enterable"))?N.enterable:D.get(A,"enterable");return D.deepMix({},N,A,{capture:!!(G||this.isLocked)})},b.prototype.getTitle=function(y){var A=y[0].title||y[0].name;return this.title=A,A},b.prototype.renderTooltip=function(){var y=this.view.getCanvas(),A={start:{x:0,y:0},end:{x:y.get("width"),y:y.get("height")}},B=this.getTooltipCfg(),N=new k.HtmlTooltip(O.__assign(O.__assign({parent:y.get("el").parentNode,region:A},B),{visible:!1,crosshairs:null}));N.init(),this.tooltip=N},b.prototype.renderTooltipMarkers=function(y,A){for(var B=this.getTooltipMarkersGroup(),N=0,G=y;N<G.length;N++){var j=G[N],J=j.x,H=j.y,K=O.__assign(O.__assign({fill:j.color,symbol:"circle",shadowColor:j.color},A),{x:J,y:H});B.addShape("marker",{attrs:K})}},b.prototype.renderCrosshairs=function(y,A){var B=D.get(A,["crosshairs","type"],"x");B==="x"?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(y,A)):B==="y"?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(y,A)):B==="xy"&&(this.renderXCrosshairs(y,A),this.renderYCrosshairs(y,A))},b.prototype.renderXCrosshairs=function(y,A){var B=this.getViewWithGeometry(this.view).getCoordinate();if(!!I.isPointInCoordinate(B,y)){var N,G;if(B.isRect)B.isTransposed?(N={x:B.start.x,y:y.y},G={x:B.end.x,y:y.y}):(N={x:y.x,y:B.end.y},G={x:y.x,y:B.start.y});else{var j=I.getAngleByPoint(B,y),J=B.getCenter(),H=B.getRadius();G=_.polarToCartesian(J.x,J.y,H,j),N=J}var K=D.deepMix({start:N,end:G,container:this.getTooltipCrosshairsGroup()},D.get(A,"crosshairs",{}),this.getCrosshairsText("x",y,A));delete K.type;var st=this.xCrosshair;st?st.update(K):(st=new k.Crosshair.Line(K),st.init()),st.render(),st.show(),this.xCrosshair=st}},b.prototype.renderYCrosshairs=function(y,A){var B=this.getViewWithGeometry(this.view).getCoordinate();if(!!I.isPointInCoordinate(B,y)){var N,G;if(B.isRect){var j=void 0,J=void 0;B.isTransposed?(j={x:y.x,y:B.end.y},J={x:y.x,y:B.start.y}):(j={x:B.start.x,y:y.y},J={x:B.end.x,y:y.y}),N={start:j,end:J},G="Line"}else N={center:B.getCenter(),radius:I.getDistanceToCenter(B,y),startAngle:B.startAngle,endAngle:B.endAngle},G="Circle";N=D.deepMix({container:this.getTooltipCrosshairsGroup()},N,D.get(A,"crosshairs",{}),this.getCrosshairsText("y",y,A)),delete N.type;var H=this.yCrosshair;H?B.isRect&&H.get("type")==="circle"||!B.isRect&&H.get("type")==="line"?(H=new k.Crosshair[G](N),H.init()):H.update(N):(H=new k.Crosshair[G](N),H.init()),H.render(),H.show(),this.yCrosshair=H}},b.prototype.getCrosshairsText=function(y,A,B){var N=D.get(B,["crosshairs","text"]),G=D.get(B,["crosshairs","follow"]),j=this.items;if(N){var J=this.getViewWithGeometry(this.view),H=j[0],K=J.getXScale(),st=J.getYScales()[0],nt=void 0,wt=void 0;if(G){var gt=this.view.getCoordinate().invert(A);nt=K.invert(gt.x),wt=st.invert(gt.y)}else nt=H.data[K.field],wt=H.data[st.field];var At=y==="x"?nt:wt;return D.isFunction(N)?N=N(y,At,j,A):N.content=At,{text:N}}},b.prototype.getGuideGroup=function(){if(!this.guideGroup){var y=this.view.foregroundGroup;this.guideGroup=y.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},b.prototype.getTooltipMarkersGroup=function(){var y=this.tooltipMarkersGroup;return y&&!y.destroyed?(y.clear(),y.show()):(y=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"}),y.toFront(),this.tooltipMarkersGroup=y),y},b.prototype.getTooltipCrosshairsGroup=function(){var y=this.tooltipCrosshairsGroup;return y||(y=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1}),y.toBack(),this.tooltipCrosshairsGroup=y),y},b.prototype.getTooltipItemsByHitShape=function(y,A,B){var N=[],G=y.container,j=G.getShape(A.x,A.y);if(j&&j.get("visible")&&j.get("origin")){var J=j.get("origin").mappingData,H=P.getTooltipItems(J,y,B);H.length&&N.push(H)}return N},b.prototype.getTooltipItemsByFindData=function(y,A,B){var N=[],G=y.dataArray;y.sort(G);for(var j=0,J=G;j<J.length;j++){var H=J[j],K=P.findDataByPoint(A,H,y);if(K){var st=y.getElementId(K),nt=y.elementsMap[st];if(y.type==="heatmap"||nt.visible){var wt=P.getTooltipItems(K,y,B);wt.length&&N.push(wt)}}}return N},b.prototype.findItemsFromView=function(y,A){if(y.getOptions().tooltip===!1)return[];for(var B=[],N=y.geometries,G=this.getTooltipCfg(),j=G.shared,J=G.title,H=0,K=N;H<K.length;H++){var st=K[H];if(st.visible&&st.tooltipOption!==!1){var nt=st.type,wt=void 0;["point","edge","polygon"].includes(nt)?wt=this.getTooltipItemsByHitShape(st,A,J):["area","line","path","heatmap"].includes(nt)?wt=this.getTooltipItemsByFindData(st,A,J):j!==!1?wt=this.getTooltipItemsByFindData(st,A,J):wt=this.getTooltipItemsByHitShape(st,A,J),wt.length&&B.push(wt)}}for(var gt=0,At=y.views;gt<At.length;gt++){var X=At[gt];B=B.concat(this.findItemsFromView(X,A))}return B},b.prototype.getViewWithGeometry=function(y){var A=this;return y.geometries.length?y:D.find(y.views,function(B){return A.getViewWithGeometry(B)})},b}(T.Controller);C.Z=w},78646:function(mt,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.COMPONENT_MAX_VIEW_PERCENTAGE=C.MIN_CHART_HEIGHT=C.MIN_CHART_WIDTH=C.FIELD_ORIGIN=C.GROUP_ATTRS=C.ELEMENT_STATE=C.PLOT_EVENTS=C.VIEW_LIFE_CIRCLE=C.GROUP_Z_INDEX=C.COMPONENT_TYPE=C.DIRECTION=C.LAYER=void 0;var d;(function(_){_.FORE="fore",_.MID="mid",_.BG="bg"})(d=C.LAYER||(C.LAYER={}));var S;(function(_){_.TOP="top",_.TOP_LEFT="top-left",_.TOP_RIGHT="top-right",_.RIGHT="right",_.RIGHT_TOP="right-top",_.RIGHT_BOTTOM="right-bottom",_.LEFT="left",_.LEFT_TOP="left-top",_.LEFT_BOTTOM="left-bottom",_.BOTTOM="bottom",_.BOTTOM_LEFT="bottom-left",_.BOTTOM_RIGHT="bottom-right",_.RADIUS="radius",_.CIRCLE="circle",_.NONE="none"})(S=C.DIRECTION||(C.DIRECTION={}));var O;(function(_){_.AXIS="axis",_.GRID="grid",_.LEGEND="legend",_.TOOLTIP="tooltip",_.ANNOTATION="annotation",_.OTHER="other"})(O=C.COMPONENT_TYPE||(C.COMPONENT_TYPE={})),C.GROUP_Z_INDEX={FORE:3,MID:2,BG:1};var D;(function(_){_.BEFORE_RENDER="beforerender",_.AFTER_RENDER="afterrender",_.BEFORE_PAINT="beforepaint",_.AFTER_PAINT="afterpaint",_.BEFORE_CHANGE_DATA="beforechangedata",_.AFTER_CHANGE_DATA="afterchangedata",_.BEFORE_CLEAR="beforeclear",_.AFTER_CLEAR="afterclear",_.BEFORE_DESTROY="beforedestroy"})(D=C.VIEW_LIFE_CIRCLE||(C.VIEW_LIFE_CIRCLE={}));var k;(function(_){_.MOUSE_ENTER="plot:mouseenter",_.MOUSE_DOWN="plot:mousedown",_.MOUSE_MOVE="plot:mousemove",_.MOUSE_UP="plot:mouseup",_.MOUSE_LEAVE="plot:mouseleave",_.TOUCH_START="plot:touchstart",_.TOUCH_MOVE="plot:touchmove",_.TOUCH_END="plot:touchend",_.TOUCH_CANCEL="plot:touchcancel",_.CLICK="plot:click",_.DBLCLICK="plot:dblclick",_.CONTEXTMENU="plot:contextmenu",_.LEAVE="plot:leave",_.ENTER="plot:enter"})(k=C.PLOT_EVENTS||(C.PLOT_EVENTS={}));var I;(function(_){_.ACTIVE="active",_.INACTIVE="inactive",_.SELECTED="selected",_.DEFAULT="default"})(I=C.ELEMENT_STATE||(C.ELEMENT_STATE={})),C.GROUP_ATTRS=["color","shape","size"],C.FIELD_ORIGIN="_origin",C.MIN_CHART_WIDTH=1,C.MIN_CHART_HEIGHT=1,C.COMPONENT_MAX_VIEW_PERCENTAGE=.25},96397:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.Slider=C.HtmlTooltip=C.ContinuousLegend=C.CategoryLegend=C.CircleGrid=C.LineGrid=C.CircleAxis=C.LineAxis=C.Annotation=C.Crosshair=C.Component=C.GroupComponent=C.HtmlComponent=void 0;var S=d(65722);Object.defineProperty(C,"Event",{enumerable:!0,get:function(){return S.Event}}),Object.defineProperty(C,"AbstractGroup",{enumerable:!0,get:function(){return S.AbstractGroup}}),Object.defineProperty(C,"AbstractShape",{enumerable:!0,get:function(){return S.AbstractShape}});var O=d(68060);Object.defineProperty(C,"registerAdjust",{enumerable:!0,get:function(){return O.registerAdjust}}),Object.defineProperty(C,"getAdjust",{enumerable:!0,get:function(){return O.getAdjust}}),Object.defineProperty(C,"Adjust",{enumerable:!0,get:function(){return O.Adjust}});var D=d(25228);Object.defineProperty(C,"getAttribute",{enumerable:!0,get:function(){return D.getAttribute}}),Object.defineProperty(C,"Attribute",{enumerable:!0,get:function(){return D.Attribute}});var k=d(58368);Object.defineProperty(C,"Color",{enumerable:!0,get:function(){return k.Color}});var I=d(13541);Object.defineProperty(C,"getCoordinate",{enumerable:!0,get:function(){return I.getCoordinate}}),Object.defineProperty(C,"registerCoordinate",{enumerable:!0,get:function(){return I.registerCoordinate}}),Object.defineProperty(C,"Coordinate",{enumerable:!0,get:function(){return I.Coordinate}});var _=d(72469);Object.defineProperty(C,"getScale",{enumerable:!0,get:function(){return _.getScale}}),Object.defineProperty(C,"registerScale",{enumerable:!0,get:function(){return _.registerScale}}),Object.defineProperty(C,"Scale",{enumerable:!0,get:function(){return _.Scale}});var P=d(51441);Object.defineProperty(C,"Annotation",{enumerable:!0,get:function(){return P.Annotation}}),Object.defineProperty(C,"Component",{enumerable:!0,get:function(){return P.Component}}),Object.defineProperty(C,"Crosshair",{enumerable:!0,get:function(){return P.Crosshair}}),Object.defineProperty(C,"GroupComponent",{enumerable:!0,get:function(){return P.GroupComponent}}),Object.defineProperty(C,"HtmlComponent",{enumerable:!0,get:function(){return P.HtmlComponent}}),Object.defineProperty(C,"Slider",{enumerable:!0,get:function(){return P.Slider}});var T=P.Axis.Line,p=P.Axis.Circle;C.LineAxis=T,C.CircleAxis=p;var w=P.Grid.Line,m=P.Grid.Circle;C.LineGrid=w,C.CircleGrid=m;var b=P.Legend.Category,y=P.Legend.Continuous;C.CategoryLegend=b,C.ContinuousLegend=y;var A=P.Tooltip.Html;C.HtmlTooltip=A},98880:function(mt,C,d){"use strict";var S;S={value:!0};var O=d(80123),D=d(49242),k=d(97488),I=O.__importDefault(d(51315)),_=d(38674),P=d(31207),T=function(p){O.__extends(w,p);function w(m){var b=p.call(this,m)||this;b.states=[];var y=m.shapeFactory,A=m.container,B=m.offscreenGroup,N=m.visible,G=N===void 0?!0:N;return b.shapeFactory=y,b.container=A,b.offscreenGroup=B,b.visible=G,b}return w.prototype.draw=function(m,b){b===void 0&&(b=!1),this.model=m,this.data=m.data,this.shapeType=this.getShapeType(m),this.drawShape(m,b),this.visible===!1&&this.changeVisible(!1)},w.prototype.update=function(m){var b=this,y=b.shapeFactory,A=b.shape;if(!!A){this.model=m,this.data=m.data,this.shapeType=this.getShapeType(m),this.setShapeInfo(A,m);var B=this.getOffscreenGroup(),N=y.drawShape(this.shapeType,m,B);N.cfg.data=this.data,N.cfg.origin=m,this.syncShapeStyle(A,N,"",this.getAnimateCfg("update"))}},w.prototype.destroy=function(){var m=this,b=m.shapeFactory,y=m.shape;if(y){var A=this.getAnimateCfg("leave");A?k.doAnimate(y,A,{coordinate:b.coordinate,toAttrs:O.__assign({},y.attr())}):y.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=void 0,this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,p.prototype.destroy.call(this)},w.prototype.changeVisible=function(m){p.prototype.changeVisible.call(this,m),m?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(b){b.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(b){b.hide()}))},w.prototype.setState=function(m,b){var y=this,A=this,B=A.states,N=A.shapeFactory,G=A.model,j=A.shape,J=A.shapeType,H=B.indexOf(m);if(b){if(H>-1)return;B.push(m),(m==="active"||m==="selected")&&j.toFront()}else{if(H===-1)return;B.splice(H,1),(m==="active"||m==="selected")&&j.toBack()}var K=N.drawShape(J,G,this.getOffscreenGroup());B.length?B.forEach(function(nt){y.syncShapeStyle(j,K,nt,null)}):this.syncShapeStyle(j,K,"reset",null),K.remove(!0);var st={state:m,stateStatus:b,element:this,target:this.container};this.container.emit("statechange",st),P.propagationDelegate(this.shape,"statechange",st)},w.prototype.clearStates=function(){var m=this,b=this.states;D.each(b,function(y){m.setState(y,!1)}),this.states=[]},w.prototype.hasState=function(m){return this.states.includes(m)},w.prototype.getStates=function(){return this.states},w.prototype.getData=function(){return this.data},w.prototype.getModel=function(){return this.model},w.prototype.getBBox=function(){var m=this,b=m.shape,y=m.labelShape,A={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return b&&(A=b.getCanvasBBox()),y&&y.forEach(function(B){var N=B.getCanvasBBox();A.x=Math.min(N.x,A.x),A.y=Math.min(N.y,A.y),A.minX=Math.min(N.minX,A.minX),A.minY=Math.min(N.minY,A.minY),A.maxX=Math.max(N.maxX,A.maxX),A.maxY=Math.max(N.maxY,A.maxY)}),A.width=A.maxX-A.minX,A.height=A.maxY-A.minY,A},w.prototype.getStatesStyle=function(){if(!this.statesStyle){var m=this,b=m.shapeType,y=m.geometry,A=m.shapeFactory,B=y.stateOption,N=A.defaultShapeType,G=A.theme[b]||A.theme[N];this.statesStyle=D.deepMix({},G,B)}return this.statesStyle},w.prototype.getStateStyle=function(m,b){var y=this.getStatesStyle(),A=D.get(y,[m,"style"],{}),B=A[b]||A;return D.isFunction(B)?B(this):B},w.prototype.getAnimateCfg=function(m){var b=this.animate;return b?b[m]:null},w.prototype.drawShape=function(m,b){b===void 0&&(b=!1);var y=this,A=y.shapeFactory,B=y.container,N=y.shapeType;if(this.shape=A.drawShape(N,m,B),this.shape){this.setShapeInfo(this.shape,m);var G=this.shape.cfg.name;G?D.isString(G)&&(this.shape.cfg.name=["element",G]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var j=b?"enter":"appear",J=this.getAnimateCfg(j);J&&k.doAnimate(this.shape,J,{coordinate:A.coordinate,toAttrs:O.__assign({},this.shape.attr())})}},w.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var m=this.container.getGroupBase();this.offscreenGroup=new m({})}return this.offscreenGroup},w.prototype.setShapeInfo=function(m,b){var y=this;if(m.cfg.origin=b,m.cfg.element=this,m.isGroup()){var A=m.get("children");A.forEach(function(B){y.setShapeInfo(B,b)})}},w.prototype.syncShapeStyle=function(m,b,y,A,B){if(y===void 0&&(y=""),B===void 0&&(B=0),m.isGroup())for(var N=m.get("children"),G=b.get("children"),j=0;j<N.length;j++)this.syncShapeStyle(N[j],G[j],y,A,B+j);else{if(y&&y!=="reset"){var J=m.get("name");D.isArray(J)&&(J=J[1]);var H=this.getStateStyle(y,J||B);b.attr(H)}var K=_.getReplaceAttrs(m,b);this.animate?A?k.doAnimate(m,A,{coordinate:this.shapeFactory.coordinate,toAttrs:K,shapeModel:this.model}):y?(m.stopAnimate(),m.animate(K,{duration:300})):m.attr(K):m.attr(K)}},w.prototype.getShapeType=function(m){var b=D.get(m,"shape");return D.isArray(b)?b[0]:b},w}(I.default);S=T},78685:function(mt,C,d){"use strict";var S;S={value:!0},C.iV=S=S=void 0;var O=d(80123),D=d(90835),k=d(95280);S=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],S=["cross","tick","plus","hyphen","line"];function I(_,P,T,p,w){var m=k.getStyle(P,w,!w,"r"),b=_.parsePoints(P.points),y=b[0];if(P.isStack)y=b[1];else if(b.length>1){for(var A=T.addGroup(),B=0,N=b;B<N.length;B++){var G=N[B];A.addShape({type:"marker",attrs:O.__assign(O.__assign(O.__assign({},m),{symbol:D.MarkerSymbols[p]||p}),G)})}return A}return T.addShape({type:"marker",attrs:O.__assign(O.__assign(O.__assign({},m),{symbol:D.MarkerSymbols[p]||p}),y)})}C.iV=I},95280:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.getStyle=void 0;var S=d(80123),O=d(49242);function D(k,I,_,P){P===void 0&&(P="");var T=k.style,p=T===void 0?{}:T,w=k.defaultStyle,m=k.color,b=k.size,y=S.__assign(S.__assign({},w),p);return m&&(I&&(p.stroke||(y.stroke=m)),_&&(p.fill||(y.fill=m))),P&&O.isNil(p[P])&&!O.isNil(b)&&(y[P]=b),y}C.getStyle=D},89921:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.convertPolarPath=C.convertNormalPath=C.getSplinePath=C.getLinePath=C.catmullRom2bezier=C.smoothBezier=void 0;var S=d(43567),O=d(49242),D=d(83714);function k(y,A){var B=[];if(y.length){B.push(["M",y[0].x,y[0].y]);for(var N=1,G=y.length;N<G;N+=1){var j=y[N];B.push(["L",j.x,j.y])}A&&B.push(["Z"])}return B}function I(y,A){for(var B=[y[0]],N=1,G=y.length;N<G;N=N+2){var j=A.convert({x:y[N],y:y[N+1]});B.push(j.x,j.y)}return B}function _(y,A,B){var N=B.isTransposed,G=B.startAngle,j=B.endAngle,J={x:y[1],y:y[2]},H={x:A[1],y:A[2]},K=[],st=N?"y":"x",nt=Math.abs(H[st]-J[st])*(j-G),wt=H[st]>=J[st]?1:0,gt=nt>Math.PI?1:0,At=B.convert(H),X=D.getDistanceToCenter(B,At);if(X>=.5)if(nt===Math.PI*2){var Z={x:(H.x+J.x)/2,y:(H.y+J.y)/2},tt=B.convert(Z);K.push(["A",X,X,0,gt,wt,tt.x,tt.y]),K.push(["A",X,X,0,gt,wt,At.x,At.y])}else K.push(["A",X,X,0,gt,wt,At.x,At.y]);return K}function P(y){O.each(y,function(A,B){var N=A;if(N[0].toLowerCase()==="a"){var G=y[B-1],j=y[B+1];j&&j[0].toLowerCase()==="a"?G&&G[0].toLowerCase()==="l"&&(G[0]="M"):G&&G[0].toLowerCase()==="a"&&j&&j[0].toLowerCase()==="l"&&(j[0]="M")}})}C.smoothBezier=function(y,A,B,N){var G=[],j,J,H=!!N,K,st;if(H){K=[Infinity,Infinity],st=[-Infinity,-Infinity];for(var nt=0,wt=y.length;nt<wt;nt++){var gt=y[nt];K=S.vec2.min([0,0],K,gt),st=S.vec2.max([0,0],st,gt)}K=S.vec2.min([0,0],K,N[0]),st=S.vec2.max([0,0],st,N[1])}for(var nt=0,At=y.length;nt<At;nt++){var gt=y[nt];if(B)j=y[nt?nt-1:At-1],J=y[(nt+1)%At];else if(nt===0||nt===At-1){G.push(gt);continue}else j=y[nt-1],J=y[nt+1];var X=[0,0];X=S.vec2.sub(X,J,j),X=S.vec2.scale(X,X,A);var Z=S.vec2.distance(gt,j),tt=S.vec2.distance(gt,J),Q=Z+tt;Q!==0&&(Z/=Q,tt/=Q);var vt=S.vec2.scale([0,0],X,-Z),lt=S.vec2.scale([0,0],X,tt),rt=S.vec2.add([0,0],gt,vt),U=S.vec2.add([0,0],gt,lt);H&&(rt=S.vec2.max([0,0],rt,K),rt=S.vec2.min([0,0],rt,st),U=S.vec2.max([0,0],U,K),U=S.vec2.min([0,0],U,st)),G.push(rt),G.push(U)}return B&&G.push(G.shift()),G};function T(y,A,B){for(var N=!!A,G=[],j=0,J=y.length;j<J;j+=2)G.push([y[j],y[j+1]]);for(var H=C.smoothBezier(G,.4,N,B),K=G.length,st=[],nt,wt,gt,j=0;j<K-1;j++)nt=H[j*2],wt=H[j*2+1],gt=G[j+1],st.push(["C",nt[0],nt[1],wt[0],wt[1],gt[0],gt[1]]);return N&&(nt=H[K],wt=H[K+1],gt=G[0],st.push(["C",nt[0],nt[1],wt[0],wt[1],gt[0],gt[1]])),st}C.catmullRom2bezier=T;function p(y,A){return k(y,A)}C.getLinePath=p;function w(y,A,B){var N=[],G=y[0],j=null;if(y.length<=2)return p(y,A);for(var J=0,H=y.length;J<H;J++){var K=y[J];(!j||!(j.x===K.x&&j.y===K.y))&&(N.push(K.x),N.push(K.y),j=K)}var st=B||[[0,0],[1,1]],nt=T(N,A,st);return nt.unshift(["M",G.x,G.y]),nt}C.getSplinePath=w;function m(y,A){var B=[];return O.each(A,function(N){var G=N[0];switch(G.toLowerCase()){case"m":case"l":case"c":B.push(I(N,y));break;case"z":default:B.push(N);break}}),B}C.convertNormalPath=m;function b(y,A){var B=[],N,G,j,J;return O.each(A,function(H,K){var st=H[0];switch(st.toLowerCase()){case"m":case"c":case"q":B.push(I(H,y));break;case"l":N=A[K-1],G=H,j=y.isTransposed,J=j?N[N.length-2]===G[1]:N[N.length-1]===G[2],J?B=B.concat(_(N,G,y)):B.push(I(H,y));break;case"z":default:B.push(H);break}}),P(B),B}C.convertPolarPath=b},54244:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(49242),O=function(){function D(k,I){this.context=k,this.cfg=I,k.addAction(this)}return D.prototype.applyCfg=function(k){S.assign(this,k)},D.prototype.init=function(){this.applyCfg(this.cfg)},D.prototype.destroy=function(){this.context.removeAction(this),this.context=null},D}();C.default=O},32479:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(80123),O=S.__importDefault(d(54244)),D=function(k){S.__extends(I,k);function I(){return k!==null&&k.apply(this,arguments)||this}return I.prototype.execute=function(){this.callback&&this.callback(this.context)},I.prototype.destroy=function(){k.prototype.destroy.call(this),this.callback=null},I}(O.default);C.default=D},9154:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.createCallbackAction=C.unregisterAction=C.registerAction=C.getActionClass=C.createAction=void 0;var S=d(80123),O=S.__importDefault(d(32479)),D=d(49242),k={};function I(w,m){var b=k[w],y=null;if(b){var A=b.ActionClass,B=b.cfg;y=new A(m,B),y.name=w,y.init()}return y}C.createAction=I;function _(w){var m=k[w];return D.get(m,"ActionClass")}C.getActionClass=_;function P(w,m,b){k[w]={ActionClass:m,cfg:b}}C.registerAction=P;function T(w){delete k[w]}C.unregisterAction=T;function p(w,m){var b=new O.default(m);return b.callback=w,b.name="callback",b}C.createCallbackAction=p},85506:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.getScaleByField=C.isInRecords=C.getSiblingPoint=C.getSilbings=C.isInBox=C.getSpline=C.distance=C.getComponents=C.getElementsByPath=C.getIntersectElements=C.intersectRect=C.getElementValue=C.getElementsByState=C.getElementsByField=C.getElements=C.getSiblingMaskElements=C.getMaskedElements=C.isMask=C.isSlider=C.isList=C.isElementChange=C.getDelegationObject=C.getCurrentElement=void 0;var S=d(80123),O=d(49242),D=d(89921),k=d(62810),I=S.__importDefault(d(70146));function _(rt,U){var $=rt.event,f=$.target,xt=f.getCanvasBBox();return xt.width>=U||xt.height>=U?xt:null}function P(rt,U){var $=rt.event,f=$.target,xt=f.getCanvasBBox();return xt.width>=U||xt.height>=U?f.attr("path"):null}function T(rt){var U=rt.event,$,f=U.target;return f&&($=f.get("element")),$}C.getCurrentElement=T;function p(rt){var U=rt.event,$=U.target,f;return $&&(f=$.get("delegateObject")),f}C.getDelegationObject=p;function w(rt){var U=rt.event.gEvent;return!(U&&U.fromShape&&U.toShape&&U.fromShape.get("element")===U.toShape.get("element"))}C.isElementChange=w;function m(rt){return rt&&rt.component&&rt.component.isList()}C.isList=m;function b(rt){return rt&&rt.component&&rt.component.isSlider()}C.isSlider=b;function y(rt){var U=rt.event,$=U.target;return $&&$.get("name")==="mask"}C.isMask=y;function A(rt,U){var $=rt.event.target;if($.get("type")==="path"){var f=P(rt,U);return f?nt(rt.view,f):void 0}var xt=_(rt,U);return xt?K(rt.view,xt):null}C.getMaskedElements=A;function B(rt,U,$){var f=_(rt,$);if(!f)return null;var xt=rt.view,Ct=Q(xt,U,{x:f.x,y:f.y}),Bt=Q(xt,U,{x:f.maxX,y:f.maxY}),qt={minX:Ct.x,minY:Ct.y,maxX:Bt.x,maxY:Bt.y};return K(U,qt)}C.getSiblingMaskElements=B;function N(rt){var U=rt.geometries,$=[];return O.each(U,function(f){var xt=f.elements;$=$.concat(xt)}),rt.views&&rt.views.length&&O.each(rt.views,function(f){$=$.concat(N(f))}),$}C.getElements=N;function G(rt,U,$){var f=N(rt);return f.filter(function(xt){return J(xt,U)===$})}C.getElementsByField=G;function j(rt,U){var $=rt.geometries,f=[];return O.each($,function(xt){var Ct=xt.getElementsBy(function(Bt){return Bt.hasState(U)});f=f.concat(Ct)}),f}C.getElementsByState=j;function J(rt,U){var $=rt.getModel(),f=$.data,xt;return O.isArray(f)?xt=f[0][U]:xt=f[U],xt}C.getElementValue=J;function H(rt,U){return!(U.minX>rt.maxX||U.maxX<rt.minX||U.minY>rt.maxY||U.maxY<rt.minY)}C.intersectRect=H;function K(rt,U){var $=N(rt),f=[];return O.each($,function(xt){var Ct=xt.shape,Bt=Ct.getCanvasBBox();H(U,Bt)&&f.push(xt)}),f}C.getIntersectElements=K;function st(rt){var U=[];return O.each(rt,function($){var f=$[0];if(f!=="A")for(var xt=1;xt<$.length;xt=xt+2)U.push([$[xt],$[xt+1]]);else{var Ct=$.length;U.push([$[Ct-2],$[Ct-1]])}}),U}function nt(rt,U){var $=N(rt),f=st(U),xt=$.filter(function(Ct){var Bt=Ct.shape,qt;if(Bt.get("type")==="path")qt=st(Bt.attr("path"));else{var Gt=Bt.getCanvasBBox();qt=k.toPoints(Gt)}return I.default(f,qt)});return xt}C.getElementsByPath=nt;function wt(rt){return rt.getComponents().map(function(U){return U.component})}C.getComponents=wt;function gt(rt,U){var $=U.x-rt.x,f=U.y-rt.y;return Math.sqrt($*$+f*f)}C.distance=gt;function At(rt,U){if(rt.length<=2)return D.getLinePath(rt,!1);var $=rt[0],f=[];O.each(rt,function(Ct){f.push(Ct.x),f.push(Ct.y)});var xt=D.catmullRom2bezier(f,U,null);return xt.unshift(["M",$.x,$.y]),xt}C.getSpline=At;function X(rt,U){return rt.x<=U.x&&rt.maxX>=U.x&&rt.y<=U.y&&rt.maxY>U.y}C.isInBox=X;function Z(rt){var U=rt.parent,$=null;return U&&($=U.views.filter(function(f){return f!==rt})),$}C.getSilbings=Z;function tt(rt,U){var $=rt.getCoordinate();return $.invert(U)}function Q(rt,U,$){var f=tt(rt,$);return U.getCoordinate().convert(f)}C.getSiblingPoint=Q;function vt(rt,U,$,f){var xt=!1;return O.each(rt,function(Ct){if(Ct[$]===U[$]&&Ct[f]===U[f])return xt=!0,!1}),xt}C.isInRecords=vt;function lt(rt,U){var $=rt.getScaleByField(U);return!$&&rt.views&&O.each(rt.views,function(f){if($=lt(f,U),$)return!1}),$}C.getScaleByField=lt},94194:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(49242),O=d(85506),D=function(){function k(I){this.actions=[],this.event=null,this.cacheMap={},this.view=I}return k.prototype.cache=function(){for(var I=[],_=0;_<arguments.length;_++)I[_]=arguments[_];if(I.length===1)return this.cacheMap[I[0]];I.length===2&&(this.cacheMap[I[0]]=I[1])},k.prototype.getAction=function(I){return this.actions.find(function(_){return _.name===I})},k.prototype.addAction=function(I){this.actions.push(I)},k.prototype.removeAction=function(I){var _=this.actions,P=this.actions.indexOf(I);P>=0&&_.splice(P,1)},k.prototype.getCurrentPoint=function(){var I=this.event;if(I)if(I.target instanceof HTMLElement){var _=this.view.getCanvas(),P=_.getPointByClient(I.clientX,I.clientY);return P}else return{x:I.x,y:I.y};return null},k.prototype.getCurrentShape=function(){return S.get(this.event,["gEvent","shape"])},k.prototype.isInPlot=function(){var I=this.getCurrentPoint();return I?this.view.isPointInPlot(I):!1},k.prototype.isInShape=function(I){var _=this.getCurrentShape();return _?_.get("name")===I:!1},k.prototype.isInComponent=function(I){var _=O.getComponents(this.view),P=this.getCurrentPoint();return P?!!_.find(function(T){var p=T.getBBox();return I?T.get("name")===I&&O.isInBox(p,P):O.isInBox(p,P)}):!1},k.prototype.destroy=function(){this.view=null,this.event=null,S.each(this.actions.slice(),function(I){I.destroy()}),this.actions=null,this.cacheMap=null},k}();C.default=D},86050:function(mt,C,d){"use strict";var S;S={value:!0};var O=d(80123),D=d(49242),k=d(9154),I=O.__importDefault(d(94194)),_=O.__importDefault(d(38144));function P(m,b){var y=m.split(":"),A=y[0],B=b.getAction(A)||k.createAction(A,b);if(!B)throw new Error("There is no action named "+A);var N=y[1];return{action:B,methodName:N}}function T(m){var b=m.action,y=m.methodName;if(b[y])b[y]();else throw new Error("Action("+b.name+") doesn't have a method called "+y)}var p={START:"start",SHOW_ENABLE:"showEnable",END:"end",ROLLBACK:"rollback",PROCESSING:"processing"},w=function(m){O.__extends(b,m);function b(y,A){var B=m.call(this,y,A)||this;return B.callbackCaches={},B.emitCaches={},B.steps=A,B}return b.prototype.init=function(){this.initContext(),m.prototype.init.call(this)},b.prototype.destroy=function(){m.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},b.prototype.initEvents=function(){var y=this;D.each(this.steps,function(A,B){D.each(A,function(N){var G=y.getActionCallback(B,N);G&&y.bindEvent(N.trigger,G)})})},b.prototype.clearEvents=function(){var y=this;D.each(this.steps,function(A,B){D.each(A,function(N){var G=y.getActionCallback(B,N);G&&y.offEvent(N.trigger,G)})})},b.prototype.initContext=function(){var y=this.view,A=new I.default(y);this.context=A;var B=this.steps;D.each(B,function(N){D.each(N,function(G){if(D.isFunction(G.action))G.actionObject={action:k.createCallbackAction(G.action,A),methodName:"execute"};else if(D.isString(G.action))G.actionObject=P(G.action,A);else if(D.isArray(G.action)){var j=G.action;G.actionObject=[],D.each(j,function(J){G.actionObject.push(P(J,A))})}})})},b.prototype.isAllowStep=function(y){var A=this.currentStepName,B=this.steps;if(A===y||y===p.SHOW_ENABLE)return!0;if(y===p.PROCESSING)return A===p.START;if(y===p.START)return A!==p.PROCESSING;if(y===p.END)return A===p.PROCESSING||A===p.START;if(y===p.ROLLBACK){if(B[p.END])return A===p.END;if(A===p.START)return!0}return!1},b.prototype.isAllowExcute=function(y,A){if(this.isAllowStep(y)){var B=this.getKey(y,A);return A.once&&this.emitCaches[B]?!1:A.isEnable?A.isEnable(this.context):!0}return!1},b.prototype.enterStep=function(y){this.currentStepName=y,this.emitCaches={}},b.prototype.afterExecute=function(y,A){y!==p.SHOW_ENABLE&&this.currentStepName!==y&&this.enterStep(y);var B=this.getKey(y,A);this.emitCaches[B]=!0},b.prototype.getKey=function(y,A){return y+A.trigger+A.action},b.prototype.getActionCallback=function(y,A){var B=this,N=this.context,G=this.callbackCaches,j=A.actionObject;if(A.action&&j){var J=this.getKey(y,A);if(!G[J]){var H=function(K){N.event=K,B.isAllowExcute(y,A)?(D.isArray(j)?D.each(j,function(st){N.event=K,T(st)}):(N.event=K,T(j)),B.afterExecute(y,A),A.callback&&(N.event=K,A.callback(N))):N.event=null};A.debounce?G[J]=D.debounce(H,A.debounce.wait,A.debounce.immediate):A.throttle?G[J]=D.throttle(H,A.throttle.wait,{leading:A.throttle.leading,trailing:A.throttle.trailing}):G[J]=H}return G[J]}return null},b.prototype.bindEvent=function(y,A){var B=y.split(":");B[0]==="window"?window.addEventListener(B[1],A):B[0]==="document"?document.addEventListener(B[1],A):this.view.on(y,A)},b.prototype.offEvent=function(y,A){var B=y.split(":");B[0]==="window"?window.removeEventListener(B[1],A):B[0]==="document"?document.removeEventListener(B[1],A):this.view.off(y,A)},b}(_.default);S=w},38144:function(mt,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=function(){function S(O,D){this.view=O,this.cfg=D}return S.prototype.init=function(){this.initEvents()},S.prototype.initEvents=function(){},S.prototype.clearEvents=function(){},S.prototype.destroy=function(){this.clearEvents()},S}();C.default=d},62810:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.toPoints=C.getRegionBBox=C.BBox=void 0;var S=d(49242),O=d(78646),D=function(){function I(_,P,T,p){_===void 0&&(_=0),P===void 0&&(P=0),T===void 0&&(T=0),p===void 0&&(p=0),this.x=_,this.y=P,this.height=p,this.width=T}return I.fromRange=function(_,P,T,p){return new I(_,P,T-_,p-P)},Object.defineProperty(I.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),I.prototype.isEqual=function(_){return this.x===_.x&&this.y===_.y&&this.width===_.width&&this.height===_.height},I.prototype.clone=function(){return new I(this.x,this.y,this.width,this.height)},I.prototype.add=function(){for(var _=[],P=0;P<arguments.length;P++)_[P]=arguments[P];var T=this.clone();return S.each(_,function(p){T.x=Math.min(p.x,T.x),T.y=Math.min(p.y,T.y),T.width=Math.max(p.maxX,T.maxX)-T.x,T.height=Math.max(p.maxY,T.maxY)-T.y}),T},I.prototype.merge=function(){for(var _=[],P=0;P<arguments.length;P++)_[P]=arguments[P];var T=this.clone();return S.each(_,function(p){T.x=Math.max(p.x,T.x),T.y=Math.max(p.y,T.y),T.width=Math.min(p.maxX,T.maxX)-T.x,T.height=Math.min(p.maxY,T.maxY)-T.y}),T},I.prototype.cut=function(_,P){var T=_.width,p=_.height;switch(P){case O.DIRECTION.TOP:case O.DIRECTION.TOP_LEFT:case O.DIRECTION.TOP_RIGHT:return I.fromRange(this.minX,this.minY+p,this.maxX,this.maxY);case O.DIRECTION.RIGHT:case O.DIRECTION.RIGHT_TOP:case O.DIRECTION.RIGHT_BOTTOM:return I.fromRange(this.minX,this.minY,this.maxX-T,this.maxY);case O.DIRECTION.BOTTOM:case O.DIRECTION.BOTTOM_LEFT:case O.DIRECTION.BOTTOM_RIGHT:return I.fromRange(this.minX,this.minY,this.maxX,this.maxY-p);case O.DIRECTION.LEFT:case O.DIRECTION.LEFT_TOP:case O.DIRECTION.LEFT_BOTTOM:return I.fromRange(this.minX+T,this.minY,this.maxX,this.maxY);default:return this}},I.prototype.shrink=function(_){var P=_[0],T=_[1],p=_[2],w=_[3];return new I(this.x+w,this.y+P,this.width-w-T,this.height-P-p)},I.prototype.exceed=function(_){return[Math.max(-this.minY+_.minY,0),Math.max(this.maxX-_.maxX,0),Math.max(this.maxY-_.maxY,0),Math.max(-this.minX+_.minX,0)]},I.prototype.size=function(){return this.width*this.height},I}();C.BBox=D,C.getRegionBBox=function(I,_){var P=_.start,T=_.end;return new D(I.x+I.width*P.x,I.y+I.height*P.y,I.width*Math.abs(T.x-P.x),I.height*Math.abs(T.y-P.y))};function k(I){return[[I.minX,I.minY],[I.maxX,I.minY],[I.maxX,I.maxY],[I.minX,I.maxY]]}C.toPoints=k},83714:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.getCoordinateClipCfg=C.getAngleByPoint=C.isPointInCoordinate=C.getDistanceToCenter=C.isFullCircle=C.getXDimensionLength=void 0;var S=d(38674),O=d(10521);function D(p){if(p.isPolar&&!p.isTransposed)return(p.endAngle-p.startAngle)*p.getRadius();var w=p.convert({x:0,y:0}),m=p.convert({x:1,y:0});return Math.sqrt(Math.pow(m.x-w.x,2)+Math.pow(m.y-w.y,2))}C.getXDimensionLength=D;function k(p){if(p.isPolar){var w=p.startAngle,m=p.endAngle;return m-w==Math.PI*2}return!1}C.isFullCircle=k;function I(p,w){var m=p.getCenter();return Math.sqrt(Math.pow(w.x-m.x,2)+Math.pow(w.y-m.y,2))}C.getDistanceToCenter=I;function _(p,w){var m=!1;if(p)if(p.type==="theta"){var b=p.start,y=p.end;m=O.isBetween(w.x,b.x,y.x)&&O.isBetween(w.y,b.y,y.y)}else{var A=p.invert(w);m=O.isBetween(A.x,0,1)&&O.isBetween(A.y,0,1)}return m}C.isPointInCoordinate=_;function P(p,w){var m=p.getCenter();return Math.atan2(w.y-m.y,w.x-m.x)}C.getAngleByPoint=P;function T(p,w){w===void 0&&(w=0);var m=p.start,b=p.end,y=p.getWidth(),A=p.getHeight();if(p.isPolar){var B=p.startAngle,N=p.endAngle,G=p.getCenter(),j=p.getRadius();return{type:"path",startState:{path:S.getSectorPath(G.x,G.y,j+w,B,B)},endState:function(H){var K=(N-B)*H+B,st=S.getSectorPath(G.x,G.y,j+w,B,K);return{path:st}},attrs:{path:S.getSectorPath(G.x,G.y,j+w,B,N)}}}var J;return p.isTransposed?J={height:A+w*2}:J={width:y+w*2},{type:"rect",startState:{x:m.x-w,y:b.y-w,width:p.isTransposed?y+w*2:0,height:p.isTransposed?0:A+w*2},endState:J,attrs:{x:m.x-w,y:b.y-w,width:y+w*2,height:A+w*2}}}C.getCoordinateClipCfg=T},38674:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.getReplaceAttrs=C.getPolygonCentroid=C.getAngle=C.getArcPath=C.getSectorPath=C.polarToCartesian=void 0;var S=d(49242);function O(p){if(S.isEmpty(p))return null;var w=p[0].x,m=p[0].x,b=p[0].y,y=p[0].y;return S.each(p,function(A){w=w>A.x?A.x:w,m=m<A.x?A.x:m,b=b>A.y?A.y:b,y=y<A.y?A.y:y}),{minX:w,maxX:m,minY:b,maxY:y,centerX:(w+m)/2,centerY:(b+y)/2}}function D(p,w,m,b){return{x:p+m*Math.cos(b),y:w+m*Math.sin(b)}}C.polarToCartesian=D;function k(p,w,m,b,y,A){A===void 0&&(A=0);var B=D(p,w,m,b),N=D(p,w,m,y),G=D(p,w,A,b),j=D(p,w,A,y);if(y-b==Math.PI*2){var J=D(p,w,m,b+Math.PI),H=D(p,w,A,b+Math.PI),K=[["M",B.x,B.y],["A",m,m,0,1,1,J.x,J.y],["A",m,m,0,1,1,N.x,N.y],["M",G.x,G.y]];return A&&(K.push(["A",A,A,0,1,0,H.x,H.y]),K.push(["A",A,A,0,1,0,j.x,j.y])),K.push(["M",B.x,B.y]),K.push(["Z"]),K}var st=y-b<=Math.PI?0:1,nt=[["M",B.x,B.y],["A",m,m,0,st,1,N.x,N.y],["L",j.x,j.y]];return A&&nt.push(["A",A,A,0,st,0,G.x,G.y]),nt.push(["L",B.x,B.y]),nt.push(["Z"]),nt}C.getSectorPath=k;function I(p,w,m,b,y){var A=D(p,w,m,b),B=D(p,w,m,y);if(S.isNumberEqual(y-b,Math.PI*2)){var N=D(p,w,m,b+Math.PI);return[["M",A.x,A.y],["A",m,m,0,1,1,N.x,N.y],["A",m,m,0,1,1,A.x,A.y],["A",m,m,0,1,0,N.x,N.y],["A",m,m,0,1,0,A.x,A.y],["Z"]]}var G=y-b<=Math.PI?0:1;return[["M",A.x,A.y],["A",m,m,0,G,1,B.x,B.y]]}C.getArcPath=I;function _(p,w){var m=p.points,b=O(m),y,A,B=w.startAngle,N=w.endAngle,G=N-B;return w.isTransposed?(y=b.maxY*G,A=b.minY*G):(y=b.maxX*G,A=b.minX*G),y+=B,A+=B,{startAngle:A,endAngle:y}}C.getAngle=_;function P(p,w){if(S.isNumber(p)&&S.isNumber(w))return[p,w];for(var m=-1,b=0,y=0,A,B=p.length-1,N,G=0;++m<p.length;)A=B,B=m,G+=N=p[A]*w[B]-p[B]*w[A],b+=(p[A]+p[B])*N,y+=(w[A]+w[B])*N;return G*=3,[b/G,y/G]}C.getPolygonCentroid=P;function T(p,w){var m=p.attr(),b=w.attr();return S.each(m,function(y,A){b[A]===void 0&&(b[A]=void 0)}),b}C.getReplaceAttrs=T},10521:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.uniq=C.omit=C.padEnd=C.isBetween=void 0;var S=d(49242);function O(_,P,T){var p=Math.min(P,T),w=Math.max(P,T);return _>=p&&_<=w}C.isBetween=O;function D(_,P,T){if(S.isString(_))return _.padEnd(P,T);if(S.isArray(_)){var p=_.length;if(p<P)for(var w=P-p,m=0;m<w;m++)_.push(T)}return _}C.padEnd=D;function k(_,P){return P.forEach(function(T){delete _[T]}),_}C.omit=k;function I(_,P,T){P===void 0&&(P=[]),T===void 0&&(T={});for(var p=0,w=_;p<w.length;p++){var m=w[p];T[m]||(P.push(m),T[m]=!0)}return P}C.uniq=I},90835:function(mt,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.MarkerSymbols=void 0,C.MarkerSymbols={hexagon:function(d,S,O){var D=O/2*Math.sqrt(3);return[["M",d,S-O],["L",d+D,S-O/2],["L",d+D,S+O/2],["L",d,S+O],["L",d-D,S+O/2],["L",d-D,S-O/2],["Z"]]},bowtie:function(d,S,O){var D=O-1.5;return[["M",d-O,S-D],["L",d+O,S+D],["L",d+O,S-D],["L",d-O,S+D],["Z"]]},cross:function(d,S,O){return[["M",d-O,S-O],["L",d+O,S+O],["M",d+O,S-O],["L",d-O,S+O]]},tick:function(d,S,O){return[["M",d-O/2,S-O],["L",d+O/2,S-O],["M",d,S-O],["L",d,S+O],["M",d-O/2,S+O],["L",d+O/2,S+O]]},plus:function(d,S,O){return[["M",d-O,S],["L",d+O,S],["M",d,S-O],["L",d,S+O]]},hyphen:function(d,S,O){return[["M",d-O,S],["L",d+O,S]]},line:function(d,S,O){return[["M",d,S-O],["L",d,S+O]]}}},95152:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.getName=C.syncScale=C.createScaleByField=void 0;var S=d(80123),O=d(49242),D=d(96397),k=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function I(p){var w="linear";return k.test(p)?w="time":O.isString(p)&&(w="cat"),w}function _(p,w,m){var b=w||[];if(O.isNumber(p)||O.isNil(O.firstValue(b,p))&&O.isEmpty(m)){var y=D.getScale("identity");return new y({field:p.toString(),values:[p]})}var A=O.valuesOfKey(b,p),B=O.get(m,"type",I(A[0])),N=D.getScale(B);return new N(S.__assign({field:p,values:A},m))}C.createScaleByField=_;function P(p,w){if(p.type!=="identity"&&w.type!=="identity"){var m={};for(var b in w)Object.prototype.hasOwnProperty.call(w,b)&&(m[b]=w[b]);p.change(m)}}C.syncScale=P;function T(p){return p.alias||p.field}C.getName=T},97127:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.getTooltipItems=C.findDataByPoint=void 0;var S=d(80123),O=d(49242),D=d(78646),k=d(95152);function I(N,G,j){var J=j.translate(N),H=j.translate(G);return O.isNumberEqual(J,H)}function _(N,G){var j=G.coordinate,J=G.getXScale(),H=J.range,K=H[H.length-1],st=H[0],nt=j.invert(N),wt=nt.x;return j.isPolar&&wt>(1+K)/2&&(wt=st),J.translate(J.invert(wt))}function P(N,G,j){var J=j.coordinate,H=j.getYScale(),K=H.field,st=J.invert(G),nt=H.invert(st.y),wt=O.find(N,function(gt){var At=gt[D.FIELD_ORIGIN];return At[K][0]<=nt&&At[K][1]>=nt});return wt||N[N.length-1]}var T=O.memoize(function(N){if(N.isCategory)return 1;for(var G=N.values,j=G.length,J=N.translate(G[0]),H=J,K=0;K<j;K++){var st=G[K],nt=N.translate(st);nt<J&&(J=nt),nt>H&&(H=nt)}return(H-J)/(j-1)});function p(N,G,j){var J=j;if(!j){var H=G.getAttribute("position"),K=H.getFields();J=K[0]}var st=G.scales;return st[J]?st[J].getText(N[J]):O.hasKey(N,J)?N[J]:J}function w(N){var G=O.values(N.attributes);return O.filter(G,function(j){return O.contains(D.GROUP_ATTRS,j.type)})}function m(N){for(var G=w(N),j,J=0,H=G;J<H.length;J++){var K=H[J],st=K.getScale(K.type);if(st&&st.isLinear){j=st;break}}var nt=N.getXScale(),wt=N.getYScale();return j||wt||nt}function b(N,G){var j=G.field,J=N[j];if(O.isArray(J)){var H=J.map(function(K){return G.getText(K)});return H.join("-")}return G.getText(J)}function y(N,G){var j,J=G.getGroupScales();if(J.length&&(j=J[0]),j){var H=j.field;return j.getText(N[H])}var K=m(G);return k.getName(K)}function A(N,G,j){if(G.length===0)return null;var J=j.type,H=j.getXScale(),K=j.getYScale(),st=H.field,nt=K.field,wt=null;if(J==="heatmap"||J==="point"){for(var gt=j.coordinate,At=gt.invert(N),X=H.invert(At.x),Z=K.invert(At.y),tt=Infinity,Q=0;Q<G.length;Q++){var vt=G[Q],lt=vt[D.FIELD_ORIGIN],rt=Math.pow(lt[st]-X,2)+Math.pow(lt[nt]-Z,2);rt<tt&&(tt=rt,wt=vt)}return wt}var U=G[0],$=G[G.length-1],f=_(N,j),xt=U[D.FIELD_ORIGIN][st],Ct=U[D.FIELD_ORIGIN][nt],Bt=$[D.FIELD_ORIGIN][st],qt=K.isLinear&&O.isArray(Ct);if(O.isArray(xt)){for(var Q=0;Q<G.length;Q++){var Gt=G[Q],lt=Gt[D.FIELD_ORIGIN];if(H.translate(lt[st][0])<=f&&H.translate(lt[st][1])>=f)if(qt)O.isArray(wt)||(wt=[]),wt.push(Gt);else{wt=Gt;break}}O.isArray(wt)&&(wt=P(wt,N,j))}else{var Jt=void 0;if(!H.isLinear&&H.type!=="timeCat"){for(var Q=0;Q<G.length;Q++){var Gt=G[Q],lt=Gt[D.FIELD_ORIGIN];if(I(lt[st],f,H))if(qt)O.isArray(wt)||(wt=[]),wt.push(Gt);else{wt=Gt;break}else H.translate(lt[st])<=f&&($=Gt,Jt=G[Q+1])}O.isArray(wt)&&(wt=P(wt,N,j))}else{if((f>H.translate(Bt)||f<H.translate(xt))&&(f>H.max||f<H.min))return null;for(var ie=0,se=G.length-1,Kt=void 0;ie<=se;){Kt=Math.floor((ie+se)/2);var kt=G[Kt][D.FIELD_ORIGIN][st];if(I(kt,f,H))return G[Kt];H.translate(kt)<=H.translate(f)?(ie=Kt+1,$=G[Kt],Jt=G[Kt+1]):(se===0&&($=G[0]),se=Kt-1)}}$&&Jt&&Math.abs(H.translate($[D.FIELD_ORIGIN][st])-f)>Math.abs(H.translate(Jt[D.FIELD_ORIGIN][st])-f)&&($=Jt)}var Mt=T(j.getXScale());return!wt&&Math.abs(H.translate($[D.FIELD_ORIGIN][st])-f)<=Mt/2&&(wt=$),wt}C.findDataByPoint=A;function B(N,G,j){j===void 0&&(j="");var J=N[D.FIELD_ORIGIN],H=p(J,G,j),K=G.tooltipOption,st=G.theme.defaultColor,nt=[],wt,gt;function At(Ct,Bt){if(!O.isNil(Bt)&&Bt!==""){var qt={title:H,data:J,mappingData:N,name:Ct,value:Bt,color:N.color||st,marker:!0};nt.push(qt)}}if(O.isObject(K)){var X=K.fields,Z=K.callback;if(Z){var tt=X.map(function(Ct){return N[D.FIELD_ORIGIN][Ct]}),Q=Z.apply(void 0,tt),vt=S.__assign({data:N[D.FIELD_ORIGIN],mappingData:N,title:H,color:N.color||st,marker:!0},Q);nt.push(vt)}else for(var lt=G.scales,rt=0,U=X;rt<U.length;rt++){var $=U[rt];if(!O.isNil(J[$])){var f=lt[$];wt=k.getName(f),gt=f.getText(J[$]),At(wt,gt)}}}else{var xt=m(G);O.isNil(J[xt.field])||(gt=b(J,xt),wt=y(J,G),At(wt,gt))}return nt}C.getTooltipItems=B},80123:function(mt,C,d){"use strict";d.r(C),d.d(C,{__extends:function(){return O},__assign:function(){return D},__rest:function(){return k},__decorate:function(){return I},__param:function(){return _},__metadata:function(){return P},__awaiter:function(){return T},__generator:function(){return p},__createBinding:function(){return w},__exportStar:function(){return m},__values:function(){return b},__read:function(){return y},__spread:function(){return A},__spreadArrays:function(){return B},__spreadArray:function(){return N},__await:function(){return G},__asyncGenerator:function(){return j},__asyncDelegator:function(){return J},__asyncValues:function(){return H},__makeTemplateObject:function(){return K},__importStar:function(){return nt},__importDefault:function(){return wt},__classPrivateFieldGet:function(){return gt},__classPrivateFieldSet:function(){return At}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var S=function(X,Z){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(tt,Q){tt.__proto__=Q}||function(tt,Q){for(var vt in Q)Object.prototype.hasOwnProperty.call(Q,vt)&&(tt[vt]=Q[vt])},S(X,Z)};function O(X,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Class extends value "+String(Z)+" is not a constructor or null");S(X,Z);function tt(){this.constructor=X}X.prototype=Z===null?Object.create(Z):(tt.prototype=Z.prototype,new tt)}var D=function(){return D=Object.assign||function(Z){for(var tt,Q=1,vt=arguments.length;Q<vt;Q++){tt=arguments[Q];for(var lt in tt)Object.prototype.hasOwnProperty.call(tt,lt)&&(Z[lt]=tt[lt])}return Z},D.apply(this,arguments)};function k(X,Z){var tt={};for(var Q in X)Object.prototype.hasOwnProperty.call(X,Q)&&Z.indexOf(Q)<0&&(tt[Q]=X[Q]);if(X!=null&&typeof Object.getOwnPropertySymbols=="function")for(var vt=0,Q=Object.getOwnPropertySymbols(X);vt<Q.length;vt++)Z.indexOf(Q[vt])<0&&Object.prototype.propertyIsEnumerable.call(X,Q[vt])&&(tt[Q[vt]]=X[Q[vt]]);return tt}function I(X,Z,tt,Q){var vt=arguments.length,lt=vt<3?Z:Q===null?Q=Object.getOwnPropertyDescriptor(Z,tt):Q,rt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")lt=Reflect.decorate(X,Z,tt,Q);else for(var U=X.length-1;U>=0;U--)(rt=X[U])&&(lt=(vt<3?rt(lt):vt>3?rt(Z,tt,lt):rt(Z,tt))||lt);return vt>3&&lt&&Object.defineProperty(Z,tt,lt),lt}function _(X,Z){return function(tt,Q){Z(tt,Q,X)}}function P(X,Z){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(X,Z)}function T(X,Z,tt,Q){function vt(lt){return lt instanceof tt?lt:new tt(function(rt){rt(lt)})}return new(tt||(tt=Promise))(function(lt,rt){function U(xt){try{f(Q.next(xt))}catch(Ct){rt(Ct)}}function $(xt){try{f(Q.throw(xt))}catch(Ct){rt(Ct)}}function f(xt){xt.done?lt(xt.value):vt(xt.value).then(U,$)}f((Q=Q.apply(X,Z||[])).next())})}function p(X,Z){var tt={label:0,sent:function(){if(lt[0]&1)throw lt[1];return lt[1]},trys:[],ops:[]},Q,vt,lt,rt;return rt={next:U(0),throw:U(1),return:U(2)},typeof Symbol=="function"&&(rt[Symbol.iterator]=function(){return this}),rt;function U(f){return function(xt){return $([f,xt])}}function $(f){if(Q)throw new TypeError("Generator is already executing.");for(;tt;)try{if(Q=1,vt&&(lt=f[0]&2?vt.return:f[0]?vt.throw||((lt=vt.return)&&lt.call(vt),0):vt.next)&&!(lt=lt.call(vt,f[1])).done)return lt;switch(vt=0,lt&&(f=[f[0]&2,lt.value]),f[0]){case 0:case 1:lt=f;break;case 4:return tt.label++,{value:f[1],done:!1};case 5:tt.label++,vt=f[1],f=[0];continue;case 7:f=tt.ops.pop(),tt.trys.pop();continue;default:if(lt=tt.trys,!(lt=lt.length>0&&lt[lt.length-1])&&(f[0]===6||f[0]===2)){tt=0;continue}if(f[0]===3&&(!lt||f[1]>lt[0]&&f[1]<lt[3])){tt.label=f[1];break}if(f[0]===6&&tt.label<lt[1]){tt.label=lt[1],lt=f;break}if(lt&&tt.label<lt[2]){tt.label=lt[2],tt.ops.push(f);break}lt[2]&&tt.ops.pop(),tt.trys.pop();continue}f=Z.call(X,tt)}catch(xt){f=[6,xt],vt=0}finally{Q=lt=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var w=Object.create?function(X,Z,tt,Q){Q===void 0&&(Q=tt),Object.defineProperty(X,Q,{enumerable:!0,get:function(){return Z[tt]}})}:function(X,Z,tt,Q){Q===void 0&&(Q=tt),X[Q]=Z[tt]};function m(X,Z){for(var tt in X)tt!=="default"&&!Object.prototype.hasOwnProperty.call(Z,tt)&&w(Z,X,tt)}function b(X){var Z=typeof Symbol=="function"&&Symbol.iterator,tt=Z&&X[Z],Q=0;if(tt)return tt.call(X);if(X&&typeof X.length=="number")return{next:function(){return X&&Q>=X.length&&(X=void 0),{value:X&&X[Q++],done:!X}}};throw new TypeError(Z?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(X,Z){var tt=typeof Symbol=="function"&&X[Symbol.iterator];if(!tt)return X;var Q=tt.call(X),vt,lt=[],rt;try{for(;(Z===void 0||Z-- >0)&&!(vt=Q.next()).done;)lt.push(vt.value)}catch(U){rt={error:U}}finally{try{vt&&!vt.done&&(tt=Q.return)&&tt.call(Q)}finally{if(rt)throw rt.error}}return lt}function A(){for(var X=[],Z=0;Z<arguments.length;Z++)X=X.concat(y(arguments[Z]));return X}function B(){for(var X=0,Z=0,tt=arguments.length;Z<tt;Z++)X+=arguments[Z].length;for(var Q=Array(X),vt=0,Z=0;Z<tt;Z++)for(var lt=arguments[Z],rt=0,U=lt.length;rt<U;rt++,vt++)Q[vt]=lt[rt];return Q}function N(X,Z,tt){if(tt||arguments.length===2)for(var Q=0,vt=Z.length,lt;Q<vt;Q++)(lt||!(Q in Z))&&(lt||(lt=Array.prototype.slice.call(Z,0,Q)),lt[Q]=Z[Q]);return X.concat(lt||Array.prototype.slice.call(Z))}function G(X){return this instanceof G?(this.v=X,this):new G(X)}function j(X,Z,tt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Q=tt.apply(X,Z||[]),vt,lt=[];return vt={},rt("next"),rt("throw"),rt("return"),vt[Symbol.asyncIterator]=function(){return this},vt;function rt(Bt){Q[Bt]&&(vt[Bt]=function(qt){return new Promise(function(Gt,Jt){lt.push([Bt,qt,Gt,Jt])>1||U(Bt,qt)})})}function U(Bt,qt){try{$(Q[Bt](qt))}catch(Gt){Ct(lt[0][3],Gt)}}function $(Bt){Bt.value instanceof G?Promise.resolve(Bt.value.v).then(f,xt):Ct(lt[0][2],Bt)}function f(Bt){U("next",Bt)}function xt(Bt){U("throw",Bt)}function Ct(Bt,qt){Bt(qt),lt.shift(),lt.length&&U(lt[0][0],lt[0][1])}}function J(X){var Z,tt;return Z={},Q("next"),Q("throw",function(vt){throw vt}),Q("return"),Z[Symbol.iterator]=function(){return this},Z;function Q(vt,lt){Z[vt]=X[vt]?function(rt){return(tt=!tt)?{value:G(X[vt](rt)),done:vt==="return"}:lt?lt(rt):rt}:lt}}function H(X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Z=X[Symbol.asyncIterator],tt;return Z?Z.call(X):(X=typeof b=="function"?b(X):X[Symbol.iterator](),tt={},Q("next"),Q("throw"),Q("return"),tt[Symbol.asyncIterator]=function(){return this},tt);function Q(lt){tt[lt]=X[lt]&&function(rt){return new Promise(function(U,$){rt=X[lt](rt),vt(U,$,rt.done,rt.value)})}}function vt(lt,rt,U,$){Promise.resolve($).then(function(f){lt({value:f,done:U})},rt)}}function K(X,Z){return Object.defineProperty?Object.defineProperty(X,"raw",{value:Z}):X.raw=Z,X}var st=Object.create?function(X,Z){Object.defineProperty(X,"default",{enumerable:!0,value:Z})}:function(X,Z){X.default=Z};function nt(X){if(X&&X.__esModule)return X;var Z={};if(X!=null)for(var tt in X)tt!=="default"&&Object.prototype.hasOwnProperty.call(X,tt)&&w(Z,X,tt);return st(Z,X),Z}function wt(X){return X&&X.__esModule?X:{default:X}}function gt(X,Z,tt,Q){if(tt==="a"&&!Q)throw new TypeError("Private accessor was defined without a getter");if(typeof Z=="function"?X!==Z||!Q:!Z.has(X))throw new TypeError("Cannot read private member from an object whose class did not declare it");return tt==="m"?Q:tt==="a"?Q.call(X):Q?Q.value:Z.get(X)}function At(X,Z,tt,Q,vt){if(Q==="m")throw new TypeError("Private method is not writable");if(Q==="a"&&!vt)throw new TypeError("Private accessor was defined without a setter");if(typeof Z=="function"?X!==Z||!vt:!Z.has(X))throw new TypeError("Cannot write private member to an object whose class did not declare it");return Q==="a"?vt.call(X,tt):vt?vt.value=tt:Z.set(X,tt),tt}},25155:function(mt){"use strict";var C=!1,d=function(){};if(C){var S=function(D,k){var I=arguments.length;k=new Array(I>1?I-1:0);for(var _=1;_<I;_++)k[_-1]=arguments[_];var P=0,T="Warning: "+D.replace(/%s/g,function(){return k[P++]});typeof console!="undefined"&&console.error(T);try{throw new Error(T)}catch(p){}};d=function(O,D,k){var I=arguments.length;k=new Array(I>2?I-2:0);for(var _=2;_<I;_++)k[_-2]=arguments[_];if(D===void 0)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");O||S.apply(null,[D].concat(k))}}mt.exports=d},74988:function(mt,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.setMatrixArrayType=D,C.toRadian=I,C.equals=_;var d=C.EPSILON=1e-6,S=C.ARRAY_TYPE=typeof Float32Array!="undefined"?Float32Array:Array,O=C.RANDOM=Math.random;function D(P){C.ARRAY_TYPE=S=P}var k=Math.PI/180;function I(P){return P*k}function _(P,T){return Math.abs(P-T)<=d*Math.max(1,Math.abs(P),Math.abs(T))}},31502:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.sub=C.mul=void 0,C.create=k,C.fromMat4=I,C.clone=_,C.copy=P,C.fromValues=T,C.set=p,C.identity=w,C.transpose=m,C.invert=b,C.adjoint=y,C.determinant=A,C.multiply=B,C.translate=N,C.rotate=G,C.scale=j,C.fromTranslation=J,C.fromRotation=H,C.fromScaling=K,C.fromMat2d=st,C.fromQuat=nt,C.normalFromMat4=wt,C.projection=gt,C.str=At,C.frob=X,C.add=Z,C.subtract=tt,C.multiplyScalar=Q,C.multiplyScalarAndAdd=vt,C.exactEquals=lt,C.equals=rt;var S=d(74988),O=D(S);function D(f){if(f&&f.__esModule)return f;var xt={};if(f!=null)for(var Ct in f)Object.prototype.hasOwnProperty.call(f,Ct)&&(xt[Ct]=f[Ct]);return xt.default=f,xt}function k(){var f=new O.ARRAY_TYPE(9);return O.ARRAY_TYPE!=Float32Array&&(f[1]=0,f[2]=0,f[3]=0,f[5]=0,f[6]=0,f[7]=0),f[0]=1,f[4]=1,f[8]=1,f}function I(f,xt){return f[0]=xt[0],f[1]=xt[1],f[2]=xt[2],f[3]=xt[4],f[4]=xt[5],f[5]=xt[6],f[6]=xt[8],f[7]=xt[9],f[8]=xt[10],f}function _(f){var xt=new O.ARRAY_TYPE(9);return xt[0]=f[0],xt[1]=f[1],xt[2]=f[2],xt[3]=f[3],xt[4]=f[4],xt[5]=f[5],xt[6]=f[6],xt[7]=f[7],xt[8]=f[8],xt}function P(f,xt){return f[0]=xt[0],f[1]=xt[1],f[2]=xt[2],f[3]=xt[3],f[4]=xt[4],f[5]=xt[5],f[6]=xt[6],f[7]=xt[7],f[8]=xt[8],f}function T(f,xt,Ct,Bt,qt,Gt,Jt,ie,se){var Kt=new O.ARRAY_TYPE(9);return Kt[0]=f,Kt[1]=xt,Kt[2]=Ct,Kt[3]=Bt,Kt[4]=qt,Kt[5]=Gt,Kt[6]=Jt,Kt[7]=ie,Kt[8]=se,Kt}function p(f,xt,Ct,Bt,qt,Gt,Jt,ie,se,Kt){return f[0]=xt,f[1]=Ct,f[2]=Bt,f[3]=qt,f[4]=Gt,f[5]=Jt,f[6]=ie,f[7]=se,f[8]=Kt,f}function w(f){return f[0]=1,f[1]=0,f[2]=0,f[3]=0,f[4]=1,f[5]=0,f[6]=0,f[7]=0,f[8]=1,f}function m(f,xt){if(f===xt){var Ct=xt[1],Bt=xt[2],qt=xt[5];f[1]=xt[3],f[2]=xt[6],f[3]=Ct,f[5]=xt[7],f[6]=Bt,f[7]=qt}else f[0]=xt[0],f[1]=xt[3],f[2]=xt[6],f[3]=xt[1],f[4]=xt[4],f[5]=xt[7],f[6]=xt[2],f[7]=xt[5],f[8]=xt[8];return f}function b(f,xt){var Ct=xt[0],Bt=xt[1],qt=xt[2],Gt=xt[3],Jt=xt[4],ie=xt[5],se=xt[6],Kt=xt[7],kt=xt[8],Mt=kt*Jt-ie*Kt,pt=-kt*Gt+ie*se,Pt=Kt*Gt-Jt*se,ut=Ct*Mt+Bt*pt+qt*Pt;return ut?(ut=1/ut,f[0]=Mt*ut,f[1]=(-kt*Bt+qt*Kt)*ut,f[2]=(ie*Bt-qt*Jt)*ut,f[3]=pt*ut,f[4]=(kt*Ct-qt*se)*ut,f[5]=(-ie*Ct+qt*Gt)*ut,f[6]=Pt*ut,f[7]=(-Kt*Ct+Bt*se)*ut,f[8]=(Jt*Ct-Bt*Gt)*ut,f):null}function y(f,xt){var Ct=xt[0],Bt=xt[1],qt=xt[2],Gt=xt[3],Jt=xt[4],ie=xt[5],se=xt[6],Kt=xt[7],kt=xt[8];return f[0]=Jt*kt-ie*Kt,f[1]=qt*Kt-Bt*kt,f[2]=Bt*ie-qt*Jt,f[3]=ie*se-Gt*kt,f[4]=Ct*kt-qt*se,f[5]=qt*Gt-Ct*ie,f[6]=Gt*Kt-Jt*se,f[7]=Bt*se-Ct*Kt,f[8]=Ct*Jt-Bt*Gt,f}function A(f){var xt=f[0],Ct=f[1],Bt=f[2],qt=f[3],Gt=f[4],Jt=f[5],ie=f[6],se=f[7],Kt=f[8];return xt*(Kt*Gt-Jt*se)+Ct*(-Kt*qt+Jt*ie)+Bt*(se*qt-Gt*ie)}function B(f,xt,Ct){var Bt=xt[0],qt=xt[1],Gt=xt[2],Jt=xt[3],ie=xt[4],se=xt[5],Kt=xt[6],kt=xt[7],Mt=xt[8],pt=Ct[0],Pt=Ct[1],ut=Ct[2],at=Ct[3],St=Ct[4],Ot=Ct[5],Ut=Ct[6],oe=Ct[7],we=Ct[8];return f[0]=pt*Bt+Pt*Jt+ut*Kt,f[1]=pt*qt+Pt*ie+ut*kt,f[2]=pt*Gt+Pt*se+ut*Mt,f[3]=at*Bt+St*Jt+Ot*Kt,f[4]=at*qt+St*ie+Ot*kt,f[5]=at*Gt+St*se+Ot*Mt,f[6]=Ut*Bt+oe*Jt+we*Kt,f[7]=Ut*qt+oe*ie+we*kt,f[8]=Ut*Gt+oe*se+we*Mt,f}function N(f,xt,Ct){var Bt=xt[0],qt=xt[1],Gt=xt[2],Jt=xt[3],ie=xt[4],se=xt[5],Kt=xt[6],kt=xt[7],Mt=xt[8],pt=Ct[0],Pt=Ct[1];return f[0]=Bt,f[1]=qt,f[2]=Gt,f[3]=Jt,f[4]=ie,f[5]=se,f[6]=pt*Bt+Pt*Jt+Kt,f[7]=pt*qt+Pt*ie+kt,f[8]=pt*Gt+Pt*se+Mt,f}function G(f,xt,Ct){var Bt=xt[0],qt=xt[1],Gt=xt[2],Jt=xt[3],ie=xt[4],se=xt[5],Kt=xt[6],kt=xt[7],Mt=xt[8],pt=Math.sin(Ct),Pt=Math.cos(Ct);return f[0]=Pt*Bt+pt*Jt,f[1]=Pt*qt+pt*ie,f[2]=Pt*Gt+pt*se,f[3]=Pt*Jt-pt*Bt,f[4]=Pt*ie-pt*qt,f[5]=Pt*se-pt*Gt,f[6]=Kt,f[7]=kt,f[8]=Mt,f}function j(f,xt,Ct){var Bt=Ct[0],qt=Ct[1];return f[0]=Bt*xt[0],f[1]=Bt*xt[1],f[2]=Bt*xt[2],f[3]=qt*xt[3],f[4]=qt*xt[4],f[5]=qt*xt[5],f[6]=xt[6],f[7]=xt[7],f[8]=xt[8],f}function J(f,xt){return f[0]=1,f[1]=0,f[2]=0,f[3]=0,f[4]=1,f[5]=0,f[6]=xt[0],f[7]=xt[1],f[8]=1,f}function H(f,xt){var Ct=Math.sin(xt),Bt=Math.cos(xt);return f[0]=Bt,f[1]=Ct,f[2]=0,f[3]=-Ct,f[4]=Bt,f[5]=0,f[6]=0,f[7]=0,f[8]=1,f}function K(f,xt){return f[0]=xt[0],f[1]=0,f[2]=0,f[3]=0,f[4]=xt[1],f[5]=0,f[6]=0,f[7]=0,f[8]=1,f}function st(f,xt){return f[0]=xt[0],f[1]=xt[1],f[2]=0,f[3]=xt[2],f[4]=xt[3],f[5]=0,f[6]=xt[4],f[7]=xt[5],f[8]=1,f}function nt(f,xt){var Ct=xt[0],Bt=xt[1],qt=xt[2],Gt=xt[3],Jt=Ct+Ct,ie=Bt+Bt,se=qt+qt,Kt=Ct*Jt,kt=Bt*Jt,Mt=Bt*ie,pt=qt*Jt,Pt=qt*ie,ut=qt*se,at=Gt*Jt,St=Gt*ie,Ot=Gt*se;return f[0]=1-Mt-ut,f[3]=kt-Ot,f[6]=pt+St,f[1]=kt+Ot,f[4]=1-Kt-ut,f[7]=Pt-at,f[2]=pt-St,f[5]=Pt+at,f[8]=1-Kt-Mt,f}function wt(f,xt){var Ct=xt[0],Bt=xt[1],qt=xt[2],Gt=xt[3],Jt=xt[4],ie=xt[5],se=xt[6],Kt=xt[7],kt=xt[8],Mt=xt[9],pt=xt[10],Pt=xt[11],ut=xt[12],at=xt[13],St=xt[14],Ot=xt[15],Ut=Ct*ie-Bt*Jt,oe=Ct*se-qt*Jt,we=Ct*Kt-Gt*Jt,Ie=Bt*se-qt*ie,Be=Bt*Kt-Gt*ie,ur=qt*Kt-Gt*se,vr=kt*at-Mt*ut,fr=kt*St-pt*ut,Ar=kt*Ot-Pt*ut,or=Mt*St-pt*at,Gr=Mt*Ot-Pt*at,ln=pt*Ot-Pt*St,Nr=Ut*ln-oe*Gr+we*or+Ie*Ar-Be*fr+ur*vr;return Nr?(Nr=1/Nr,f[0]=(ie*ln-se*Gr+Kt*or)*Nr,f[1]=(se*Ar-Jt*ln-Kt*fr)*Nr,f[2]=(Jt*Gr-ie*Ar+Kt*vr)*Nr,f[3]=(qt*Gr-Bt*ln-Gt*or)*Nr,f[4]=(Ct*ln-qt*Ar+Gt*fr)*Nr,f[5]=(Bt*Ar-Ct*Gr-Gt*vr)*Nr,f[6]=(at*ur-St*Be+Ot*Ie)*Nr,f[7]=(St*we-ut*ur-Ot*oe)*Nr,f[8]=(ut*Be-at*we+Ot*Ut)*Nr,f):null}function gt(f,xt,Ct){return f[0]=2/xt,f[1]=0,f[2]=0,f[3]=0,f[4]=-2/Ct,f[5]=0,f[6]=-1,f[7]=1,f[8]=1,f}function At(f){return"mat3("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+", "+f[8]+")"}function X(f){return Math.sqrt(Math.pow(f[0],2)+Math.pow(f[1],2)+Math.pow(f[2],2)+Math.pow(f[3],2)+Math.pow(f[4],2)+Math.pow(f[5],2)+Math.pow(f[6],2)+Math.pow(f[7],2)+Math.pow(f[8],2))}function Z(f,xt,Ct){return f[0]=xt[0]+Ct[0],f[1]=xt[1]+Ct[1],f[2]=xt[2]+Ct[2],f[3]=xt[3]+Ct[3],f[4]=xt[4]+Ct[4],f[5]=xt[5]+Ct[5],f[6]=xt[6]+Ct[6],f[7]=xt[7]+Ct[7],f[8]=xt[8]+Ct[8],f}function tt(f,xt,Ct){return f[0]=xt[0]-Ct[0],f[1]=xt[1]-Ct[1],f[2]=xt[2]-Ct[2],f[3]=xt[3]-Ct[3],f[4]=xt[4]-Ct[4],f[5]=xt[5]-Ct[5],f[6]=xt[6]-Ct[6],f[7]=xt[7]-Ct[7],f[8]=xt[8]-Ct[8],f}function Q(f,xt,Ct){return f[0]=xt[0]*Ct,f[1]=xt[1]*Ct,f[2]=xt[2]*Ct,f[3]=xt[3]*Ct,f[4]=xt[4]*Ct,f[5]=xt[5]*Ct,f[6]=xt[6]*Ct,f[7]=xt[7]*Ct,f[8]=xt[8]*Ct,f}function vt(f,xt,Ct,Bt){return f[0]=xt[0]+Ct[0]*Bt,f[1]=xt[1]+Ct[1]*Bt,f[2]=xt[2]+Ct[2]*Bt,f[3]=xt[3]+Ct[3]*Bt,f[4]=xt[4]+Ct[4]*Bt,f[5]=xt[5]+Ct[5]*Bt,f[6]=xt[6]+Ct[6]*Bt,f[7]=xt[7]+Ct[7]*Bt,f[8]=xt[8]+Ct[8]*Bt,f}function lt(f,xt){return f[0]===xt[0]&&f[1]===xt[1]&&f[2]===xt[2]&&f[3]===xt[3]&&f[4]===xt[4]&&f[5]===xt[5]&&f[6]===xt[6]&&f[7]===xt[7]&&f[8]===xt[8]}function rt(f,xt){var Ct=f[0],Bt=f[1],qt=f[2],Gt=f[3],Jt=f[4],ie=f[5],se=f[6],Kt=f[7],kt=f[8],Mt=xt[0],pt=xt[1],Pt=xt[2],ut=xt[3],at=xt[4],St=xt[5],Ot=xt[6],Ut=xt[7],oe=xt[8];return Math.abs(Ct-Mt)<=O.EPSILON*Math.max(1,Math.abs(Ct),Math.abs(Mt))&&Math.abs(Bt-pt)<=O.EPSILON*Math.max(1,Math.abs(Bt),Math.abs(pt))&&Math.abs(qt-Pt)<=O.EPSILON*Math.max(1,Math.abs(qt),Math.abs(Pt))&&Math.abs(Gt-ut)<=O.EPSILON*Math.max(1,Math.abs(Gt),Math.abs(ut))&&Math.abs(Jt-at)<=O.EPSILON*Math.max(1,Math.abs(Jt),Math.abs(at))&&Math.abs(ie-St)<=O.EPSILON*Math.max(1,Math.abs(ie),Math.abs(St))&&Math.abs(se-Ot)<=O.EPSILON*Math.max(1,Math.abs(se),Math.abs(Ot))&&Math.abs(Kt-Ut)<=O.EPSILON*Math.max(1,Math.abs(Kt),Math.abs(Ut))&&Math.abs(kt-oe)<=O.EPSILON*Math.max(1,Math.abs(kt),Math.abs(oe))}var U=C.mul=B,$=C.sub=tt},76172:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.forEach=C.sqrLen=C.sqrDist=C.dist=C.div=C.mul=C.sub=C.len=void 0,C.create=k,C.clone=I,C.fromValues=_,C.copy=P,C.set=T,C.add=p,C.subtract=w,C.multiply=m,C.divide=b,C.ceil=y,C.floor=A,C.min=B,C.max=N,C.round=G,C.scale=j,C.scaleAndAdd=J,C.distance=H,C.squaredDistance=K,C.length=st,C.squaredLength=nt,C.negate=wt,C.inverse=gt,C.normalize=At,C.dot=X,C.cross=Z,C.lerp=tt,C.random=Q,C.transformMat2=vt,C.transformMat2d=lt,C.transformMat3=rt,C.transformMat4=U,C.rotate=$,C.angle=f,C.str=xt,C.exactEquals=Ct,C.equals=Bt;var S=d(74988),O=D(S);function D(pt){if(pt&&pt.__esModule)return pt;var Pt={};if(pt!=null)for(var ut in pt)Object.prototype.hasOwnProperty.call(pt,ut)&&(Pt[ut]=pt[ut]);return Pt.default=pt,Pt}function k(){var pt=new O.ARRAY_TYPE(2);return O.ARRAY_TYPE!=Float32Array&&(pt[0]=0,pt[1]=0),pt}function I(pt){var Pt=new O.ARRAY_TYPE(2);return Pt[0]=pt[0],Pt[1]=pt[1],Pt}function _(pt,Pt){var ut=new O.ARRAY_TYPE(2);return ut[0]=pt,ut[1]=Pt,ut}function P(pt,Pt){return pt[0]=Pt[0],pt[1]=Pt[1],pt}function T(pt,Pt,ut){return pt[0]=Pt,pt[1]=ut,pt}function p(pt,Pt,ut){return pt[0]=Pt[0]+ut[0],pt[1]=Pt[1]+ut[1],pt}function w(pt,Pt,ut){return pt[0]=Pt[0]-ut[0],pt[1]=Pt[1]-ut[1],pt}function m(pt,Pt,ut){return pt[0]=Pt[0]*ut[0],pt[1]=Pt[1]*ut[1],pt}function b(pt,Pt,ut){return pt[0]=Pt[0]/ut[0],pt[1]=Pt[1]/ut[1],pt}function y(pt,Pt){return pt[0]=Math.ceil(Pt[0]),pt[1]=Math.ceil(Pt[1]),pt}function A(pt,Pt){return pt[0]=Math.floor(Pt[0]),pt[1]=Math.floor(Pt[1]),pt}function B(pt,Pt,ut){return pt[0]=Math.min(Pt[0],ut[0]),pt[1]=Math.min(Pt[1],ut[1]),pt}function N(pt,Pt,ut){return pt[0]=Math.max(Pt[0],ut[0]),pt[1]=Math.max(Pt[1],ut[1]),pt}function G(pt,Pt){return pt[0]=Math.round(Pt[0]),pt[1]=Math.round(Pt[1]),pt}function j(pt,Pt,ut){return pt[0]=Pt[0]*ut,pt[1]=Pt[1]*ut,pt}function J(pt,Pt,ut,at){return pt[0]=Pt[0]+ut[0]*at,pt[1]=Pt[1]+ut[1]*at,pt}function H(pt,Pt){var ut=Pt[0]-pt[0],at=Pt[1]-pt[1];return Math.sqrt(ut*ut+at*at)}function K(pt,Pt){var ut=Pt[0]-pt[0],at=Pt[1]-pt[1];return ut*ut+at*at}function st(pt){var Pt=pt[0],ut=pt[1];return Math.sqrt(Pt*Pt+ut*ut)}function nt(pt){var Pt=pt[0],ut=pt[1];return Pt*Pt+ut*ut}function wt(pt,Pt){return pt[0]=-Pt[0],pt[1]=-Pt[1],pt}function gt(pt,Pt){return pt[0]=1/Pt[0],pt[1]=1/Pt[1],pt}function At(pt,Pt){var ut=Pt[0],at=Pt[1],St=ut*ut+at*at;return St>0&&(St=1/Math.sqrt(St),pt[0]=Pt[0]*St,pt[1]=Pt[1]*St),pt}function X(pt,Pt){return pt[0]*Pt[0]+pt[1]*Pt[1]}function Z(pt,Pt,ut){var at=Pt[0]*ut[1]-Pt[1]*ut[0];return pt[0]=pt[1]=0,pt[2]=at,pt}function tt(pt,Pt,ut,at){var St=Pt[0],Ot=Pt[1];return pt[0]=St+at*(ut[0]-St),pt[1]=Ot+at*(ut[1]-Ot),pt}function Q(pt,Pt){Pt=Pt||1;var ut=O.RANDOM()*2*Math.PI;return pt[0]=Math.cos(ut)*Pt,pt[1]=Math.sin(ut)*Pt,pt}function vt(pt,Pt,ut){var at=Pt[0],St=Pt[1];return pt[0]=ut[0]*at+ut[2]*St,pt[1]=ut[1]*at+ut[3]*St,pt}function lt(pt,Pt,ut){var at=Pt[0],St=Pt[1];return pt[0]=ut[0]*at+ut[2]*St+ut[4],pt[1]=ut[1]*at+ut[3]*St+ut[5],pt}function rt(pt,Pt,ut){var at=Pt[0],St=Pt[1];return pt[0]=ut[0]*at+ut[3]*St+ut[6],pt[1]=ut[1]*at+ut[4]*St+ut[7],pt}function U(pt,Pt,ut){var at=Pt[0],St=Pt[1];return pt[0]=ut[0]*at+ut[4]*St+ut[12],pt[1]=ut[1]*at+ut[5]*St+ut[13],pt}function $(pt,Pt,ut,at){var St=Pt[0]-ut[0],Ot=Pt[1]-ut[1],Ut=Math.sin(at),oe=Math.cos(at);return pt[0]=St*oe-Ot*Ut+ut[0],pt[1]=St*Ut+Ot*oe+ut[1],pt}function f(pt,Pt){var ut=pt[0],at=pt[1],St=Pt[0],Ot=Pt[1],Ut=ut*ut+at*at;Ut>0&&(Ut=1/Math.sqrt(Ut));var oe=St*St+Ot*Ot;oe>0&&(oe=1/Math.sqrt(oe));var we=(ut*St+at*Ot)*Ut*oe;return we>1?0:we<-1?Math.PI:Math.acos(we)}function xt(pt){return"vec2("+pt[0]+", "+pt[1]+")"}function Ct(pt,Pt){return pt[0]===Pt[0]&&pt[1]===Pt[1]}function Bt(pt,Pt){var ut=pt[0],at=pt[1],St=Pt[0],Ot=Pt[1];return Math.abs(ut-St)<=O.EPSILON*Math.max(1,Math.abs(ut),Math.abs(St))&&Math.abs(at-Ot)<=O.EPSILON*Math.max(1,Math.abs(at),Math.abs(Ot))}var qt=C.len=st,Gt=C.sub=w,Jt=C.mul=m,ie=C.div=b,se=C.dist=H,Kt=C.sqrDist=K,kt=C.sqrLen=nt,Mt=C.forEach=function(){var pt=k();return function(Pt,ut,at,St,Ot,Ut){var oe=void 0,we=void 0;for(ut||(ut=2),at||(at=0),St?we=Math.min(St*ut+at,Pt.length):we=Pt.length,oe=at;oe<we;oe+=ut)pt[0]=Pt[oe],pt[1]=Pt[oe+1],Ot(pt,pt,Ut),Pt[oe]=pt[0],Pt[oe+1]=pt[1];return Pt}}()},88395:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.forEach=C.sqrLen=C.len=C.sqrDist=C.dist=C.div=C.mul=C.sub=void 0,C.create=k,C.clone=I,C.length=_,C.fromValues=P,C.copy=T,C.set=p,C.add=w,C.subtract=m,C.multiply=b,C.divide=y,C.ceil=A,C.floor=B,C.min=N,C.max=G,C.round=j,C.scale=J,C.scaleAndAdd=H,C.distance=K,C.squaredDistance=st,C.squaredLength=nt,C.negate=wt,C.inverse=gt,C.normalize=At,C.dot=X,C.cross=Z,C.lerp=tt,C.hermite=Q,C.bezier=vt,C.random=lt,C.transformMat4=rt,C.transformMat3=U,C.transformQuat=$,C.rotateX=f,C.rotateY=xt,C.rotateZ=Ct,C.angle=Bt,C.str=qt,C.exactEquals=Gt,C.equals=Jt;var S=d(74988),O=D(S);function D(at){if(at&&at.__esModule)return at;var St={};if(at!=null)for(var Ot in at)Object.prototype.hasOwnProperty.call(at,Ot)&&(St[Ot]=at[Ot]);return St.default=at,St}function k(){var at=new O.ARRAY_TYPE(3);return O.ARRAY_TYPE!=Float32Array&&(at[0]=0,at[1]=0,at[2]=0),at}function I(at){var St=new O.ARRAY_TYPE(3);return St[0]=at[0],St[1]=at[1],St[2]=at[2],St}function _(at){var St=at[0],Ot=at[1],Ut=at[2];return Math.sqrt(St*St+Ot*Ot+Ut*Ut)}function P(at,St,Ot){var Ut=new O.ARRAY_TYPE(3);return Ut[0]=at,Ut[1]=St,Ut[2]=Ot,Ut}function T(at,St){return at[0]=St[0],at[1]=St[1],at[2]=St[2],at}function p(at,St,Ot,Ut){return at[0]=St,at[1]=Ot,at[2]=Ut,at}function w(at,St,Ot){return at[0]=St[0]+Ot[0],at[1]=St[1]+Ot[1],at[2]=St[2]+Ot[2],at}function m(at,St,Ot){return at[0]=St[0]-Ot[0],at[1]=St[1]-Ot[1],at[2]=St[2]-Ot[2],at}function b(at,St,Ot){return at[0]=St[0]*Ot[0],at[1]=St[1]*Ot[1],at[2]=St[2]*Ot[2],at}function y(at,St,Ot){return at[0]=St[0]/Ot[0],at[1]=St[1]/Ot[1],at[2]=St[2]/Ot[2],at}function A(at,St){return at[0]=Math.ceil(St[0]),at[1]=Math.ceil(St[1]),at[2]=Math.ceil(St[2]),at}function B(at,St){return at[0]=Math.floor(St[0]),at[1]=Math.floor(St[1]),at[2]=Math.floor(St[2]),at}function N(at,St,Ot){return at[0]=Math.min(St[0],Ot[0]),at[1]=Math.min(St[1],Ot[1]),at[2]=Math.min(St[2],Ot[2]),at}function G(at,St,Ot){return at[0]=Math.max(St[0],Ot[0]),at[1]=Math.max(St[1],Ot[1]),at[2]=Math.max(St[2],Ot[2]),at}function j(at,St){return at[0]=Math.round(St[0]),at[1]=Math.round(St[1]),at[2]=Math.round(St[2]),at}function J(at,St,Ot){return at[0]=St[0]*Ot,at[1]=St[1]*Ot,at[2]=St[2]*Ot,at}function H(at,St,Ot,Ut){return at[0]=St[0]+Ot[0]*Ut,at[1]=St[1]+Ot[1]*Ut,at[2]=St[2]+Ot[2]*Ut,at}function K(at,St){var Ot=St[0]-at[0],Ut=St[1]-at[1],oe=St[2]-at[2];return Math.sqrt(Ot*Ot+Ut*Ut+oe*oe)}function st(at,St){var Ot=St[0]-at[0],Ut=St[1]-at[1],oe=St[2]-at[2];return Ot*Ot+Ut*Ut+oe*oe}function nt(at){var St=at[0],Ot=at[1],Ut=at[2];return St*St+Ot*Ot+Ut*Ut}function wt(at,St){return at[0]=-St[0],at[1]=-St[1],at[2]=-St[2],at}function gt(at,St){return at[0]=1/St[0],at[1]=1/St[1],at[2]=1/St[2],at}function At(at,St){var Ot=St[0],Ut=St[1],oe=St[2],we=Ot*Ot+Ut*Ut+oe*oe;return we>0&&(we=1/Math.sqrt(we),at[0]=St[0]*we,at[1]=St[1]*we,at[2]=St[2]*we),at}function X(at,St){return at[0]*St[0]+at[1]*St[1]+at[2]*St[2]}function Z(at,St,Ot){var Ut=St[0],oe=St[1],we=St[2],Ie=Ot[0],Be=Ot[1],ur=Ot[2];return at[0]=oe*ur-we*Be,at[1]=we*Ie-Ut*ur,at[2]=Ut*Be-oe*Ie,at}function tt(at,St,Ot,Ut){var oe=St[0],we=St[1],Ie=St[2];return at[0]=oe+Ut*(Ot[0]-oe),at[1]=we+Ut*(Ot[1]-we),at[2]=Ie+Ut*(Ot[2]-Ie),at}function Q(at,St,Ot,Ut,oe,we){var Ie=we*we,Be=Ie*(2*we-3)+1,ur=Ie*(we-2)+we,vr=Ie*(we-1),fr=Ie*(3-2*we);return at[0]=St[0]*Be+Ot[0]*ur+Ut[0]*vr+oe[0]*fr,at[1]=St[1]*Be+Ot[1]*ur+Ut[1]*vr+oe[1]*fr,at[2]=St[2]*Be+Ot[2]*ur+Ut[2]*vr+oe[2]*fr,at}function vt(at,St,Ot,Ut,oe,we){var Ie=1-we,Be=Ie*Ie,ur=we*we,vr=Be*Ie,fr=3*we*Be,Ar=3*ur*Ie,or=ur*we;return at[0]=St[0]*vr+Ot[0]*fr+Ut[0]*Ar+oe[0]*or,at[1]=St[1]*vr+Ot[1]*fr+Ut[1]*Ar+oe[1]*or,at[2]=St[2]*vr+Ot[2]*fr+Ut[2]*Ar+oe[2]*or,at}function lt(at,St){St=St||1;var Ot=O.RANDOM()*2*Math.PI,Ut=O.RANDOM()*2-1,oe=Math.sqrt(1-Ut*Ut)*St;return at[0]=Math.cos(Ot)*oe,at[1]=Math.sin(Ot)*oe,at[2]=Ut*St,at}function rt(at,St,Ot){var Ut=St[0],oe=St[1],we=St[2],Ie=Ot[3]*Ut+Ot[7]*oe+Ot[11]*we+Ot[15];return Ie=Ie||1,at[0]=(Ot[0]*Ut+Ot[4]*oe+Ot[8]*we+Ot[12])/Ie,at[1]=(Ot[1]*Ut+Ot[5]*oe+Ot[9]*we+Ot[13])/Ie,at[2]=(Ot[2]*Ut+Ot[6]*oe+Ot[10]*we+Ot[14])/Ie,at}function U(at,St,Ot){var Ut=St[0],oe=St[1],we=St[2];return at[0]=Ut*Ot[0]+oe*Ot[3]+we*Ot[6],at[1]=Ut*Ot[1]+oe*Ot[4]+we*Ot[7],at[2]=Ut*Ot[2]+oe*Ot[5]+we*Ot[8],at}function $(at,St,Ot){var Ut=Ot[0],oe=Ot[1],we=Ot[2],Ie=Ot[3],Be=St[0],ur=St[1],vr=St[2],fr=oe*vr-we*ur,Ar=we*Be-Ut*vr,or=Ut*ur-oe*Be,Gr=oe*or-we*Ar,ln=we*fr-Ut*or,Nr=Ut*Ar-oe*fr,nn=Ie*2;return fr*=nn,Ar*=nn,or*=nn,Gr*=2,ln*=2,Nr*=2,at[0]=Be+fr+Gr,at[1]=ur+Ar+ln,at[2]=vr+or+Nr,at}function f(at,St,Ot,Ut){var oe=[],we=[];return oe[0]=St[0]-Ot[0],oe[1]=St[1]-Ot[1],oe[2]=St[2]-Ot[2],we[0]=oe[0],we[1]=oe[1]*Math.cos(Ut)-oe[2]*Math.sin(Ut),we[2]=oe[1]*Math.sin(Ut)+oe[2]*Math.cos(Ut),at[0]=we[0]+Ot[0],at[1]=we[1]+Ot[1],at[2]=we[2]+Ot[2],at}function xt(at,St,Ot,Ut){var oe=[],we=[];return oe[0]=St[0]-Ot[0],oe[1]=St[1]-Ot[1],oe[2]=St[2]-Ot[2],we[0]=oe[2]*Math.sin(Ut)+oe[0]*Math.cos(Ut),we[1]=oe[1],we[2]=oe[2]*Math.cos(Ut)-oe[0]*Math.sin(Ut),at[0]=we[0]+Ot[0],at[1]=we[1]+Ot[1],at[2]=we[2]+Ot[2],at}function Ct(at,St,Ot,Ut){var oe=[],we=[];return oe[0]=St[0]-Ot[0],oe[1]=St[1]-Ot[1],oe[2]=St[2]-Ot[2],we[0]=oe[0]*Math.cos(Ut)-oe[1]*Math.sin(Ut),we[1]=oe[0]*Math.sin(Ut)+oe[1]*Math.cos(Ut),we[2]=oe[2],at[0]=we[0]+Ot[0],at[1]=we[1]+Ot[1],at[2]=we[2]+Ot[2],at}function Bt(at,St){var Ot=P(at[0],at[1],at[2]),Ut=P(St[0],St[1],St[2]);At(Ot,Ot),At(Ut,Ut);var oe=X(Ot,Ut);return oe>1?0:oe<-1?Math.PI:Math.acos(oe)}function qt(at){return"vec3("+at[0]+", "+at[1]+", "+at[2]+")"}function Gt(at,St){return at[0]===St[0]&&at[1]===St[1]&&at[2]===St[2]}function Jt(at,St){var Ot=at[0],Ut=at[1],oe=at[2],we=St[0],Ie=St[1],Be=St[2];return Math.abs(Ot-we)<=O.EPSILON*Math.max(1,Math.abs(Ot),Math.abs(we))&&Math.abs(Ut-Ie)<=O.EPSILON*Math.max(1,Math.abs(Ut),Math.abs(Ie))&&Math.abs(oe-Be)<=O.EPSILON*Math.max(1,Math.abs(oe),Math.abs(Be))}var ie=C.sub=m,se=C.mul=b,Kt=C.div=y,kt=C.dist=K,Mt=C.sqrDist=st,pt=C.len=_,Pt=C.sqrLen=nt,ut=C.forEach=function(){var at=k();return function(St,Ot,Ut,oe,we,Ie){var Be=void 0,ur=void 0;for(Ot||(Ot=3),Ut||(Ut=0),oe?ur=Math.min(oe*Ot+Ut,St.length):ur=St.length,Be=Ut;Be<ur;Be+=Ot)at[0]=St[Be],at[1]=St[Be+1],at[2]=St[Be+2],we(at,at,Ie),St[Be]=at[0],St[Be+1]=at[1],St[Be+2]=at[2];return St}}()},92640:function(mt,C,d){function S(p,w){p.prototype=Object.create(w.prototype),p.prototype.constructor=p,p.__proto__=w}var O=d(4905),D=d(90390),k=d(30130),I=d(22965),_=function(p){S(w,p);function w(){return p.apply(this,arguments)||this}var m=w.prototype;return m.execute=function(){var y=this;return k(y.rootNode,y.options,D)},w}(O),P={};function T(p,w){return w=I.assign({},P,w),new _(p,w).execute()}mt.exports=T},34542:function(mt,C,d){function S(p,w){p.prototype=Object.create(w.prototype),p.prototype.constructor=p,p.__proto__=w}var O=d(4905),D=d(37133),k=d(30130),I=d(22965),_=function(p){S(w,p);function w(){return p.apply(this,arguments)||this}var m=w.prototype;return m.execute=function(){var y=this;return y.rootNode.width=0,k(y.rootNode,y.options,D)},w}(O),P={};function T(p,w){return w=I.assign({},P,w),new _(p,w).execute()}mt.exports=T},57088:function(mt,C,d){function S(m,b){m.prototype=Object.create(b.prototype),m.prototype.constructor=m,m.__proto__=b}var O=d(4905),D=d(10568),k=d(59286),I=d(22965),_=["LR","RL","H"],P=_[0],T=function(m){S(b,m);function b(){return m.apply(this,arguments)||this}var y=b.prototype;return y.execute=function(){var B=this,N=B.options,G=B.rootNode;N.isHorizontal=!0;var j=N.indent,J=j===void 0?20:j,H=N.dropCap,K=H===void 0?!0:H,st=N.direction||P;if(st&&_.indexOf(st)===-1)throw new TypeError("Invalid direction: "+st);if(st===_[0])D(G,J,K);else if(st===_[1])D(G,J,K),G.right2left();else if(st===_[2]){var nt=k(G,N),wt=nt.left,gt=nt.right;D(wt,J,K),wt.right2left(),D(gt,J,K);var At=wt.getBoundingBox();gt.translate(At.width,0),G.x=gt.x-G.width/2}return G},b}(O),p={};function w(m,b){return b=I.assign({},p,b),new T(m,b).execute()}mt.exports=w},77201:function(mt,C,d){var S={compactBox:d(92640),dendrogram:d(34542),indented:d(57088),mindmap:d(1355)};mt.exports=S},4905:function(mt,C,d){var S=d(27249),O=function(){function D(I,_){_===void 0&&(_={});var P=this;P.options=_,P.rootNode=S(I,_)}var k=D.prototype;return k.execute=function(){throw new Error("please override this method")},D}();mt.exports=O},37133:function(mt,C,d){var S=d(22965);function O(I,_){I===void 0&&(I=0),_===void 0&&(_=[]);var P=this;P.x=P.y=0,P.leftChild=P.rightChild=null,P.height=0,P.children=_}var D={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};function k(I,_,P){P?(_.x=I.x,_.y=I.y):(_.x=I.y,_.y=I.x),I.children.forEach(function(T,p){k(T,_.children[p],P)})}mt.exports=function(I,_){_===void 0&&(_={}),_=S.assign({},D,_);var P=0;function T(y){if(!y)return null;y.width=0,y.depth&&y.depth>P&&(P=y.depth);var A=y.children,B=A.length,N=new O(y.height,[]);return A.forEach(function(G,j){var J=T(G);N.children.push(J),j===0&&(N.leftChild=J),j===B-1&&(N.rightChild=J)}),N.originNode=y,N.isLeaf=y.isLeaf(),N}function p(y){if(y.isLeaf||y.children.length===0)y.drawingDepth=P;else{var A=y.children.map(function(N){return p(N)}),B=Math.min.apply(null,A);y.drawingDepth=B-1}return y.drawingDepth}var w;function m(y){y.x=y.drawingDepth*_.rankSep,y.isLeaf?(y.y=0,w&&(y.y=w.y+w.height+_.nodeSep,y.originNode.parent!==w.originNode.parent&&(y.y+=_.subTreeSep)),w=y):(y.children.forEach(function(A){m(A)}),y.y=(y.leftChild.y+y.rightChild.y)/2)}var b=T(I);return p(b),m(b),k(b,I,_.isHorizontal),I}},30130:function(mt,C,d){var S=d(59286),O=["LR","RL","TB","BT","H","V"],D=["LR","RL","H"],k=function(P){return D.indexOf(P)>-1},I=O[0];mt.exports=function(_,P,T){var p=P.direction||I;if(P.isHorizontal=k(p),p&&O.indexOf(p)===-1)throw new TypeError("Invalid direction: "+p);if(p===O[0])T(_,P);else if(p===O[1])T(_,P),_.right2left();else if(p===O[2])T(_,P);else if(p===O[3])T(_,P),_.bottom2top();else if(p===O[4]||p===O[5]){var w=S(_,P),m=w.left,b=w.right;T(m,P),T(b,P),P.isHorizontal?m.right2left():m.bottom2top(),b.translate(m.x-b.x,m.y-b.y),_.x=m.x,_.y=b.y;var y=_.getBoundingBox();P.isHorizontal?y.top<0&&_.translate(0,-y.top):y.left<0&&_.translate(-y.left,0)}var A=P.fixedRoot;return A===void 0&&(A=!0),A&&_.translate(-(_.x+_.width/2+_.hgap),-(_.y+_.height/2+_.vgap)),_}},27249:function(mt,C,d){var S=d(22965),O=18,D=O*2,k=O,I={getId:function(p){return p.id||p.name},getPreH:function(p){return p.preH||0},getPreV:function(p){return p.preV||0},getHGap:function(p){return p.hgap||k},getVGap:function(p){return p.vgap||k},getChildren:function(p){return p.children},getHeight:function(p){return p.height||D},getWidth:function(p){var w=p.label||" ";return p.width||w.split("").length*O}};function _(T,p){var w=this;if(w.vgap=w.hgap=0,T instanceof _)return T;w.data=T;var m=p.getHGap(T),b=p.getVGap(T);return w.preH=p.getPreH(T),w.preV=p.getPreV(T),w.width=p.getWidth(T),w.height=p.getHeight(T),w.width+=w.preH,w.height+=w.preV,w.id=p.getId(T),w.x=w.y=0,w.depth=0,w.children||(w.children=[]),w.addGap(m,b),w}S.assign(_.prototype,{isRoot:function(){return this.depth===0},isLeaf:function(){return this.children.length===0},addGap:function(p,w){var m=this;m.hgap+=p,m.vgap+=w,m.width+=2*p,m.height+=2*w},eachNode:function(p){for(var w=this,m=[w],b;b=m.shift();)p(b),m=b.children.concat(m)},DFTraverse:function(p){this.eachNode(p)},BFTraverse:function(p){for(var w=this,m=[w],b;b=m.shift();)p(b),m=m.concat(b.children)},getBoundingBox:function(){var p={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(w){p.left=Math.min(p.left,w.x),p.top=Math.min(p.top,w.y),p.width=Math.max(p.width,w.x+w.width),p.height=Math.max(p.height,w.y+w.height)}),p},translate:function(p,w){p===void 0&&(p=0),w===void 0&&(w=0),this.eachNode(function(m){m.x+=p,m.y+=w,m.x+=m.preH,m.y+=m.preV})},right2left:function(){var p=this,w=p.getBoundingBox();p.eachNode(function(m){m.x=m.x-(m.x-w.left)*2-m.width}),p.translate(w.width,0)},bottom2top:function(){var p=this,w=p.getBoundingBox();p.eachNode(function(m){m.y=m.y-(m.y-w.top)*2-m.height}),p.translate(0,w.height)}});function P(T,p,w){p===void 0&&(p={}),p=S.assign({},I,p);var m=new _(T,p),b=[m],y;if(!w&&!T.collapsed){for(;y=b.shift();)if(!y.data.collapsed){var A=p.getChildren(y.data),B=A?A.length:0;if(y.children=new Array(B),A&&B)for(var N=0;N<B;N++){var G=new _(A[N],p);y.children[N]=G,b.push(G),G.parent=y,G.depth=y.depth+1}}}return m}mt.exports=P},10568:function(mt){function C(d,S,O,D){var k=typeof O=="function"?O(d):O*d.depth;if(!D)try{if(d.id===d.parent.children[0].id){d.x+=k,d.y=S?S.y:0;return}}catch(I){}d.x+=k,d.y=S?S.y+S.height:0}mt.exports=function(d,S,O){var D=null;d.eachNode(function(k){C(k,D,S,O),D=k})}},24461:function(mt,C,d){var S=d(22965);function O(I,_){var P=0;return I.children.length?I.children.forEach(function(T){P+=O(T,_)}):P=I.height,I._subTreeSep=_.getSubTreeSep(I.data),I.totalHeight=Math.max(I.height,P)+2*I._subTreeSep,I.totalHeight}function D(I){var _=I.children,P=_.length;if(P){_.forEach(function(y){D(y)});var T=_[0],p=_[P-1],w=p.y-T.y+p.height,m=0;if(_.forEach(function(y){m+=y.totalHeight}),w>I.height)I.y=T.y+w/2-I.height/2;else if(_.length!==1||I.height>m){var b=I.y+(I.height-w)/2-T.y;_.forEach(function(y){y.translate(0,b)})}else I.y=(T.y+T.height/2+p.y+p.height/2)/2-I.height/2}}var k={getSubTreeSep:function(){return 0}};mt.exports=function(I,_){_===void 0&&(_={}),_=S.assign({},k,_),I.parent={x:0,width:0,height:0,y:0},I.BFTraverse(function(P){P.x=P.parent.x+P.parent.width}),I.parent=null,O(I,_),I.startY=0,I.y=I.totalHeight/2-I.height/2,I.eachNode(function(P){var T=P.children,p=T.length;if(p){var w=T[0];if(w.startY=P.startY+P._subTreeSep,p===1)w.y=P.y+P.height/2-w.height/2;else{w.y=w.startY+w.totalHeight/2-w.height/2;for(var m=1;m<p;m++){var b=T[m];b.startY=T[m-1].startY+T[m-1].totalHeight,b.y=b.startY+b.totalHeight/2-b.height/2}}}}),D(I)}},90390:function(mt){function C(I,_,P,T){T===void 0&&(T=[]);var p=this;p.w=I||0,p.h=_||0,p.y=P||0,p.x=0,p.c=T||[],p.cs=T.length,p.prelim=0,p.mod=0,p.shift=0,p.change=0,p.tl=null,p.tr=null,p.el=null,p.er=null,p.msel=0,p.mser=0}C.fromNode=function(I,_){if(!I)return null;var P=[];return I.children.forEach(function(T){P.push(C.fromNode(T,_))}),_?new C(I.height,I.width,I.x,P):new C(I.width,I.height,I.y,P)};function d(I,_,P){P?I.y+=_:I.x+=_,I.children.forEach(function(T){d(T,_,P)})}function S(I,_){var P=_?I.y:I.x;return I.children.forEach(function(T){P=Math.min(S(T,_),P)}),P}function O(I,_){var P=S(I,_);d(I,-P,_)}function D(I,_,P){P?_.y=I.x:_.x=I.x,I.c.forEach(function(T,p){D(T,_.children[p],P)})}function k(I,_,P){P===void 0&&(P=0),_?(I.x=P,P+=I.width):(I.y=P,P+=I.height),I.children.forEach(function(T){k(T,_,P)})}mt.exports=function(I,_){_===void 0&&(_={});var P=_.isHorizontal;function T(nt){if(nt.cs===0){p(nt);return}T(nt.c[0]);for(var wt=K(A(nt.c[0].el),0,null),gt=1;gt<nt.cs;++gt){T(nt.c[gt]);var At=A(nt.c[gt].er);w(nt,gt,wt),wt=K(At,gt,wt)}G(nt),p(nt)}function p(nt){nt.cs===0?(nt.el=nt,nt.er=nt,nt.msel=nt.mser=0):(nt.el=nt.c[0].el,nt.msel=nt.c[0].msel,nt.er=nt.c[nt.cs-1].er,nt.mser=nt.c[nt.cs-1].mser)}function w(nt,wt,gt){for(var At=nt.c[wt-1],X=At.mod,Z=nt.c[wt],tt=Z.mod;At!==null&&Z!==null;){A(At)>gt.low&&(gt=gt.nxt);var Q=X+At.prelim+At.w-(tt+Z.prelim);Q>0&&(tt+=Q,m(nt,wt,gt.index,Q));var vt=A(At),lt=A(Z);vt<=lt&&(At=y(At),At!==null&&(X+=At.mod)),vt>=lt&&(Z=b(Z),Z!==null&&(tt+=Z.mod))}!At&&!!Z?B(nt,wt,Z,tt):!!At&&!Z&&N(nt,wt,At,X)}function m(nt,wt,gt,At){nt.c[wt].mod+=At,nt.c[wt].msel+=At,nt.c[wt].mser+=At,J(nt,wt,gt,At)}function b(nt){return nt.cs===0?nt.tl:nt.c[0]}function y(nt){return nt.cs===0?nt.tr:nt.c[nt.cs-1]}function A(nt){return nt.y+nt.h}function B(nt,wt,gt,At){var X=nt.c[0].el;X.tl=gt;var Z=At-gt.mod-nt.c[0].msel;X.mod+=Z,X.prelim-=Z,nt.c[0].el=nt.c[wt].el,nt.c[0].msel=nt.c[wt].msel}function N(nt,wt,gt,At){var X=nt.c[wt].er;X.tr=gt;var Z=At-gt.mod-nt.c[wt].mser;X.mod+=Z,X.prelim-=Z,nt.c[wt].er=nt.c[wt-1].er,nt.c[wt].mser=nt.c[wt-1].mser}function G(nt){nt.prelim=(nt.c[0].prelim+nt.c[0].mod+nt.c[nt.cs-1].mod+nt.c[nt.cs-1].prelim+nt.c[nt.cs-1].w)/2-nt.w/2}function j(nt,wt){wt+=nt.mod,nt.x=nt.prelim+wt,H(nt);for(var gt=0;gt<nt.cs;gt++)j(nt.c[gt],wt)}function J(nt,wt,gt,At){if(gt!==wt-1){var X=wt-gt;nt.c[gt+1].shift+=At/X,nt.c[wt].shift-=At/X,nt.c[wt].change-=At-At/X}}function H(nt){for(var wt=0,gt=0,At=0;At<nt.cs;At++)wt+=nt.c[At].shift,gt+=wt+nt.c[At].change,nt.c[At].mod+=gt}function K(nt,wt,gt){for(;gt!==null&&nt>=gt.low;)gt=gt.nxt;return{low:nt,index:wt,nxt:gt}}k(I,P);var st=C.fromNode(I,P);return T(st),j(st,0),D(st,I,P),O(I,P),I}},59286:function(mt,C,d){var S=d(27249);mt.exports=function(O,D){for(var k=S(O.data,D,!0),I=S(O.data,D,!0),_=O.children.length,P=Math.round(_/2),T=D.getSide||function(b,y){return y<P?"right":"left"},p=0;p<_;p++){var w=O.children[p],m=T(w,p);m==="right"?I.children.push(w):k.children.push(w)}return k.eachNode(function(b){b.isRoot()||(b.side="left")}),I.eachNode(function(b){b.isRoot()||(b.side="right")}),{left:k,right:I}}},1355:function(mt,C,d){function S(p,w){p.prototype=Object.create(w.prototype),p.prototype.constructor=p,p.__proto__=w}var O=d(4905),D=d(24461),k=d(30130),I=d(22965),_=function(p){S(w,p);function w(){return p.apply(this,arguments)||this}var m=w.prototype;return m.execute=function(){var y=this;return k(y.rootNode,y.options,D)},w}(O),P={};function T(p,w){return w=I.assign({},P,w),new _(p,w).execute()}mt.exports=T},22965:function(mt,C,d){var S=d(49242),O=S.mix;mt.exports={assign:O}},31506:function(mt,C,d){"use strict";d.r(C),d.d(C,{leftTranslate:function(){return D},leftRotate:function(){return k},leftScale:function(){return I},transform:function(){return P},direction:function(){return T},angleTo:function(){return p},vertical:function(){return w}});var S=d(35600),O=d(31437);function D(m,b,y){var A=[0,0,0,0,0,0,0,0,0];return S.fromTranslation(A,y),S.multiply(m,A,b)}function k(m,b,y){var A=[0,0,0,0,0,0,0,0,0];return S.fromRotation(A,y),S.multiply(m,A,b)}function I(m,b,y){var A=[0,0,0,0,0,0,0,0,0];return S.fromScaling(A,y),S.multiply(m,A,b)}function _(m,b,y){return S.multiply(m,y,b)}function P(m,b){for(var y=m?[].concat(m):[1,0,0,0,1,0,0,0,1],A=0,B=b.length;A<B;A++){var N=b[A];switch(N[0]){case"t":D(y,y,[N[1],N[2]]);break;case"s":I(y,y,[N[1],N[2]]);break;case"r":k(y,y,N[1]);break;case"m":_(y,y,N[1]);break;default:break}}return y}function T(m,b){return m[0]*b[1]-b[0]*m[1]}function p(m,b,y){var A=O.angle(m,b),B=T(m,b)>=0;return y?B?Math.PI*2-A:A:B?A:Math.PI*2-A}function w(m,b,y){return y?(m[0]=b[1],m[1]=-1*b[0]):(m[0]=-1*b[1],m[1]=b[0]),m}},43567:function(mt,C,d){"use strict";d.r(C),d.d(C,{mat3:function(){return S},vec2:function(){return O},vec3:function(){return D},ext:function(){return k}});var S=d(35600),O=d(31437),D=d(77160),k=d(31506)},57350:function(mt,C,d){"use strict";d.r(C),d.d(C,{catmullRom2Bezier:function(){return p},fillPath:function(){return y},fillPathByDiff:function(){return N},formatPath:function(){return J},getArcParams:function(){return Be},getLineIntersect:function(){return Ar},isPointInPolygon:function(){return Nr},isPolygonsIntersect:function(){return Ci},parsePath:function(){return I},parsePathArray:function(){return Ot},parsePathString:function(){return wt},path2Absolute:function(){return X},path2Curve:function(){return Ct},path2Segments:function(){return vr},pathIntersection:function(){return at},reactPath:function(){return H}});var S=d(49242),O=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,D=/[^\s\,]+/ig;function k(Vt){var $t=Vt||[];if((0,S.isArray)($t))return $t;if((0,S.isString)($t))return $t=$t.match(O),(0,S.each)($t,function(ae,he){if(ae=ae.match(D),ae[0].length>1){var me=ae[0].charAt(0);ae.splice(1,0,ae[0].substr(1)),ae[0]=me}(0,S.each)(ae,function(Se,Ce){isNaN(Se)||(ae[Ce]=+Se)}),$t[he]=ae}),$t}var I=k,_=d(31437);function P(Vt,$t,ae,he){var me=[],Se=!!he,Ce,Pe,pe,Ve,Ne,er,hr;if(Se){pe=he[0],Ve=he[1];for(var rr=0,ar=Vt.length;rr<ar;rr+=1){var lr=Vt[rr];pe=_.min([0,0],pe,lr),Ve=_.max([0,0],Ve,lr)}}for(var rr=0,yr=Vt.length;rr<yr;rr+=1){var lr=Vt[rr];if(rr===0&&!ae)hr=lr;else if(rr===yr-1&&!ae)er=lr,me.push(hr),me.push(er);else{var Ke=[rr?rr-1:yr-1,rr-1][ae?0:1];Ce=Vt[Ke],Pe=Vt[ae?(rr+1)%yr:rr+1];var Er=[0,0];Er=_.sub(Er,Pe,Ce),Er=_.scale(Er,Er,$t);var Ir=_.distance(lr,Ce),Lr=_.distance(lr,Pe),Br=Ir+Lr;Br!==0&&(Ir/=Br,Lr/=Br);var jr=_.scale([0,0],Er,-Ir),Hr=_.scale([0,0],Er,Lr);er=_.add([0,0],lr,jr),Ne=_.add([0,0],lr,Hr),Ne=_.min([0,0],Ne,_.max([0,0],Pe,lr)),Ne=_.max([0,0],Ne,_.min([0,0],Pe,lr)),jr=_.sub([0,0],Ne,lr),jr=_.scale([0,0],jr,-Ir/Lr),er=_.add([0,0],lr,jr),er=_.min([0,0],er,_.max([0,0],Ce,lr)),er=_.max([0,0],er,_.min([0,0],Ce,lr)),Hr=_.sub([0,0],lr,er),Hr=_.scale([0,0],Hr,Lr/Ir),Ne=_.add([0,0],lr,Hr),Se&&(er=_.max([0,0],er,pe),er=_.min([0,0],er,Ve),Ne=_.max([0,0],Ne,pe),Ne=_.min([0,0],Ne,Ve)),me.push(hr),me.push(er),hr=Ne}}return ae&&me.push(me.shift()),me}function T(Vt,$t,ae){$t===void 0&&($t=!1),ae===void 0&&(ae=[[0,0],[1,1]]);for(var he=!!$t,me=[],Se=0,Ce=Vt.length;Se<Ce;Se+=2)me.push([Vt[Se],Vt[Se+1]]);for(var Pe=P(me,.4,he,ae),pe=me.length,Ve=[],Ne,er,hr,Se=0;Se<pe-1;Se+=1)Ne=Pe[Se*2],er=Pe[Se*2+1],hr=me[Se+1],Ve.push(["C",Ne[0],Ne[1],er[0],er[1],hr[0],hr[1]]);return he&&(Ne=Pe[pe],er=Pe[pe+1],hr=me[0],Ve.push(["C",Ne[0],Ne[1],er[0],er[1],hr[0],hr[1]])),Ve}var p=T;function w(Vt,$t){var ae=[],he=[];function me(Se,Ce){if(Se.length===1)ae.push(Se[0]),he.push(Se[0]);else{for(var Pe=[],pe=0;pe<Se.length-1;pe++)pe===0&&ae.push(Se[0]),pe===Se.length-2&&he.push(Se[pe+1]),Pe[pe]=[(1-Ce)*Se[pe][0]+Ce*Se[pe+1][0],(1-Ce)*Se[pe][1]+Ce*Se[pe+1][1]];me(Pe,Ce)}}return Vt.length&&me(Vt,$t),{left:ae,right:he.reverse()}}function m(Vt,$t,ae){var he=[[Vt[1],Vt[2]]];ae=ae||2;var me=[];$t[0]==="A"?(he.push($t[6]),he.push($t[7])):$t[0]==="C"?(he.push([$t[1],$t[2]]),he.push([$t[3],$t[4]]),he.push([$t[5],$t[6]])):$t[0]==="S"||$t[0]==="Q"?(he.push([$t[1],$t[2]]),he.push([$t[3],$t[4]])):he.push([$t[1],$t[2]]);for(var Se=he,Ce=1/ae,Pe=0;Pe<ae-1;Pe++){var pe=Ce/(1-Ce*Pe),Ve=w(Se,pe);me.push(Ve.left),Se=Ve.right}me.push(Se);var Ne=me.map(function(er){var hr=[];return er.length===4&&(hr.push("C"),hr=hr.concat(er[2])),er.length>=3&&(er.length===3&&hr.push("Q"),hr=hr.concat(er[1])),er.length===2&&hr.push("L"),hr=hr.concat(er[er.length-1]),hr});return Ne}function b(Vt,$t,ae){if(ae===1)return[[].concat(Vt)];var he=[];if($t[0]==="L"||$t[0]==="C"||$t[0]==="Q")he=he.concat(m(Vt,$t,ae));else{var me=[].concat(Vt);me[0]==="M"&&(me[0]="L");for(var Se=0;Se<=ae-1;Se++)he.push(me)}return he}function y(Vt,$t){if(Vt.length===1)return Vt;var ae=Vt.length-1,he=$t.length-1,me=ae/he,Se=[];if(Vt.length===1&&Vt[0][0]==="M"){for(var Ce=0;Ce<he-ae;Ce++)Vt.push(Vt[0]);return Vt}for(var Ce=0;Ce<he;Ce++){var Pe=Math.floor(me*Ce);Se[Pe]=(Se[Pe]||0)+1}var pe=Se.reduce(function(Ve,Ne,er){return er===ae?Ve.concat(Vt[ae]):Ve.concat(b(Vt[er],Vt[er+1],Ne))},[]);return pe.unshift(Vt[0]),($t[he]==="Z"||$t[he]==="z")&&pe.push("Z"),pe}function A(Vt,$t,ae){var he=null,me=ae;return $t<me&&(me=$t,he="add"),Vt<me&&(me=Vt,he="del"),{type:he,min:me}}var B=function(Vt,$t){var ae=Vt.length,he=$t.length,me,Se,Ce=0;if(ae===0||he===0)return null;for(var Pe=[],pe=0;pe<=ae;pe++)Pe[pe]=[],Pe[pe][0]={min:pe};for(var Ve=0;Ve<=he;Ve++)Pe[0][Ve]={min:Ve};for(var pe=1;pe<=ae;pe++){me=Vt[pe-1];for(var Ve=1;Ve<=he;Ve++){Se=$t[Ve-1],(0,S.isEqual)(me,Se)?Ce=0:Ce=1;var Ne=Pe[pe-1][Ve].min+1,er=Pe[pe][Ve-1].min+1,hr=Pe[pe-1][Ve-1].min+Ce;Pe[pe][Ve]=A(Ne,er,hr)}}return Pe};function N(Vt,$t){var ae=B(Vt,$t),he=Vt.length,me=$t.length,Se=[],Ce=1,Pe=1;if(ae[he][me]!==he){for(var pe=1;pe<=he;pe++){var Ve=ae[pe][pe].min;Pe=pe;for(var Ne=Ce;Ne<=me;Ne++)ae[pe][Ne].min<Ve&&(Ve=ae[pe][Ne].min,Pe=Ne);Ce=Pe,ae[pe][Ce].type&&Se.push({index:pe-1,type:ae[pe][Ce].type})}for(var pe=Se.length-1;pe>=0;pe--)Ce=Se[pe].index,Se[pe].type==="add"?Vt.splice(Ce,0,[].concat(Vt[Ce])):Vt.splice(Ce,1)}if(he=Vt.length,he<me)for(var pe=0;pe<me-he;pe++)Vt[he-1][0]==="z"||Vt[he-1][0]==="Z"?Vt.splice(he-2,0,Vt[he-2]):Vt.push(Vt[he-1]);return Vt}function G(Vt){var $t=[];switch(Vt[0]){case"M":$t.push([Vt[1],Vt[2]]);break;case"L":$t.push([Vt[1],Vt[2]]);break;case"A":$t.push([Vt[6],Vt[7]]);break;case"Q":$t.push([Vt[3],Vt[4]]),$t.push([Vt[1],Vt[2]]);break;case"T":$t.push([Vt[1],Vt[2]]);break;case"C":$t.push([Vt[5],Vt[6]]),$t.push([Vt[1],Vt[2]]),$t.push([Vt[3],Vt[4]]);break;case"S":$t.push([Vt[3],Vt[4]]),$t.push([Vt[1],Vt[2]]);break;case"H":$t.push([Vt[1],Vt[1]]);break;case"V":$t.push([Vt[1],Vt[1]]);break;default:}return $t}function j(Vt,$t,ae){for(var he=[].concat(Vt),me,Se=1/(ae+1),Ce=G($t)[0],Pe=1;Pe<=ae;Pe++)Se*=Pe,me=Math.floor(Vt.length*Se),me===0?he.unshift([Ce[0]*Se+Vt[me][0]*(1-Se),Ce[1]*Se+Vt[me][1]*(1-Se)]):he.splice(me,0,[Ce[0]*Se+Vt[me][0]*(1-Se),Ce[1]*Se+Vt[me][1]*(1-Se)]);return he}function J(Vt,$t){if(Vt.length<=1)return Vt;for(var ae,he=0;he<$t.length;he++)if(Vt[he][0]!==$t[he][0])switch(ae=G(Vt[he]),$t[he][0]){case"M":Vt[he]=["M"].concat(ae[0]);break;case"L":Vt[he]=["L"].concat(ae[0]);break;case"A":Vt[he]=[].concat($t[he]),Vt[he][6]=ae[0][0],Vt[he][7]=ae[0][1];break;case"Q":if(ae.length<2)if(he>0)ae=j(ae,Vt[he-1],1);else{Vt[he]=$t[he];break}Vt[he]=["Q"].concat(ae.reduce(function(me,Se){return me.concat(Se)},[]));break;case"T":Vt[he]=["T"].concat(ae[0]);break;case"C":if(ae.length<3)if(he>0)ae=j(ae,Vt[he-1],2);else{Vt[he]=$t[he];break}Vt[he]=["C"].concat(ae.reduce(function(me,Se){return me.concat(Se)},[]));break;case"S":if(ae.length<2)if(he>0)ae=j(ae,Vt[he-1],1);else{Vt[he]=$t[he];break}Vt[he]=["S"].concat(ae.reduce(function(me,Se){return me.concat(Se)},[]));break;default:Vt[he]=$t[he]}return Vt}function H(Vt,$t,ae,he,me){return me?[["M",+Vt+ +me,$t],["l",ae-me*2,0],["a",me,me,0,0,1,me,me],["l",0,he-me*2],["a",me,me,0,0,1,-me,me],["l",me*2-ae,0],["a",me,me,0,0,1,-me,-me],["l",0,me*2-he],["a",me,me,0,0,1,me,-me],["z"]]:[["M",Vt,$t],["l",ae,0],["l",0,he],["l",-ae,0],["z"]]}var K=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,st=new RegExp("([a-z])["+K+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+K+"]*,?["+K+"]*)+)","ig"),nt=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+K+"]*,?["+K+"]*","ig");function wt(Vt){if(!Vt)return null;if((0,S.isArray)(Vt))return Vt;var $t={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},ae=[];return String(Vt).replace(st,function(he,me,Se){var Ce=[],Pe=me.toLowerCase();if(Se.replace(nt,function(pe,Ve){Ve&&Ce.push(+Ve)}),Pe==="m"&&Ce.length>2&&(ae.push([me].concat(Ce.splice(0,2))),Pe="l",me=me==="m"?"l":"L"),Pe==="o"&&Ce.length===1&&ae.push([me,Ce[0]]),Pe==="r")ae.push([me].concat(Ce));else for(;Ce.length>=$t[Pe]&&(ae.push([me].concat(Ce.splice(0,$t[Pe]))),!!$t[Pe]););return""}),ae}var gt=/[a-z]/;function At(Vt,$t){return[$t[0]+($t[0]-Vt[0]),$t[1]+($t[1]-Vt[1])]}function X(Vt){var $t=wt(Vt);if(!$t||!$t.length)return[["M",0,0]];for(var ae=!1,he=0;he<$t.length;he++){var me=$t[he][0];if(gt.test(me)||["V","H","T","S"].indexOf(me)>=0){ae=!0;break}}if(!ae)return $t;var Se=[],Ce=0,Pe=0,pe=0,Ve=0,Ne=0,er,hr,rr=$t[0];(rr[0]==="M"||rr[0]==="m")&&(Ce=+rr[1],Pe=+rr[2],pe=Ce,Ve=Pe,Ne++,Se[0]=["M",Ce,Pe]);for(var he=Ne,ar=$t.length;he<ar;he++){var lr=$t[he],yr=Se[he-1],Ke=[],me=lr[0],Er=me.toUpperCase();if(me!==Er)switch(Ke[0]=Er,Er){case"A":Ke[1]=lr[1],Ke[2]=lr[2],Ke[3]=lr[3],Ke[4]=lr[4],Ke[5]=lr[5],Ke[6]=+lr[6]+Ce,Ke[7]=+lr[7]+Pe;break;case"V":Ke[1]=+lr[1]+Pe;break;case"H":Ke[1]=+lr[1]+Ce;break;case"M":pe=+lr[1]+Ce,Ve=+lr[2]+Pe,Ke[1]=pe,Ke[2]=Ve;break;default:for(var Ir=1,Lr=lr.length;Ir<Lr;Ir++)Ke[Ir]=+lr[Ir]+(Ir%2?Ce:Pe)}else Ke=$t[he];switch(Er){case"Z":Ce=+pe,Pe=+Ve;break;case"H":Ce=Ke[1],Ke=["L",Ce,Pe];break;case"V":Pe=Ke[1],Ke=["L",Ce,Pe];break;case"T":Ce=Ke[1],Pe=Ke[2];var Br=At([yr[1],yr[2]],[yr[3],yr[4]]);Ke=["Q",Br[0],Br[1],Ce,Pe];break;case"S":Ce=Ke[Ke.length-2],Pe=Ke[Ke.length-1];var jr=yr.length,Hr=At([yr[jr-4],yr[jr-3]],[yr[jr-2],yr[jr-1]]);Ke=["C",Hr[0],Hr[1],Ke[1],Ke[2],Ce,Pe];break;case"M":pe=Ke[Ke.length-2],Ve=Ke[Ke.length-1];break;default:Ce=Ke[Ke.length-2],Pe=Ke[Ke.length-1]}Se.push(Ke)}return Se}var Z=Math.PI*2,tt=function(Vt,$t,ae,he,me,Se,Ce){var Pe=Vt.x,pe=Vt.y;Pe*=$t,pe*=ae;var Ve=he*Pe-me*pe,Ne=me*Pe+he*pe;return{x:Ve+Se,y:Ne+Ce}},Q=function(Vt,$t){var ae=$t===1.5707963267948966?.551915024494:$t===-1.5707963267948966?-.551915024494:4/3*Math.tan($t/4),he=Math.cos(Vt),me=Math.sin(Vt),Se=Math.cos(Vt+$t),Ce=Math.sin(Vt+$t);return[{x:he-me*ae,y:me+he*ae},{x:Se+Ce*ae,y:Ce-Se*ae},{x:Se,y:Ce}]},vt=function(Vt,$t,ae,he){var me=Vt*he-$t*ae<0?-1:1,Se=Vt*ae+$t*he;return Se>1&&(Se=1),Se<-1&&(Se=-1),me*Math.acos(Se)},lt=function(Vt,$t,ae,he,me,Se,Ce,Pe,pe,Ve,Ne,er){var hr=Math.pow(me,2),rr=Math.pow(Se,2),ar=Math.pow(Ne,2),lr=Math.pow(er,2),yr=hr*rr-hr*lr-rr*ar;yr<0&&(yr=0),yr/=hr*lr+rr*ar,yr=Math.sqrt(yr)*(Ce===Pe?-1:1);var Ke=yr*me/Se*er,Er=yr*-Se/me*Ne,Ir=Ve*Ke-pe*Er+(Vt+ae)/2,Lr=pe*Ke+Ve*Er+($t+he)/2,Br=(Ne-Ke)/me,jr=(er-Er)/Se,Hr=(-Ne-Ke)/me,kn=(-er-Er)/Se,tn=vt(1,0,Br,jr),Yn=vt(Br,jr,Hr,kn);return Pe===0&&Yn>0&&(Yn-=Z),Pe===1&&Yn<0&&(Yn+=Z),[Ir,Lr,tn,Yn]},rt=function(Vt){var $t=Vt.px,ae=Vt.py,he=Vt.cx,me=Vt.cy,Se=Vt.rx,Ce=Vt.ry,Pe=Vt.xAxisRotation,pe=Pe===void 0?0:Pe,Ve=Vt.largeArcFlag,Ne=Ve===void 0?0:Ve,er=Vt.sweepFlag,hr=er===void 0?0:er,rr=[];if(Se===0||Ce===0)return[{x1:0,y1:0,x2:0,y2:0,x:he,y:me}];var ar=Math.sin(pe*Z/360),lr=Math.cos(pe*Z/360),yr=lr*($t-he)/2+ar*(ae-me)/2,Ke=-ar*($t-he)/2+lr*(ae-me)/2;if(yr===0&&Ke===0)return[{x1:0,y1:0,x2:0,y2:0,x:he,y:me}];Se=Math.abs(Se),Ce=Math.abs(Ce);var Er=Math.pow(yr,2)/Math.pow(Se,2)+Math.pow(Ke,2)/Math.pow(Ce,2);Er>1&&(Se*=Math.sqrt(Er),Ce*=Math.sqrt(Er));var Ir=lt($t,ae,he,me,Se,Ce,Ne,hr,ar,lr,yr,Ke),Lr=Ir[0],Br=Ir[1],jr=Ir[2],Hr=Ir[3],kn=Math.abs(Hr)/(Z/4);Math.abs(1-kn)<1e-7&&(kn=1);var tn=Math.max(Math.ceil(kn),1);Hr/=tn;for(var Yn=0;Yn<tn;Yn++)rr.push(Q(jr,Hr)),jr+=Hr;return rr.map(function(ti){var jn=tt(ti[0],Se,Ce,lr,ar,Lr,Br),yi=jn.x,_i=jn.y,Tr=tt(ti[1],Se,Ce,lr,ar,Lr,Br),mi=Tr.x,ci=Tr.y,ei=tt(ti[2],Se,Ce,lr,ar,Lr,Br),xn=ei.x,ai=ei.y;return{x1:yi,y1:_i,x2:mi,y2:ci,x:xn,y:ai}})};function U(Vt,$t,ae,he,me,Se,Ce,Pe,pe){var Ve=rt({px:Vt,py:$t,cx:Pe,cy:pe,rx:ae,ry:he,xAxisRotation:me,largeArcFlag:Se,sweepFlag:Ce});return Ve.reduce(function(Ne,er){var hr=er.x1,rr=er.y1,ar=er.x2,lr=er.y2,yr=er.x,Ke=er.y;return Ne.push(hr,rr,ar,lr,yr,Ke),Ne},[])}function $(Vt,$t,ae,he,me,Se){var Ce=1/3,Pe=2/3;return[Ce*Vt+Pe*ae,Ce*$t+Pe*he,Ce*me+Pe*ae,Ce*Se+Pe*he,me,Se]}function f(Vt,$t,ae,he){return[Vt,$t,ae,he,ae,he]}function xt(Vt,$t){"TQ".indexOf(Vt[0])<0&&($t.qx=null,$t.qy=null);var ae=Vt.slice(1),he=ae[0],me=ae[1];switch(Vt[0]){case"M":return $t.x=he,$t.y=me,Vt;case"A":return["C"].concat(U.apply(0,[$t.x1,$t.y1].concat(Vt.slice(1))));case"Q":return $t.qx=he,$t.qy=me,["C"].concat($.apply(0,[$t.x1,$t.y1].concat(Vt.slice(1))));case"L":return["C"].concat(f($t.x1,$t.y1,Vt[1],Vt[2]));case"H":return["C"].concat(f($t.x1,$t.y1,Vt[1],$t.y1));case"V":return["C"].concat(f($t.x1,$t.y1,$t.x1,Vt[1]));case"Z":return["C"].concat(f($t.x1,$t.y1,$t.x,$t.y));default:}return Vt}function Ct(Vt,$t){$t===void 0&&($t=!1);for(var ae=X(Vt),he={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null},me=[],Se="",Ce=ae.length,Pe,pe,Ve=[],Ne=0;Ne<Ce;Ne+=1)ae[Ne]&&(Se=ae[Ne][0]),me[Ne]=Se,ae[Ne]=xt(ae[Ne],he),Bt(ae,me,Ne),Ce=ae.length,Se==="Z"&&Ve.push(Ne),Pe=ae[Ne],pe=Pe.length,he.x1=+Pe[pe-2],he.y1=+Pe[pe-1],he.x2=+Pe[pe-4]||he.x1,he.y2=+Pe[pe-3]||he.y1;return $t?[ae,Ve]:ae}function Bt(Vt,$t,ae){if(Vt[ae].length>7){Vt[ae].shift();for(var he=Vt[ae],me=ae;he.length;)$t[ae]="A",Vt.splice(me+=1,0,["C"].concat(he.splice(0,6)));Vt.splice(ae,1)}}var qt=function(Vt,$t,ae,he,me){var Se=-3*$t+9*ae-9*he+3*me,Ce=Vt*Se+6*$t-12*ae+6*he;return Vt*Ce-3*$t+3*ae},Gt=function(Vt,$t,ae,he,me,Se,Ce,Pe,pe){pe===null&&(pe=1),pe=pe>1?1:pe<0?0:pe;for(var Ve=pe/2,Ne=12,er=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],hr=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],rr=0,ar=0;ar<Ne;ar++){var lr=Ve*er[ar]+Ve,yr=qt(lr,Vt,ae,me,Ce),Ke=qt(lr,$t,he,Se,Pe),Er=yr*yr+Ke*Ke;rr+=hr[ar]*Math.sqrt(Er)}return Ve*rr},Jt=function(Vt,$t,ae,he,me,Se,Ce,Pe){for(var pe=[],Ve=[[],[]],Ne,er,hr,rr,ar=0;ar<2;++ar){if(ar===0?(er=6*Vt-12*ae+6*me,Ne=-3*Vt+9*ae-9*me+3*Ce,hr=3*ae-3*Vt):(er=6*$t-12*he+6*Se,Ne=-3*$t+9*he-9*Se+3*Pe,hr=3*he-3*$t),Math.abs(Ne)<1e-12){if(Math.abs(er)<1e-12)continue;rr=-hr/er,rr>0&&rr<1&&pe.push(rr);continue}var lr=er*er-4*hr*Ne,yr=Math.sqrt(lr);if(!(lr<0)){var Ke=(-er+yr)/(2*Ne);Ke>0&&Ke<1&&pe.push(Ke);var Er=(-er-yr)/(2*Ne);Er>0&&Er<1&&pe.push(Er)}}for(var Ir=pe.length,Lr=Ir,Br;Ir--;)rr=pe[Ir],Br=1-rr,Ve[0][Ir]=Br*Br*Br*Vt+3*Br*Br*rr*ae+3*Br*rr*rr*me+rr*rr*rr*Ce,Ve[1][Ir]=Br*Br*Br*$t+3*Br*Br*rr*he+3*Br*rr*rr*Se+rr*rr*rr*Pe;return Ve[0][Lr]=Vt,Ve[1][Lr]=$t,Ve[0][Lr+1]=Ce,Ve[1][Lr+1]=Pe,Ve[0].length=Ve[1].length=Lr+2,{min:{x:Math.min.apply(0,Ve[0]),y:Math.min.apply(0,Ve[1])},max:{x:Math.max.apply(0,Ve[0]),y:Math.max.apply(0,Ve[1])}}},ie=function(Vt,$t,ae,he,me,Se,Ce,Pe){if(!(Math.max(Vt,ae)<Math.min(me,Ce)||Math.min(Vt,ae)>Math.max(me,Ce)||Math.max($t,he)<Math.min(Se,Pe)||Math.min($t,he)>Math.max(Se,Pe))){var pe=(Vt*he-$t*ae)*(me-Ce)-(Vt-ae)*(me*Pe-Se*Ce),Ve=(Vt*he-$t*ae)*(Se-Pe)-($t-he)*(me*Pe-Se*Ce),Ne=(Vt-ae)*(Se-Pe)-($t-he)*(me-Ce);if(!!Ne){var er=pe/Ne,hr=Ve/Ne,rr=+er.toFixed(2),ar=+hr.toFixed(2);if(!(rr<+Math.min(Vt,ae).toFixed(2)||rr>+Math.max(Vt,ae).toFixed(2)||rr<+Math.min(me,Ce).toFixed(2)||rr>+Math.max(me,Ce).toFixed(2)||ar<+Math.min($t,he).toFixed(2)||ar>+Math.max($t,he).toFixed(2)||ar<+Math.min(Se,Pe).toFixed(2)||ar>+Math.max(Se,Pe).toFixed(2)))return{x:er,y:hr}}}},se=function(Vt,$t,ae){return $t>=Vt.x&&$t<=Vt.x+Vt.width&&ae>=Vt.y&&ae<=Vt.y+Vt.height},Kt=function(Vt,$t,ae,he){return Vt===null&&(Vt=$t=ae=he=0),$t===null&&($t=Vt.y,ae=Vt.width,he=Vt.height,Vt=Vt.x),{x:Vt,y:$t,width:ae,w:ae,height:he,h:he,x2:Vt+ae,y2:$t+he,cx:Vt+ae/2,cy:$t+he/2,r1:Math.min(ae,he)/2,r2:Math.max(ae,he)/2,r0:Math.sqrt(ae*ae+he*he)/2,path:H(Vt,$t,ae,he),vb:[Vt,$t,ae,he].join(" ")}},kt=function(Vt,$t){return Vt=Kt(Vt),$t=Kt($t),se($t,Vt.x,Vt.y)||se($t,Vt.x2,Vt.y)||se($t,Vt.x,Vt.y2)||se($t,Vt.x2,Vt.y2)||se(Vt,$t.x,$t.y)||se(Vt,$t.x2,$t.y)||se(Vt,$t.x,$t.y2)||se(Vt,$t.x2,$t.y2)||(Vt.x<$t.x2&&Vt.x>$t.x||$t.x<Vt.x2&&$t.x>Vt.x)&&(Vt.y<$t.y2&&Vt.y>$t.y||$t.y<Vt.y2&&$t.y>Vt.y)},Mt=function(Vt,$t,ae,he,me,Se,Ce,Pe){(0,S.isArray)(Vt)||(Vt=[Vt,$t,ae,he,me,Se,Ce,Pe]);var pe=Jt.apply(null,Vt);return Kt(pe.min.x,pe.min.y,pe.max.x-pe.min.x,pe.max.y-pe.min.y)},pt=function(Vt,$t,ae,he,me,Se,Ce,Pe,pe){var Ve=1-pe,Ne=Math.pow(Ve,3),er=Math.pow(Ve,2),hr=pe*pe,rr=hr*pe,ar=Ne*Vt+er*3*pe*ae+Ve*3*pe*pe*me+rr*Ce,lr=Ne*$t+er*3*pe*he+Ve*3*pe*pe*Se+rr*Pe,yr=Vt+2*pe*(ae-Vt)+hr*(me-2*ae+Vt),Ke=$t+2*pe*(he-$t)+hr*(Se-2*he+$t),Er=ae+2*pe*(me-ae)+hr*(Ce-2*me+ae),Ir=he+2*pe*(Se-he)+hr*(Pe-2*Se+he),Lr=Ve*Vt+pe*ae,Br=Ve*$t+pe*he,jr=Ve*me+pe*Ce,Hr=Ve*Se+pe*Pe,kn=90-Math.atan2(yr-Er,Ke-Ir)*180/Math.PI;return{x:ar,y:lr,m:{x:yr,y:Ke},n:{x:Er,y:Ir},start:{x:Lr,y:Br},end:{x:jr,y:Hr},alpha:kn}},Pt=function(Vt,$t,ae){var he=Mt(Vt),me=Mt($t);if(!kt(he,me))return ae?0:[];for(var Se=Gt.apply(0,Vt),Ce=Gt.apply(0,$t),Pe=~~(Se/8),pe=~~(Ce/8),Ve=[],Ne=[],er={},hr=ae?0:[],rr=0;rr<Pe+1;rr++){var ar=pt.apply(0,Vt.concat(rr/Pe));Ve.push({x:ar.x,y:ar.y,t:rr/Pe})}for(var rr=0;rr<pe+1;rr++){var ar=pt.apply(0,$t.concat(rr/pe));Ne.push({x:ar.x,y:ar.y,t:rr/pe})}for(var rr=0;rr<Pe;rr++)for(var lr=0;lr<pe;lr++){var yr=Ve[rr],Ke=Ve[rr+1],Er=Ne[lr],Ir=Ne[lr+1],Lr=Math.abs(Ke.x-yr.x)<.001?"y":"x",Br=Math.abs(Ir.x-Er.x)<.001?"y":"x",jr=ie(yr.x,yr.y,Ke.x,Ke.y,Er.x,Er.y,Ir.x,Ir.y);if(jr){if(er[jr.x.toFixed(4)]===jr.y.toFixed(4))continue;er[jr.x.toFixed(4)]=jr.y.toFixed(4);var Hr=yr.t+Math.abs((jr[Lr]-yr[Lr])/(Ke[Lr]-yr[Lr]))*(Ke.t-yr.t),kn=Er.t+Math.abs((jr[Br]-Er[Br])/(Ir[Br]-Er[Br]))*(Ir.t-Er.t);Hr>=0&&Hr<=1&&kn>=0&&kn<=1&&(ae?hr++:hr.push({x:jr.x,y:jr.y,t1:Hr,t2:kn}))}}return hr},ut=function(Vt,$t,ae){Vt=Ct(Vt),$t=Ct($t);for(var he,me,Se,Ce,Pe,pe,Ve,Ne,er,hr,rr=ae?0:[],ar=0,lr=Vt.length;ar<lr;ar++){var yr=Vt[ar];if(yr[0]==="M")he=Pe=yr[1],me=pe=yr[2];else{yr[0]==="C"?(er=[he,me].concat(yr.slice(1)),he=er[6],me=er[7]):(er=[he,me,he,me,Pe,pe,Pe,pe],he=Pe,me=pe);for(var Ke=0,Er=$t.length;Ke<Er;Ke++){var Ir=$t[Ke];if(Ir[0]==="M")Se=Ve=Ir[1],Ce=Ne=Ir[2];else{Ir[0]==="C"?(hr=[Se,Ce].concat(Ir.slice(1)),Se=hr[6],Ce=hr[7]):(hr=[Se,Ce,Se,Ce,Ve,Ne,Ve,Ne],Se=Ve,Ce=Ne);var Lr=Pt(er,hr,ae);if(ae)rr+=Lr;else{for(var Br=0,jr=Lr.length;Br<jr;Br++)Lr[Br].segment1=ar,Lr[Br].segment2=Ke,Lr[Br].bez1=er,Lr[Br].bez2=hr;rr=rr.concat(Lr)}}}}}return rr};function at(Vt,$t){return ut(Vt,$t)}var St=/,?([a-z]),?/gi;function Ot(Vt){return Vt.join(",").replace(St,"$1")}function Ut(Vt){return Math.sqrt(Vt[0]*Vt[0]+Vt[1]*Vt[1])}function oe(Vt,$t){return Ut(Vt)*Ut($t)?(Vt[0]*$t[0]+Vt[1]*$t[1])/(Ut(Vt)*Ut($t)):1}function we(Vt,$t){return(Vt[0]*$t[1]<Vt[1]*$t[0]?-1:1)*Math.acos(oe(Vt,$t))}function Ie(Vt,$t){return Vt[0]===$t[0]&&Vt[1]===$t[1]}function Be(Vt,$t){var ae=$t[1],he=$t[2],me=(0,S.mod)((0,S.toRadian)($t[3]),Math.PI*2),Se=$t[4],Ce=$t[5],Pe=Vt[0],pe=Vt[1],Ve=$t[6],Ne=$t[7],er=Math.cos(me)*(Pe-Ve)/2+Math.sin(me)*(pe-Ne)/2,hr=-1*Math.sin(me)*(Pe-Ve)/2+Math.cos(me)*(pe-Ne)/2,rr=er*er/(ae*ae)+hr*hr/(he*he);rr>1&&(ae*=Math.sqrt(rr),he*=Math.sqrt(rr));var ar=ae*ae*(hr*hr)+he*he*(er*er),lr=ar?Math.sqrt((ae*ae*(he*he)-ar)/ar):1;Se===Ce&&(lr*=-1),isNaN(lr)&&(lr=0);var yr=he?lr*ae*hr/he:0,Ke=ae?lr*-he*er/ae:0,Er=(Pe+Ve)/2+Math.cos(me)*yr-Math.sin(me)*Ke,Ir=(pe+Ne)/2+Math.sin(me)*yr+Math.cos(me)*Ke,Lr=[(er-yr)/ae,(hr-Ke)/he],Br=[(-1*er-yr)/ae,(-1*hr-Ke)/he],jr=we([1,0],Lr),Hr=we(Lr,Br);return oe(Lr,Br)<=-1&&(Hr=Math.PI),oe(Lr,Br)>=1&&(Hr=0),Ce===0&&Hr>0&&(Hr=Hr-2*Math.PI),Ce===1&&Hr<0&&(Hr=Hr+2*Math.PI),{cx:Er,cy:Ir,rx:Ie(Vt,[Ve,Ne])?0:ae,ry:Ie(Vt,[Ve,Ne])?0:he,startAngle:jr,endAngle:jr+Hr,xRotation:me,arcFlag:Se,sweepFlag:Ce}}function ur(Vt,$t){return[$t[0]+($t[0]-Vt[0]),$t[1]+($t[1]-Vt[1])]}function vr(Vt){Vt=I(Vt);for(var $t=[],ae=null,he=null,me=null,Se=0,Ce=Vt.length,Pe=0;Pe<Ce;Pe++){var pe=Vt[Pe];he=Vt[Pe+1];var Ve=pe[0],Ne={command:Ve,prePoint:ae,params:pe,startTangent:null,endTangent:null};switch(Ve){case"M":me=[pe[1],pe[2]],Se=Pe;break;case"A":var er=Be(ae,pe);Ne.arcParams=er;break;default:break}if(Ve==="Z")ae=me,he=Vt[Se+1];else{var hr=pe.length;ae=[pe[hr-2],pe[hr-1]]}he&&he[0]==="Z"&&(he=Vt[Se],$t[Se]&&($t[Se].prePoint=ae)),Ne.currentPoint=ae,$t[Se]&&Ie(ae,$t[Se].currentPoint)&&($t[Se].prePoint=Ne.prePoint);var rr=he?[he[he.length-2],he[he.length-1]]:null;Ne.nextPoint=rr;var ar=Ne.prePoint;if(["L","H","V"].includes(Ve))Ne.startTangent=[ar[0]-ae[0],ar[1]-ae[1]],Ne.endTangent=[ae[0]-ar[0],ae[1]-ar[1]];else if(Ve==="Q"){var lr=[pe[1],pe[2]];Ne.startTangent=[ar[0]-lr[0],ar[1]-lr[1]],Ne.endTangent=[ae[0]-lr[0],ae[1]-lr[1]]}else if(Ve==="T"){var yr=$t[Pe-1],lr=ur(yr.currentPoint,ar);yr.command==="Q"?(Ne.command="Q",Ne.startTangent=[ar[0]-lr[0],ar[1]-lr[1]],Ne.endTangent=[ae[0]-lr[0],ae[1]-lr[1]]):(Ne.command="TL",Ne.startTangent=[ar[0]-ae[0],ar[1]-ae[1]],Ne.endTangent=[ae[0]-ar[0],ae[1]-ar[1]])}else if(Ve==="C"){var Ke=[pe[1],pe[2]],Er=[pe[3],pe[4]];Ne.startTangent=[ar[0]-Ke[0],ar[1]-Ke[1]],Ne.endTangent=[ae[0]-Er[0],ae[1]-Er[1]],Ne.startTangent[0]===0&&Ne.startTangent[1]===0&&(Ne.startTangent=[Ke[0]-Er[0],Ke[1]-Er[1]]),Ne.endTangent[0]===0&&Ne.endTangent[1]===0&&(Ne.endTangent=[Er[0]-Ke[0],Er[1]-Ke[1]])}else if(Ve==="S"){var yr=$t[Pe-1],Ke=ur(yr.currentPoint,ar),Er=[pe[1],pe[2]];yr.command==="C"?(Ne.command="C",Ne.startTangent=[ar[0]-Ke[0],ar[1]-Ke[1]],Ne.endTangent=[ae[0]-Er[0],ae[1]-Er[1]]):(Ne.command="SQ",Ne.startTangent=[ar[0]-Er[0],ar[1]-Er[1]],Ne.endTangent=[ae[0]-Er[0],ae[1]-Er[1]])}else if(Ve==="A"){var Ir=.001,Lr=Ne.arcParams||{},Br=Lr.cx,jr=Br===void 0?0:Br,Hr=Lr.cy,kn=Hr===void 0?0:Hr,tn=Lr.rx,Yn=tn===void 0?0:tn,ti=Lr.ry,jn=ti===void 0?0:ti,yi=Lr.sweepFlag,_i=yi===void 0?0:yi,Tr=Lr.startAngle,mi=Tr===void 0?0:Tr,ci=Lr.endAngle,ei=ci===void 0?0:ci;_i===0&&(Ir*=-1);var xn=Yn*Math.cos(mi-Ir)+jr,ai=jn*Math.sin(mi-Ir)+kn;Ne.startTangent=[xn-me[0],ai-me[1]];var oi=Yn*Math.cos(mi+ei+Ir)+jr,ri=jn*Math.sin(mi+ei-Ir)+kn;Ne.endTangent=[ar[0]-oi,ar[1]-ri]}$t.push(Ne)}return $t}var fr=function(Vt,$t,ae){return Vt>=$t&&Vt<=ae};function Ar(Vt,$t,ae,he){var me=.001,Se={x:ae.x-Vt.x,y:ae.y-Vt.y},Ce={x:$t.x-Vt.x,y:$t.y-Vt.y},Pe={x:he.x-ae.x,y:he.y-ae.y},pe=Ce.x*Pe.y-Ce.y*Pe.x,Ve=pe*pe,Ne=Ce.x*Ce.x+Ce.y*Ce.y,er=Pe.x*Pe.x+Pe.y*Pe.y,hr=null;if(Ve>me*Ne*er){var rr=(Se.x*Pe.y-Se.y*Pe.x)/pe,ar=(Se.x*Ce.y-Se.y*Ce.x)/pe;fr(rr,0,1)&&fr(ar,0,1)&&(hr={x:Vt.x+rr*Ce.x,y:Vt.y+rr*Ce.y})}return hr}var or=1e-6;function Gr(Vt){return Math.abs(Vt)<or?0:Vt<0?-1:1}function ln(Vt,$t,ae){return(ae[0]-Vt[0])*($t[1]-Vt[1])==($t[0]-Vt[0])*(ae[1]-Vt[1])&&Math.min(Vt[0],$t[0])<=ae[0]&&ae[0]<=Math.max(Vt[0],$t[0])&&Math.min(Vt[1],$t[1])<=ae[1]&&ae[1]<=Math.max(Vt[1],$t[1])}function Nr(Vt,$t,ae){var he=!1,me=Vt.length;if(me<=2)return!1;for(var Se=0;Se<me;Se++){var Ce=Vt[Se],Pe=Vt[(Se+1)%me];if(ln(Ce,Pe,[$t,ae]))return!0;Gr(Ce[1]-ae)>0!=Gr(Pe[1]-ae)>0&&Gr($t-(ae-Ce[1])*(Ce[0]-Pe[0])/(Ce[1]-Pe[1])-Ce[0])<0&&(he=!he)}return he}function nn(Vt){for(var $t=[],ae=Vt.length,he=0;he<ae-1;he++){var me=Vt[he],Se=Vt[he+1];$t.push({from:{x:me[0],y:me[1]},to:{x:Se[0],y:Se[1]}})}if($t.length>1){var Ce=Vt[0],Pe=Vt[ae-1];$t.push({from:{x:Pe[0],y:Pe[1]},to:{x:Ce[0],y:Ce[1]}})}return $t}function fi(Vt,$t){var ae=!1;return(0,S.each)(Vt,function(he){if(Ar(he.from,he.to,$t.from,$t.to))return ae=!0,!1}),ae}function hi(Vt){var $t=Vt.map(function(he){return he[0]}),ae=Vt.map(function(he){return he[1]});return{minX:Math.min.apply(null,$t),maxX:Math.max.apply(null,$t),minY:Math.min.apply(null,ae),maxY:Math.max.apply(null,ae)}}function Si(Vt,$t){return!($t.minX>Vt.maxX||$t.maxX<Vt.minX||$t.minY>Vt.maxY||$t.maxY<Vt.minY)}function Ci(Vt,$t){if(Vt.length<2||$t.length<2)return!1;var ae=hi(Vt),he=hi($t);if(!Si(ae,he))return!1;var me=!1;if((0,S.each)($t,function(pe){if(Nr(Vt,pe[0],pe[1]))return me=!0,!1}),me||((0,S.each)(Vt,function(pe){if(Nr($t,pe[0],pe[1]))return me=!0,!1}),me))return!0;var Se=nn(Vt),Ce=nn($t),Pe=!1;return(0,S.each)(Ce,function(pe){if(fi(Se,pe))return Pe=!0,!1}),Pe}},84023:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.isSamePoint=void 0;var S=d(49242);function O(P){return Math.sqrt(P[0]*P[0]+P[1]*P[1])}function D(P,T){return O(P)*O(T)?(P[0]*T[0]+P[1]*T[1])/(O(P)*O(T)):1}function k(P,T){return(P[0]*T[1]<P[1]*T[0]?-1:1)*Math.acos(D(P,T))}function I(P,T){return P[0]===T[0]&&P[1]===T[1]}C.isSamePoint=I;function _(P,T){var p=T[1],w=T[2],m=(0,S.mod)((0,S.toRadian)(T[3]),Math.PI*2),b=T[4],y=T[5],A=P[0],B=P[1],N=T[6],G=T[7],j=Math.cos(m)*(A-N)/2+Math.sin(m)*(B-G)/2,J=-1*Math.sin(m)*(A-N)/2+Math.cos(m)*(B-G)/2,H=j*j/(p*p)+J*J/(w*w);H>1&&(p*=Math.sqrt(H),w*=Math.sqrt(H));var K=p*p*(J*J)+w*w*(j*j),st=K?Math.sqrt((p*p*(w*w)-K)/K):1;b===y&&(st*=-1),isNaN(st)&&(st=0);var nt=w?st*p*J/w:0,wt=p?st*-w*j/p:0,gt=(A+N)/2+Math.cos(m)*nt-Math.sin(m)*wt,At=(B+G)/2+Math.sin(m)*nt+Math.cos(m)*wt,X=[(j-nt)/p,(J-wt)/w],Z=[(-1*j-nt)/p,(-1*J-wt)/w],tt=k([1,0],X),Q=k(X,Z);return D(X,Z)<=-1&&(Q=Math.PI),D(X,Z)>=1&&(Q=0),y===0&&Q>0&&(Q=Q-2*Math.PI),y===1&&Q<0&&(Q=Q+2*Math.PI),{cx:gt,cy:At,rx:I(P,[N,G])?0:p,ry:I(P,[N,G])?0:w,startAngle:tt,endAngle:tt+Q,xRotation:m,arcFlag:b,sweepFlag:y}}C.default=_},21528:function(mt,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=function(O,D,k){return O>=D&&O<=k};function S(O,D,k,I){var _=.001,P={x:k.x-O.x,y:k.y-O.y},T={x:D.x-O.x,y:D.y-O.y},p={x:I.x-k.x,y:I.y-k.y},w=T.x*p.y-T.y*p.x,m=w*w,b=T.x*T.x+T.y*T.y,y=p.x*p.x+p.y*p.y,A=null;if(m>_*b*y){var B=(P.x*p.y-P.y*p.x)/w,N=(P.x*T.y-P.y*T.x)/w;d(B,0,1)&&d(N,0,1)&&(A={x:O.x+B*T.x,y:O.y+B*T.y})}return A}C.default=S},70146:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(66957),O=d(21528),D=d(49242);function k(p){for(var w=[],m=p.length,b=0;b<m-1;b++){var y=p[b],A=p[b+1];w.push({from:{x:y[0],y:y[1]},to:{x:A[0],y:A[1]}})}if(w.length>1){var B=p[0],N=p[m-1];w.push({from:{x:N[0],y:N[1]},to:{x:B[0],y:B[1]}})}return w}function I(p,w){var m=!1;return(0,D.each)(p,function(b){if((0,O.default)(b.from,b.to,w.from,w.to))return m=!0,!1}),m}function _(p){var w=p.map(function(b){return b[0]}),m=p.map(function(b){return b[1]});return{minX:Math.min.apply(null,w),maxX:Math.max.apply(null,w),minY:Math.min.apply(null,m),maxY:Math.max.apply(null,m)}}function P(p,w){return!(w.minX>p.maxX||w.maxX<p.minX||w.minY>p.maxY||w.maxY<p.minY)}function T(p,w){if(p.length<2||w.length<2)return!1;var m=_(p),b=_(w);if(!P(m,b))return!1;var y=!1;if((0,D.each)(w,function(G){if((0,S.default)(p,G[0],G[1]))return y=!0,!1}),y||((0,D.each)(p,function(G){if((0,S.default)(w,G[0],G[1]))return y=!0,!1}),y))return!0;var A=k(p),B=k(w),N=!1;return(0,D.each)(B,function(G){if(I(A,G))return N=!0,!1}),N}C.default=T},28498:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(49242),O=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,D=new RegExp("([a-z])["+O+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+O+"]*,?["+O+"]*)+)","ig"),k=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+O+"]*,?["+O+"]*","ig");function I(_){if(!_)return null;if((0,S.isArray)(_))return _;var P={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},T=[];return String(_).replace(D,function(p,w,m){var b=[],y=w.toLowerCase();if(m.replace(k,function(A,B){B&&b.push(+B)}),y==="m"&&b.length>2&&(T.push([w].concat(b.splice(0,2))),y="l",w=w==="m"?"l":"L"),y==="o"&&b.length===1&&T.push([w,b[0]]),y==="r")T.push([w].concat(b));else for(;b.length>=P[y]&&(T.push([w].concat(b.splice(0,P[y]))),!!P[y]););return""}),T}C.default=I},80315:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(49242),O=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,D=/[^\s\,]+/ig;function k(I){var _=I||[];if((0,S.isArray)(_))return _;if((0,S.isString)(_))return _=_.match(O),(0,S.each)(_,function(P,T){if(P=P.match(D),P[0].length>1){var p=P[0].charAt(0);P.splice(1,0,P[0].substr(1)),P[0]=p}(0,S.each)(P,function(w,m){isNaN(w)||(P[m]=+w)}),_[T]=P}),_}C.default=k},74479:function(mt,C,d){"use strict";var S;S={value:!0};var O=d(28498),D=/[a-z]/;function k(_,P){return[P[0]+(P[0]-_[0]),P[1]+(P[1]-_[1])]}function I(_){var P=(0,O.default)(_);if(!P||!P.length)return[["M",0,0]];for(var T=!1,p=0;p<P.length;p++){var w=P[p][0];if(D.test(w)||["V","H","T","S"].indexOf(w)>=0){T=!0;break}}if(!T)return P;var m=[],b=0,y=0,A=0,B=0,N=0,G,j,J=P[0];(J[0]==="M"||J[0]==="m")&&(b=+J[1],y=+J[2],A=b,B=y,N++,m[0]=["M",b,y]);for(var p=N,H=P.length;p<H;p++){var K=P[p],st=m[p-1],nt=[],w=K[0],wt=w.toUpperCase();if(w!==wt)switch(nt[0]=wt,wt){case"A":nt[1]=K[1],nt[2]=K[2],nt[3]=K[3],nt[4]=K[4],nt[5]=K[5],nt[6]=+K[6]+b,nt[7]=+K[7]+y;break;case"V":nt[1]=+K[1]+y;break;case"H":nt[1]=+K[1]+b;break;case"M":A=+K[1]+b,B=+K[2]+y,nt[1]=A,nt[2]=B;break;default:for(var gt=1,At=K.length;gt<At;gt++)nt[gt]=+K[gt]+(gt%2?b:y)}else nt=P[p];switch(wt){case"Z":b=+A,y=+B;break;case"H":b=nt[1],nt=["L",b,y];break;case"V":y=nt[1],nt=["L",b,y];break;case"T":b=nt[1],y=nt[2];var X=k([st[1],st[2]],[st[3],st[4]]);nt=["Q",X[0],X[1],b,y];break;case"S":b=nt[nt.length-2],y=nt[nt.length-1];var Z=st.length,tt=k([st[Z-4],st[Z-3]],[st[Z-2],st[Z-1]]);nt=["C",tt[0],tt[1],nt[1],nt[2],b,y];break;case"M":A=nt[nt.length-2],B=nt[nt.length-1];break;default:b=nt[nt.length-2],y=nt[nt.length-1]}m.push(nt)}return m}C.Z=I},49274:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(84023),O=d(84023),D=d(80315);function k(_,P){return[P[0]+(P[0]-_[0]),P[1]+(P[1]-_[1])]}function I(_){_=(0,D.default)(_);for(var P=[],T=null,p=null,w=null,m=0,b=_.length,y=0;y<b;y++){var A=_[y];p=_[y+1];var B=A[0],N={command:B,prePoint:T,params:A,startTangent:null,endTangent:null};switch(B){case"M":w=[A[1],A[2]],m=y;break;case"A":var G=(0,S.default)(T,A);N.arcParams=G;break;default:break}if(B==="Z")T=w,p=_[m+1];else{var j=A.length;T=[A[j-2],A[j-1]]}p&&p[0]==="Z"&&(p=_[m],P[m]&&(P[m].prePoint=T)),N.currentPoint=T,P[m]&&(0,O.isSamePoint)(T,P[m].currentPoint)&&(P[m].prePoint=N.prePoint);var J=p?[p[p.length-2],p[p.length-1]]:null;N.nextPoint=J;var H=N.prePoint;if(["L","H","V"].includes(B))N.startTangent=[H[0]-T[0],H[1]-T[1]],N.endTangent=[T[0]-H[0],T[1]-H[1]];else if(B==="Q"){var K=[A[1],A[2]];N.startTangent=[H[0]-K[0],H[1]-K[1]],N.endTangent=[T[0]-K[0],T[1]-K[1]]}else if(B==="T"){var st=P[y-1],K=k(st.currentPoint,H);st.command==="Q"?(N.command="Q",N.startTangent=[H[0]-K[0],H[1]-K[1]],N.endTangent=[T[0]-K[0],T[1]-K[1]]):(N.command="TL",N.startTangent=[H[0]-T[0],H[1]-T[1]],N.endTangent=[T[0]-H[0],T[1]-H[1]])}else if(B==="C"){var nt=[A[1],A[2]],wt=[A[3],A[4]];N.startTangent=[H[0]-nt[0],H[1]-nt[1]],N.endTangent=[T[0]-wt[0],T[1]-wt[1]],N.startTangent[0]===0&&N.startTangent[1]===0&&(N.startTangent=[nt[0]-wt[0],nt[1]-wt[1]]),N.endTangent[0]===0&&N.endTangent[1]===0&&(N.endTangent=[wt[0]-nt[0],wt[1]-nt[1]])}else if(B==="S"){var st=P[y-1],nt=k(st.currentPoint,H),wt=[A[1],A[2]];st.command==="C"?(N.command="C",N.startTangent=[H[0]-nt[0],H[1]-nt[1]],N.endTangent=[T[0]-wt[0],T[1]-wt[1]]):(N.command="SQ",N.startTangent=[H[0]-wt[0],H[1]-wt[1]],N.endTangent=[T[0]-wt[0],T[1]-wt[1]])}else if(B==="A"){var gt=.001,At=N.arcParams||{},X=At.cx,Z=X===void 0?0:X,tt=At.cy,Q=tt===void 0?0:tt,vt=At.rx,lt=vt===void 0?0:vt,rt=At.ry,U=rt===void 0?0:rt,$=At.sweepFlag,f=$===void 0?0:$,xt=At.startAngle,Ct=xt===void 0?0:xt,Bt=At.endAngle,qt=Bt===void 0?0:Bt;f===0&&(gt*=-1);var Gt=lt*Math.cos(Ct-gt)+Z,Jt=U*Math.sin(Ct-gt)+Q;N.startTangent=[Gt-w[0],Jt-w[1]];var ie=lt*Math.cos(Ct+qt+gt)+Z,se=U*Math.sin(Ct+qt-gt)+Q;N.endTangent=[H[0]-ie,H[1]-se]}P.push(N)}return P}C.default=I},66957:function(mt,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=1e-6;function S(k){return Math.abs(k)<d?0:k<0?-1:1}function O(k,I,_){return(_[0]-k[0])*(I[1]-k[1])==(I[0]-k[0])*(_[1]-k[1])&&Math.min(k[0],I[0])<=_[0]&&_[0]<=Math.max(k[0],I[0])&&Math.min(k[1],I[1])<=_[1]&&_[1]<=Math.max(k[1],I[1])}function D(k,I,_){var P=!1,T=k.length;if(T<=2)return!1;for(var p=0;p<T;p++){var w=k[p],m=k[(p+1)%T];if(O(w,m,[I,_]))return!0;S(w[1]-_)>0!=S(m[1]-_)>0&&S(I-(_-w[1])*(w[0]-m[0])/(w[1]-m[1])-w[0])<0&&(P=!P)}return P}C.default=D},72469:function(mt,C,d){"use strict";d.r(C),d.d(C,{Category:function(){return w},Identity:function(){return pe},Linear:function(){return vr},Log:function(){return nn},Pow:function(){return hi},Quantile:function(){return he},Quantize:function(){return $t},Scale:function(){return P},Time:function(){return Ci},TimeCat:function(){return we},getScale:function(){return Se},getTickMethod:function(){return k},registerScale:function(){return Ce},registerTickMethod:function(){return I}});var S={};d.r(S),d.d(S,{assign:function(){return H},default:function(){return Jt},defaultI18n:function(){return gt},format:function(){return Bt},parse:function(){return qt},setGlobalDateI18n:function(){return X},setGlobalDateMasks:function(){return Ct}});var O=d(49242),D={};function k(Dt){return D[Dt]}function I(Dt,Zt){D[Dt]=Zt}var _=function(){function Dt(Zt){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=Zt,this.initCfg(),this.init()}return Dt.prototype.translate=function(Zt){return Zt},Dt.prototype.change=function(Zt){(0,O.assign)(this.__cfg__,Zt),this.init()},Dt.prototype.clone=function(){return this.constructor(this.__cfg__)},Dt.prototype.getTicks=function(){var Zt=this;return(0,O.map)(this.ticks,function(ee,ge){return(0,O.isObject)(ee)?ee:{text:Zt.getText(ee,ge),tickValue:ee,value:Zt.scale(ee)}})},Dt.prototype.getText=function(Zt,ee){var ge=this.formatter,ye=ge?ge(Zt,ee):Zt;return(0,O.isNil)(ye)||!(0,O.isFunction)(ye.toString)?"":ye.toString()},Dt.prototype.getConfig=function(Zt){return this.__cfg__[Zt]},Dt.prototype.init=function(){(0,O.assign)(this,this.__cfg__),this.setDomain(),(0,O.isEmpty)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},Dt.prototype.initCfg=function(){},Dt.prototype.setDomain=function(){},Dt.prototype.calculateTicks=function(){var Zt=this.tickMethod,ee=[];if((0,O.isString)(Zt)){var ge=k(Zt);if(!ge)throw new Error("There is no method to to calculate ticks!");ee=ge(this)}else(0,O.isFunction)(Zt)&&(ee=Zt(this));return ee},Dt.prototype.rangeMin=function(){return this.range[0]},Dt.prototype.rangeMax=function(){return this.range[1]},Dt.prototype.calcPercent=function(Zt,ee,ge){return(0,O.isNumber)(Zt)?(Zt-ee)/(ge-ee):NaN},Dt.prototype.calcValue=function(Zt,ee,ge){return ee+Zt*(ge-ee)},Dt}(),P=_,T=d(70655),p=function(Dt){(0,T.__extends)(Zt,Dt);function Zt(){var ee=Dt!==null&&Dt.apply(this,arguments)||this;return ee.type="cat",ee.isCategory=!0,ee}return Zt.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var ee=0;ee<this.values.length;ee++)this.translateIndexMap.set(this.values[ee],ee)}},Zt.prototype.translate=function(ee){this.buildIndexMap();var ge=this.translateIndexMap.get(ee);return ge===void 0&&(ge=(0,O.isNumber)(ee)?ee:NaN),ge},Zt.prototype.scale=function(ee){var ge=this.translate(ee),ye=this.calcPercent(ge,this.min,this.max);return this.calcValue(ye,this.rangeMin(),this.rangeMax())},Zt.prototype.invert=function(ee){var ge=this.max-this.min,ye=this.calcPercent(ee,this.rangeMin(),this.rangeMax()),Ee=Math.round(ge*ye)+this.min;return Ee<this.min||Ee>this.max?NaN:this.values[Ee]},Zt.prototype.getText=function(ee){for(var ge=[],ye=1;ye<arguments.length;ye++)ge[ye-1]=arguments[ye];var Ee=ee;return(0,O.isNumber)(ee)&&!this.values.includes(ee)&&(Ee=this.values[Ee]),Dt.prototype.getText.apply(this,(0,T.__spreadArrays)([Ee],ge))},Zt.prototype.initCfg=function(){this.tickMethod="cat"},Zt.prototype.setDomain=function(){if((0,O.isNil)(this.getConfig("min"))&&(this.min=0),(0,O.isNil)(this.getConfig("max"))){var ee=this.values.length;this.max=ee>1?ee-1:ee}this.translateIndexMap&&(this.translateIndexMap=void 0)},Zt}(P),w=p,m=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,b="[1-9]\\d?",y="\\d\\d",A="\\d{3}",B="\\d{4}",N="[^\\s]+",G=/\[([^]*?)\]/gm;function j(Dt,Zt){for(var ee=[],ge=0,ye=Dt.length;ge<ye;ge++)ee.push(Dt[ge].substr(0,Zt));return ee}var J=function(Dt){return function(Zt,ee){var ge=ee[Dt].map(function(Ee){return Ee.toLowerCase()}),ye=ge.indexOf(Zt.toLowerCase());return ye>-1?ye:null}};function H(Dt){for(var Zt=[],ee=1;ee<arguments.length;ee++)Zt[ee-1]=arguments[ee];for(var ge=0,ye=Zt;ge<ye.length;ge++){var Ee=ye[ge];for(var We in Ee)Dt[We]=Ee[We]}return Dt}var K=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],st=["January","February","March","April","May","June","July","August","September","October","November","December"],nt=j(st,3),wt=j(K,3),gt={dayNamesShort:wt,dayNames:K,monthNamesShort:nt,monthNames:st,amPm:["am","pm"],DoFn:function(Dt){return Dt+["th","st","nd","rd"][Dt%10>3?0:(Dt-Dt%10!=10?1:0)*Dt%10]}},At=H({},gt),X=function(Dt){return At=H(At,Dt)},Z=function(Dt){return Dt.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},tt=function(Dt,Zt){for(Zt===void 0&&(Zt=2),Dt=String(Dt);Dt.length<Zt;)Dt="0"+Dt;return Dt},Q={D:function(Dt){return String(Dt.getDate())},DD:function(Dt){return tt(Dt.getDate())},Do:function(Dt,Zt){return Zt.DoFn(Dt.getDate())},d:function(Dt){return String(Dt.getDay())},dd:function(Dt){return tt(Dt.getDay())},ddd:function(Dt,Zt){return Zt.dayNamesShort[Dt.getDay()]},dddd:function(Dt,Zt){return Zt.dayNames[Dt.getDay()]},M:function(Dt){return String(Dt.getMonth()+1)},MM:function(Dt){return tt(Dt.getMonth()+1)},MMM:function(Dt,Zt){return Zt.monthNamesShort[Dt.getMonth()]},MMMM:function(Dt,Zt){return Zt.monthNames[Dt.getMonth()]},YY:function(Dt){return tt(String(Dt.getFullYear()),4).substr(2)},YYYY:function(Dt){return tt(Dt.getFullYear(),4)},h:function(Dt){return String(Dt.getHours()%12||12)},hh:function(Dt){return tt(Dt.getHours()%12||12)},H:function(Dt){return String(Dt.getHours())},HH:function(Dt){return tt(Dt.getHours())},m:function(Dt){return String(Dt.getMinutes())},mm:function(Dt){return tt(Dt.getMinutes())},s:function(Dt){return String(Dt.getSeconds())},ss:function(Dt){return tt(Dt.getSeconds())},S:function(Dt){return String(Math.round(Dt.getMilliseconds()/100))},SS:function(Dt){return tt(Math.round(Dt.getMilliseconds()/10),2)},SSS:function(Dt){return tt(Dt.getMilliseconds(),3)},a:function(Dt,Zt){return Dt.getHours()<12?Zt.amPm[0]:Zt.amPm[1]},A:function(Dt,Zt){return Dt.getHours()<12?Zt.amPm[0].toUpperCase():Zt.amPm[1].toUpperCase()},ZZ:function(Dt){var Zt=Dt.getTimezoneOffset();return(Zt>0?"-":"+")+tt(Math.floor(Math.abs(Zt)/60)*100+Math.abs(Zt)%60,4)},Z:function(Dt){var Zt=Dt.getTimezoneOffset();return(Zt>0?"-":"+")+tt(Math.floor(Math.abs(Zt)/60),2)+":"+tt(Math.abs(Zt)%60,2)}},vt=function(Dt){return+Dt-1},lt=[null,b],rt=[null,N],U=["isPm",N,function(Dt,Zt){var ee=Dt.toLowerCase();return ee===Zt.amPm[0]?0:ee===Zt.amPm[1]?1:null}],$=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(Dt){var Zt=(Dt+"").match(/([+-]|\d\d)/gi);if(Zt){var ee=+Zt[1]*60+parseInt(Zt[2],10);return Zt[0]==="+"?ee:-ee}return 0}],f={D:["day",b],DD:["day",y],Do:["day",b+N,function(Dt){return parseInt(Dt,10)}],M:["month",b,vt],MM:["month",y,vt],YY:["year",y,function(Dt){var Zt=new Date,ee=+(""+Zt.getFullYear()).substr(0,2);return+(""+(+Dt>68?ee-1:ee)+Dt)}],h:["hour",b,void 0,"isPm"],hh:["hour",y,void 0,"isPm"],H:["hour",b],HH:["hour",y],m:["minute",b],mm:["minute",y],s:["second",b],ss:["second",y],YYYY:["year",B],S:["millisecond","\\d",function(Dt){return+Dt*100}],SS:["millisecond",y,function(Dt){return+Dt*10}],SSS:["millisecond",A],d:lt,dd:lt,ddd:rt,dddd:rt,MMM:["month",N,J("monthNamesShort")],MMMM:["month",N,J("monthNames")],a:U,A:U,ZZ:$,Z:$},xt={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},Ct=function(Dt){return H(xt,Dt)},Bt=function(Dt,Zt,ee){if(Zt===void 0&&(Zt=xt.default),ee===void 0&&(ee={}),typeof Dt=="number"&&(Dt=new Date(Dt)),Object.prototype.toString.call(Dt)!=="[object Date]"||isNaN(Dt.getTime()))throw new Error("Invalid Date pass to format");Zt=xt[Zt]||Zt;var ge=[];Zt=Zt.replace(G,function(Ee,We){return ge.push(We),"@@@"});var ye=H(H({},At),ee);return Zt=Zt.replace(m,function(Ee){return Q[Ee](Dt,ye)}),Zt.replace(/@@@/g,function(){return ge.shift()})};function qt(Dt,Zt,ee){if(ee===void 0&&(ee={}),typeof Zt!="string")throw new Error("Invalid format in fecha parse");if(Zt=xt[Zt]||Zt,Dt.length>1e3)return null;var ge=new Date,ye={year:ge.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},Ee=[],We=[],Ue=Zt.replace(G,function(ir,Ye){return We.push(Z(Ye)),"@@@"}),Et={},ft={};Ue=Z(Ue).replace(m,function(ir){var Ye=f[ir],Re=Ye[0],wr=Ye[1],Sr=Ye[3];if(Et[Re])throw new Error("Invalid format. "+Re+" specified twice in format");return Et[Re]=!0,Sr&&(ft[Sr]=!0),Ee.push(Ye),"("+wr+")"}),Object.keys(ft).forEach(function(ir){if(!Et[ir])throw new Error("Invalid format. "+ir+" is required in specified format")}),Ue=Ue.replace(/@@@/g,function(){return We.shift()});var et=Dt.match(new RegExp(Ue,"i"));if(!et)return null;for(var ht=H(H({},At),ee),Lt=1;Lt<et.length;Lt++){var Ht=Ee[Lt-1],le=Ht[0],ce=Ht[2],ue=ce?ce(et[Lt],ht):+et[Lt];if(ue==null)return null;ye[le]=ue}ye.isPm===1&&ye.hour!=null&&+ye.hour!=12?ye.hour=+ye.hour+12:ye.isPm===0&&+ye.hour==12&&(ye.hour=0);for(var Oe=new Date(ye.year,ye.month,ye.day,ye.hour,ye.minute,ye.second,ye.millisecond),De=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],Lt=0,Fe=De.length;Lt<Fe;Lt++)if(Et[De[Lt][0]]&&ye[De[Lt][0]]!==Oe[De[Lt][1]]())return null;return ye.timezoneOffset==null?Oe:new Date(Date.UTC(ye.year,ye.month,ye.day,ye.hour,ye.minute-ye.timezoneOffset,ye.second,ye.millisecond))}var Gt={format:Bt,parse:qt,defaultI18n:gt,setGlobalDateI18n:X,setGlobalDateMasks:Ct},Jt=Gt;function ie(Dt){return function(Zt,ee,ge,ye){for(var Ee=(0,O.isNil)(ge)?0:ge,We=(0,O.isNil)(ye)?Zt.length:ye;Ee<We;){var Ue=Ee+We>>>1;Dt(Zt[Ue])>ee?We=Ue:Ee=Ue+1}return Ee}}var se="format";function Kt(Dt,Zt){var ee=S[se]||Jt[se];return ee(Dt,Zt)}function kt(Dt){return(0,O.isString)(Dt)&&(Dt.indexOf("T")>0?Dt=new Date(Dt).getTime():Dt=new Date(Dt.replace(/-/gi,"/")).getTime()),(0,O.isDate)(Dt)&&(Dt=Dt.getTime()),Dt}var Mt=1e3,pt=60*Mt,Pt=60*pt,ut=24*Pt,at=ut*31,St=ut*365,Ot=[["HH:mm:ss",Mt],["HH:mm:ss",Mt*10],["HH:mm:ss",Mt*30],["HH:mm",pt],["HH:mm",pt*10],["HH:mm",pt*30],["HH",Pt],["HH",Pt*6],["HH",Pt*12],["YYYY-MM-DD",ut],["YYYY-MM-DD",ut*4],["YYYY-WW",ut*7],["YYYY-MM",at],["YYYY-MM",at*4],["YYYY-MM",at*6],["YYYY",ut*380]];function Ut(Dt,Zt,ee){var ge=(Zt-Dt)/ee,ye=ie(function(We){return We[1]})(Ot,ge)-1,Ee=Ot[ye];return ye<0?Ee=Ot[0]:ye>=Ot.length&&(Ee=(0,O.last)(Ot)),Ee}var oe=function(Dt){(0,T.__extends)(Zt,Dt);function Zt(){var ee=Dt!==null&&Dt.apply(this,arguments)||this;return ee.type="timeCat",ee}return Zt.prototype.translate=function(ee){ee=kt(ee);var ge=this.values.indexOf(ee);return ge===-1&&((0,O.isNumber)(ee)&&ee<this.values.length?ge=ee:ge=NaN),ge},Zt.prototype.getText=function(ee,ge){var ye=this.translate(ee);if(ye>-1){var Ee=this.values[ye],We=this.formatter;return Ee=We?We(Ee,ge):Kt(Ee,this.mask),Ee}return ee},Zt.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},Zt.prototype.setDomain=function(){var ee=this.values;(0,O.each)(ee,function(ge,ye){ee[ye]=kt(ge)}),ee.sort(function(ge,ye){return ge-ye}),Dt.prototype.setDomain.call(this)},Zt}(w),we=oe,Ie=function(Dt){(0,T.__extends)(Zt,Dt);function Zt(){var ee=Dt!==null&&Dt.apply(this,arguments)||this;return ee.isContinuous=!0,ee}return Zt.prototype.scale=function(ee){if((0,O.isNil)(ee))return NaN;var ge=this.rangeMin(),ye=this.rangeMax(),Ee=this.max,We=this.min;if(Ee===We)return ge;var Ue=this.getScalePercent(ee);return ge+Ue*(ye-ge)},Zt.prototype.init=function(){Dt.prototype.init.call(this);var ee=this.ticks,ge=(0,O.head)(ee),ye=(0,O.last)(ee);ge<this.min&&(this.min=ge),ye>this.max&&(this.max=ye),(0,O.isNil)(this.minLimit)||(this.min=ge),(0,O.isNil)(this.maxLimit)||(this.max=ye)},Zt.prototype.setDomain=function(){var ee=(0,O.getRange)(this.values),ge=ee.min,ye=ee.max;(0,O.isNil)(this.min)&&(this.min=ge),(0,O.isNil)(this.max)&&(this.max=ye),this.min>this.max&&(this.min=ge,this.max=ye)},Zt.prototype.calculateTicks=function(){var ee=this,ge=Dt.prototype.calculateTicks.call(this);return this.nice||(ge=(0,O.filter)(ge,function(ye){return ye>=ee.min&&ye<=ee.max})),ge},Zt.prototype.getScalePercent=function(ee){var ge=this.max,ye=this.min;return(ee-ye)/(ge-ye)},Zt.prototype.getInvertPercent=function(ee){return(ee-this.rangeMin())/(this.rangeMax()-this.rangeMin())},Zt}(P),Be=Ie,ur=function(Dt){(0,T.__extends)(Zt,Dt);function Zt(){var ee=Dt!==null&&Dt.apply(this,arguments)||this;return ee.type="linear",ee.isLinear=!0,ee}return Zt.prototype.invert=function(ee){var ge=this.getInvertPercent(ee);return this.min+ge*(this.max-this.min)},Zt.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},Zt}(Be),vr=ur;function fr(Dt,Zt){var ee=Math.E,ge;return Zt>=0?ge=Math.pow(ee,Math.log(Zt)/Dt):ge=Math.pow(ee,Math.log(-Zt)/Dt)*-1,ge}function Ar(Dt,Zt){return Dt===1?1:Math.log(Zt)/Math.log(Dt)}function or(Dt,Zt,ee){(0,O.isNil)(ee)&&(ee=Math.max.apply(null,Dt));var ge=ee;return(0,O.each)(Dt,function(ye){ye>0&&ye<ge&&(ge=ye)}),ge===ee&&(ge=ee/Zt),ge>1&&(ge=1),ge}function Gr(Dt){var Zt=Dt.toString().split(/[eE]/),ee=(Zt[0].split(".")[1]||"").length-+(Zt[1]||0);return ee>0?ee:0}function ln(Dt,Zt){var ee=Gr(Dt),ge=Gr(Zt),ye=Math.pow(10,Math.max(ee,ge));return(Dt*ye+Zt*ye)/ye}var Nr=function(Dt){(0,T.__extends)(Zt,Dt);function Zt(){var ee=Dt!==null&&Dt.apply(this,arguments)||this;return ee.type="log",ee}return Zt.prototype.invert=function(ee){var ge=this.base,ye=Ar(ge,this.max),Ee=this.rangeMin(),We=this.rangeMax()-Ee,Ue,Et=this.positiveMin;if(Et){if(ee===0)return 0;Ue=Ar(ge,Et/ge);var ft=1/(ye-Ue)*We;if(ee<ft)return ee/ft*Et}else Ue=Ar(ge,this.min);var et=(ee-Ee)/We,ht=et*(ye-Ue)+Ue;return Math.pow(ge,ht)},Zt.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},Zt.prototype.setDomain=function(){Dt.prototype.setDomain.call(this);var ee=this.min;if(ee<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");ee===0&&(this.positiveMin=or(this.values,this.base,this.max))},Zt.prototype.getScalePercent=function(ee){var ge=this.max,ye=this.min;if(ge===ye||ee<=0)return 0;var Ee=this.base,We=this.positiveMin;We&&(ye=We*1/Ee);var Ue;return ee<We?Ue=ee/We/(Ar(Ee,ge)-Ar(Ee,ye)):Ue=(Ar(Ee,ee)-Ar(Ee,ye))/(Ar(Ee,ge)-Ar(Ee,ye)),Ue},Zt}(Be),nn=Nr,fi=function(Dt){(0,T.__extends)(Zt,Dt);function Zt(){var ee=Dt!==null&&Dt.apply(this,arguments)||this;return ee.type="pow",ee}return Zt.prototype.invert=function(ee){var ge=this.getInvertPercent(ee),ye=this.exponent,Ee=fr(ye,this.max),We=fr(ye,this.min),Ue=ge*(Ee-We)+We,Et=Ue>=0?1:-1;return Math.pow(Ue,ye)*Et},Zt.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},Zt.prototype.getScalePercent=function(ee){var ge=this.max,ye=this.min;if(ge===ye)return 0;var Ee=this.exponent,We=(fr(Ee,ee)-fr(Ee,ye))/(fr(Ee,ge)-fr(Ee,ye));return We},Zt}(Be),hi=fi,Si=function(Dt){(0,T.__extends)(Zt,Dt);function Zt(){var ee=Dt!==null&&Dt.apply(this,arguments)||this;return ee.type="time",ee}return Zt.prototype.getText=function(ee,ge){var ye=this.translate(ee),Ee=this.formatter;return Ee?Ee(ye,ge):Kt(ye,this.mask)},Zt.prototype.scale=function(ee){var ge=ee;return((0,O.isString)(ge)||(0,O.isDate)(ge))&&(ge=this.translate(ge)),Dt.prototype.scale.call(this,ge)},Zt.prototype.translate=function(ee){return kt(ee)},Zt.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},Zt.prototype.setDomain=function(){var ee=this.values,ge=this.getConfig("min"),ye=this.getConfig("max");if((!(0,O.isNil)(ge)||!(0,O.isNumber)(ge))&&(this.min=this.translate(this.min)),(!(0,O.isNil)(ye)||!(0,O.isNumber)(ye))&&(this.max=this.translate(this.max)),ee&&ee.length){var Ee=[],We=Infinity,Ue=We,Et=0;(0,O.each)(ee,function(ft){var et=kt(ft);if(isNaN(et))throw new TypeError("Invalid Time: "+ft+" in time scale!");We>et?(Ue=We,We=et):Ue>et&&(Ue=et),Et<et&&(Et=et),Ee.push(et)}),ee.length>1&&(this.minTickInterval=Ue-We),(0,O.isNil)(ge)&&(this.min=We),(0,O.isNil)(ye)&&(this.max=Et)}},Zt}(vr),Ci=Si,Vt=function(Dt){(0,T.__extends)(Zt,Dt);function Zt(){var ee=Dt!==null&&Dt.apply(this,arguments)||this;return ee.type="quantize",ee}return Zt.prototype.invert=function(ee){var ge=this.ticks,ye=ge.length,Ee=this.getInvertPercent(ee),We=Math.floor(Ee*(ye-1));if(We>=ye-1)return(0,O.last)(ge);if(We<0)return(0,O.head)(ge);var Ue=ge[We],Et=ge[We+1],ft=We/(ye-1),et=(We+1)/(ye-1);return Ue+(Ee-ft)/(et-ft)*(Et-Ue)},Zt.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},Zt.prototype.calculateTicks=function(){var ee=Dt.prototype.calculateTicks.call(this);return this.nice||((0,O.last)(ee)!==this.max&&ee.push(this.max),(0,O.head)(ee)!==this.min&&ee.unshift(this.min)),ee},Zt.prototype.getScalePercent=function(ee){var ge=this.ticks;if(ee<(0,O.head)(ge))return 0;if(ee>(0,O.last)(ge))return 1;var ye=0;return(0,O.each)(ge,function(Ee,We){if(ee>=Ee)ye=We;else return!1}),ye/(ge.length-1)},Zt}(Be),$t=Vt,ae=function(Dt){(0,T.__extends)(Zt,Dt);function Zt(){var ee=Dt!==null&&Dt.apply(this,arguments)||this;return ee.type="quantile",ee}return Zt.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},Zt}($t),he=ae,me={};function Se(Dt){return me[Dt]}function Ce(Dt,Zt){if(Se(Dt))throw new Error("type '"+Dt+"' existed.");me[Dt]=Zt}var Pe=function(Dt){(0,T.__extends)(Zt,Dt);function Zt(){var ee=Dt!==null&&Dt.apply(this,arguments)||this;return ee.type="identity",ee.isIdentity=!0,ee}return Zt.prototype.calculateTicks=function(){return this.values},Zt.prototype.scale=function(ee){return this.values[0]!==ee&&(0,O.isNumber)(ee)?ee:this.range[0]},Zt.prototype.invert=function(ee){var ge=this.range;return ee<ge[0]||ee>ge[1]?NaN:this.values[0]},Zt}(P),pe=Pe;function Ve(Dt){return Math.abs(Dt)<1e-15?Dt:parseFloat(Dt.toFixed(15))}var Ne=[1,5,2,2.5,4,3],er=null,hr=Number.EPSILON*100;function rr(Dt,Zt){return(Dt%Zt+Zt)%Zt}function ar(Dt){return Math.round(Dt*1e12)/1e12}function lr(Dt,Zt,ee,ge,ye,Ee){var We=(0,O.size)(Zt),Ue=(0,O.indexOf)(Zt,Dt),Et=0,ft=rr(ge,Ee);return(ft<hr||Ee-ft<hr)&&ge<=0&&ye>=0&&(Et=1),1-Ue/(We-1)-ee+Et}function yr(Dt,Zt,ee){var ge=(0,O.size)(Zt),ye=(0,O.indexOf)(Zt,Dt),Ee=1;return 1-ye/(ge-1)-ee+Ee}function Ke(Dt,Zt,ee,ge,ye,Ee){var We=(Dt-1)/(Ee-ye),Ue=(Zt-1)/(Math.max(Ee,ge)-Math.min(ee,ye));return 2-Math.max(We/Ue,Ue/We)}function Er(Dt,Zt){return Dt>=Zt?2-(Dt-1)/(Zt-1):1}function Ir(Dt,Zt,ee,ge){var ye=Zt-Dt;return 1-.5*(Math.pow(Zt-ge,2)+Math.pow(Dt-ee,2))/Math.pow(.1*ye,2)}function Lr(Dt,Zt,ee){var ge=Zt-Dt;if(ee>ge){var ye=(ee-ge)/2;return 1-Math.pow(ye,2)/Math.pow(.1*ge,2)}return 1}function Br(){return 1}function jr(Dt,Zt,ee,ge,ye,Ee){ee===void 0&&(ee=5),ge===void 0&&(ge=!0),ye===void 0&&(ye=Ne),Ee===void 0&&(Ee=[.25,.2,.5,.05]);var We=ee<0?0:Math.round(ee);if(Number.isNaN(Dt)||Number.isNaN(Zt)||typeof Dt!="number"||typeof Zt!="number"||!We)return{min:0,max:0,ticks:[]};if(Zt-Dt<1e-15||We===1)return{min:Dt,max:Zt,ticks:[Dt]};for(var Ue={score:-2,lmin:0,lmax:0,lstep:0},Et=1;Et<Infinity;){for(var ft=0;ft<ye.length;ft+=1){var et=ye[ft],ht=yr(et,ye,Et);if(Ee[0]*ht+Ee[1]+Ee[2]+Ee[3]<Ue.score){Et=Infinity;break}for(var Lt=2;Lt<Infinity;){var Ht=Er(Lt,We);if(Ee[0]*ht+Ee[1]+Ee[2]*Ht+Ee[3]<Ue.score)break;for(var le=(Zt-Dt)/(Lt+1)/Et/et,ce=Math.ceil(Math.log10(le));ce<Infinity;){var ue=Et*et*Math.pow(10,ce),Oe=Lr(Dt,Zt,ue*(Lt-1));if(Ee[0]*ht+Ee[1]*Oe+Ee[2]*Ht+Ee[3]<Ue.score)break;var De=Math.floor(Zt/ue)*Et-(Lt-1)*Et,Fe=Math.ceil(Dt/ue)*Et;if(De<=Fe)for(var ir=Fe-De,Ye=0;Ye<=ir;Ye+=1){var Re=De+Ye,wr=Re*(ue/Et),Sr=wr+ue*(Lt-1),Yr=ue,zr=lr(et,ye,Et,wr,Sr,Yr),dr=Ir(Dt,Zt,wr,Sr),tr=Ke(Lt,We,Dt,Zt,wr,Sr),Xr=Br(),un=Ee[0]*zr+Ee[1]*dr+Ee[2]*tr+Ee[3]*Xr;un>Ue.score&&(!ge||wr<=Dt&&Sr>=Zt)&&(Ue.lmin=wr,Ue.lmax=Sr,Ue.lstep=Yr,Ue.score=un)}ce+=1}Lt+=1}}Et+=1}var Mn=Ve(Ue.lmax),Un=Ve(Ue.lmin),$n=Ve(Ue.lstep),da=Math.floor(ar((Mn-Un)/$n))+1,En=new Array(da);En[0]=Ve(Un);for(var ft=1;ft<da;ft++)En[ft]=Ve(En[ft-1]+$n);return{min:Math.min(Dt,(0,O.head)(En)),max:Math.max(Zt,(0,O.last)(En)),ticks:En}}function Hr(Dt){var Zt=Dt.values,ee=Dt.tickInterval,ge=Dt.tickCount,ye=Zt;if((0,O.isNumber)(ee))return(0,O.filter)(ye,function(ft,et){return et%ee==0});var Ee=Dt.min,We=Dt.max;if((0,O.isNil)(Ee)&&(Ee=0),(0,O.isNil)(We)&&(We=Zt.length-1),(0,O.isNumber)(ge)&&ge<We-Ee){var Ue=jr(Ee,We,ge,!1,[1,2,5,3,4,7,6,8,9]).ticks,Et=(0,O.filter)(Ue,function(ft){return ft>=Ee&&ft<=We});return Et.map(function(ft){return Zt[ft]})}return Zt.slice(Ee,We+1)}function kn(Dt){var Zt=Dt.min,ee=Dt.max,ge=Dt.nice,ye=Dt.tickCount,Ee=new yi;return Ee.domain([Zt,ee]),ge&&Ee.nice(ye),Ee.ticks(ye)}var tn=5,Yn=Math.sqrt(50),ti=Math.sqrt(10),jn=Math.sqrt(2),yi=function(){function Dt(){this._domain=[0,1]}return Dt.prototype.domain=function(Zt){return Zt?(this._domain=Array.from(Zt,Number),this):this._domain.slice()},Dt.prototype.nice=function(Zt){var ee,ge;Zt===void 0&&(Zt=tn);var ye=this._domain.slice(),Ee=0,We=this._domain.length-1,Ue=this._domain[Ee],Et=this._domain[We],ft;return Et<Ue&&(ee=[Et,Ue],Ue=ee[0],Et=ee[1],ge=[We,Ee],Ee=ge[0],We=ge[1]),ft=Tr(Ue,Et,Zt),ft>0?(Ue=Math.floor(Ue/ft)*ft,Et=Math.ceil(Et/ft)*ft,ft=Tr(Ue,Et,Zt)):ft<0&&(Ue=Math.ceil(Ue*ft)/ft,Et=Math.floor(Et*ft)/ft,ft=Tr(Ue,Et,Zt)),ft>0?(ye[Ee]=Math.floor(Ue/ft)*ft,ye[We]=Math.ceil(Et/ft)*ft,this.domain(ye)):ft<0&&(ye[Ee]=Math.ceil(Ue*ft)/ft,ye[We]=Math.floor(Et*ft)/ft,this.domain(ye)),this},Dt.prototype.ticks=function(Zt){return Zt===void 0&&(Zt=tn),_i(this._domain[0],this._domain[this._domain.length-1],Zt||tn)},Dt}();function _i(Dt,Zt,ee){var ge,ye=-1,Ee,We,Ue;if(Zt=+Zt,Dt=+Dt,ee=+ee,Dt===Zt&&ee>0)return[Dt];if((ge=Zt<Dt)&&(Ee=Dt,Dt=Zt,Zt=Ee),(Ue=Tr(Dt,Zt,ee))===0||!isFinite(Ue))return[];if(Ue>0)for(Dt=Math.ceil(Dt/Ue),Zt=Math.floor(Zt/Ue),We=new Array(Ee=Math.ceil(Zt-Dt+1));++ye<Ee;)We[ye]=(Dt+ye)*Ue;else for(Dt=Math.floor(Dt*Ue),Zt=Math.ceil(Zt*Ue),We=new Array(Ee=Math.ceil(Dt-Zt+1));++ye<Ee;)We[ye]=(Dt-ye)/Ue;return ge&&We.reverse(),We}function Tr(Dt,Zt,ee){var ge=(Zt-Dt)/Math.max(0,ee),ye=Math.floor(Math.log(ge)/Math.LN10),Ee=ge/Math.pow(10,ye);return ye>=0?(Ee>=Yn?10:Ee>=ti?5:Ee>=jn?2:1)*Math.pow(10,ye):-Math.pow(10,-ye)/(Ee>=Yn?10:Ee>=ti?5:Ee>=jn?2:1)}function mi(Dt,Zt,ee){var ge;return ee==="ceil"?ge=Math.ceil(Dt/Zt):ee==="floor"?ge=Math.floor(Dt/Zt):ge=Math.round(Dt/Zt),ge*Zt}function ci(Dt,Zt,ee){var ge=mi(Dt,ee,"floor"),ye=mi(Zt,ee,"ceil");ge=(0,O.fixedBase)(ge,ee),ye=(0,O.fixedBase)(ye,ee);for(var Ee=[],We=Math.max((ye-ge)/(Math.pow(2,12)-1),ee),Ue=ge;Ue<=ye;Ue=Ue+We){var Et=(0,O.fixedBase)(Ue,We);Ee.push(Et)}return{min:ge,max:ye,ticks:Ee}}function ei(Dt,Zt,ee){var ge,ye=Dt.minLimit,Ee=Dt.maxLimit,We=Dt.min,Ue=Dt.max,Et=Dt.tickCount,ft=Et===void 0?5:Et,et=(0,O.isNil)(ye)?(0,O.isNil)(Zt)?We:Zt:ye,ht=(0,O.isNil)(Ee)?(0,O.isNil)(ee)?Ue:ee:Ee;if(et>ht&&(ge=[et,ht],ht=ge[0],et=ge[1]),ft<=2)return[et,ht];for(var Lt=(ht-et)/(ft-1),Ht=[],le=0;le<ft;le++)Ht.push(et+Lt*le);return Ht}function xn(Dt){var Zt=Dt.min,ee=Dt.max,ge=Dt.tickInterval,ye=Dt.minLimit,Ee=Dt.maxLimit,We=kn(Dt);return!(0,O.isNil)(ye)||!(0,O.isNil)(Ee)?ei(Dt,(0,O.head)(We),(0,O.last)(We)):ge?ci(Zt,ee,ge).ticks:We}function ai(Dt){var Zt=Dt.min,ee=Dt.max,ge=Dt.tickCount,ye=Dt.nice,Ee=Dt.tickInterval,We=Dt.minLimit,Ue=Dt.maxLimit,Et=jr(Zt,ee,ge,ye).ticks;return!(0,O.isNil)(We)||!(0,O.isNil)(Ue)?ei(Dt,(0,O.head)(Et),(0,O.last)(Et)):Ee?ci(Zt,ee,Ee).ticks:Et}function oi(Dt){var Zt=Dt.base,ee=Dt.tickCount,ge=Dt.min,ye=Dt.max,Ee=Dt.values,We,Ue=Ar(Zt,ye);if(ge>0)We=Math.floor(Ar(Zt,ge));else{var Et=or(Ee,Zt,ye);We=Math.floor(Ar(Zt,Et))}for(var ft=Ue-We,et=Math.ceil(ft/ee),ht=[],Lt=We;Lt<Ue+et;Lt=Lt+et)ht.push(Math.pow(Zt,Lt));return ge<=0&&ht.unshift(0),ht}function ri(Dt,Zt,ee){if(ee===void 0&&(ee=5),Dt===Zt)return{max:Zt,min:Dt,ticks:[Dt]};var ge=ee<0?0:Math.round(ee);if(ge===0)return{max:Zt,min:Dt,ticks:[]};var ye=1.5,Ee=.5+1.5*ye,We=Zt-Dt,Ue=We/ge,Et=Math.pow(10,Math.floor(Math.log10(Ue))),ft=Et;2*Et-Ue<ye*(Ue-ft)&&(ft=2*Et,5*Et-Ue<Ee*(Ue-ft)&&(ft=5*Et,10*Et-Ue<ye*(Ue-ft)&&(ft=10*Et)));for(var et=Math.ceil(Zt/ft),ht=Math.floor(Dt/ft),Lt=Math.max(et*ft,Zt),Ht=Math.min(ht*ft,Dt),le=Math.floor((Lt-Ht)/ft)+1,ce=new Array(le),ue=0;ue<le;ue++)ce[ue]=Ve(Ht+ue*ft);return{min:Ht,max:Lt,ticks:ce}}function si(Dt){var Zt=Dt.exponent,ee=Dt.tickCount,ge=Math.ceil(fr(Zt,Dt.max)),ye=Math.floor(fr(Zt,Dt.min)),Ee=ri(ye,ge,ee).ticks;return Ee.map(function(We){var Ue=We>=0?1:-1;return Math.pow(We,Zt)*Ue})}function Vn(Dt,Zt){var ee=Dt.length*Zt;return Zt===1?Dt[Dt.length-1]:Zt===0?Dt[0]:ee%1!=0?Dt[Math.ceil(ee)-1]:Dt.length%2==0?(Dt[ee-1]+Dt[ee])/2:Dt[ee]}function Li(Dt){var Zt=Dt.tickCount,ee=Dt.values;if(!ee||!ee.length)return[];for(var ge=ee.slice().sort(function(Ue,Et){return Ue-Et}),ye=[],Ee=0;Ee<Zt;Ee++){var We=Ee/(Zt-1);ye.push(Vn(ge,We))}return ye}function Ni(Dt){var Zt=Dt.min,ee=Dt.max,ge=Dt.tickCount,ye=Dt.tickInterval,Ee=Dt.minLimit,We=Dt.maxLimit,Ue=ri(Zt,ee,ge).ticks;return!(0,O.isNil)(Ee)||!(0,O.isNil)(We)?ei(Dt,(0,O.head)(Ue),(0,O.last)(Ue)):ye?ci(Zt,ee,ye).ticks:Ue}function Tn(Dt){var Zt=Dt.min,ee=Dt.max,ge=Dt.minTickInterval,ye=Dt.tickInterval,Ee=Dt.tickCount;if(ye)Ee=Math.ceil((ee-Zt)/ye);else{ye=Ut(Zt,ee,Ee)[1];var We=(ee-Zt)/ye,Ue=We/Ee;Ue>1&&(ye=ye*Math.ceil(Ue)),ge&&ye<ge&&(ye=ge)}ye=Math.max(Math.floor((ee-Zt)/(Math.pow(2,12)-1)),ye);for(var Et=[],ft=Zt;ft<ee+ye;ft+=ye)Et.push(ft);return Et}function Gn(Dt){var Zt=Hr(Dt),ee=(0,O.last)(Dt.values);return ee!==(0,O.last)(Zt)&&Zt.push(ee),Zt}function li(Dt){return new Date(Dt).getFullYear()}function Oi(Dt){return new Date(Dt,0,1).getTime()}function xi(Dt){return new Date(Dt).getMonth()}function oa(Dt,Zt){var ee=li(Dt),ge=li(Zt),ye=xi(Dt),Ee=xi(Zt);return(ge-ee)*12+(Ee-ye)%12}function vi(Dt,Zt){return new Date(Dt,Zt,1).getTime()}function sa(Dt,Zt){return Math.ceil((Zt-Dt)/ut)}function $i(Dt,Zt){return Math.ceil((Zt-Dt)/Pt)}function la(Dt,Zt){return Math.ceil((Zt-Dt)/(60*1e3))}function ba(Dt){var Zt=Dt.min,ee=Dt.max,ge=Dt.minTickInterval,ye=Dt.tickCount,Ee=Dt.tickInterval,We=[];Ee||(Ee=(ee-Zt)/ye,ge&&Ee<ge&&(Ee=ge)),Ee=Math.max(Math.floor((ee-Zt)/(Math.pow(2,12)-1)),Ee);var Ue=li(Zt);if(Ee>St)for(var Et=li(ee),ft=Math.ceil(Ee/St),et=Ue;et<=Et+ft;et=et+ft)We.push(Oi(et));else if(Ee>at)for(var ht=Math.ceil(Ee/at),Lt=xi(Zt),Ht=oa(Zt,ee),et=0;et<=Ht+ht;et=et+ht)We.push(vi(Ue,et+Lt));else if(Ee>ut)for(var le=new Date(Zt),ce=le.getFullYear(),ue=le.getMonth(),Oe=le.getDate(),De=Math.ceil(Ee/ut),Fe=sa(Zt,ee),et=0;et<Fe+De;et=et+De)We.push(new Date(ce,ue,Oe+et).getTime());else if(Ee>Pt)for(var le=new Date(Zt),ce=le.getFullYear(),ue=le.getMonth(),De=le.getDate(),ir=le.getHours(),Ye=Math.ceil(Ee/Pt),Re=$i(Zt,ee),et=0;et<=Re+Ye;et=et+Ye)We.push(new Date(ce,ue,De,ir+et).getTime());else if(Ee>pt)for(var wr=la(Zt,ee),Sr=Math.ceil(Ee/pt),et=0;et<=wr+Sr;et=et+Sr)We.push(Zt+et*pt);else{var Yr=Ee;Yr<Mt&&(Yr=Mt);for(var zr=Math.floor(Zt/Mt)*Mt,dr=Math.ceil((ee-Zt)/Mt),tr=Math.ceil(Yr/Mt),et=0;et<dr+tr;et=et+tr)We.push(zr+et*Mt)}return We.length>=512&&console.warn("Notice: current ticks length("+We.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+Ee+") is too small, increase the value to solve the problem!"),We}I("cat",Hr),I("time-cat",Gn),I("wilkinson-extended",ai),I("r-pretty",Ni),I("time",Tn),I("time-pretty",ba),I("log",oi),I("pow",si),I("quantile",Li),I("d3-linear",xn),Ce("cat",w),Ce("category",w),Ce("identity",pe),Ce("linear",vr),Ce("log",nn),Ce("pow",hi),Ce("time",Ci),Ce("timeCat",we),Ce("quantize",$t),Ce("quantile",he)},49242:function(mt,C,d){"use strict";d.r(C),d.d(C,{Cache:function(){return sr},assign:function(){return Un},augment:function(){return da},clamp:function(){return rr},clearAnimationFrame:function(){return un},clone:function(){return Ga},contains:function(){return k},debounce:function(){return za},deepMix:function(){return pa},difference:function(){return T},each:function(){return j},endsWith:function(){return ln},every:function(){return nn},extend:function(){return Ji},filter:function(){return _},find:function(){return Z},findIndex:function(){return Q},firstValue:function(){return lt},fixedBase:function(){return lr},flatten:function(){return U},flattenDeep:function(){return f},forIn:function(){return Tn},get:function(){return x},getEllipsisText:function(){return Qe},getRange:function(){return qt},getType:function(){return Et},getWrapBehavior:function(){return me},group:function(){return ae},groupBy:function(){return Vt},groupToMap:function(){return $t},has:function(){return Gn},hasKey:function(){return li},hasValue:function(){return oa},head:function(){return vr},identity:function(){return te},includes:function(){return k},indexOf:function(){return La},isArguments:function(){return et},isArray:function(){return B},isArrayLike:function(){return O},isBoolean:function(){return Lt},isDate:function(){return le},isDecimal:function(){return Ir},isElement:function(){return tr},isEmpty:function(){return eo},isEqual:function(){return dn},isEqualWith:function(){return Hi},isError:function(){return ue},isEven:function(){return Br},isFinite:function(){return Oe},isFunction:function(){return b},isInteger:function(){return Hr},isMatch:function(){return st},isNegative:function(){return tn},isNil:function(){return A},isNull:function(){return Fe},isNumber:function(){return Ke},isNumberEqual:function(){return ti},isObject:function(){return N},isObjectLike:function(){return wt},isOdd:function(){return yi},isPlainObject:function(){return At},isPositive:function(){return Tr},isPrototype:function(){return Re},isRegExp:function(){return Sr},isString:function(){return Ot},isType:function(){return m},isUndefined:function(){return zr},keys:function(){return H},last:function(){return fr},lowerCase:function(){return $i},lowerFirst:function(){return ba},map:function(){return ga},mapValues:function(){return ct},max:function(){return xt},maxBy:function(){return mi},measureTextWidth:function(){return be},memoize:function(){return ua},min:function(){return Ct},minBy:function(){return ci},mix:function(){return Un},mod:function(){return xn},noop:function(){return Ft},number2color:function(){return Ve},omit:function(){return W},parseRadius:function(){return er},pick:function(){return R},pull:function(){return Kt},pullAt:function(){return pt},reduce:function(){return ut},remove:function(){return St},requestAnimationFrame:function(){return Xr},set:function(){return E},size:function(){return ne},some:function(){return hi},sortBy:function(){return oe},startsWith:function(){return or},substitute:function(){return Zt},throttle:function(){return q},toArray:function(){return dt},toDegree:function(){return ri},toInteger:function(){return si},toRadian:function(){return Ni},toString:function(){return vi},union:function(){return Be},uniq:function(){return we},uniqueId:function(){return Tt},upperCase:function(){return ge},upperFirst:function(){return Ee},values:function(){return xi},valuesOfKey:function(){return ur},wrapBehavior:function(){return Ce}});var S=function(_t){return _t!==null&&typeof _t!="function"&&isFinite(_t.length)},O=S,D=function(_t,Nt){return O(_t)?_t.indexOf(Nt)>-1:!1},k=D,I=function(_t,Nt){if(!O(_t))return _t;for(var Wt=[],ve=0;ve<_t.length;ve++){var Te=_t[ve];Nt(Te,ve)&&Wt.push(Te)}return Wt},_=I,P=function(_t,Nt){return Nt===void 0&&(Nt=[]),_(_t,function(Wt){return!k(Nt,Wt)})},T=P,p={}.toString,w=function(_t,Nt){return p.call(_t)==="[object "+Nt+"]"},m=w,b=function(_t){return m(_t,"Function")},y=function(_t){return _t==null},A=y,B=function(_t){return Array.isArray?Array.isArray(_t):m(_t,"Array")},N=function(_t){var Nt=typeof _t;return _t!==null&&Nt==="object"||Nt==="function"};function G(_t,Nt){if(!!_t){var Wt;if(B(_t))for(var ve=0,Te=_t.length;ve<Te&&(Wt=Nt(_t[ve],ve),Wt!==!1);ve++);else if(N(_t)){for(var Je in _t)if(_t.hasOwnProperty(Je)&&(Wt=Nt(_t[Je],Je),Wt===!1))break}}}var j=G,J=Object.keys?function(_t){return Object.keys(_t)}:function(_t){var Nt=[];return j(_t,function(Wt,ve){b(_t)&&ve==="prototype"||Nt.push(ve)}),Nt},H=J;function K(_t,Nt){var Wt=H(Nt),ve=Wt.length;if(A(_t))return!ve;for(var Te=0;Te<ve;Te+=1){var Je=Wt[Te];if(Nt[Je]!==_t[Je]||!(Je in _t))return!1}return!0}var st=K,nt=function(_t){return typeof _t=="object"&&_t!==null},wt=nt,gt=function(_t){if(!wt(_t)||!m(_t,"Object"))return!1;if(Object.getPrototypeOf(_t)===null)return!0;for(var Nt=_t;Object.getPrototypeOf(Nt)!==null;)Nt=Object.getPrototypeOf(Nt);return Object.getPrototypeOf(_t)===Nt},At=gt;function X(_t,Nt){if(!B(_t))return null;var Wt;if(b(Nt)&&(Wt=Nt),At(Nt)&&(Wt=function(Te){return st(Te,Nt)}),Wt){for(var ve=0;ve<_t.length;ve+=1)if(Wt(_t[ve]))return _t[ve]}return null}var Z=X;function tt(_t,Nt,Wt){Wt===void 0&&(Wt=0);for(var ve=Wt;ve<_t.length;ve++)if(Nt(_t[ve],ve))return ve;return-1}var Q=tt,vt=function(_t,Nt){for(var Wt=null,ve=0;ve<_t.length;ve++){var Te=_t[ve],Je=Te[Nt];if(!A(Je)){B(Je)?Wt=Je[0]:Wt=Je;break}}return Wt},lt=vt,rt=function(_t){if(!B(_t))return[];for(var Nt=[],Wt=0;Wt<_t.length;Wt++)Nt=Nt.concat(_t[Wt]);return Nt},U=rt,$=function(_t,Nt){if(Nt===void 0&&(Nt=[]),!B(_t))Nt.push(_t);else for(var Wt=0;Wt<_t.length;Wt+=1)$(_t[Wt],Nt);return Nt},f=$,xt=function(_t){if(!!B(_t))return _t.reduce(function(Nt,Wt){return Math.max(Nt,Wt)},_t[0])},Ct=function(_t){if(!!B(_t))return _t.reduce(function(Nt,Wt){return Math.min(Nt,Wt)},_t[0])},Bt=function(_t){var Nt=_t.filter(function(Pr){return!isNaN(Pr)});if(!Nt.length)return{min:0,max:0};if(B(_t[0])){for(var Wt=[],ve=0;ve<_t.length;ve++)Wt=Wt.concat(_t[ve]);Nt=Wt}var Te=xt(Nt),Je=Ct(Nt);return{min:Je,max:Te}},qt=Bt,Gt=Array.prototype,Jt=Gt.splice,ie=Gt.indexOf,se=function(_t){for(var Nt=[],Wt=1;Wt<arguments.length;Wt++)Nt[Wt-1]=arguments[Wt];for(var ve=0;ve<Nt.length;ve++)for(var Te=Nt[ve],Je=-1;(Je=ie.call(_t,Te))>-1;)Jt.call(_t,Je,1);return _t},Kt=se,kt=Array.prototype.splice,Mt=function(Nt,Wt){if(!O(Nt))return[];for(var ve=Nt?Wt.length:0,Te=ve-1;ve--;){var Je=void 0,Pr=Wt[ve];(ve===Te||Pr!==Je)&&(Je=Pr,kt.call(Nt,Pr,1))}return Nt},pt=Mt,Pt=function(_t,Nt,Wt){if(!B(_t)&&!At(_t))return _t;var ve=Wt;return j(_t,function(Te,Je){ve=Nt(ve,Te,Je)}),ve},ut=Pt,at=function(_t,Nt){var Wt=[];if(!O(_t))return Wt;for(var ve=-1,Te=[],Je=_t.length;++ve<Je;){var Pr=_t[ve];Nt(Pr,ve,_t)&&(Wt.push(Pr),Te.push(ve))}return pt(_t,Te),Wt},St=at,Ot=function(_t){return m(_t,"String")};function Ut(_t,Nt){var Wt;if(b(Nt))Wt=function(Te,Je){return Nt(Te)-Nt(Je)};else{var ve=[];Ot(Nt)?ve.push(Nt):B(Nt)&&(ve=Nt),Wt=function(Te,Je){for(var Pr=0;Pr<ve.length;Pr+=1){var fn=ve[Pr];if(Te[fn]>Je[fn])return 1;if(Te[fn]<Je[fn])return-1}return 0}}return _t.sort(Wt),_t}var oe=Ut;function we(_t,Nt){Nt===void 0&&(Nt=new Map);var Wt=[];if(Array.isArray(_t))for(var ve=0,Te=_t.length;ve<Te;ve++){var Je=_t[ve];Nt.has(Je)||(Wt.push(Je),Nt.set(Je,!0))}return Wt}var Ie=function(){for(var _t=[],Nt=0;Nt<arguments.length;Nt++)_t[Nt]=arguments[Nt];return we([].concat.apply([],_t))},Be=Ie,ur=function(_t,Nt){for(var Wt=[],ve={},Te=0;Te<_t.length;Te++){var Je=_t[Te],Pr=Je[Nt];if(!A(Pr)){B(Pr)||(Pr=[Pr]);for(var fn=0;fn<Pr.length;fn++){var di=Pr[fn];ve[di]||(Wt.push(di),ve[di]=!0)}}}return Wt};function vr(_t){if(O(_t))return _t[0]}function fr(_t){if(O(_t)){var Nt=_t;return Nt[Nt.length-1]}}function Ar(_t,Nt){return B(_t)||Ot(_t)?_t[0]===Nt:!1}var or=Ar;function Gr(_t,Nt){return B(_t)||Ot(_t)?_t[_t.length-1]===Nt:!1}var ln=Gr,Nr=function(_t,Nt){for(var Wt=0;Wt<_t.length;Wt++)if(!Nt(_t[Wt],Wt))return!1;return!0},nn=Nr,fi=function(_t,Nt){for(var Wt=0;Wt<_t.length;Wt++)if(Nt(_t[Wt],Wt))return!0;return!1},hi=fi,Si=Object.prototype.hasOwnProperty;function Ci(_t,Nt){if(!Nt||!B(_t))return{};for(var Wt={},ve=b(Nt)?Nt:function(fn){return fn[Nt]},Te,Je=0;Je<_t.length;Je++){var Pr=_t[Je];Te=ve(Pr),Si.call(Wt,Te)?Wt[Te].push(Pr):Wt[Te]=[Pr]}return Wt}var Vt=Ci;function $t(_t,Nt){if(!Nt)return{0:_t};if(!b(Nt)){var Wt=B(Nt)?Nt:Nt.replace(/\s+/g,"").split("*");Nt=function(ve){for(var Te="_",Je=0,Pr=Wt.length;Je<Pr;Je++)Te+=ve[Wt[Je]]&&ve[Wt[Je]].toString();return Te}}return Vt(_t,Nt)}var ae=function(_t,Nt){if(!Nt)return[_t];var Wt=$t(_t,Nt),ve=[];for(var Te in Wt)ve.push(Wt[Te]);return ve};function he(_t,Nt){return _t["_wrap_"+Nt]}var me=he;function Se(_t,Nt){if(_t["_wrap_"+Nt])return _t["_wrap_"+Nt];var Wt=function(ve){_t[Nt](ve)};return _t["_wrap_"+Nt]=Wt,Wt}var Ce=Se,Pe={};function pe(_t){var Nt=Pe[_t];if(!Nt){for(var Wt=_t.toString(16),ve=Wt.length;ve<6;ve++)Wt="0"+Wt;Nt="#"+Wt,Pe[_t]=Nt}return Nt}var Ve=pe;function Ne(_t){var Nt=0,Wt=0,ve=0,Te=0;return B(_t)?_t.length===1?Nt=Wt=ve=Te=_t[0]:_t.length===2?(Nt=ve=_t[0],Wt=Te=_t[1]):_t.length===3?(Nt=_t[0],Wt=Te=_t[1],ve=_t[2]):(Nt=_t[0],Wt=_t[1],ve=_t[2],Te=_t[3]):Nt=Wt=ve=Te=_t,{r1:Nt,r2:Wt,r3:ve,r4:Te}}var er=Ne,hr=function(_t,Nt,Wt){return _t<Nt?Nt:_t>Wt?Wt:_t},rr=hr,ar=function(_t,Nt){var Wt=Nt.toString(),ve=Wt.indexOf(".");if(ve===-1)return Math.round(_t);var Te=Wt.substr(ve+1).length;return Te>20&&(Te=20),parseFloat(_t.toFixed(Te))},lr=ar,yr=function(_t){return m(_t,"Number")},Ke=yr,Er=function(_t){return Ke(_t)&&_t%1!=0},Ir=Er,Lr=function(_t){return Ke(_t)&&_t%2==0},Br=Lr,jr=Number.isInteger?Number.isInteger:function(_t){return Ke(_t)&&_t%1==0},Hr=jr,kn=function(_t){return Ke(_t)&&_t<0},tn=kn,Yn=1e-5;function ti(_t,Nt,Wt){return Wt===void 0&&(Wt=Yn),Math.abs(_t-Nt)<Wt}var jn=function(_t){return Ke(_t)&&_t%2!=0},yi=jn,_i=function(_t){return Ke(_t)&&_t>0},Tr=_i,mi=function(_t,Nt){if(!!B(_t)){for(var Wt,ve=-Infinity,Te=0;Te<_t.length;Te++){var Je=_t[Te],Pr=b(Nt)?Nt(Je):Je[Nt];Pr>ve&&(Wt=Je,ve=Pr)}return Wt}},ci=function(_t,Nt){if(!!B(_t)){for(var Wt,ve=Infinity,Te=0;Te<_t.length;Te++){var Je=_t[Te],Pr=b(Nt)?Nt(Je):Je[Nt];Pr<ve&&(Wt=Je,ve=Pr)}return Wt}},ei=function(_t,Nt){return(_t%Nt+Nt)%Nt},xn=ei,ai=180/Math.PI,oi=function(_t){return ai*_t},ri=oi,si=parseInt,Vn=Math.PI/180,Li=function(_t){return Vn*_t},Ni=Li,Tn=j,Gn=function(_t,Nt){return _t.hasOwnProperty(Nt)},li=Gn,Oi=Object.values?function(_t){return Object.values(_t)}:function(_t){var Nt=[];return j(_t,function(Wt,ve){b(_t)&&ve==="prototype"||Nt.push(Wt)}),Nt},xi=Oi,oa=function(_t,Nt){return k(xi(_t),Nt)},vi=function(_t){return A(_t)?"":_t.toString()},sa=function(_t){return vi(_t).toLowerCase()},$i=sa,la=function(_t){var Nt=vi(_t);return Nt.charAt(0).toLowerCase()+Nt.substring(1)},ba=la;function Dt(_t,Nt){return!_t||!Nt?_t:_t.replace(/\\?\{([^{}]+)\}/g,function(Wt,ve){return Wt.charAt(0)==="\\"?Wt.slice(1):Nt[ve]===void 0?"":Nt[ve]})}var Zt=Dt,ee=function(_t){return vi(_t).toUpperCase()},ge=ee,ye=function(_t){var Nt=vi(_t);return Nt.charAt(0).toUpperCase()+Nt.substring(1)},Ee=ye,We={}.toString,Ue=function(_t){return We.call(_t).replace(/^\[object /,"").replace(/]$/,"")},Et=Ue,ft=function(_t){return m(_t,"Arguments")},et=ft,ht=function(_t){return m(_t,"Boolean")},Lt=ht,Ht=function(_t){return m(_t,"Date")},le=Ht,ce=function(_t){return m(_t,"Error")},ue=ce;function Oe(_t){return Ke(_t)&&isFinite(_t)}var De=function(_t){return _t===null},Fe=De,ir=Object.prototype,Ye=function(_t){var Nt=_t&&_t.constructor,Wt=typeof Nt=="function"&&Nt.prototype||ir;return _t===Wt},Re=Ye,wr=function(_t){return m(_t,"RegExp")},Sr=wr,Yr=function(_t){return _t===void 0},zr=Yr,dr=function(_t){return _t instanceof Element||_t instanceof HTMLDocument},tr=dr;function Xr(_t){var Nt=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(Wt){return setTimeout(Wt,16)};return Nt(_t)}function un(_t){var Nt=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;Nt(_t)}function Mn(_t,Nt){for(var Wt in Nt)Nt.hasOwnProperty(Wt)&&Wt!=="constructor"&&Nt[Wt]!==void 0&&(_t[Wt]=Nt[Wt])}function Un(_t,Nt,Wt,ve){return Nt&&Mn(_t,Nt),Wt&&Mn(_t,Wt),ve&&Mn(_t,ve),_t}var $n=function(){for(var _t=[],Nt=0;Nt<arguments.length;Nt++)_t[Nt]=arguments[Nt];for(var Wt=_t[0],ve=1;ve<_t.length;ve++){var Te=_t[ve];b(Te)&&(Te=Te.prototype),Un(Wt.prototype,Te)}},da=$n,En=function(_t){if(typeof _t!="object"||_t===null)return _t;var Nt;if(B(_t)){Nt=[];for(var Wt=0,ve=_t.length;Wt<ve;Wt++)typeof _t[Wt]=="object"&&_t[Wt]!=null?Nt[Wt]=En(_t[Wt]):Nt[Wt]=_t[Wt]}else{Nt={};for(var Te in _t)typeof _t[Te]=="object"&&_t[Te]!=null?Nt[Te]=En(_t[Te]):Nt[Te]=_t[Te]}return Nt},Ga=En;function Qi(_t,Nt,Wt){var ve;return function(){var Te=this,Je=arguments,Pr=function(){ve=null,Wt||_t.apply(Te,Je)},fn=Wt&&!ve;clearTimeout(ve),ve=setTimeout(Pr,Nt),fn&&_t.apply(Te,Je)}}var za=Qi,ua=function(_t,Nt){if(!b(_t))throw new TypeError("Expected a function");var Wt=function(){for(var ve=[],Te=0;Te<arguments.length;Te++)ve[Te]=arguments[Te];var Je=Nt?Nt.apply(this,ve):ve[0],Pr=Wt.cache;if(Pr.has(Je))return Pr.get(Je);var fn=_t.apply(this,ve);return Pr.set(Je,fn),fn};return Wt.cache=new Map,Wt},to=5;function fa(_t,Nt,Wt,ve){Wt=Wt||0,ve=ve||to;for(var Te in Nt)if(Nt.hasOwnProperty(Te)){var Je=Nt[Te];Je!==null&&At(Je)?(At(_t[Te])||(_t[Te]={}),Wt<ve?fa(_t[Te],Je,Wt+1,ve):_t[Te]=Nt[Te]):B(Je)?(_t[Te]=[],_t[Te]=_t[Te].concat(Je)):Je!==void 0&&(_t[Te]=Je)}}var Pa=function(_t){for(var Nt=[],Wt=1;Wt<arguments.length;Wt++)Nt[Wt-1]=arguments[Wt];for(var ve=0;ve<Nt.length;ve+=1)fa(_t,Nt[ve]);return _t},pa=Pa,Qn=function(_t,Nt,Wt,ve){b(Nt)||(Wt=Nt,Nt=_t,_t=function(){});var Te=Object.create?function(Pr,fn){return Object.create(Pr,{constructor:{value:fn}})}:function(Pr,fn){function di(){}di.prototype=Pr;var Wi=new di;return Wi.constructor=fn,Wi},Je=Te(Nt.prototype,_t);return _t.prototype=Un(Je,_t.prototype),_t.superclass=Te(Nt.prototype,Nt),Un(Je,Wt),Un(_t,ve),_t},Ji=Qn,_a=function(_t,Nt){if(!O(_t))return-1;var Wt=Array.prototype.indexOf;if(Wt)return Wt.call(_t,Nt);for(var ve=-1,Te=0;Te<_t.length;Te++)if(_t[Te]===Nt){ve=Te;break}return ve},La=_a,wa=Object.prototype.hasOwnProperty;function an(_t){if(A(_t))return!0;if(O(_t))return!_t.length;var Nt=Et(_t);if(Nt==="Map"||Nt==="Set")return!_t.size;if(Re(_t))return!Object.keys(_t).length;for(var Wt in _t)if(wa.call(_t,Wt))return!1;return!0}var eo=an,ni=function(_t,Nt){if(_t===Nt)return!0;if(!_t||!Nt||Ot(_t)||Ot(Nt))return!1;if(O(_t)||O(Nt)){if(_t.length!==Nt.length)return!1;for(var Wt=!0,ve=0;ve<_t.length&&(Wt=ni(_t[ve],Nt[ve]),!!Wt);ve++);return Wt}if(wt(_t)||wt(Nt)){var Te=Object.keys(_t),Je=Object.keys(Nt);if(Te.length!==Je.length)return!1;for(var Wt=!0,ve=0;ve<Te.length&&(Wt=ni(_t[Te[ve]],Nt[Te[ve]]),!!Wt);ve++);return Wt}return!1},dn=ni,Hi=function(_t,Nt,Wt){return b(Wt)?!!Wt(_t,Nt):dn(_t,Nt)},cn=function(_t,Nt){if(!O(_t))return _t;for(var Wt=[],ve=0;ve<_t.length;ve++){var Te=_t[ve];Wt.push(Nt(Te,ve))}return Wt},ga=cn,Xt=function(_t){return _t},ct=function(_t,Nt){Nt===void 0&&(Nt=Xt);var Wt={};return N(_t)&&!A(_t)&&Object.keys(_t).forEach(function(ve){Wt[ve]=Nt(_t[ve],ve)}),Wt},x=function(_t,Nt,Wt){for(var ve=0,Te=Ot(Nt)?Nt.split("."):Nt;_t&&ve<Te.length;)_t=_t[Te[ve++]];return _t===void 0||ve<Te.length?Wt:_t},E=function(_t,Nt,Wt){var ve=_t,Te=Ot(Nt)?Nt.split("."):Nt;return Te.forEach(function(Je,Pr){Pr<Te.length-1?(N(ve[Je])||(ve[Je]=Ke(Te[Pr+1])?[]:{}),ve=ve[Je]):ve[Je]=Wt}),_t},L=Object.prototype.hasOwnProperty,R=function(_t,Nt){if(_t===null||!At(_t))return{};var Wt={};return j(Nt,function(ve){L.call(_t,ve)&&(Wt[ve]=_t[ve])}),Wt},W=function(_t,Nt){return ut(_t,function(Wt,ve,Te){return Nt.includes(Te)||(Wt[Te]=ve),Wt},{})},q=function(_t,Nt,Wt){var ve,Te,Je,Pr,fn=0;Wt||(Wt={});var di=function(){fn=Wt.leading===!1?0:Date.now(),ve=null,Pr=_t.apply(Te,Je),ve||(Te=Je=null)},Wi=function(){var qi=Date.now();!fn&&Wt.leading===!1&&(fn=qi);var Oo=Nt-(qi-fn);return Te=this,Je=arguments,Oo<=0||Oo>Nt?(ve&&(clearTimeout(ve),ve=null),fn=qi,Pr=_t.apply(Te,Je),ve||(Te=Je=null)):!ve&&Wt.trailing!==!1&&(ve=setTimeout(di,Oo)),Pr};return Wi.cancel=function(){clearTimeout(ve),fn=0,ve=Te=Je=null},Wi},dt=function(_t){return O(_t)?Array.prototype.slice.call(_t):[]},bt={},Tt=function(_t){return _t=_t||"g",bt[_t]?bt[_t]+=1:bt[_t]=1,_t+bt[_t]},Ft=function(){},te=function(_t){return _t};function ne(_t){return A(_t)?0:O(_t)?_t.length:Object.keys(_t).length}var xe=d(70655),Ae,be=ua(function(_t,Nt){Nt===void 0&&(Nt={});var Wt=Nt.fontSize,ve=Nt.fontFamily,Te=Nt.fontWeight,Je=Nt.fontStyle,Pr=Nt.fontVariant;return Ae||(Ae=document.createElement("canvas").getContext("2d")),Ae.font=[Je,Pr,Te,Wt+"px",ve].join(" "),Ae.measureText(Ot(_t)?_t:"").width},function(_t,Nt){return Nt===void 0&&(Nt={}),(0,xe.__spreadArrays)([_t],xi(Nt)).join("")}),Qe=function(_t,Nt,Wt,ve){ve===void 0&&(ve="...");var Te=16,Je=be(ve,Wt),Pr=Ot(_t)?_t:vi(_t),fn=Nt,di=[],Wi,qi;if(be(_t,Wt)<=Nt)return _t;for(;Wi=Pr.substr(0,Te),qi=be(Wi,Wt),!(qi+Je>fn&&qi>fn);)if(di.push(Wi),fn-=qi,Pr=Pr.substr(Te),!Pr)return di.join("");for(;Wi=Pr.substr(0,1),qi=be(Wi,Wt),!(qi+Je>fn);)if(di.push(Wi),fn-=qi,Pr=Pr.substr(1),!Pr)return di.join("");return""+di.join("")+ve},nr=function(){function _t(){this.map={}}return _t.prototype.has=function(Nt){return this.map[Nt]!==void 0},_t.prototype.get=function(Nt,Wt){var ve=this.map[Nt];return ve===void 0?Wt:ve},_t.prototype.set=function(Nt,Wt){this.map[Nt]=Wt},_t.prototype.clear=function(){this.map={}},_t.prototype.delete=function(Nt){delete this.map[Nt]},_t.prototype.size=function(){return Object.keys(this.map).length},_t}(),sr=nr},99581:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(66974),O=d(46812),D=function(){for(var k=[],I=0;I<arguments.length;I++)k[I]=arguments[I];for(var _=k[0],P=1;P<k.length;P++){var T=k[P];O.default(T)&&(T=T.prototype),S.default(_.prototype,T)}};C.default=D},68039:function(mt,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=function(){function S(){this.map={}}return S.prototype.has=function(O){return this.map[O]!==void 0},S.prototype.get=function(O,D){var k=this.map[O];return k===void 0?D:k},S.prototype.set=function(O,D){this.map[O]=D},S.prototype.clear=function(){this.map={}},S.prototype.delete=function(O){delete this.map[O]},S.prototype.size=function(){return Object.keys(this.map).length},S}();C.default=d},37339:function(mt,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=function(S,O,D){return S<O?O:S>D?D:S};C.default=d},35755:function(mt,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});function d(S){var O=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;O(S)}C.default=d},8289:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(66631),O=function(D){if(typeof D!="object"||D===null)return D;var k;if(S.default(D)){k=[];for(var I=0,_=D.length;I<_;I++)typeof D[I]=="object"&&D[I]!=null?k[I]=O(D[I]):k[I]=D[I]}else{k={};for(var P in D)typeof D[P]=="object"&&D[P]!=null?k[P]=O(D[P]):k[P]=D[P]}return k};C.default=O},75349:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(48102),O=function(D,k){return S.default(D)?D.indexOf(k)>-1:!1};C.default=O},79663:function(mt,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});function d(S,O,D){var k;return function(){var I=this,_=arguments,P=function(){k=null,D||S.apply(I,_)},T=D&&!k;clearTimeout(k),k=setTimeout(P,O),T&&S.apply(I,_)}}C.default=d},90497:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(66631),O=d(15907),D=5;function k(_,P,T,p){T=T||0,p=p||D;for(var w in P)if(P.hasOwnProperty(w)){var m=P[w];m!==null&&O.default(m)?(O.default(_[w])||(_[w]={}),T<p?k(_[w],m,T+1,p):_[w]=P[w]):S.default(m)?(_[w]=[],_[w]=_[w].concat(m)):m!==void 0&&(_[w]=m)}}var I=function(_){for(var P=[],T=1;T<arguments.length;T++)P[T-1]=arguments[T];for(var p=0;p<P.length;p+=1)k(_,P[p]);return _};C.default=I},25430:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(40007),O=d(75349),D=function(k,I){return I===void 0&&(I=[]),S.default(k,function(_){return!O.default(I,_)})};C.default=D},27154:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(66631),O=d(33643);function D(k,I){if(!!k){var _;if(S.default(k))for(var P=0,T=k.length;P<T&&(_=I(k[P],P),_!==!1);P++);else if(O.default(k)){for(var p in k)if(k.hasOwnProperty(p)&&(_=I(k[p],p),_===!1))break}}}C.default=D},61846:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(66631),O=d(21830);function D(k,I){return S.default(k)||O.default(k)?k[k.length-1]===I:!1}C.default=D},8153:function(mt,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=function(S,O){for(var D=0;D<S.length;D++)if(!O(S[D],D))return!1;return!0};C.default=d},13829:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(66974),O=d(46812),D=function(k,I,_,P){O.default(I)||(_=I,I=k,k=function(){});var T=Object.create?function(w,m){return Object.create(w,{constructor:{value:m}})}:function(w,m){function b(){}b.prototype=w;var y=new b;return y.constructor=m,y},p=T(I.prototype,k);return k.prototype=S.default(p,k.prototype),k.superclass=T(I.prototype,I),S.default(p,_),S.default(k,P),k};C.default=D},40007:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(48102),O=function(D,k){if(!S.default(D))return D;for(var I=[],_=0;_<D.length;_++){var P=D[_];k(P,_)&&I.push(P)}return I};C.default=O},90871:function(mt,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});function d(S,O,D){D===void 0&&(D=0);for(var k=D;k<S.length;k++)if(O(S[k],k))return k;return-1}C.default=d},32114:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(46812),O=d(20253),D=d(66631),k=d(15907);function I(_,P){if(!D.default(_))return null;var T;if(S.default(P)&&(T=P),k.default(P)&&(T=function(w){return O.default(w,P)}),T){for(var p=0;p<_.length;p+=1)if(T(_[p]))return _[p]}return null}C.default=I},84521:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(73890),O=d(66631),D=function(k,I){for(var _=null,P=0;P<k.length;P++){var T=k[P],p=T[I];if(!S.default(p)){O.default(p)?_=p[0]:_=p;break}}return _};C.default=D},14266:function(mt,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=function(S,O){var D=O.toString(),k=D.indexOf(".");if(k===-1)return Math.round(S);var I=D.substr(k+1).length;return I>20&&(I=20),parseFloat(S.toFixed(I))};C.default=d},61917:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(66631),O=function(D,k){if(k===void 0&&(k=[]),!S.default(D))k.push(D);else for(var I=0;I<D.length;I+=1)O(D[I],k);return k};C.default=O},30267:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(66631),O=function(D){if(!S.default(D))return[];for(var k=[],I=0;I<D.length;I++)k=k.concat(D[I]);return k};C.default=O},8361:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(27154);C.default=S.default},65616:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(21830),O=d(78127),D=d(13754);C.default=function(k,I,_,P){P===void 0&&(P="...");var T=16,p=D.default(P,_),w=S.default(k)?k:O.default(k),m=I,b=[],y,A;if(D.default(k,_)<=I)return k;for(;y=w.substr(0,T),A=D.default(y,_),!(A+p>m&&A>m);)if(b.push(y),m-=A,w=w.substr(T),!w)return b.join("");for(;y=w.substr(0,1),A=D.default(y,_),!(A+p>m);)if(b.push(y),m-=A,w=w.substr(1),!w)return b.join("");return""+b.join("")+P}},83236:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(66631),O=d(14705),D=d(45356),k=function(I){var _=I.filter(function(m){return!isNaN(m)});if(!_.length)return{min:0,max:0};if(S.default(I[0])){for(var P=[],T=0;T<I.length;T++)P=P.concat(I[T]);_=P}var p=O.default(_),w=D.default(_);return{min:w,max:p}};C.default=k},89175:function(mt,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d={}.toString,S=function(O){return d.call(O).replace(/^\[object /,"").replace(/]$/,"")};C.default=S},71668:function(mt,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});function d(S,O){return S["_wrap_"+O]}C.default=d},58070:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(21830);C.default=function(O,D,k){for(var I=0,_=S.default(D)?D.split("."):D;O&&I<_.length;)O=O[_[I++]];return O===void 0||I<_.length?k:O}},54544:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(66631),O=d(46812),D=Object.prototype.hasOwnProperty;function k(I,_){if(!_||!S.default(I))return{};for(var P={},T=O.default(_)?_:function(b){return b[_]},p,w=0;w<I.length;w++){var m=I[w];p=T(m),D.call(P,p)?P[p].push(m):P[p]=[m]}return P}C.default=k},64725:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(66631),O=d(46812),D=d(54544);function k(I,_){if(!_)return{0:I};if(!O.default(_)){var P=S.default(_)?_:_.replace(/\s+/g,"").split("*");_=function(T){for(var p="_",w=0,m=P.length;w<m;w++)p+=T[P[w]]&&T[P[w]].toString();return p}}return D.default(I,_)}C.default=k},93597:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(64725);C.default=function(O,D){if(!D)return[O];var k=S.default(O,D),I=[];for(var _ in k)I.push(k[_]);return I}},97507:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(57921);C.default=S.default},99969:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(75349),O=d(91161);C.default=function(D,k){return S.default(O.default(D),k)}},57921:function(mt,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=function(d,S){return d.hasOwnProperty(S)}},41169:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(48102);function O(D){if(S.default(D))return D[0]}C.default=O},80870:function(mt,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=function(d){return d}},40035:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(48102),O=function(D,k){if(!S.default(D))return-1;var I=Array.prototype.indexOf;if(I)return I.call(D,k);for(var _=-1,P=0;P<D.length;P++)if(D[P]===k){_=P;break}return _};C.default=O},50229:function(mt,C,d){"use strict";var S;S={value:!0};var O=d(75349);S={enumerable:!0,get:function(){return O.default}},S={enumerable:!0,get:function(){return O.default}};var D=d(25430);S={enumerable:!0,get:function(){return D.default}};var k=d(32114);S={enumerable:!0,get:function(){return k.default}};var I=d(90871);S={enumerable:!0,get:function(){return I.default}};var _=d(84521);S={enumerable:!0,get:function(){return _.default}};var P=d(30267);S={enumerable:!0,get:function(){return P.default}};var T=d(61917);S={enumerable:!0,get:function(){return T.default}};var p=d(83236);S={enumerable:!0,get:function(){return p.default}};var w=d(5220);S={enumerable:!0,get:function(){return w.default}};var m=d(50779);S={enumerable:!0,get:function(){return m.default}};var b=d(13847);S={enumerable:!0,get:function(){return b.default}};var y=d(89757);S={enumerable:!0,get:function(){return y.default}};var A=d(27599);S={enumerable:!0,get:function(){return A.default}};var B=d(58632);S={enumerable:!0,get:function(){return B.default}};var N=d(12619);S={enumerable:!0,get:function(){return N.default}};var G=d(29208);S={enumerable:!0,get:function(){return G.default}};var j=d(41169);S={enumerable:!0,get:function(){return j.default}};var J=d(95145);S={enumerable:!0,get:function(){return J.default}};var H=d(680);S={enumerable:!0,get:function(){return H.default}};var K=d(61846);S={enumerable:!0,get:function(){return K.default}};var st=d(40007);S={enumerable:!0,get:function(){return st.default}};var nt=d(8153);S={enumerable:!0,get:function(){return nt.default}};var wt=d(58175);S={enumerable:!0,get:function(){return wt.default}};var gt=d(93597);S={enumerable:!0,get:function(){return gt.default}};var At=d(54544);S={enumerable:!0,get:function(){return At.default}};var X=d(64725);S={enumerable:!0,get:function(){return X.default}};var Z=d(71668);S={enumerable:!0,get:function(){return Z.default}};var tt=d(61262);Object.defineProperty(C,"Ko",{enumerable:!0,get:function(){return tt.default}});var Q=d(45145);S={enumerable:!0,get:function(){return Q.default}};var vt=d(85418);S={enumerable:!0,get:function(){return vt.default}};var lt=d(37339);S={enumerable:!0,get:function(){return lt.default}};var rt=d(14266);S={enumerable:!0,get:function(){return rt.default}};var U=d(51008);S={enumerable:!0,get:function(){return U.default}};var $=d(45420);S={enumerable:!0,get:function(){return $.default}};var f=d(68221);S={enumerable:!0,get:function(){return f.default}};var xt=d(58706);S={enumerable:!0,get:function(){return xt.default}};var Ct=d(39984);S={enumerable:!0,get:function(){return Ct.default}};var Bt=d(32705);S={enumerable:!0,get:function(){return Bt.default}};var qt=d(75732);S={enumerable:!0,get:function(){return qt.default}};var Gt=d(14705);S={enumerable:!0,get:function(){return Gt.default}};var Jt=d(38935);S={enumerable:!0,get:function(){return Jt.default}};var ie=d(45356);S={enumerable:!0,get:function(){return ie.default}};var se=d(89857);S={enumerable:!0,get:function(){return se.default}};var Kt=d(5253);S={enumerable:!0,get:function(){return Kt.default}};var kt=d(2119);S={enumerable:!0,get:function(){return kt.default}};var Mt=d(23196);S={enumerable:!0,get:function(){return Mt.default}};var pt=d(9217);S={enumerable:!0,get:function(){return pt.default}};var Pt=d(8361);S={enumerable:!0,get:function(){return Pt.default}};var ut=d(57921);S={enumerable:!0,get:function(){return ut.default}};var at=d(97507);S={enumerable:!0,get:function(){return at.default}};var St=d(99969);S={enumerable:!0,get:function(){return St.default}};var Ot=d(85050);S={enumerable:!0,get:function(){return Ot.default}};var Ut=d(20253);S={enumerable:!0,get:function(){return Ut.default}};var oe=d(91161);S={enumerable:!0,get:function(){return oe.default}};var we=d(88362);S={enumerable:!0,get:function(){return we.default}};var Ie=d(56095);S={enumerable:!0,get:function(){return Ie.default}};var Be=d(35541);S={enumerable:!0,get:function(){return Be.default}};var ur=d(72660);S={enumerable:!0,get:function(){return ur.default}};var vr=d(85260);S={enumerable:!0,get:function(){return vr.default}};var fr=d(89175);S={enumerable:!0,get:function(){return fr.default}};var Ar=d(55039);S={enumerable:!0,get:function(){return Ar.default}};var or=d(66631);S={enumerable:!0,get:function(){return or.default}};var Gr=d(48102);S={enumerable:!0,get:function(){return Gr.default}};var ln=d(25873);S={enumerable:!0,get:function(){return ln.default}};var Nr=d(79396);S={enumerable:!0,get:function(){return Nr.default}};var nn=d(14230);S={enumerable:!0,get:function(){return nn.default}};var fi=d(46812);S={enumerable:!0,get:function(){return fi.default}};var hi=d(73420);S={enumerable:!0,get:function(){return hi.default}};var Si=d(73890);S={enumerable:!0,get:function(){return Si.default}};var Ci=d(85497);S={enumerable:!0,get:function(){return Ci.default}};var Vt=d(16185);S={enumerable:!0,get:function(){return Vt.default}};var $t=d(33643);S={enumerable:!0,get:function(){return $t.default}};var ae=d(70441);S={enumerable:!0,get:function(){return ae.default}};var he=d(15907);S={enumerable:!0,get:function(){return he.default}};var me=d(26296);S={enumerable:!0,get:function(){return me.default}};var Se=d(7877);S={enumerable:!0,get:function(){return Se.default}};var Ce=d(21830);Object.defineProperty(C,"HD",{enumerable:!0,get:function(){return Ce.default}});var Pe=d(44235);S={enumerable:!0,get:function(){return Pe.default}};var pe=d(25523);S={enumerable:!0,get:function(){return pe.default}};var Ve=d(58417);S={enumerable:!0,get:function(){return Ve.default}};var Ne=d(98229);S={enumerable:!0,get:function(){return Ne.default}};var er=d(35755);S={enumerable:!0,get:function(){return er.default}};var hr=d(99581);S={enumerable:!0,get:function(){return hr.default}};var rr=d(8289);Object.defineProperty(C,"d9",{enumerable:!0,get:function(){return rr.default}});var ar=d(79663);S={enumerable:!0,get:function(){return ar.default}};var lr=d(99834);S={enumerable:!0,get:function(){return lr.default}};var yr=d(90497);Object.defineProperty(C,"b$",{enumerable:!0,get:function(){return yr.default}});var Ke=d(27154);Object.defineProperty(C,"S6",{enumerable:!0,get:function(){return Ke.default}});var Er=d(13829);S={enumerable:!0,get:function(){return Er.default}};var Ir=d(40035);S={enumerable:!0,get:function(){return Ir.default}};var Lr=d(64029);S={enumerable:!0,get:function(){return Lr.default}};var Br=d(212);S={enumerable:!0,get:function(){return Br.default}};var jr=d(18112);S={enumerable:!0,get:function(){return jr.default}};var Hr=d(92693);S={enumerable:!0,get:function(){return Hr.default}};var kn=d(53497);S={enumerable:!0,get:function(){return kn.default}};var tn=d(66974);S={enumerable:!0,get:function(){return tn.default}},S={enumerable:!0,get:function(){return tn.default}};var Yn=d(58070);S={enumerable:!0,get:function(){return Yn.default}};var ti=d(64119);S={enumerable:!0,get:function(){return ti.default}};var jn=d(24263);S={enumerable:!0,get:function(){return jn.default}};var yi=d(14179);S={enumerable:!0,get:function(){return yi.default}};var _i=d(60979);S={enumerable:!0,get:function(){return _i.default}};var Tr=d(66668);S={enumerable:!0,get:function(){return Tr.default}};var mi=d(78127);S={enumerable:!0,get:function(){return mi.default}};var ci=d(67250);S={enumerable:!0,get:function(){return ci.default}};var ei=d(26851);S={enumerable:!0,get:function(){return ei.default}};var xn=d(80870);S={enumerable:!0,get:function(){return xn.default}};var ai=d(30597);S={enumerable:!0,get:function(){return ai.default}};var oi=d(13754);S={enumerable:!0,get:function(){return oi.default}};var ri=d(65616);S={enumerable:!0,get:function(){return ri.default}};var si=d(68039);S={enumerable:!0,get:function(){return si.default}}},55039:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(44235),O=function(D){return S.default(D,"Arguments")};C.default=O},48102:function(mt,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=function(S){return S!==null&&typeof S!="function"&&isFinite(S.length)};C.default=d},66631:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(44235);C.default=function(O){return Array.isArray?Array.isArray(O):S.default(O,"Array")}},25873:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(44235),O=function(D){return S.default(D,"Boolean")};C.default=O},79396:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(44235),O=function(D){return S.default(D,"Date")};C.default=O},51008:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(16185),O=function(D){return S.default(D)&&D%1!=0};C.default=O},58417:function(mt,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=function(S){return S instanceof Element||S instanceof HTMLDocument};C.default=d},64029:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(73890),O=d(48102),D=d(89175),k=d(26296),I=Object.prototype.hasOwnProperty;function _(P){if(S.default(P))return!0;if(O.default(P))return!P.length;var T=D.default(P);if(T==="Map"||T==="Set")return!P.size;if(k.default(P))return!Object.keys(P).length;for(var p in P)if(I.call(P,p))return!1;return!0}C.default=_},18112:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(46812),O=d(212);C.default=function(D,k,I){return S.default(I)?!!I(D,k):O.default(D,k)}},212:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(70441),O=d(48102),D=d(21830),k=function(I,_){if(I===_)return!0;if(!I||!_||D.default(I)||D.default(_))return!1;if(O.default(I)||O.default(_)){if(I.length!==_.length)return!1;for(var P=!0,T=0;T<I.length&&(P=k(I[T],_[T]),!!P);T++);return P}if(S.default(I)||S.default(_)){var p=Object.keys(I),w=Object.keys(_);if(p.length!==w.length)return!1;for(var P=!0,T=0;T<p.length&&(P=k(I[p[T]],_[p[T]]),!!P);T++);return P}return!1};C.default=k},14230:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(44235),O=function(D){return S.default(D,"Error")};C.default=O},45420:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(16185),O=function(D){return S.default(D)&&D%2==0};C.default=O},73420:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(16185);function O(D){return S.default(D)&&isFinite(D)}C.default=O},46812:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(44235);C.default=function(O){return S.default(O,"Function")}},68221:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(16185),O=Number.isInteger?Number.isInteger:function(D){return S.default(D)&&D%1==0};C.default=O},20253:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(73890),O=d(85050);function D(k,I){var _=O.default(I),P=_.length;if(S.default(k))return!P;for(var T=0;T<P;T+=1){var p=_[T];if(I[p]!==k[p]||!(p in k))return!1}return!0}C.default=D},58706:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(16185),O=function(D){return S.default(D)&&D<0};C.default=O},73890:function(mt,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=function(S){return S==null};C.default=d},85497:function(mt,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=function(S){return S===null};C.default=d},39984:function(mt,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=1e-5;function S(O,D,k){return k===void 0&&(k=d),Math.abs(O-D)<k}C.default=S},16185:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(44235),O=function(D){return S.default(D,"Number")};C.default=O},70441:function(mt,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=function(S){return typeof S=="object"&&S!==null};C.default=d},33643:function(mt,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=function(d){var S=typeof d;return d!==null&&S==="object"||S==="function"}},32705:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(16185),O=function(D){return S.default(D)&&D%2!=0};C.default=O},15907:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(70441),O=d(44235),D=function(k){if(!S.default(k)||!O.default(k,"Object"))return!1;if(Object.getPrototypeOf(k)===null)return!0;for(var I=k;Object.getPrototypeOf(I)!==null;)I=Object.getPrototypeOf(I);return Object.getPrototypeOf(k)===I};C.default=D},75732:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(16185),O=function(D){return S.default(D)&&D>0};C.default=O},26296:function(mt,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=Object.prototype,S=function(O){var D=O&&O.constructor,k=typeof D=="function"&&D.prototype||d;return O===k};C.default=S},7877:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(44235),O=function(D){return S.default(D,"RegExp")};C.default=O},21830:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(44235);C.default=function(O){return S.default(O,"String")}},44235:function(mt,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d={}.toString,S=function(O,D){return d.call(O)==="[object "+D+"]"};C.default=S},25523:function(mt,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=function(S){return S===void 0};C.default=d},85050:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(27154),O=d(46812),D=Object.keys?function(k){return Object.keys(k)}:function(k){var I=[];return S.default(k,function(_,P){O.default(k)&&P==="prototype"||I.push(P)}),I};C.default=D},95145:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(48102);function O(D){if(S.default(D)){var k=D;return k[k.length-1]}}C.default=O},88362:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(78127),O=function(D){return S.default(D).toLowerCase()};C.default=O},56095:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(78127),O=function(D){var k=S.default(D);return k.charAt(0).toLowerCase()+k.substring(1)};C.default=O},53497:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(73890),O=d(33643),D=function(k){return k};C.default=function(k,I){I===void 0&&(I=D);var _={};return O.default(k)&&!S.default(k)&&Object.keys(k).forEach(function(P){_[P]=I(k[P],P)}),_}},92693:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(48102),O=function(D,k){if(!S.default(D))return D;for(var I=[],_=0;_<D.length;_++){var P=D[_];I.push(k(P,_))}return I};C.default=O},38935:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(66631),O=d(46812);C.default=function(D,k){if(!!S.default(D)){for(var I,_=-Infinity,P=0;P<D.length;P++){var T=D[P],p=O.default(k)?k(T):T[k];p>_&&(I=T,_=p)}return I}}},14705:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(66631);C.default=function(O){if(!!S.default(O))return O.reduce(function(D,k){return Math.max(D,k)},O[0])}},13754:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(70655),O=d(91161),D=d(99834),k=d(21830),I;C.default=D.default(function(_,P){P===void 0&&(P={});var T=P.fontSize,p=P.fontFamily,w=P.fontWeight,m=P.fontStyle,b=P.fontVariant;return I||(I=document.createElement("canvas").getContext("2d")),I.font=[m,b,w,T+"px",p].join(" "),I.measureText(k.default(_)?_:"").width},function(_,P){return P===void 0&&(P={}),S.__spreadArrays([_],O.default(P)).join("")})},99834:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(46812);C.default=function(O,D){if(!S.default(O))throw new TypeError("Expected a function");var k=function(){for(var I=[],_=0;_<arguments.length;_++)I[_]=arguments[_];var P=D?D.apply(this,I):I[0],T=k.cache;if(T.has(P))return T.get(P);var p=O.apply(this,I);return T.set(P,p),p};return k.cache=new Map,k}},89857:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(66631),O=d(46812);C.default=function(D,k){if(!!S.default(D)){for(var I,_=Infinity,P=0;P<D.length;P++){var T=D[P],p=O.default(k)?k(T):T[k];p<_&&(I=T,_=p)}return I}}},45356:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(66631);C.default=function(O){if(!!S.default(O))return O.reduce(function(D,k){return Math.min(D,k)},O[0])}},66974:function(mt,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});function d(O,D){for(var k in D)D.hasOwnProperty(k)&&k!=="constructor"&&D[k]!==void 0&&(O[k]=D[k])}function S(O,D,k,I){return D&&d(O,D),k&&d(O,k),I&&d(O,I),O}C.default=S},5253:function(mt,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=function(S,O){return(S%O+O)%O};C.default=d},26851:function(mt,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=function(){}},45145:function(mt,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d={};function S(O){var D=d[O];if(!D){for(var k=O.toString(16),I=k.length;I<6;I++)k="0"+k;D="#"+k,d[O]=D}return D}C.default=S},14179:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(13847);C.default=function(O,D){return S.default(O,function(k,I,_){return D.includes(_)||(k[_]=I),k},{})}},85418:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(66631);function O(D){var k=0,I=0,_=0,P=0;return S.default(D)?D.length===1?k=I=_=P=D[0]:D.length===2?(k=_=D[0],I=P=D[1]):D.length===3?(k=D[0],I=P=D[1],_=D[2]):(k=D[0],I=D[1],_=D[2],P=D[3]):k=I=_=P=D,{r1:k,r2:I,r3:_,r4:P}}C.default=O},24263:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(27154),O=d(15907),D=Object.prototype.hasOwnProperty;C.default=function(k,I){if(k===null||!O.default(k))return{};var _={};return S.default(I,function(P){D.call(k,P)&&(_[P]=k[P])}),_}},50779:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(48102),O=Array.prototype.splice,D=function(I,_){if(!S.default(I))return[];for(var P=I?_.length:0,T=P-1;P--;){var p=void 0,w=_[P];(P===T||w!==p)&&(p=w,O.call(I,w,1))}return I};C.default=D},5220:function(mt,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=Array.prototype,S=d.splice,O=d.indexOf,D=function(k){for(var I=[],_=1;_<arguments.length;_++)I[_-1]=arguments[_];for(var P=0;P<I.length;P++)for(var T=I[P],p=-1;(p=O.call(k,T))>-1;)S.call(k,p,1);return k};C.default=D},13847:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(27154),O=d(66631),D=d(15907),k=function(I,_,P){if(!O.default(I)&&!D.default(I))return I;var T=P;return S.default(I,function(p,w){T=_(T,p,w)}),T};C.default=k},89757:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(48102),O=d(50779),D=function(k,I){var _=[];if(!S.default(k))return _;for(var P=-1,T=[],p=k.length;++P<p;){var w=k[P];I(w,P,k)&&(_.push(w),T.push(P))}return O.default(k,T),_};C.default=D},98229:function(mt,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});function d(S){var O=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(D){return setTimeout(D,16)};return O(S)}C.default=d},64119:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(33643),O=d(21830),D=d(16185);C.default=function(k,I,_){var P=k,T=O.default(I)?I.split("."):I;return T.forEach(function(p,w){w<T.length-1?(S.default(P[p])||(P[p]=D.default(T[w+1])?[]:{}),P=P[p]):P[p]=_}),k}},30597:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(73890),O=d(48102);function D(k){return S.default(k)?0:O.default(k)?k.length:Object.keys(k).length}C.default=D},58175:function(mt,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=function(S,O){for(var D=0;D<S.length;D++)if(O(S[D],D))return!0;return!1};C.default=d},27599:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(66631),O=d(21830),D=d(46812);function k(I,_){var P;if(D.default(_))P=function(p,w){return _(p)-_(w)};else{var T=[];O.default(_)?T.push(_):S.default(_)&&(T=_),P=function(p,w){for(var m=0;m<T.length;m+=1){var b=T[m];if(p[b]>w[b])return 1;if(p[b]<w[b])return-1}return 0}}return I.sort(P),I}C.default=k},680:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(66631),O=d(21830);function D(k,I){return S.default(k)||O.default(k)?k[0]===I:!1}C.default=D},35541:function(mt,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});function d(S,O){return!S||!O?S:S.replace(/\\?\{([^{}]+)\}/g,function(D,k){return D.charAt(0)==="\\"?D.slice(1):O[k]===void 0?"":O[k]})}C.default=d},60979:function(mt,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=function(d,S,O){var D,k,I,_,P=0;O||(O={});var T=function(){P=O.leading===!1?0:Date.now(),D=null,_=d.apply(k,I),D||(k=I=null)},p=function(){var w=Date.now();!P&&O.leading===!1&&(P=w);var m=S-(w-P);return k=this,I=arguments,m<=0||m>S?(D&&(clearTimeout(D),D=null),P=w,_=d.apply(k,I),D||(k=I=null)):!D&&O.trailing!==!1&&(D=setTimeout(T,m)),_};return p.cancel=function(){clearTimeout(D),P=0,D=k=I=null},p}},66668:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(48102);C.default=function(O){return S.default(O)?Array.prototype.slice.call(O):[]}},2119:function(mt,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=180/Math.PI,S=function(O){return d*O};C.default=S},23196:function(mt,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=parseInt},9217:function(mt,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=Math.PI/180,S=function(O){return d*O};C.default=S},78127:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(73890);C.default=function(O){return S.default(O)?"":O.toString()}},58632:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(12619),O=function(){for(var D=[],k=0;k<arguments.length;k++)D[k]=arguments[k];return S.default([].concat.apply([],D))};C.default=O},12619:function(mt,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});function d(S,O){O===void 0&&(O=new Map);var D=[];if(Array.isArray(S))for(var k=0,I=S.length;k<I;k++){var _=S[k];O.has(_)||(D.push(_),O.set(_,!0))}return D}C.default=d},67250:function(mt,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d={};C.default=function(S){return S=S||"g",d[S]?d[S]+=1:d[S]=1,S+d[S]}},72660:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(78127),O=function(D){return S.default(D).toUpperCase()};C.default=O},85260:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(78127),O=function(D){var k=S.default(D);return k.charAt(0).toUpperCase()+k.substring(1)};C.default=O},29208:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(66631),O=d(73890);C.default=function(D,k){for(var I=[],_={},P=0;P<D.length;P++){var T=D[P],p=T[k];if(!O.default(p)){S.default(p)||(p=[p]);for(var w=0;w<p.length;w++){var m=p[w];_[m]||(I.push(m),_[m]=!0)}}}return I}},91161:function(mt,C,d){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var S=d(27154),O=d(46812),D=Object.values?function(k){return Object.values(k)}:function(k){var I=[];return S.default(k,function(_,P){O.default(k)&&P==="prototype"||I.push(_)}),I};C.default=D},61262:function(mt,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});function d(S,O){if(S["_wrap_"+O])return S["_wrap_"+O];var D=function(k){S[O](k)};return S["_wrap_"+O]=D,D}C.default=d},62117:function(mt,C,d){"use strict";d.r(C),d.d(C,{__extends:function(){return O},__assign:function(){return D},__rest:function(){return k},__decorate:function(){return I},__param:function(){return _},__metadata:function(){return P},__awaiter:function(){return T},__generator:function(){return p},__createBinding:function(){return w},__exportStar:function(){return m},__values:function(){return b},__read:function(){return y},__spread:function(){return A},__spreadArrays:function(){return B},__await:function(){return N},__asyncGenerator:function(){return G},__asyncDelegator:function(){return j},__asyncValues:function(){return J},__makeTemplateObject:function(){return H},__importStar:function(){return K},__importDefault:function(){return st},__classPrivateFieldGet:function(){return nt},__classPrivateFieldSet:function(){return wt}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var S=function(At,X){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Z,tt){Z.__proto__=tt}||function(Z,tt){for(var Q in tt)tt.hasOwnProperty(Q)&&(Z[Q]=tt[Q])},S(At,X)};function O(gt,At){S(gt,At);function X(){this.constructor=gt}gt.prototype=At===null?Object.create(At):(X.prototype=At.prototype,new X)}var D=function(){return D=Object.assign||function(X){for(var Z,tt=1,Q=arguments.length;tt<Q;tt++){Z=arguments[tt];for(var vt in Z)Object.prototype.hasOwnProperty.call(Z,vt)&&(X[vt]=Z[vt])}return X},D.apply(this,arguments)};function k(gt,At){var X={};for(var Z in gt)Object.prototype.hasOwnProperty.call(gt,Z)&&At.indexOf(Z)<0&&(X[Z]=gt[Z]);if(gt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var tt=0,Z=Object.getOwnPropertySymbols(gt);tt<Z.length;tt++)At.indexOf(Z[tt])<0&&Object.prototype.propertyIsEnumerable.call(gt,Z[tt])&&(X[Z[tt]]=gt[Z[tt]]);return X}function I(gt,At,X,Z){var tt=arguments.length,Q=tt<3?At:Z===null?Z=Object.getOwnPropertyDescriptor(At,X):Z,vt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Q=Reflect.decorate(gt,At,X,Z);else for(var lt=gt.length-1;lt>=0;lt--)(vt=gt[lt])&&(Q=(tt<3?vt(Q):tt>3?vt(At,X,Q):vt(At,X))||Q);return tt>3&&Q&&Object.defineProperty(At,X,Q),Q}function _(gt,At){return function(X,Z){At(X,Z,gt)}}function P(gt,At){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(gt,At)}function T(gt,At,X,Z){function tt(Q){return Q instanceof X?Q:new X(function(vt){vt(Q)})}return new(X||(X=Promise))(function(Q,vt){function lt($){try{U(Z.next($))}catch(f){vt(f)}}function rt($){try{U(Z.throw($))}catch(f){vt(f)}}function U($){$.done?Q($.value):tt($.value).then(lt,rt)}U((Z=Z.apply(gt,At||[])).next())})}function p(gt,At){var X={label:0,sent:function(){if(Q[0]&1)throw Q[1];return Q[1]},trys:[],ops:[]},Z,tt,Q,vt;return vt={next:lt(0),throw:lt(1),return:lt(2)},typeof Symbol=="function"&&(vt[Symbol.iterator]=function(){return this}),vt;function lt(U){return function($){return rt([U,$])}}function rt(U){if(Z)throw new TypeError("Generator is already executing.");for(;X;)try{if(Z=1,tt&&(Q=U[0]&2?tt.return:U[0]?tt.throw||((Q=tt.return)&&Q.call(tt),0):tt.next)&&!(Q=Q.call(tt,U[1])).done)return Q;switch(tt=0,Q&&(U=[U[0]&2,Q.value]),U[0]){case 0:case 1:Q=U;break;case 4:return X.label++,{value:U[1],done:!1};case 5:X.label++,tt=U[1],U=[0];continue;case 7:U=X.ops.pop(),X.trys.pop();continue;default:if(Q=X.trys,!(Q=Q.length>0&&Q[Q.length-1])&&(U[0]===6||U[0]===2)){X=0;continue}if(U[0]===3&&(!Q||U[1]>Q[0]&&U[1]<Q[3])){X.label=U[1];break}if(U[0]===6&&X.label<Q[1]){X.label=Q[1],Q=U;break}if(Q&&X.label<Q[2]){X.label=Q[2],X.ops.push(U);break}Q[2]&&X.ops.pop(),X.trys.pop();continue}U=At.call(gt,X)}catch($){U=[6,$],tt=0}finally{Z=Q=0}if(U[0]&5)throw U[1];return{value:U[0]?U[1]:void 0,done:!0}}}function w(gt,At,X,Z){Z===void 0&&(Z=X),gt[Z]=At[X]}function m(gt,At){for(var X in gt)X!=="default"&&!At.hasOwnProperty(X)&&(At[X]=gt[X])}function b(gt){var At=typeof Symbol=="function"&&Symbol.iterator,X=At&&gt[At],Z=0;if(X)return X.call(gt);if(gt&&typeof gt.length=="number")return{next:function(){return gt&&Z>=gt.length&&(gt=void 0),{value:gt&&gt[Z++],done:!gt}}};throw new TypeError(At?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(gt,At){var X=typeof Symbol=="function"&&gt[Symbol.iterator];if(!X)return gt;var Z=X.call(gt),tt,Q=[],vt;try{for(;(At===void 0||At-- >0)&&!(tt=Z.next()).done;)Q.push(tt.value)}catch(lt){vt={error:lt}}finally{try{tt&&!tt.done&&(X=Z.return)&&X.call(Z)}finally{if(vt)throw vt.error}}return Q}function A(){for(var gt=[],At=0;At<arguments.length;At++)gt=gt.concat(y(arguments[At]));return gt}function B(){for(var gt=0,At=0,X=arguments.length;At<X;At++)gt+=arguments[At].length;for(var Z=Array(gt),tt=0,At=0;At<X;At++)for(var Q=arguments[At],vt=0,lt=Q.length;vt<lt;vt++,tt++)Z[tt]=Q[vt];return Z}function N(gt){return this instanceof N?(this.v=gt,this):new N(gt)}function G(gt,At,X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Z=X.apply(gt,At||[]),tt,Q=[];return tt={},vt("next"),vt("throw"),vt("return"),tt[Symbol.asyncIterator]=function(){return this},tt;function vt(xt){Z[xt]&&(tt[xt]=function(Ct){return new Promise(function(Bt,qt){Q.push([xt,Ct,Bt,qt])>1||lt(xt,Ct)})})}function lt(xt,Ct){try{rt(Z[xt](Ct))}catch(Bt){f(Q[0][3],Bt)}}function rt(xt){xt.value instanceof N?Promise.resolve(xt.value.v).then(U,$):f(Q[0][2],xt)}function U(xt){lt("next",xt)}function $(xt){lt("throw",xt)}function f(xt,Ct){xt(Ct),Q.shift(),Q.length&&lt(Q[0][0],Q[0][1])}}function j(gt){var At,X;return At={},Z("next"),Z("throw",function(tt){throw tt}),Z("return"),At[Symbol.iterator]=function(){return this},At;function Z(tt,Q){At[tt]=gt[tt]?function(vt){return(X=!X)?{value:N(gt[tt](vt)),done:tt==="return"}:Q?Q(vt):vt}:Q}}function J(gt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var At=gt[Symbol.asyncIterator],X;return At?At.call(gt):(gt=typeof b=="function"?b(gt):gt[Symbol.iterator](),X={},Z("next"),Z("throw"),Z("return"),X[Symbol.asyncIterator]=function(){return this},X);function Z(Q){X[Q]=gt[Q]&&function(vt){return new Promise(function(lt,rt){vt=gt[Q](vt),tt(lt,rt,vt.done,vt.value)})}}function tt(Q,vt,lt,rt){Promise.resolve(rt).then(function(U){Q({value:U,done:lt})},vt)}}function H(gt,At){return Object.defineProperty?Object.defineProperty(gt,"raw",{value:At}):gt.raw=At,gt}function K(gt){if(gt&&gt.__esModule)return gt;var At={};if(gt!=null)for(var X in gt)Object.hasOwnProperty.call(gt,X)&&(At[X]=gt[X]);return At.default=gt,At}function st(gt){return gt&&gt.__esModule?gt:{default:gt}}function nt(gt,At){if(!At.has(gt))throw new TypeError("attempted to get private field on non-instance");return At.get(gt)}function wt(gt,At,X){if(!At.has(gt))throw new TypeError("attempted to set private field on non-instance");return At.set(gt,X),X}},8108:function(mt,C,d){"use strict";d.r(C),d.d(C,{__extends:function(){return O},__assign:function(){return D},__rest:function(){return k},__decorate:function(){return I},__param:function(){return _},__metadata:function(){return P},__awaiter:function(){return T},__generator:function(){return p},__createBinding:function(){return w},__exportStar:function(){return m},__values:function(){return b},__read:function(){return y},__spread:function(){return A},__spreadArrays:function(){return B},__await:function(){return N},__asyncGenerator:function(){return G},__asyncDelegator:function(){return j},__asyncValues:function(){return J},__makeTemplateObject:function(){return H},__importStar:function(){return K},__importDefault:function(){return st},__classPrivateFieldGet:function(){return nt},__classPrivateFieldSet:function(){return wt}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var S=function(At,X){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Z,tt){Z.__proto__=tt}||function(Z,tt){for(var Q in tt)tt.hasOwnProperty(Q)&&(Z[Q]=tt[Q])},S(At,X)};function O(gt,At){S(gt,At);function X(){this.constructor=gt}gt.prototype=At===null?Object.create(At):(X.prototype=At.prototype,new X)}var D=function(){return D=Object.assign||function(X){for(var Z,tt=1,Q=arguments.length;tt<Q;tt++){Z=arguments[tt];for(var vt in Z)Object.prototype.hasOwnProperty.call(Z,vt)&&(X[vt]=Z[vt])}return X},D.apply(this,arguments)};function k(gt,At){var X={};for(var Z in gt)Object.prototype.hasOwnProperty.call(gt,Z)&&At.indexOf(Z)<0&&(X[Z]=gt[Z]);if(gt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var tt=0,Z=Object.getOwnPropertySymbols(gt);tt<Z.length;tt++)At.indexOf(Z[tt])<0&&Object.prototype.propertyIsEnumerable.call(gt,Z[tt])&&(X[Z[tt]]=gt[Z[tt]]);return X}function I(gt,At,X,Z){var tt=arguments.length,Q=tt<3?At:Z===null?Z=Object.getOwnPropertyDescriptor(At,X):Z,vt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Q=Reflect.decorate(gt,At,X,Z);else for(var lt=gt.length-1;lt>=0;lt--)(vt=gt[lt])&&(Q=(tt<3?vt(Q):tt>3?vt(At,X,Q):vt(At,X))||Q);return tt>3&&Q&&Object.defineProperty(At,X,Q),Q}function _(gt,At){return function(X,Z){At(X,Z,gt)}}function P(gt,At){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(gt,At)}function T(gt,At,X,Z){function tt(Q){return Q instanceof X?Q:new X(function(vt){vt(Q)})}return new(X||(X=Promise))(function(Q,vt){function lt($){try{U(Z.next($))}catch(f){vt(f)}}function rt($){try{U(Z.throw($))}catch(f){vt(f)}}function U($){$.done?Q($.value):tt($.value).then(lt,rt)}U((Z=Z.apply(gt,At||[])).next())})}function p(gt,At){var X={label:0,sent:function(){if(Q[0]&1)throw Q[1];return Q[1]},trys:[],ops:[]},Z,tt,Q,vt;return vt={next:lt(0),throw:lt(1),return:lt(2)},typeof Symbol=="function"&&(vt[Symbol.iterator]=function(){return this}),vt;function lt(U){return function($){return rt([U,$])}}function rt(U){if(Z)throw new TypeError("Generator is already executing.");for(;X;)try{if(Z=1,tt&&(Q=U[0]&2?tt.return:U[0]?tt.throw||((Q=tt.return)&&Q.call(tt),0):tt.next)&&!(Q=Q.call(tt,U[1])).done)return Q;switch(tt=0,Q&&(U=[U[0]&2,Q.value]),U[0]){case 0:case 1:Q=U;break;case 4:return X.label++,{value:U[1],done:!1};case 5:X.label++,tt=U[1],U=[0];continue;case 7:U=X.ops.pop(),X.trys.pop();continue;default:if(Q=X.trys,!(Q=Q.length>0&&Q[Q.length-1])&&(U[0]===6||U[0]===2)){X=0;continue}if(U[0]===3&&(!Q||U[1]>Q[0]&&U[1]<Q[3])){X.label=U[1];break}if(U[0]===6&&X.label<Q[1]){X.label=Q[1],Q=U;break}if(Q&&X.label<Q[2]){X.label=Q[2],X.ops.push(U);break}Q[2]&&X.ops.pop(),X.trys.pop();continue}U=At.call(gt,X)}catch($){U=[6,$],tt=0}finally{Z=Q=0}if(U[0]&5)throw U[1];return{value:U[0]?U[1]:void 0,done:!0}}}function w(gt,At,X,Z){Z===void 0&&(Z=X),gt[Z]=At[X]}function m(gt,At){for(var X in gt)X!=="default"&&!At.hasOwnProperty(X)&&(At[X]=gt[X])}function b(gt){var At=typeof Symbol=="function"&&Symbol.iterator,X=At&&gt[At],Z=0;if(X)return X.call(gt);if(gt&&typeof gt.length=="number")return{next:function(){return gt&&Z>=gt.length&&(gt=void 0),{value:gt&&gt[Z++],done:!gt}}};throw new TypeError(At?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(gt,At){var X=typeof Symbol=="function"&&gt[Symbol.iterator];if(!X)return gt;var Z=X.call(gt),tt,Q=[],vt;try{for(;(At===void 0||At-- >0)&&!(tt=Z.next()).done;)Q.push(tt.value)}catch(lt){vt={error:lt}}finally{try{tt&&!tt.done&&(X=Z.return)&&X.call(Z)}finally{if(vt)throw vt.error}}return Q}function A(){for(var gt=[],At=0;At<arguments.length;At++)gt=gt.concat(y(arguments[At]));return gt}function B(){for(var gt=0,At=0,X=arguments.length;At<X;At++)gt+=arguments[At].length;for(var Z=Array(gt),tt=0,At=0;At<X;At++)for(var Q=arguments[At],vt=0,lt=Q.length;vt<lt;vt++,tt++)Z[tt]=Q[vt];return Z}function N(gt){return this instanceof N?(this.v=gt,this):new N(gt)}function G(gt,At,X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Z=X.apply(gt,At||[]),tt,Q=[];return tt={},vt("next"),vt("throw"),vt("return"),tt[Symbol.asyncIterator]=function(){return this},tt;function vt(xt){Z[xt]&&(tt[xt]=function(Ct){return new Promise(function(Bt,qt){Q.push([xt,Ct,Bt,qt])>1||lt(xt,Ct)})})}function lt(xt,Ct){try{rt(Z[xt](Ct))}catch(Bt){f(Q[0][3],Bt)}}function rt(xt){xt.value instanceof N?Promise.resolve(xt.value.v).then(U,$):f(Q[0][2],xt)}function U(xt){lt("next",xt)}function $(xt){lt("throw",xt)}function f(xt,Ct){xt(Ct),Q.shift(),Q.length&&lt(Q[0][0],Q[0][1])}}function j(gt){var At,X;return At={},Z("next"),Z("throw",function(tt){throw tt}),Z("return"),At[Symbol.iterator]=function(){return this},At;function Z(tt,Q){At[tt]=gt[tt]?function(vt){return(X=!X)?{value:N(gt[tt](vt)),done:tt==="return"}:Q?Q(vt):vt}:Q}}function J(gt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var At=gt[Symbol.asyncIterator],X;return At?At.call(gt):(gt=typeof b=="function"?b(gt):gt[Symbol.iterator](),X={},Z("next"),Z("throw"),Z("return"),X[Symbol.asyncIterator]=function(){return this},X);function Z(Q){X[Q]=gt[Q]&&function(vt){return new Promise(function(lt,rt){vt=gt[Q](vt),tt(lt,rt,vt.done,vt.value)})}}function tt(Q,vt,lt,rt){Promise.resolve(rt).then(function(U){Q({value:U,done:lt})},vt)}}function H(gt,At){return Object.defineProperty?Object.defineProperty(gt,"raw",{value:At}):gt.raw=At,gt}function K(gt){if(gt&&gt.__esModule)return gt;var At={};if(gt!=null)for(var X in gt)Object.hasOwnProperty.call(gt,X)&&(At[X]=gt[X]);return At.default=gt,At}function st(gt){return gt&&gt.__esModule?gt:{default:gt}}function nt(gt,At){if(!At.has(gt))throw new TypeError("attempted to get private field on non-instance");return At.get(gt)}function wt(gt,At,X){if(!At.has(gt))throw new TypeError("attempted to set private field on non-instance");return At.set(gt,X),X}},15746:function(mt,C,d){"use strict";var S=d(21584);C.Z=S.Z},89032:function(mt,C,d){"use strict";var S=d(38663),O=d.n(S),D=d(6999)},71230:function(mt,C,d){"use strict";var S=d(92820);C.Z=S.Z},13062:function(mt,C,d){"use strict";var S=d(38663),O=d.n(S),D=d(6999)},48168:function(mt,C,d){var S=d(39092),O={};for(var D in S)S.hasOwnProperty(D)&&(O[S[D]]=D);var k=mt.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var I in k)if(k.hasOwnProperty(I)){if(!("channels"in k[I]))throw new Error("missing channels property: "+I);if(!("labels"in k[I]))throw new Error("missing channel labels property: "+I);if(k[I].labels.length!==k[I].channels)throw new Error("channel and label counts mismatch: "+I);var _=k[I].channels,P=k[I].labels;delete k[I].channels,delete k[I].labels,Object.defineProperty(k[I],"channels",{value:_}),Object.defineProperty(k[I],"labels",{value:P})}k.rgb.hsl=function(p){var w=p[0]/255,m=p[1]/255,b=p[2]/255,y=Math.min(w,m,b),A=Math.max(w,m,b),B=A-y,N,G,j;return A===y?N=0:w===A?N=(m-b)/B:m===A?N=2+(b-w)/B:b===A&&(N=4+(w-m)/B),N=Math.min(N*60,360),N<0&&(N+=360),j=(y+A)/2,A===y?G=0:j<=.5?G=B/(A+y):G=B/(2-A-y),[N,G*100,j*100]},k.rgb.hsv=function(p){var w,m,b,y,A,B=p[0]/255,N=p[1]/255,G=p[2]/255,j=Math.max(B,N,G),J=j-Math.min(B,N,G),H=function(K){return(j-K)/6/J+1/2};return J===0?y=A=0:(A=J/j,w=H(B),m=H(N),b=H(G),B===j?y=b-m:N===j?y=1/3+w-b:G===j&&(y=2/3+m-w),y<0?y+=1:y>1&&(y-=1)),[y*360,A*100,j*100]},k.rgb.hwb=function(p){var w=p[0],m=p[1],b=p[2],y=k.rgb.hsl(p)[0],A=1/255*Math.min(w,Math.min(m,b));return b=1-1/255*Math.max(w,Math.max(m,b)),[y,A*100,b*100]},k.rgb.cmyk=function(p){var w=p[0]/255,m=p[1]/255,b=p[2]/255,y,A,B,N;return N=Math.min(1-w,1-m,1-b),y=(1-w-N)/(1-N)||0,A=(1-m-N)/(1-N)||0,B=(1-b-N)/(1-N)||0,[y*100,A*100,B*100,N*100]};function T(p,w){return Math.pow(p[0]-w[0],2)+Math.pow(p[1]-w[1],2)+Math.pow(p[2]-w[2],2)}k.rgb.keyword=function(p){var w=O[p];if(w)return w;var m=Infinity,b;for(var y in S)if(S.hasOwnProperty(y)){var A=S[y],B=T(p,A);B<m&&(m=B,b=y)}return b},k.keyword.rgb=function(p){return S[p]},k.rgb.xyz=function(p){var w=p[0]/255,m=p[1]/255,b=p[2]/255;w=w>.04045?Math.pow((w+.055)/1.055,2.4):w/12.92,m=m>.04045?Math.pow((m+.055)/1.055,2.4):m/12.92,b=b>.04045?Math.pow((b+.055)/1.055,2.4):b/12.92;var y=w*.4124+m*.3576+b*.1805,A=w*.2126+m*.7152+b*.0722,B=w*.0193+m*.1192+b*.9505;return[y*100,A*100,B*100]},k.rgb.lab=function(p){var w=k.rgb.xyz(p),m=w[0],b=w[1],y=w[2],A,B,N;return m/=95.047,b/=100,y/=108.883,m=m>.008856?Math.pow(m,1/3):7.787*m+16/116,b=b>.008856?Math.pow(b,1/3):7.787*b+16/116,y=y>.008856?Math.pow(y,1/3):7.787*y+16/116,A=116*b-16,B=500*(m-b),N=200*(b-y),[A,B,N]},k.hsl.rgb=function(p){var w=p[0]/360,m=p[1]/100,b=p[2]/100,y,A,B,N,G;if(m===0)return G=b*255,[G,G,G];b<.5?A=b*(1+m):A=b+m-b*m,y=2*b-A,N=[0,0,0];for(var j=0;j<3;j++)B=w+1/3*-(j-1),B<0&&B++,B>1&&B--,6*B<1?G=y+(A-y)*6*B:2*B<1?G=A:3*B<2?G=y+(A-y)*(2/3-B)*6:G=y,N[j]=G*255;return N},k.hsl.hsv=function(p){var w=p[0],m=p[1]/100,b=p[2]/100,y=m,A=Math.max(b,.01),B,N;return b*=2,m*=b<=1?b:2-b,y*=A<=1?A:2-A,N=(b+m)/2,B=b===0?2*y/(A+y):2*m/(b+m),[w,B*100,N*100]},k.hsv.rgb=function(p){var w=p[0]/60,m=p[1]/100,b=p[2]/100,y=Math.floor(w)%6,A=w-Math.floor(w),B=255*b*(1-m),N=255*b*(1-m*A),G=255*b*(1-m*(1-A));switch(b*=255,y){case 0:return[b,G,B];case 1:return[N,b,B];case 2:return[B,b,G];case 3:return[B,N,b];case 4:return[G,B,b];case 5:return[b,B,N]}},k.hsv.hsl=function(p){var w=p[0],m=p[1]/100,b=p[2]/100,y=Math.max(b,.01),A,B,N;return N=(2-m)*b,A=(2-m)*y,B=m*y,B/=A<=1?A:2-A,B=B||0,N/=2,[w,B*100,N*100]},k.hwb.rgb=function(p){var w=p[0]/360,m=p[1]/100,b=p[2]/100,y=m+b,A,B,N,G;y>1&&(m/=y,b/=y),A=Math.floor(6*w),B=1-b,N=6*w-A,(A&1)!=0&&(N=1-N),G=m+N*(B-m);var j,J,H;switch(A){default:case 6:case 0:j=B,J=G,H=m;break;case 1:j=G,J=B,H=m;break;case 2:j=m,J=B,H=G;break;case 3:j=m,J=G,H=B;break;case 4:j=G,J=m,H=B;break;case 5:j=B,J=m,H=G;break}return[j*255,J*255,H*255]},k.cmyk.rgb=function(p){var w=p[0]/100,m=p[1]/100,b=p[2]/100,y=p[3]/100,A,B,N;return A=1-Math.min(1,w*(1-y)+y),B=1-Math.min(1,m*(1-y)+y),N=1-Math.min(1,b*(1-y)+y),[A*255,B*255,N*255]},k.xyz.rgb=function(p){var w=p[0]/100,m=p[1]/100,b=p[2]/100,y,A,B;return y=w*3.2406+m*-1.5372+b*-.4986,A=w*-.9689+m*1.8758+b*.0415,B=w*.0557+m*-.204+b*1.057,y=y>.0031308?1.055*Math.pow(y,1/2.4)-.055:y*12.92,A=A>.0031308?1.055*Math.pow(A,1/2.4)-.055:A*12.92,B=B>.0031308?1.055*Math.pow(B,1/2.4)-.055:B*12.92,y=Math.min(Math.max(0,y),1),A=Math.min(Math.max(0,A),1),B=Math.min(Math.max(0,B),1),[y*255,A*255,B*255]},k.xyz.lab=function(p){var w=p[0],m=p[1],b=p[2],y,A,B;return w/=95.047,m/=100,b/=108.883,w=w>.008856?Math.pow(w,1/3):7.787*w+16/116,m=m>.008856?Math.pow(m,1/3):7.787*m+16/116,b=b>.008856?Math.pow(b,1/3):7.787*b+16/116,y=116*m-16,A=500*(w-m),B=200*(m-b),[y,A,B]},k.lab.xyz=function(p){var w=p[0],m=p[1],b=p[2],y,A,B;A=(w+16)/116,y=m/500+A,B=A-b/200;var N=Math.pow(A,3),G=Math.pow(y,3),j=Math.pow(B,3);return A=N>.008856?N:(A-16/116)/7.787,y=G>.008856?G:(y-16/116)/7.787,B=j>.008856?j:(B-16/116)/7.787,y*=95.047,A*=100,B*=108.883,[y,A,B]},k.lab.lch=function(p){var w=p[0],m=p[1],b=p[2],y,A,B;return y=Math.atan2(b,m),A=y*360/2/Math.PI,A<0&&(A+=360),B=Math.sqrt(m*m+b*b),[w,B,A]},k.lch.lab=function(p){var w=p[0],m=p[1],b=p[2],y,A,B;return B=b/360*2*Math.PI,y=m*Math.cos(B),A=m*Math.sin(B),[w,y,A]},k.rgb.ansi16=function(p){var w=p[0],m=p[1],b=p[2],y=1 in arguments?arguments[1]:k.rgb.hsv(p)[2];if(y=Math.round(y/50),y===0)return 30;var A=30+(Math.round(b/255)<<2|Math.round(m/255)<<1|Math.round(w/255));return y===2&&(A+=60),A},k.hsv.ansi16=function(p){return k.rgb.ansi16(k.hsv.rgb(p),p[2])},k.rgb.ansi256=function(p){var w=p[0],m=p[1],b=p[2];if(w===m&&m===b)return w<8?16:w>248?231:Math.round((w-8)/247*24)+232;var y=16+36*Math.round(w/255*5)+6*Math.round(m/255*5)+Math.round(b/255*5);return y},k.ansi16.rgb=function(p){var w=p%10;if(w===0||w===7)return p>50&&(w+=3.5),w=w/10.5*255,[w,w,w];var m=(~~(p>50)+1)*.5,b=(w&1)*m*255,y=(w>>1&1)*m*255,A=(w>>2&1)*m*255;return[b,y,A]},k.ansi256.rgb=function(p){if(p>=232){var w=(p-232)*10+8;return[w,w,w]}p-=16;var m,b=Math.floor(p/36)/5*255,y=Math.floor((m=p%36)/6)/5*255,A=m%6/5*255;return[b,y,A]},k.rgb.hex=function(p){var w=((Math.round(p[0])&255)<<16)+((Math.round(p[1])&255)<<8)+(Math.round(p[2])&255),m=w.toString(16).toUpperCase();return"000000".substring(m.length)+m},k.hex.rgb=function(p){var w=p.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!w)return[0,0,0];var m=w[0];w[0].length===3&&(m=m.split("").map(function(N){return N+N}).join(""));var b=parseInt(m,16),y=b>>16&255,A=b>>8&255,B=b&255;return[y,A,B]},k.rgb.hcg=function(p){var w=p[0]/255,m=p[1]/255,b=p[2]/255,y=Math.max(Math.max(w,m),b),A=Math.min(Math.min(w,m),b),B=y-A,N,G;return B<1?N=A/(1-B):N=0,B<=0?G=0:y===w?G=(m-b)/B%6:y===m?G=2+(b-w)/B:G=4+(w-m)/B+4,G/=6,G%=1,[G*360,B*100,N*100]},k.hsl.hcg=function(p){var w=p[1]/100,m=p[2]/100,b=1,y=0;return m<.5?b=2*w*m:b=2*w*(1-m),b<1&&(y=(m-.5*b)/(1-b)),[p[0],b*100,y*100]},k.hsv.hcg=function(p){var w=p[1]/100,m=p[2]/100,b=w*m,y=0;return b<1&&(y=(m-b)/(1-b)),[p[0],b*100,y*100]},k.hcg.rgb=function(p){var w=p[0]/360,m=p[1]/100,b=p[2]/100;if(m===0)return[b*255,b*255,b*255];var y=[0,0,0],A=w%1*6,B=A%1,N=1-B,G=0;switch(Math.floor(A)){case 0:y[0]=1,y[1]=B,y[2]=0;break;case 1:y[0]=N,y[1]=1,y[2]=0;break;case 2:y[0]=0,y[1]=1,y[2]=B;break;case 3:y[0]=0,y[1]=N,y[2]=1;break;case 4:y[0]=B,y[1]=0,y[2]=1;break;default:y[0]=1,y[1]=0,y[2]=N}return G=(1-m)*b,[(m*y[0]+G)*255,(m*y[1]+G)*255,(m*y[2]+G)*255]},k.hcg.hsv=function(p){var w=p[1]/100,m=p[2]/100,b=w+m*(1-w),y=0;return b>0&&(y=w/b),[p[0],y*100,b*100]},k.hcg.hsl=function(p){var w=p[1]/100,m=p[2]/100,b=m*(1-w)+.5*w,y=0;return b>0&&b<.5?y=w/(2*b):b>=.5&&b<1&&(y=w/(2*(1-b))),[p[0],y*100,b*100]},k.hcg.hwb=function(p){var w=p[1]/100,m=p[2]/100,b=w+m*(1-w);return[p[0],(b-w)*100,(1-b)*100]},k.hwb.hcg=function(p){var w=p[1]/100,m=p[2]/100,b=1-m,y=b-w,A=0;return y<1&&(A=(b-y)/(1-y)),[p[0],y*100,A*100]},k.apple.rgb=function(p){return[p[0]/65535*255,p[1]/65535*255,p[2]/65535*255]},k.rgb.apple=function(p){return[p[0]/255*65535,p[1]/255*65535,p[2]/255*65535]},k.gray.rgb=function(p){return[p[0]/100*255,p[0]/100*255,p[0]/100*255]},k.gray.hsl=k.gray.hsv=function(p){return[0,0,p[0]]},k.gray.hwb=function(p){return[0,100,p[0]]},k.gray.cmyk=function(p){return[0,0,0,p[0]]},k.gray.lab=function(p){return[p[0],0,0]},k.gray.hex=function(p){var w=Math.round(p[0]/100*255)&255,m=(w<<16)+(w<<8)+w,b=m.toString(16).toUpperCase();return"000000".substring(b.length)+b},k.rgb.gray=function(p){var w=(p[0]+p[1]+p[2])/3;return[w/255*100]}},12085:function(mt,C,d){var S=d(48168),O=d(4111),D={},k=Object.keys(S);function I(P){var T=function(p){return p==null?p:(arguments.length>1&&(p=Array.prototype.slice.call(arguments)),P(p))};return"conversion"in P&&(T.conversion=P.conversion),T}function _(P){var T=function(p){if(p==null)return p;arguments.length>1&&(p=Array.prototype.slice.call(arguments));var w=P(p);if(typeof w=="object")for(var m=w.length,b=0;b<m;b++)w[b]=Math.round(w[b]);return w};return"conversion"in P&&(T.conversion=P.conversion),T}k.forEach(function(P){D[P]={},Object.defineProperty(D[P],"channels",{value:S[P].channels}),Object.defineProperty(D[P],"labels",{value:S[P].labels});var T=O(P),p=Object.keys(T);p.forEach(function(w){var m=T[w];D[P][w]=_(m),D[P][w].raw=I(m)})}),mt.exports=D},39092:function(mt){"use strict";mt.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},4111:function(mt,C,d){var S=d(48168);function O(){for(var _={},P=Object.keys(S),T=P.length,p=0;p<T;p++)_[P[p]]={distance:-1,parent:null};return _}function D(_){var P=O(),T=[_];for(P[_].distance=0;T.length;)for(var p=T.pop(),w=Object.keys(S[p]),m=w.length,b=0;b<m;b++){var y=w[b],A=P[y];A.distance===-1&&(A.distance=P[p].distance+1,A.parent=p,T.unshift(y))}return P}function k(_,P){return function(T){return P(_(T))}}function I(_,P){for(var T=[P[_].parent,_],p=S[P[_].parent][_],w=P[_].parent;P[w].parent;)T.unshift(P[w].parent),p=k(S[P[w].parent][w],p),w=P[w].parent;return p.conversion=T,p}mt.exports=function(_){for(var P=D(_),T={},p=Object.keys(P),w=p.length,m=0;m<w;m++){var b=p[m],y=P[b];y.parent!==null&&(T[b]=I(b,P))}return T}},8874:function(mt){"use strict";mt.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},19818:function(mt,C,d){var S=d(8874),O=d(86851),D=Object.hasOwnProperty,k={};for(var I in S)D.call(S,I)&&(k[S[I]]=I);var _=mt.exports={to:{},get:{}};_.get=function(p){var w=p.substring(0,3).toLowerCase(),m,b;switch(w){case"hsl":m=_.get.hsl(p),b="hsl";break;case"hwb":m=_.get.hwb(p),b="hwb";break;default:m=_.get.rgb(p),b="rgb";break}return m?{model:b,value:m}:null},_.get.rgb=function(p){if(!p)return null;var w=/^#([a-f0-9]{3,4})$/i,m=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,b=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,y=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,A=/^(\w+)$/,B=[0,0,0,1],N,G,j;if(N=p.match(m)){for(j=N[2],N=N[1],G=0;G<3;G++){var J=G*2;B[G]=parseInt(N.slice(J,J+2),16)}j&&(B[3]=parseInt(j,16)/255)}else if(N=p.match(w)){for(N=N[1],j=N[3],G=0;G<3;G++)B[G]=parseInt(N[G]+N[G],16);j&&(B[3]=parseInt(j+j,16)/255)}else if(N=p.match(b)){for(G=0;G<3;G++)B[G]=parseInt(N[G+1],0);N[4]&&(N[5]?B[3]=parseFloat(N[4])*.01:B[3]=parseFloat(N[4]))}else if(N=p.match(y)){for(G=0;G<3;G++)B[G]=Math.round(parseFloat(N[G+1])*2.55);N[4]&&(N[5]?B[3]=parseFloat(N[4])*.01:B[3]=parseFloat(N[4]))}else return(N=p.match(A))?N[1]==="transparent"?[0,0,0,0]:D.call(S,N[1])?(B=S[N[1]],B[3]=1,B):null:null;for(G=0;G<3;G++)B[G]=P(B[G],0,255);return B[3]=P(B[3],0,1),B},_.get.hsl=function(p){if(!p)return null;var w=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,m=p.match(w);if(m){var b=parseFloat(m[4]),y=(parseFloat(m[1])%360+360)%360,A=P(parseFloat(m[2]),0,100),B=P(parseFloat(m[3]),0,100),N=P(isNaN(b)?1:b,0,1);return[y,A,B,N]}return null},_.get.hwb=function(p){if(!p)return null;var w=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,m=p.match(w);if(m){var b=parseFloat(m[4]),y=(parseFloat(m[1])%360+360)%360,A=P(parseFloat(m[2]),0,100),B=P(parseFloat(m[3]),0,100),N=P(isNaN(b)?1:b,0,1);return[y,A,B,N]}return null},_.to.hex=function(){var p=O(arguments);return"#"+T(p[0])+T(p[1])+T(p[2])+(p[3]<1?T(Math.round(p[3]*255)):"")},_.to.rgb=function(){var p=O(arguments);return p.length<4||p[3]===1?"rgb("+Math.round(p[0])+", "+Math.round(p[1])+", "+Math.round(p[2])+")":"rgba("+Math.round(p[0])+", "+Math.round(p[1])+", "+Math.round(p[2])+", "+p[3]+")"},_.to.rgb.percent=function(){var p=O(arguments),w=Math.round(p[0]/255*100),m=Math.round(p[1]/255*100),b=Math.round(p[2]/255*100);return p.length<4||p[3]===1?"rgb("+w+"%, "+m+"%, "+b+"%)":"rgba("+w+"%, "+m+"%, "+b+"%, "+p[3]+")"},_.to.hsl=function(){var p=O(arguments);return p.length<4||p[3]===1?"hsl("+p[0]+", "+p[1]+"%, "+p[2]+"%)":"hsla("+p[0]+", "+p[1]+"%, "+p[2]+"%, "+p[3]+")"},_.to.hwb=function(){var p=O(arguments),w="";return p.length>=4&&p[3]!==1&&(w=", "+p[3]),"hwb("+p[0]+", "+p[1]+"%, "+p[2]+"%"+w+")"},_.to.keyword=function(p){return k[p.slice(0,3)]};function P(p,w,m){return Math.min(Math.max(w,p),m)}function T(p){var w=Math.round(p).toString(16).toUpperCase();return w.length<2?"0"+w:w}},6767:function(mt,C,d){"use strict";var S=d(19818),O=d(12085),D=[].slice,k=["keyword","gray","hex"],I={};Object.keys(O).forEach(function(A){I[D.call(O[A].labels).sort().join("")]=A});var _={};function P(A,B){if(!(this instanceof P))return new P(A,B);if(B&&B in k&&(B=null),B&&!(B in O))throw new Error("Unknown model: "+B);var N,G;if(A==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(A instanceof P)this.model=A.model,this.color=A.color.slice(),this.valpha=A.valpha;else if(typeof A=="string"){var j=S.get(A);if(j===null)throw new Error("Unable to parse color from string: "+A);this.model=j.model,G=O[this.model].channels,this.color=j.value.slice(0,G),this.valpha=typeof j.value[G]=="number"?j.value[G]:1}else if(A.length){this.model=B||"rgb",G=O[this.model].channels;var J=D.call(A,0,G);this.color=y(J,G),this.valpha=typeof A[G]=="number"?A[G]:1}else if(typeof A=="number")A&=16777215,this.model="rgb",this.color=[A>>16&255,A>>8&255,A&255],this.valpha=1;else{this.valpha=1;var H=Object.keys(A);"alpha"in A&&(H.splice(H.indexOf("alpha"),1),this.valpha=typeof A.alpha=="number"?A.alpha:0);var K=H.sort().join("");if(!(K in I))throw new Error("Unable to parse color from object: "+JSON.stringify(A));this.model=I[K];var st=O[this.model].labels,nt=[];for(N=0;N<st.length;N++)nt.push(A[st[N]]);this.color=y(nt)}if(_[this.model])for(G=O[this.model].channels,N=0;N<G;N++){var wt=_[this.model][N];wt&&(this.color[N]=wt(this.color[N]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}P.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(A){var B=this.model in S.to?this:this.rgb();B=B.round(typeof A=="number"?A:1);var N=B.valpha===1?B.color:B.color.concat(this.valpha);return S.to[B.model](N)},percentString:function(A){var B=this.rgb().round(typeof A=="number"?A:1),N=B.valpha===1?B.color:B.color.concat(this.valpha);return S.to.rgb.percent(N)},array:function(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var A={},B=O[this.model].channels,N=O[this.model].labels,G=0;G<B;G++)A[N[G]]=this.color[G];return this.valpha!==1&&(A.alpha=this.valpha),A},unitArray:function(){var A=this.rgb().color;return A[0]/=255,A[1]/=255,A[2]/=255,this.valpha!==1&&A.push(this.valpha),A},unitObject:function(){var A=this.rgb().object();return A.r/=255,A.g/=255,A.b/=255,this.valpha!==1&&(A.alpha=this.valpha),A},round:function(A){return A=Math.max(A||0,0),new P(this.color.map(p(A)).concat(this.valpha),this.model)},alpha:function(A){return arguments.length?new P(this.color.concat(Math.max(0,Math.min(1,A))),this.model):this.valpha},red:w("rgb",0,m(255)),green:w("rgb",1,m(255)),blue:w("rgb",2,m(255)),hue:w(["hsl","hsv","hsl","hwb","hcg"],0,function(A){return(A%360+360)%360}),saturationl:w("hsl",1,m(100)),lightness:w("hsl",2,m(100)),saturationv:w("hsv",1,m(100)),value:w("hsv",2,m(100)),chroma:w("hcg",1,m(100)),gray:w("hcg",2,m(100)),white:w("hwb",1,m(100)),wblack:w("hwb",2,m(100)),cyan:w("cmyk",0,m(100)),magenta:w("cmyk",1,m(100)),yellow:w("cmyk",2,m(100)),black:w("cmyk",3,m(100)),x:w("xyz",0,m(100)),y:w("xyz",1,m(100)),z:w("xyz",2,m(100)),l:w("lab",0,m(100)),a:w("lab",1),b:w("lab",2),keyword:function(A){return arguments.length?new P(A):O[this.model].keyword(this.color)},hex:function(A){return arguments.length?new P(A):S.to.hex(this.rgb().round().color)},rgbNumber:function(){var A=this.rgb().color;return(A[0]&255)<<16|(A[1]&255)<<8|A[2]&255},luminosity:function(){for(var A=this.rgb().color,B=[],N=0;N<A.length;N++){var G=A[N]/255;B[N]=G<=.03928?G/12.92:Math.pow((G+.055)/1.055,2.4)}return .2126*B[0]+.7152*B[1]+.0722*B[2]},contrast:function(A){var B=this.luminosity(),N=A.luminosity();return B>N?(B+.05)/(N+.05):(N+.05)/(B+.05)},level:function(A){var B=this.contrast(A);return B>=7.1?"AAA":B>=4.5?"AA":""},isDark:function(){var A=this.rgb().color,B=(A[0]*299+A[1]*587+A[2]*114)/1e3;return B<128},isLight:function(){return!this.isDark()},negate:function(){for(var A=this.rgb(),B=0;B<3;B++)A.color[B]=255-A.color[B];return A},lighten:function(A){var B=this.hsl();return B.color[2]+=B.color[2]*A,B},darken:function(A){var B=this.hsl();return B.color[2]-=B.color[2]*A,B},saturate:function(A){var B=this.hsl();return B.color[1]+=B.color[1]*A,B},desaturate:function(A){var B=this.hsl();return B.color[1]-=B.color[1]*A,B},whiten:function(A){var B=this.hwb();return B.color[1]+=B.color[1]*A,B},blacken:function(A){var B=this.hwb();return B.color[2]+=B.color[2]*A,B},grayscale:function(){var A=this.rgb().color,B=A[0]*.3+A[1]*.59+A[2]*.11;return P.rgb(B,B,B)},fade:function(A){return this.alpha(this.valpha-this.valpha*A)},opaquer:function(A){return this.alpha(this.valpha+this.valpha*A)},rotate:function(A){var B=this.hsl(),N=B.color[0];return N=(N+A)%360,N=N<0?360+N:N,B.color[0]=N,B},mix:function(A,B){if(!A||!A.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof A);var N=A.rgb(),G=this.rgb(),j=B===void 0?.5:B,J=2*j-1,H=N.alpha()-G.alpha(),K=((J*H==-1?J:(J+H)/(1+J*H))+1)/2,st=1-K;return P.rgb(K*N.red()+st*G.red(),K*N.green()+st*G.green(),K*N.blue()+st*G.blue(),N.alpha()*j+G.alpha()*(1-j))}},Object.keys(O).forEach(function(A){if(k.indexOf(A)===-1){var B=O[A].channels;P.prototype[A]=function(){if(this.model===A)return new P(this);if(arguments.length)return new P(arguments,A);var N=typeof arguments[B]=="number"?B:this.valpha;return new P(b(O[this.model][A].raw(this.color)).concat(N),A)},P[A]=function(N){return typeof N=="number"&&(N=y(D.call(arguments),B)),new P(N,A)}}});function T(A,B){return Number(A.toFixed(B))}function p(A){return function(B){return T(B,A)}}function w(A,B,N){return A=Array.isArray(A)?A:[A],A.forEach(function(G){(_[G]||(_[G]=[]))[B]=N}),A=A[0],function(G){var j;return arguments.length?(N&&(G=N(G)),j=this[A](),j.color[B]=G,j):(j=this[A]().color[B],N&&(j=N(j)),j)}}function m(A){return function(B){return Math.max(0,Math.min(A,B))}}function b(A){return Array.isArray(A)?A:[A]}function y(A,B){for(var N=0;N<B;N++)typeof A[N]!="number"&&(A[N]=0);return A}mt.exports=P},2650:function(mt,C,d){"use strict";d.d(C,{ZP:function(){return H},B8:function(){return wt}});function S(U,$,f){U.prototype=$.prototype=f,f.constructor=U}function O(U,$){var f=Object.create(U.prototype);for(var xt in $)f[xt]=$[xt];return f}function D(){}var k=.7,I=1/k,_="\\s*([+-]?\\d+)\\s*",P="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",T="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",p=/^#([0-9a-f]{3,8})$/,w=new RegExp("^rgb\\("+[_,_,_]+"\\)$"),m=new RegExp("^rgb\\("+[T,T,T]+"\\)$"),b=new RegExp("^rgba\\("+[_,_,_,P]+"\\)$"),y=new RegExp("^rgba\\("+[T,T,T,P]+"\\)$"),A=new RegExp("^hsl\\("+[P,T,T]+"\\)$"),B=new RegExp("^hsla\\("+[P,T,T,P]+"\\)$"),N={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};S(D,H,{copy:function(U){return Object.assign(new this.constructor,this,U)},displayable:function(){return this.rgb().displayable()},hex:G,formatHex:G,formatHsl:j,formatRgb:J,toString:J});function G(){return this.rgb().formatHex()}function j(){return Q(this).formatHsl()}function J(){return this.rgb().formatRgb()}function H(U){var $,f;return U=(U+"").trim().toLowerCase(),($=p.exec(U))?(f=$[1].length,$=parseInt($[1],16),f===6?K($):f===3?new gt($>>8&15|$>>4&240,$>>4&15|$&240,($&15)<<4|$&15,1):f===8?st($>>24&255,$>>16&255,$>>8&255,($&255)/255):f===4?st($>>12&15|$>>8&240,$>>8&15|$>>4&240,$>>4&15|$&240,(($&15)<<4|$&15)/255):null):($=w.exec(U))?new gt($[1],$[2],$[3],1):($=m.exec(U))?new gt($[1]*255/100,$[2]*255/100,$[3]*255/100,1):($=b.exec(U))?st($[1],$[2],$[3],$[4]):($=y.exec(U))?st($[1]*255/100,$[2]*255/100,$[3]*255/100,$[4]):($=A.exec(U))?tt($[1],$[2]/100,$[3]/100,1):($=B.exec(U))?tt($[1],$[2]/100,$[3]/100,$[4]):N.hasOwnProperty(U)?K(N[U]):U==="transparent"?new gt(NaN,NaN,NaN,0):null}function K(U){return new gt(U>>16&255,U>>8&255,U&255,1)}function st(U,$,f,xt){return xt<=0&&(U=$=f=NaN),new gt(U,$,f,xt)}function nt(U){return U instanceof D||(U=H(U)),U?(U=U.rgb(),new gt(U.r,U.g,U.b,U.opacity)):new gt}function wt(U,$,f,xt){return arguments.length===1?nt(U):new gt(U,$,f,xt==null?1:xt)}function gt(U,$,f,xt){this.r=+U,this.g=+$,this.b=+f,this.opacity=+xt}S(gt,wt,O(D,{brighter:function(U){return U=U==null?I:Math.pow(I,U),new gt(this.r*U,this.g*U,this.b*U,this.opacity)},darker:function(U){return U=U==null?k:Math.pow(k,U),new gt(this.r*U,this.g*U,this.b*U,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:At,formatHex:At,formatRgb:X,toString:X}));function At(){return"#"+Z(this.r)+Z(this.g)+Z(this.b)}function X(){var U=this.opacity;return U=isNaN(U)?1:Math.max(0,Math.min(1,U)),(U===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(U===1?")":", "+U+")")}function Z(U){return U=Math.max(0,Math.min(255,Math.round(U)||0)),(U<16?"0":"")+U.toString(16)}function tt(U,$,f,xt){return xt<=0?U=$=f=NaN:f<=0||f>=1?U=$=NaN:$<=0&&(U=NaN),new lt(U,$,f,xt)}function Q(U){if(U instanceof lt)return new lt(U.h,U.s,U.l,U.opacity);if(U instanceof D||(U=H(U)),!U)return new lt;if(U instanceof lt)return U;U=U.rgb();var $=U.r/255,f=U.g/255,xt=U.b/255,Ct=Math.min($,f,xt),Bt=Math.max($,f,xt),qt=NaN,Gt=Bt-Ct,Jt=(Bt+Ct)/2;return Gt?($===Bt?qt=(f-xt)/Gt+(f<xt)*6:f===Bt?qt=(xt-$)/Gt+2:qt=($-f)/Gt+4,Gt/=Jt<.5?Bt+Ct:2-Bt-Ct,qt*=60):Gt=Jt>0&&Jt<1?0:qt,new lt(qt,Gt,Jt,U.opacity)}function vt(U,$,f,xt){return arguments.length===1?Q(U):new lt(U,$,f,xt==null?1:xt)}function lt(U,$,f,xt){this.h=+U,this.s=+$,this.l=+f,this.opacity=+xt}S(lt,vt,O(D,{brighter:function(U){return U=U==null?I:Math.pow(I,U),new lt(this.h,this.s,this.l*U,this.opacity)},darker:function(U){return U=U==null?k:Math.pow(k,U),new lt(this.h,this.s,this.l*U,this.opacity)},rgb:function(){var U=this.h%360+(this.h<0)*360,$=isNaN(U)||isNaN(this.s)?0:this.s,f=this.l,xt=f+(f<.5?f:1-f)*$,Ct=2*f-xt;return new gt(rt(U>=240?U-240:U+120,Ct,xt),rt(U,Ct,xt),rt(U<120?U+240:U-120,Ct,xt),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var U=this.opacity;return U=isNaN(U)?1:Math.max(0,Math.min(1,U)),(U===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(U===1?")":", "+U+")")}}));function rt(U,$,f){return(U<60?$+(f-$)*U/60:U<180?f:U<240?$+(f-$)*(240-U)/60:$)*255}},68716:function(mt,C,d){"use strict";d.d(C,{yD:function(){return S},_e:function(){return O},tw:function(){return D}});function S(k){return k*k*k}function O(k){return--k*k*k+1}function D(k){return((k*=2)<=1?k*k*k:(k-=2)*k*k+2)/2}},13681:function(mt,C,d){"use strict";d.r(C),d.d(C,{easeBack:function(){return Ct},easeBackIn:function(){return f},easeBackInOut:function(){return Ct},easeBackOut:function(){return xt},easeBounce:function(){return rt},easeBounceIn:function(){return lt},easeBounceInOut:function(){return U},easeBounceOut:function(){return rt},easeCircle:function(){return K},easeCircleIn:function(){return J},easeCircleInOut:function(){return K},easeCircleOut:function(){return H},easeCubic:function(){return I.tw},easeCubicIn:function(){return I.yD},easeCubicInOut:function(){return I.tw},easeCubicOut:function(){return I._e},easeElastic:function(){return ie},easeElasticIn:function(){return Jt},easeElasticInOut:function(){return se},easeElasticOut:function(){return ie},easeExp:function(){return j},easeExpIn:function(){return N},easeExpInOut:function(){return j},easeExpOut:function(){return G},easeLinear:function(){return S},easePoly:function(){return p},easePolyIn:function(){return P},easePolyInOut:function(){return p},easePolyOut:function(){return T},easeQuad:function(){return k},easeQuadIn:function(){return O},easeQuadInOut:function(){return k},easeQuadOut:function(){return D},easeSin:function(){return A},easeSinIn:function(){return b},easeSinInOut:function(){return A},easeSinOut:function(){return y}});function S(Kt){return+Kt}function O(Kt){return Kt*Kt}function D(Kt){return Kt*(2-Kt)}function k(Kt){return((Kt*=2)<=1?Kt*Kt:--Kt*(2-Kt)+1)/2}var I=d(68716),_=3,P=function Kt(kt){kt=+kt;function Mt(pt){return Math.pow(pt,kt)}return Mt.exponent=Kt,Mt}(_),T=function Kt(kt){kt=+kt;function Mt(pt){return 1-Math.pow(1-pt,kt)}return Mt.exponent=Kt,Mt}(_),p=function Kt(kt){kt=+kt;function Mt(pt){return((pt*=2)<=1?Math.pow(pt,kt):2-Math.pow(2-pt,kt))/2}return Mt.exponent=Kt,Mt}(_),w=Math.PI,m=w/2;function b(Kt){return+Kt==1?1:1-Math.cos(Kt*m)}function y(Kt){return Math.sin(Kt*m)}function A(Kt){return(1-Math.cos(w*Kt))/2}function B(Kt){return(Math.pow(2,-10*Kt)-.0009765625)*1.0009775171065494}function N(Kt){return B(1-+Kt)}function G(Kt){return 1-B(Kt)}function j(Kt){return((Kt*=2)<=1?B(1-Kt):2-B(Kt-1))/2}function J(Kt){return 1-Math.sqrt(1-Kt*Kt)}function H(Kt){return Math.sqrt(1- --Kt*Kt)}function K(Kt){return((Kt*=2)<=1?1-Math.sqrt(1-Kt*Kt):Math.sqrt(1-(Kt-=2)*Kt)+1)/2}var st=4/11,nt=6/11,wt=8/11,gt=3/4,At=9/11,X=10/11,Z=15/16,tt=21/22,Q=63/64,vt=1/st/st;function lt(Kt){return 1-rt(1-Kt)}function rt(Kt){return(Kt=+Kt)<st?vt*Kt*Kt:Kt<wt?vt*(Kt-=nt)*Kt+gt:Kt<X?vt*(Kt-=At)*Kt+Z:vt*(Kt-=tt)*Kt+Q}function U(Kt){return((Kt*=2)<=1?1-rt(1-Kt):rt(Kt-1)+1)/2}var $=1.70158,f=function Kt(kt){kt=+kt;function Mt(pt){return(pt=+pt)*pt*(kt*(pt-1)+pt)}return Mt.overshoot=Kt,Mt}($),xt=function Kt(kt){kt=+kt;function Mt(pt){return--pt*pt*((pt+1)*kt+pt)+1}return Mt.overshoot=Kt,Mt}($),Ct=function Kt(kt){kt=+kt;function Mt(pt){return((pt*=2)<1?pt*pt*((kt+1)*pt-kt):(pt-=2)*pt*((kt+1)*pt+kt)+2)/2}return Mt.overshoot=Kt,Mt}($),Bt=2*Math.PI,qt=1,Gt=.3,Jt=function Kt(kt,Mt){var pt=Math.asin(1/(kt=Math.max(1,kt)))*(Mt/=Bt);function Pt(ut){return kt*B(- --ut)*Math.sin((pt-ut)/Mt)}return Pt.amplitude=function(ut){return Kt(ut,Mt*Bt)},Pt.period=function(ut){return Kt(kt,ut)},Pt}(qt,Gt),ie=function Kt(kt,Mt){var pt=Math.asin(1/(kt=Math.max(1,kt)))*(Mt/=Bt);function Pt(ut){return 1-kt*B(ut=+ut)*Math.sin((ut+pt)/Mt)}return Pt.amplitude=function(ut){return Kt(ut,Mt*Bt)},Pt.period=function(ut){return Kt(kt,ut)},Pt}(qt,Gt),se=function Kt(kt,Mt){var pt=Math.asin(1/(kt=Math.max(1,kt)))*(Mt/=Bt);function Pt(ut){return((ut=ut*2-1)<0?kt*B(-ut)*Math.sin((pt-ut)/Mt):2-kt*B(ut)*Math.sin((pt+ut)/Mt))/2}return Pt.amplitude=function(ut){return Kt(ut,Mt*Bt)},Pt.period=function(ut){return Kt(kt,ut)},Pt}(qt,Gt)},88122:function(mt,C,d){"use strict";d.d(C,{Z:function(){return D},M:function(){return k}});var S=d(26257),O=d(67896);function D(I,_){return((0,O.v)(_)?O.Z:k)(I,_)}function k(I,_){var P=_?_.length:0,T=I?Math.min(P,I.length):0,p=new Array(T),w=new Array(P),m;for(m=0;m<T;++m)p[m]=(0,S.Z)(I[m],_[m]);for(;m<P;++m)w[m]=_[m];return function(b){for(m=0;m<T;++m)w[m]=p[m](b);return w}}},73626:function(mt,C,d){"use strict";d.d(C,{Z:function(){return S}});function S(O,D){return O=+O,D=+D,function(k){return O*(1-k)+D*k}}},67896:function(mt,C,d){"use strict";d.d(C,{Z:function(){return S},v:function(){return O}});function S(D,k){k||(k=[]);var I=D?Math.min(k.length,D.length):0,_=k.slice(),P;return function(T){for(P=0;P<I;++P)_[P]=D[P]*(1-T)+k[P]*T;return _}}function O(D){return ArrayBuffer.isView(D)&&!(D instanceof DataView)}},26257:function(mt,C,d){"use strict";d.d(C,{Z:function(){return gt}});var S=d(2650);function O(At,X,Z,tt,Q){var vt=At*At,lt=vt*At;return((1-3*At+3*vt-lt)*X+(4-6*vt+3*lt)*Z+(1+3*At+3*vt-3*lt)*tt+lt*Q)/6}function D(At){var X=At.length-1;return function(Z){var tt=Z<=0?Z=0:Z>=1?(Z=1,X-1):Math.floor(Z*X),Q=At[tt],vt=At[tt+1],lt=tt>0?At[tt-1]:2*Q-vt,rt=tt<X-1?At[tt+2]:2*vt-Q;return O((Z-tt/X)*X,lt,Q,vt,rt)}}function k(At){var X=At.length;return function(Z){var tt=Math.floor(((Z%=1)<0?++Z:Z)*X),Q=At[(tt+X-1)%X],vt=At[tt%X],lt=At[(tt+1)%X],rt=At[(tt+2)%X];return O((Z-tt/X)*X,Q,vt,lt,rt)}}function I(At){return function(){return At}}function _(At,X){return function(Z){return At+Z*X}}function P(At,X,Z){return At=Math.pow(At,Z),X=Math.pow(X,Z)-At,Z=1/Z,function(tt){return Math.pow(At+tt*X,Z)}}function T(At,X){var Z=X-At;return Z?_(At,Z>180||Z<-180?Z-360*Math.round(Z/360):Z):constant(isNaN(At)?X:At)}function p(At){return(At=+At)==1?w:function(X,Z){return Z-X?P(X,Z,At):I(isNaN(X)?Z:X)}}function w(At,X){var Z=X-At;return Z?_(At,Z):I(isNaN(At)?X:At)}var m=function At(X){var Z=p(X);function tt(Q,vt){var lt=Z((Q=(0,S.B8)(Q)).r,(vt=(0,S.B8)(vt)).r),rt=Z(Q.g,vt.g),U=Z(Q.b,vt.b),$=w(Q.opacity,vt.opacity);return function(f){return Q.r=lt(f),Q.g=rt(f),Q.b=U(f),Q.opacity=$(f),Q+""}}return tt.gamma=At,tt}(1);function b(At){return function(X){var Z=X.length,tt=new Array(Z),Q=new Array(Z),vt=new Array(Z),lt,rt;for(lt=0;lt<Z;++lt)rt=(0,S.B8)(X[lt]),tt[lt]=rt.r||0,Q[lt]=rt.g||0,vt[lt]=rt.b||0;return tt=At(tt),Q=At(Q),vt=At(vt),rt.opacity=1,function(U){return rt.r=tt(U),rt.g=Q(U),rt.b=vt(U),rt+""}}}var y=b(D),A=b(k),B=d(88122);function N(At,X){var Z=new Date;return At=+At,X=+X,function(tt){return Z.setTime(At*(1-tt)+X*tt),Z}}var G=d(73626);function j(At,X){var Z={},tt={},Q;(At===null||typeof At!="object")&&(At={}),(X===null||typeof X!="object")&&(X={});for(Q in X)Q in At?Z[Q]=gt(At[Q],X[Q]):tt[Q]=X[Q];return function(vt){for(Q in Z)tt[Q]=Z[Q](vt);return tt}}var J=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,H=new RegExp(J.source,"g");function K(At){return function(){return At}}function st(At){return function(X){return At(X)+""}}function nt(At,X){var Z=J.lastIndex=H.lastIndex=0,tt,Q,vt,lt=-1,rt=[],U=[];for(At=At+"",X=X+"";(tt=J.exec(At))&&(Q=H.exec(X));)(vt=Q.index)>Z&&(vt=X.slice(Z,vt),rt[lt]?rt[lt]+=vt:rt[++lt]=vt),(tt=tt[0])===(Q=Q[0])?rt[lt]?rt[lt]+=Q:rt[++lt]=Q:(rt[++lt]=null,U.push({i:lt,x:(0,G.Z)(tt,Q)})),Z=H.lastIndex;return Z<X.length&&(vt=X.slice(Z),rt[lt]?rt[lt]+=vt:rt[++lt]=vt),rt.length<2?U[0]?st(U[0].x):K(X):(X=U.length,function($){for(var f=0,xt;f<X;++f)rt[(xt=U[f]).i]=xt.x($);return rt.join("")})}var wt=d(67896);function gt(At,X){var Z=typeof X,tt;return X==null||Z==="boolean"?I(X):(Z==="number"?G.Z:Z==="string"?(tt=(0,S.ZP)(X))?(X=tt,m):nt:X instanceof S.ZP?m:X instanceof Date?N:(0,wt.v)(X)?wt.Z:Array.isArray(X)?B.M:typeof X.valueOf!="function"&&typeof X.toString!="function"||isNaN(X)?j:G.Z)(At,X)}},56645:function(mt,C){(function(d,S){S(C)})(this,function(d){"use strict";function S(X,Z){return O(X)||D(X,Z)||k()}function O(X){if(Array.isArray(X))return X}function D(X,Z){var tt=[],Q=!0,vt=!1,lt=void 0;try{for(var rt=X[Symbol.iterator](),U;!(Q=(U=rt.next()).done)&&(tt.push(U.value),!(Z&&tt.length===Z));Q=!0);}catch($){vt=!0,lt=$}finally{try{!Q&&rt.return!=null&&rt.return()}finally{if(vt)throw lt}}return tt}function k(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function I(X,Z,tt,Q){X=X.filter(function(Gt,Jt){var ie=Z(Gt,Jt),se=tt(Gt,Jt);return ie!=null&&isFinite(ie)&&se!=null&&isFinite(se)}),Q&&X.sort(function(Gt,Jt){return Z(Gt)-Z(Jt)});for(var vt=X.length,lt=new Float64Array(vt),rt=new Float64Array(vt),U=0,$=0,f,xt,Ct,Bt=0;Bt<vt;)Ct=X[Bt],lt[Bt]=f=+Z(Ct,Bt,X),rt[Bt]=xt=+tt(Ct,Bt,X),++Bt,U+=(f-U)/Bt,$+=(xt-$)/Bt;for(var qt=0;qt<vt;++qt)lt[qt]-=U,rt[qt]-=$;return[lt,rt,U,$]}function _(X,Z,tt,Q){for(var vt=0,lt=0,rt=X.length;lt<rt;lt++){var U=X[lt],$=+Z(U,lt,X),f=+tt(U,lt,X);$!=null&&isFinite($)&&f!=null&&isFinite(f)&&Q($,f,vt++)}}function P(X,Z,tt,Q,vt){var lt=0,rt=0;return _(X,Z,tt,function(U,$){var f=$-vt(U),xt=$-Q;lt+=f*f,rt+=xt*xt}),1-lt/rt}function T(X){return Math.atan2(X[1][1]-X[0][1],X[1][0]-X[0][0])*180/Math.PI}function p(X){return[(X[0][0]+X[1][0])/2,(X[0][1]+X[1][1])/2]}function w(X,Z,tt){for(var Q=Math.log(Z-X)*Math.LOG10E+1|0,vt=1*Math.pow(10,-Q/2-1),lt=1e4,rt=[$(X),$(Z)],U=0;f(rt)&&U<lt;);return rt;function $(xt){return[xt,tt(xt)]}function f(xt){U++;for(var Ct=xt.length,Bt=!1,qt=0;qt<Ct-1;qt++){var Gt=xt[qt],Jt=xt[qt+1],ie=p([Gt,Jt]),se=$(ie[0]),Kt=T([Gt,ie]),kt=T([Gt,se]),Mt=Math.abs(Kt-kt);Mt>vt&&(xt.splice(qt+1,0,se),Bt=!0)}return Bt}}function m(X,Z,tt,Q){var vt=Q-X*X,lt=Math.abs(vt)<1e-24?0:(tt-X*Z)/vt,rt=Z-lt*X;return[rt,lt]}function b(){var X=function(lt){return lt[0]},Z=function(lt){return lt[1]},tt;function Q(vt){var lt=0,rt=0,U=0,$=0,f=0,xt=0,Ct=tt?+tt[0]:Infinity,Bt=tt?+tt[1]:-Infinity;_(vt,X,Z,function(kt,Mt){var pt=Math.log(Mt),Pt=kt*Mt;++lt,rt+=(Mt-rt)/lt,$+=(Pt-$)/lt,xt+=(kt*Pt-xt)/lt,U+=(Mt*pt-U)/lt,f+=(Pt*pt-f)/lt,tt||(kt<Ct&&(Ct=kt),kt>Bt&&(Bt=kt))});var qt=m($/rt,U/rt,f/rt,xt/rt),Gt=S(qt,2),Jt=Gt[0],ie=Gt[1];Jt=Math.exp(Jt);var se=function(Mt){return Jt*Math.exp(ie*Mt)},Kt=w(Ct,Bt,se);return Kt.a=Jt,Kt.b=ie,Kt.predict=se,Kt.rSquared=P(vt,X,Z,rt,se),Kt}return Q.domain=function(vt){return arguments.length?(tt=vt,Q):tt},Q.x=function(vt){return arguments.length?(X=vt,Q):X},Q.y=function(vt){return arguments.length?(Z=vt,Q):Z},Q}function y(){var X=function(lt){return lt[0]},Z=function(lt){return lt[1]},tt;function Q(vt){var lt=0,rt=0,U=0,$=0,f=0,xt=tt?+tt[0]:Infinity,Ct=tt?+tt[1]:-Infinity;_(vt,X,Z,function(Kt,kt){++lt,rt+=(Kt-rt)/lt,U+=(kt-U)/lt,$+=(Kt*kt-$)/lt,f+=(Kt*Kt-f)/lt,tt||(Kt<xt&&(xt=Kt),Kt>Ct&&(Ct=Kt))});var Bt=m(rt,U,$,f),qt=S(Bt,2),Gt=qt[0],Jt=qt[1],ie=function(kt){return Jt*kt+Gt},se=[[xt,ie(xt)],[Ct,ie(Ct)]];return se.a=Jt,se.b=Gt,se.predict=ie,se.rSquared=P(vt,X,Z,U,ie),se}return Q.domain=function(vt){return arguments.length?(tt=vt,Q):tt},Q.x=function(vt){return arguments.length?(X=vt,Q):X},Q.y=function(vt){return arguments.length?(Z=vt,Q):Z},Q}function A(X){X.sort(function(tt,Q){return tt-Q});var Z=X.length/2;return Z%1==0?(X[Z-1]+X[Z])/2:X[Math.floor(Z)]}var B=2,N=1e-12;function G(){var X=function(lt){return lt[0]},Z=function(lt){return lt[1]},tt=.3;function Q(vt){for(var lt=I(vt,X,Z,!0),rt=S(lt,4),U=rt[0],$=rt[1],f=rt[2],xt=rt[3],Ct=U.length,Bt=Math.max(2,~~(tt*Ct)),qt=new Float64Array(Ct),Gt=new Float64Array(Ct),Jt=new Float64Array(Ct).fill(1),ie=-1;++ie<=B;){for(var se=[0,Bt-1],Kt=0;Kt<Ct;++Kt){for(var kt=U[Kt],Mt=se[0],pt=se[1],Pt=kt-U[Mt]>U[pt]-kt?Mt:pt,ut=0,at=0,St=0,Ot=0,Ut=0,oe=1/Math.abs(U[Pt]-kt||1),we=Mt;we<=pt;++we){var Ie=U[we],Be=$[we],ur=j(Math.abs(kt-Ie)*oe)*Jt[we],vr=Ie*ur;ut+=ur,at+=vr,St+=Be*ur,Ot+=Be*vr,Ut+=Ie*vr}var fr=m(at/ut,St/ut,Ot/ut,Ut/ut),Ar=S(fr,2),or=Ar[0],Gr=Ar[1];qt[Kt]=or+Gr*kt,Gt[Kt]=Math.abs($[Kt]-qt[Kt]),J(U,Kt+1,se)}if(ie===B)break;var ln=A(Gt);if(Math.abs(ln)<N)break;for(var Nr=0,nn,fi;Nr<Ct;++Nr)nn=Gt[Nr]/(6*ln),Jt[Nr]=nn>=1?N:(fi=1-nn*nn)*fi}return H(U,qt,f,xt)}return Q.bandwidth=function(vt){return arguments.length?(tt=vt,Q):tt},Q.x=function(vt){return arguments.length?(X=vt,Q):X},Q.y=function(vt){return arguments.length?(Z=vt,Q):Z},Q}function j(X){return(X=1-X*X*X)*X*X}function J(X,Z,tt){var Q=X[Z],vt=tt[0],lt=tt[1]+1;if(!(lt>=X.length))for(;Z>vt&&X[lt]-Q<=Q-X[vt];)tt[0]=++vt,tt[1]=lt,++lt}function H(X,Z,tt,Q){for(var vt=X.length,lt=[],rt=0,U=0,$=[],f;rt<vt;++rt)f=X[rt]+tt,$[0]===f?$[1]+=(Z[rt]-$[1])/++U:(U=0,$[1]+=Q,$=[f,Z[rt]],lt.push($));return $[1]+=Q,lt}function K(){var X=function(rt){return rt[0]},Z=function(rt){return rt[1]},tt=Math.E,Q;function vt(lt){var rt=0,U=0,$=0,f=0,xt=0,Ct=Q?+Q[0]:Infinity,Bt=Q?+Q[1]:-Infinity,qt=Math.log(tt);_(lt,X,Z,function(Mt,pt){var Pt=Math.log(Mt)/qt;++rt,U+=(Pt-U)/rt,$+=(pt-$)/rt,f+=(Pt*pt-f)/rt,xt+=(Pt*Pt-xt)/rt,Q||(Mt<Ct&&(Ct=Mt),Mt>Bt&&(Bt=Mt))});var Gt=m(U,$,f,xt),Jt=S(Gt,2),ie=Jt[0],se=Jt[1],Kt=function(pt){return se*Math.log(pt)/qt+ie},kt=w(Ct,Bt,Kt);return kt.a=se,kt.b=ie,kt.predict=Kt,kt.rSquared=P(lt,X,Z,$,Kt),kt}return vt.domain=function(lt){return arguments.length?(Q=lt,vt):Q},vt.x=function(lt){return arguments.length?(X=lt,vt):X},vt.y=function(lt){return arguments.length?(Z=lt,vt):Z},vt.base=function(lt){return arguments.length?(tt=lt,vt):tt},vt}function st(){var X=function(lt){return lt[0]},Z=function(lt){return lt[1]},tt;function Q(vt){var lt=I(vt,X,Z),rt=S(lt,4),U=rt[0],$=rt[1],f=rt[2],xt=rt[3],Ct=U.length,Bt=0,qt=0,Gt=0,Jt=0,ie=0,se,Kt,kt,Mt;for(se=0;se<Ct;)Kt=U[se],kt=$[se++],Mt=Kt*Kt,Bt+=(Mt-Bt)/se,qt+=(Mt*Kt-qt)/se,Gt+=(Mt*Mt-Gt)/se,Jt+=(Kt*kt-Jt)/se,ie+=(Mt*kt-ie)/se;var pt=0,Pt=0,ut=tt?+tt[0]:Infinity,at=tt?+tt[1]:-Infinity;_(vt,X,Z,function(ur,vr){Pt++,pt+=(vr-pt)/Pt,tt||(ur<ut&&(ut=ur),ur>at&&(at=ur))});var St=Gt-Bt*Bt,Ot=Bt*St-qt*qt,Ut=(ie*Bt-Jt*qt)/Ot,oe=(Jt*St-ie*qt)/Ot,we=-Ut*Bt,Ie=function(vr){return vr=vr-f,Ut*vr*vr+oe*vr+we+xt},Be=w(ut,at,Ie);return Be.a=Ut,Be.b=oe-2*Ut*f,Be.c=we-oe*f+Ut*f*f+xt,Be.predict=Ie,Be.rSquared=P(vt,X,Z,pt,Ie),Be}return Q.domain=function(vt){return arguments.length?(tt=vt,Q):tt},Q.x=function(vt){return arguments.length?(X=vt,Q):X},Q.y=function(vt){return arguments.length?(Z=vt,Q):Z},Q}function nt(){var X=function(rt){return rt[0]},Z=function(rt){return rt[1]},tt=3,Q;function vt(lt){if(tt===1){var rt=y().x(X).y(Z).domain(Q)(lt);return rt.coefficients=[rt.b,rt.a],delete rt.a,delete rt.b,rt}if(tt===2){var U=st().x(X).y(Z).domain(Q)(lt);return U.coefficients=[U.c,U.b,U.a],delete U.a,delete U.b,delete U.c,U}var $=I(lt,X,Z),f=S($,4),xt=f[0],Ct=f[1],Bt=f[2],qt=f[3],Gt=xt.length,Jt=[],ie=[],se=tt+1,Kt=0,kt=0,Mt=Q?+Q[0]:Infinity,pt=Q?+Q[1]:-Infinity;_(lt,X,Z,function(Ie,Be){++kt,Kt+=(Be-Kt)/kt,Q||(Ie<Mt&&(Mt=Ie),Ie>pt&&(pt=Ie))});var Pt,ut,at,St,Ot;for(Pt=0;Pt<se;++Pt){for(at=0,St=0;at<Gt;++at)St+=Math.pow(xt[at],Pt)*Ct[at];for(Jt.push(St),Ot=new Float64Array(se),ut=0;ut<se;++ut){for(at=0,St=0;at<Gt;++at)St+=Math.pow(xt[at],Pt+ut);Ot[ut]=St}ie.push(Ot)}ie.push(Jt);var Ut=gt(ie),oe=function(Be){Be-=Bt;var ur=qt+Ut[0]+Ut[1]*Be+Ut[2]*Be*Be;for(Pt=3;Pt<se;++Pt)ur+=Ut[Pt]*Math.pow(Be,Pt);return ur},we=w(Mt,pt,oe);return we.coefficients=wt(se,Ut,-Bt,qt),we.predict=oe,we.rSquared=P(lt,X,Z,Kt,oe),we}return vt.domain=function(lt){return arguments.length?(Q=lt,vt):Q},vt.x=function(lt){return arguments.length?(X=lt,vt):X},vt.y=function(lt){return arguments.length?(Z=lt,vt):Z},vt.order=function(lt){return arguments.length?(tt=lt,vt):tt},vt}function wt(X,Z,tt,Q){var vt=Array(X),lt,rt,U,$;for(lt=0;lt<X;++lt)vt[lt]=0;for(lt=X-1;lt>=0;--lt)for(U=Z[lt],$=1,vt[lt]+=U,rt=1;rt<=lt;++rt)$*=(lt+1-rt)/rt,vt[lt-rt]+=U*Math.pow(tt,rt)*$;return vt[0]+=Q,vt}function gt(X){var Z=X.length-1,tt=[],Q,vt,lt,rt,U;for(Q=0;Q<Z;++Q){for(rt=Q,vt=Q+1;vt<Z;++vt)Math.abs(X[Q][vt])>Math.abs(X[Q][rt])&&(rt=vt);for(lt=Q;lt<Z+1;++lt)U=X[lt][Q],X[lt][Q]=X[lt][rt],X[lt][rt]=U;for(vt=Q+1;vt<Z;++vt)for(lt=Z;lt>=Q;lt--)X[lt][vt]-=X[lt][Q]*X[Q][vt]/X[Q][Q]}for(vt=Z-1;vt>=0;--vt){for(U=0,lt=vt+1;lt<Z;++lt)U+=X[lt][vt]*tt[lt];tt[vt]=(X[Z][vt]-U)/X[vt][vt]}return tt}function At(){var X=function(lt){return lt[0]},Z=function(lt){return lt[1]},tt;function Q(vt){var lt=0,rt=0,U=0,$=0,f=0,xt=0,Ct=tt?+tt[0]:Infinity,Bt=tt?+tt[1]:-Infinity;_(vt,X,Z,function(kt,Mt){var pt=Math.log(kt),Pt=Math.log(Mt);++lt,rt+=(pt-rt)/lt,U+=(Pt-U)/lt,$+=(pt*Pt-$)/lt,f+=(pt*pt-f)/lt,xt+=(Mt-xt)/lt,tt||(kt<Ct&&(Ct=kt),kt>Bt&&(Bt=kt))});var qt=m(rt,U,$,f),Gt=S(qt,2),Jt=Gt[0],ie=Gt[1];Jt=Math.exp(Jt);var se=function(Mt){return Jt*Math.pow(Mt,ie)},Kt=w(Ct,Bt,se);return Kt.a=Jt,Kt.b=ie,Kt.predict=se,Kt.rSquared=P(vt,X,Z,xt,se),Kt}return Q.domain=function(vt){return arguments.length?(tt=vt,Q):tt},Q.x=function(vt){return arguments.length?(X=vt,Q):X},Q.y=function(vt){return arguments.length?(Z=vt,Q):Z},Q}d.regressionExp=b,d.regressionLinear=y,d.regressionLoess=G,d.regressionLog=K,d.regressionPoly=nt,d.regressionPow=At,d.regressionQuad=st,Object.defineProperty(d,"__esModule",{value:!0})})},49772:function(mt,C,d){mt.exports={graphlib:d(70574),layout:d(98123),debug:d(27570),util:{time:d(11138).time,notime:d(11138).notime},version:d(88177)}},92188:function(mt,C,d){"use strict";var S=d(38436),O=d(74079);mt.exports={run:D,undo:I};function D(_){var P=_.graph().acyclicer==="greedy"?O(_,T(_)):k(_);S.forEach(P,function(p){var w=_.edge(p);_.removeEdge(p),w.forwardName=p.name,w.reversed=!0,_.setEdge(p.w,p.v,w,S.uniqueId("rev"))});function T(p){return function(w){return p.edge(w).weight}}}function k(_){var P=[],T={},p={};function w(m){S.has(p,m)||(p[m]=!0,T[m]=!0,S.forEach(_.outEdges(m),function(b){S.has(T,b.w)?P.push(b):w(b.w)}),delete T[m])}return S.forEach(_.nodes(),w),P}function I(_){S.forEach(_.edges(),function(P){var T=_.edge(P);if(T.reversed){_.removeEdge(P);var p=T.forwardName;delete T.reversed,delete T.forwardName,_.setEdge(P.w,P.v,T,p)}})}},61133:function(mt,C,d){var S=d(38436),O=d(11138);mt.exports=D;function D(I){function _(P){var T=I.children(P),p=I.node(P);if(T.length&&S.forEach(T,_),S.has(p,"minRank")){p.borderLeft=[],p.borderRight=[];for(var w=p.minRank,m=p.maxRank+1;w<m;++w)k(I,"borderLeft","_bl",P,p,w),k(I,"borderRight","_br",P,p,w)}}S.forEach(I.children(),_)}function k(I,_,P,T,p,w){var m={width:0,height:0,rank:w,borderType:_},b=p[_][w-1],y=O.addDummyNode(I,"border",m,P);p[_][w]=y,I.setParent(y,T),b&&I.setEdge(b,y,{weight:1})}},53258:function(mt,C,d){"use strict";var S=d(38436);mt.exports={adjust:O,undo:D};function O(w){var m=w.graph().rankdir.toLowerCase();(m==="lr"||m==="rl")&&k(w)}function D(w){var m=w.graph().rankdir.toLowerCase();(m==="bt"||m==="rl")&&_(w),(m==="lr"||m==="rl")&&(T(w),k(w))}function k(w){S.forEach(w.nodes(),function(m){I(w.node(m))}),S.forEach(w.edges(),function(m){I(w.edge(m))})}function I(w){var m=w.width;w.width=w.height,w.height=m}function _(w){S.forEach(w.nodes(),function(m){P(w.node(m))}),S.forEach(w.edges(),function(m){var b=w.edge(m);S.forEach(b.points,P),S.has(b,"y")&&P(b)})}function P(w){w.y=-w.y}function T(w){S.forEach(w.nodes(),function(m){p(w.node(m))}),S.forEach(w.edges(),function(m){var b=w.edge(m);S.forEach(b.points,p),S.has(b,"x")&&p(b)})}function p(w){var m=w.x;w.x=w.y,w.y=m}},77822:function(mt){mt.exports=C;function C(){var O={};O._next=O._prev=O,this._sentinel=O}C.prototype.dequeue=function(){var O=this._sentinel,D=O._prev;if(D!==O)return d(D),D},C.prototype.enqueue=function(O){var D=this._sentinel;O._prev&&O._next&&d(O),O._next=D._next,D._next._prev=O,D._next=O,O._prev=D},C.prototype.toString=function(){for(var O=[],D=this._sentinel,k=D._prev;k!==D;)O.push(JSON.stringify(k,S)),k=k._prev;return"["+O.join(", ")+"]"};function d(O){O._prev._next=O._next,O._next._prev=O._prev,delete O._next,delete O._prev}function S(O,D){if(O!=="_next"&&O!=="_prev")return D}},27570:function(mt,C,d){var S=d(38436),O=d(11138),D=d(70574).Graph;mt.exports={debugOrdering:k};function k(I){var _=O.buildLayerMatrix(I),P=new D({compound:!0,multigraph:!0}).setGraph({});return S.forEach(I.nodes(),function(T){P.setNode(T,{label:T}),P.setParent(T,"layer"+I.node(T).rank)}),S.forEach(I.edges(),function(T){P.setEdge(T.v,T.w,{},T.name)}),S.forEach(_,function(T,p){var w="layer"+p;P.setNode(w,{rank:"same"}),S.reduce(T,function(m,b){return P.setEdge(m,b,{style:"invis"}),b})}),P}},70574:function(mt,C,d){var S;try{S=d(28282)}catch(O){}S||(S=window.graphlib),mt.exports=S},74079:function(mt,C,d){var S=d(38436),O=d(70574).Graph,D=d(77822);mt.exports=I;var k=S.constant(1);function I(w,m){if(w.nodeCount()<=1)return[];var b=T(w,m||k),y=_(b.graph,b.buckets,b.zeroIdx);return S.flatten(S.map(y,function(A){return w.outEdges(A.v,A.w)}),!0)}function _(w,m,b){for(var y=[],A=m[m.length-1],B=m[0],N;w.nodeCount();){for(;N=B.dequeue();)P(w,m,b,N);for(;N=A.dequeue();)P(w,m,b,N);if(w.nodeCount()){for(var G=m.length-2;G>0;--G)if(N=m[G].dequeue(),N){y=y.concat(P(w,m,b,N,!0));break}}}return y}function P(w,m,b,y,A){var B=A?[]:void 0;return S.forEach(w.inEdges(y.v),function(N){var G=w.edge(N),j=w.node(N.v);A&&B.push({v:N.v,w:N.w}),j.out-=G,p(m,b,j)}),S.forEach(w.outEdges(y.v),function(N){var G=w.edge(N),j=N.w,J=w.node(j);J.in-=G,p(m,b,J)}),w.removeNode(y.v),B}function T(w,m){var b=new O,y=0,A=0;S.forEach(w.nodes(),function(G){b.setNode(G,{v:G,in:0,out:0})}),S.forEach(w.edges(),function(G){var j=b.edge(G.v,G.w)||0,J=m(G),H=j+J;b.setEdge(G.v,G.w,H),A=Math.max(A,b.node(G.v).out+=J),y=Math.max(y,b.node(G.w).in+=J)});var B=S.range(A+y+3).map(function(){return new D}),N=y+1;return S.forEach(b.nodes(),function(G){p(B,N,b.node(G))}),{graph:b,buckets:B,zeroIdx:N}}function p(w,m,b){b.out?b.in?w[b.out-b.in+m].enqueue(b):w[w.length-1].enqueue(b):w[0].enqueue(b)}},98123:function(mt,C,d){"use strict";var S=d(38436),O=d(92188),D=d(45995),k=d(78093),I=d(11138).normalizeRanks,_=d(24219),P=d(11138).removeEmptyRanks,T=d(72981),p=d(61133),w=d(53258),m=d(53408),b=d(17873),y=d(11138),A=d(70574).Graph;mt.exports=B;function B(Gt,Jt){var ie=Jt&&Jt.debugTiming?y.time:y.notime;ie("layout",function(){var se=ie("  buildLayoutGraph",function(){return At(Gt)});ie("  runLayout",function(){N(se,ie)}),ie("  updateInputGraph",function(){G(Gt,se)})})}function N(Gt,Jt){Jt("    makeSpaceForEdgeLabels",function(){X(Gt)}),Jt("    removeSelfEdges",function(){f(Gt)}),Jt("    acyclic",function(){O.run(Gt)}),Jt("    nestingGraph.run",function(){T.run(Gt)}),Jt("    rank",function(){k(y.asNonCompoundGraph(Gt))}),Jt("    injectEdgeLabelProxies",function(){Z(Gt)}),Jt("    removeEmptyRanks",function(){P(Gt)}),Jt("    nestingGraph.cleanup",function(){T.cleanup(Gt)}),Jt("    normalizeRanks",function(){I(Gt)}),Jt("    assignRankMinMax",function(){tt(Gt)}),Jt("    removeEdgeLabelProxies",function(){Q(Gt)}),Jt("    normalize.run",function(){D.run(Gt)}),Jt("    parentDummyChains",function(){_(Gt)}),Jt("    addBorderSegments",function(){p(Gt)}),Jt("    order",function(){m(Gt)}),Jt("    insertSelfEdges",function(){xt(Gt)}),Jt("    adjustCoordinateSystem",function(){w.adjust(Gt)}),Jt("    position",function(){b(Gt)}),Jt("    positionSelfEdges",function(){Ct(Gt)}),Jt("    removeBorderNodes",function(){$(Gt)}),Jt("    normalize.undo",function(){D.undo(Gt)}),Jt("    fixupEdgeLabelCoords",function(){rt(Gt)}),Jt("    undoCoordinateSystem",function(){w.undo(Gt)}),Jt("    translateGraph",function(){vt(Gt)}),Jt("    assignNodeIntersects",function(){lt(Gt)}),Jt("    reversePoints",function(){U(Gt)}),Jt("    acyclic.undo",function(){O.undo(Gt)})}function G(Gt,Jt){S.forEach(Gt.nodes(),function(ie){var se=Gt.node(ie),Kt=Jt.node(ie);se&&(se.x=Kt.x,se.y=Kt.y,Jt.children(ie).length&&(se.width=Kt.width,se.height=Kt.height))}),S.forEach(Gt.edges(),function(ie){var se=Gt.edge(ie),Kt=Jt.edge(ie);se.points=Kt.points,S.has(Kt,"x")&&(se.x=Kt.x,se.y=Kt.y)}),Gt.graph().width=Jt.graph().width,Gt.graph().height=Jt.graph().height}var j=["nodesep","edgesep","ranksep","marginx","marginy"],J={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},H=["acyclicer","ranker","rankdir","align"],K=["width","height"],st={width:0,height:0},nt=["minlen","weight","width","height","labeloffset"],wt={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},gt=["labelpos"];function At(Gt){var Jt=new A({multigraph:!0,compound:!0}),ie=qt(Gt.graph());return Jt.setGraph(S.merge({},J,Bt(ie,j),S.pick(ie,H))),S.forEach(Gt.nodes(),function(se){var Kt=qt(Gt.node(se));Jt.setNode(se,S.defaults(Bt(Kt,K),st)),Jt.setParent(se,Gt.parent(se))}),S.forEach(Gt.edges(),function(se){var Kt=qt(Gt.edge(se));Jt.setEdge(se,S.merge({},wt,Bt(Kt,nt),S.pick(Kt,gt)))}),Jt}function X(Gt){var Jt=Gt.graph();Jt.ranksep/=2,S.forEach(Gt.edges(),function(ie){var se=Gt.edge(ie);se.minlen*=2,se.labelpos.toLowerCase()!=="c"&&(Jt.rankdir==="TB"||Jt.rankdir==="BT"?se.width+=se.labeloffset:se.height+=se.labeloffset)})}function Z(Gt){S.forEach(Gt.edges(),function(Jt){var ie=Gt.edge(Jt);if(ie.width&&ie.height){var se=Gt.node(Jt.v),Kt=Gt.node(Jt.w),kt={rank:(Kt.rank-se.rank)/2+se.rank,e:Jt};y.addDummyNode(Gt,"edge-proxy",kt,"_ep")}})}function tt(Gt){var Jt=0;S.forEach(Gt.nodes(),function(ie){var se=Gt.node(ie);se.borderTop&&(se.minRank=Gt.node(se.borderTop).rank,se.maxRank=Gt.node(se.borderBottom).rank,Jt=S.max(Jt,se.maxRank))}),Gt.graph().maxRank=Jt}function Q(Gt){S.forEach(Gt.nodes(),function(Jt){var ie=Gt.node(Jt);ie.dummy==="edge-proxy"&&(Gt.edge(ie.e).labelRank=ie.rank,Gt.removeNode(Jt))})}function vt(Gt){var Jt=Number.POSITIVE_INFINITY,ie=0,se=Number.POSITIVE_INFINITY,Kt=0,kt=Gt.graph(),Mt=kt.marginx||0,pt=kt.marginy||0;function Pt(ut){var at=ut.x,St=ut.y,Ot=ut.width,Ut=ut.height;Jt=Math.min(Jt,at-Ot/2),ie=Math.max(ie,at+Ot/2),se=Math.min(se,St-Ut/2),Kt=Math.max(Kt,St+Ut/2)}S.forEach(Gt.nodes(),function(ut){Pt(Gt.node(ut))}),S.forEach(Gt.edges(),function(ut){var at=Gt.edge(ut);S.has(at,"x")&&Pt(at)}),Jt-=Mt,se-=pt,S.forEach(Gt.nodes(),function(ut){var at=Gt.node(ut);at.x-=Jt,at.y-=se}),S.forEach(Gt.edges(),function(ut){var at=Gt.edge(ut);S.forEach(at.points,function(St){St.x-=Jt,St.y-=se}),S.has(at,"x")&&(at.x-=Jt),S.has(at,"y")&&(at.y-=se)}),kt.width=ie-Jt+Mt,kt.height=Kt-se+pt}function lt(Gt){S.forEach(Gt.edges(),function(Jt){var ie=Gt.edge(Jt),se=Gt.node(Jt.v),Kt=Gt.node(Jt.w),kt,Mt;ie.points?(kt=ie.points[0],Mt=ie.points[ie.points.length-1]):(ie.points=[],kt=Kt,Mt=se),ie.points.unshift(y.intersectRect(se,kt)),ie.points.push(y.intersectRect(Kt,Mt))})}function rt(Gt){S.forEach(Gt.edges(),function(Jt){var ie=Gt.edge(Jt);if(S.has(ie,"x"))switch((ie.labelpos==="l"||ie.labelpos==="r")&&(ie.width-=ie.labeloffset),ie.labelpos){case"l":ie.x-=ie.width/2+ie.labeloffset;break;case"r":ie.x+=ie.width/2+ie.labeloffset;break}})}function U(Gt){S.forEach(Gt.edges(),function(Jt){var ie=Gt.edge(Jt);ie.reversed&&ie.points.reverse()})}function $(Gt){S.forEach(Gt.nodes(),function(Jt){if(Gt.children(Jt).length){var ie=Gt.node(Jt),se=Gt.node(ie.borderTop),Kt=Gt.node(ie.borderBottom),kt=Gt.node(S.last(ie.borderLeft)),Mt=Gt.node(S.last(ie.borderRight));ie.width=Math.abs(Mt.x-kt.x),ie.height=Math.abs(Kt.y-se.y),ie.x=kt.x+ie.width/2,ie.y=se.y+ie.height/2}}),S.forEach(Gt.nodes(),function(Jt){Gt.node(Jt).dummy==="border"&&Gt.removeNode(Jt)})}function f(Gt){S.forEach(Gt.edges(),function(Jt){if(Jt.v===Jt.w){var ie=Gt.node(Jt.v);ie.selfEdges||(ie.selfEdges=[]),ie.selfEdges.push({e:Jt,label:Gt.edge(Jt)}),Gt.removeEdge(Jt)}})}function xt(Gt){var Jt=y.buildLayerMatrix(Gt);S.forEach(Jt,function(ie){var se=0;S.forEach(ie,function(Kt,kt){var Mt=Gt.node(Kt);Mt.order=kt+se,S.forEach(Mt.selfEdges,function(pt){y.addDummyNode(Gt,"selfedge",{width:pt.label.width,height:pt.label.height,rank:Mt.rank,order:kt+ ++se,e:pt.e,label:pt.label},"_se")}),delete Mt.selfEdges})})}function Ct(Gt){S.forEach(Gt.nodes(),function(Jt){var ie=Gt.node(Jt);if(ie.dummy==="selfedge"){var se=Gt.node(ie.e.v),Kt=se.x+se.width/2,kt=se.y,Mt=ie.x-Kt,pt=se.height/2;Gt.setEdge(ie.e,ie.label),Gt.removeNode(Jt),ie.label.points=[{x:Kt+2*Mt/3,y:kt-pt},{x:Kt+5*Mt/6,y:kt-pt},{x:Kt+Mt,y:kt},{x:Kt+5*Mt/6,y:kt+pt},{x:Kt+2*Mt/3,y:kt+pt}],ie.label.x=ie.x,ie.label.y=ie.y}})}function Bt(Gt,Jt){return S.mapValues(S.pick(Gt,Jt),Number)}function qt(Gt){var Jt={};return S.forEach(Gt,function(ie,se){Jt[se.toLowerCase()]=ie}),Jt}},38436:function(mt,C,d){var S;try{S={cloneDeep:d(50361),constant:d(75703),defaults:d(91747),each:d(66073),filter:d(63105),find:d(13311),flatten:d(85564),forEach:d(84486),forIn:d(62620),has:d(18721),isUndefined:d(52353),last:d(10928),map:d(35161),mapValues:d(66604),max:d(6162),merge:d(82492),min:d(53632),minBy:d(22762),now:d(7771),pick:d(78718),range:d(96026),reduce:d(54061),sortBy:d(89734),uniqueId:d(73955),values:d(52628),zipObject:d(7287)}}catch(O){}S||(S=window._),mt.exports=S},72981:function(mt,C,d){var S=d(38436),O=d(11138);mt.exports={run:D,cleanup:P};function D(T){var p=O.addDummyNode(T,"root",{},"_root"),w=I(T),m=S.max(S.values(w))-1,b=2*m+1;T.graph().nestingRoot=p,S.forEach(T.edges(),function(A){T.edge(A).minlen*=b});var y=_(T)+1;S.forEach(T.children(),function(A){k(T,p,b,y,m,w,A)}),T.graph().nodeRankFactor=b}function k(T,p,w,m,b,y,A){var B=T.children(A);if(!B.length){A!==p&&T.setEdge(p,A,{weight:0,minlen:w});return}var N=O.addBorderNode(T,"_bt"),G=O.addBorderNode(T,"_bb"),j=T.node(A);T.setParent(N,A),j.borderTop=N,T.setParent(G,A),j.borderBottom=G,S.forEach(B,function(J){k(T,p,w,m,b,y,J);var H=T.node(J),K=H.borderTop?H.borderTop:J,st=H.borderBottom?H.borderBottom:J,nt=H.borderTop?m:2*m,wt=K!==st?1:b-y[A]+1;T.setEdge(N,K,{weight:nt,minlen:wt,nestingEdge:!0}),T.setEdge(st,G,{weight:nt,minlen:wt,nestingEdge:!0})}),T.parent(A)||T.setEdge(p,N,{weight:0,minlen:b+y[A]})}function I(T){var p={};function w(m,b){var y=T.children(m);y&&y.length&&S.forEach(y,function(A){w(A,b+1)}),p[m]=b}return S.forEach(T.children(),function(m){w(m,1)}),p}function _(T){return S.reduce(T.edges(),function(p,w){return p+T.edge(w).weight},0)}function P(T){var p=T.graph();T.removeNode(p.nestingRoot),delete p.nestingRoot,S.forEach(T.edges(),function(w){var m=T.edge(w);m.nestingEdge&&T.removeEdge(w)})}},45995:function(mt,C,d){"use strict";var S=d(38436),O=d(11138);mt.exports={run:D,undo:I};function D(_){_.graph().dummyChains=[],S.forEach(_.edges(),function(P){k(_,P)})}function k(_,P){var T=P.v,p=_.node(T).rank,w=P.w,m=_.node(w).rank,b=P.name,y=_.edge(P),A=y.labelRank;if(m!==p+1){_.removeEdge(P);var B,N,G;for(G=0,++p;p<m;++G,++p)y.points=[],N={width:0,height:0,edgeLabel:y,edgeObj:P,rank:p},B=O.addDummyNode(_,"edge",N,"_d"),p===A&&(N.width=y.width,N.height=y.height,N.dummy="edge-label",N.labelpos=y.labelpos),_.setEdge(T,B,{weight:y.weight},b),G===0&&_.graph().dummyChains.push(B),T=B;_.setEdge(T,w,{weight:y.weight},b)}}function I(_){S.forEach(_.graph().dummyChains,function(P){var T=_.node(P),p=T.edgeLabel,w;for(_.setEdge(T.edgeObj,p);T.dummy;)w=_.successors(P)[0],_.removeNode(P),p.points.push({x:T.x,y:T.y}),T.dummy==="edge-label"&&(p.x=T.x,p.y=T.y,p.width=T.width,p.height=T.height),P=w,T=_.node(P)})}},55093:function(mt,C,d){var S=d(38436);mt.exports=O;function O(D,k,I){var _={},P;S.forEach(I,function(T){for(var p=D.parent(T),w,m;p;){if(w=D.parent(p),w?(m=_[w],_[w]=p):(m=P,P=p),m&&m!==p){k.setEdge(m,p);return}p=w}})}},35439:function(mt,C,d){var S=d(38436);mt.exports=O;function O(D,k){return S.map(k,function(I){var _=D.inEdges(I);if(_.length){var P=S.reduce(_,function(T,p){var w=D.edge(p),m=D.node(p.v);return{sum:T.sum+w.weight*m.order,weight:T.weight+w.weight}},{sum:0,weight:0});return{v:I,barycenter:P.sum/P.weight,weight:P.weight}}else return{v:I}})}},23128:function(mt,C,d){var S=d(38436),O=d(70574).Graph;mt.exports=D;function D(I,_,P){var T=k(I),p=new O({compound:!0}).setGraph({root:T}).setDefaultNodeLabel(function(w){return I.node(w)});return S.forEach(I.nodes(),function(w){var m=I.node(w),b=I.parent(w);(m.rank===_||m.minRank<=_&&_<=m.maxRank)&&(p.setNode(w),p.setParent(w,b||T),S.forEach(I[P](w),function(y){var A=y.v===w?y.w:y.v,B=p.edge(A,w),N=S.isUndefined(B)?0:B.weight;p.setEdge(A,w,{weight:I.edge(y).weight+N})}),S.has(m,"minRank")&&p.setNode(w,{borderLeft:m.borderLeft[_],borderRight:m.borderRight[_]}))}),p}function k(I){for(var _;I.hasNode(_=S.uniqueId("_root")););return _}},56630:function(mt,C,d){"use strict";var S=d(38436);mt.exports=O;function O(k,I){for(var _=0,P=1;P<I.length;++P)_+=D(k,I[P-1],I[P]);return _}function D(k,I,_){for(var P=S.zipObject(_,S.map(_,function(y,A){return A})),T=S.flatten(S.map(I,function(y){return S.sortBy(S.map(k.outEdges(y),function(A){return{pos:P[A.w],weight:k.edge(A).weight}}),"pos")}),!0),p=1;p<_.length;)p<<=1;var w=2*p-1;p-=1;var m=S.map(new Array(w),function(){return 0}),b=0;return S.forEach(T.forEach(function(y){var A=y.pos+p;m[A]+=y.weight;for(var B=0;A>0;)A%2&&(B+=m[A+1]),A=A-1>>1,m[A]+=y.weight;b+=y.weight*B})),b}},53408:function(mt,C,d){"use strict";var S=d(38436),O=d(2588),D=d(56630),k=d(61026),I=d(23128),_=d(55093),P=d(70574).Graph,T=d(11138);mt.exports=p;function p(y){var A=T.maxRank(y),B=w(y,S.range(1,A+1),"inEdges"),N=w(y,S.range(A-1,-1,-1),"outEdges"),G=O(y);b(y,G);for(var j=Number.POSITIVE_INFINITY,J,H=0,K=0;K<4;++H,++K){m(H%2?B:N,H%4>=2),G=T.buildLayerMatrix(y);var st=D(y,G);st<j&&(K=0,J=S.cloneDeep(G),j=st)}b(y,J)}function w(y,A,B){return S.map(A,function(N){return I(y,N,B)})}function m(y,A){var B=new P;S.forEach(y,function(N){var G=N.graph().root,j=k(N,G,B,A);S.forEach(j.vs,function(J,H){N.node(J).order=H}),_(N,B,j.vs)})}function b(y,A){S.forEach(A,function(B){S.forEach(B,function(N,G){y.node(N).order=G})})}},2588:function(mt,C,d){"use strict";var S=d(38436);mt.exports=O;function O(D){var k={},I=S.filter(D.nodes(),function(w){return!D.children(w).length}),_=S.max(S.map(I,function(w){return D.node(w).rank})),P=S.map(S.range(_+1),function(){return[]});function T(w){if(!S.has(k,w)){k[w]=!0;var m=D.node(w);P[m.rank].push(w),S.forEach(D.successors(w),T)}}var p=S.sortBy(I,function(w){return D.node(w).rank});return S.forEach(p,T),P}},83678:function(mt,C,d){"use strict";var S=d(38436);mt.exports=O;function O(I,_){var P={};S.forEach(I,function(p,w){var m=P[p.v]={indegree:0,in:[],out:[],vs:[p.v],i:w};S.isUndefined(p.barycenter)||(m.barycenter=p.barycenter,m.weight=p.weight)}),S.forEach(_.edges(),function(p){var w=P[p.v],m=P[p.w];!S.isUndefined(w)&&!S.isUndefined(m)&&(m.indegree++,w.out.push(P[p.w]))});var T=S.filter(P,function(p){return!p.indegree});return D(T)}function D(I){var _=[];function P(w){return function(m){m.merged||(S.isUndefined(m.barycenter)||S.isUndefined(w.barycenter)||m.barycenter>=w.barycenter)&&k(w,m)}}function T(w){return function(m){m.in.push(w),--m.indegree==0&&I.push(m)}}for(;I.length;){var p=I.pop();_.push(p),S.forEach(p.in.reverse(),P(p)),S.forEach(p.out,T(p))}return S.map(S.filter(_,function(w){return!w.merged}),function(w){return S.pick(w,["vs","i","barycenter","weight"])})}function k(I,_){var P=0,T=0;I.weight&&(P+=I.barycenter*I.weight,T+=I.weight),_.weight&&(P+=_.barycenter*_.weight,T+=_.weight),I.vs=_.vs.concat(I.vs),I.barycenter=P/T,I.weight=T,I.i=Math.min(_.i,I.i),_.merged=!0}},61026:function(mt,C,d){var S=d(38436),O=d(35439),D=d(83678),k=d(87304);mt.exports=I;function I(T,p,w,m){var b=T.children(p),y=T.node(p),A=y?y.borderLeft:void 0,B=y?y.borderRight:void 0,N={};A&&(b=S.filter(b,function(st){return st!==A&&st!==B}));var G=O(T,b);S.forEach(G,function(st){if(T.children(st.v).length){var nt=I(T,st.v,w,m);N[st.v]=nt,S.has(nt,"barycenter")&&P(st,nt)}});var j=D(G,w);_(j,N);var J=k(j,m);if(A&&(J.vs=S.flatten([A,J.vs,B],!0),T.predecessors(A).length)){var H=T.node(T.predecessors(A)[0]),K=T.node(T.predecessors(B)[0]);S.has(J,"barycenter")||(J.barycenter=0,J.weight=0),J.barycenter=(J.barycenter*J.weight+H.order+K.order)/(J.weight+2),J.weight+=2}return J}function _(T,p){S.forEach(T,function(w){w.vs=S.flatten(w.vs.map(function(m){return p[m]?p[m].vs:m}),!0)})}function P(T,p){S.isUndefined(T.barycenter)?(T.barycenter=p.barycenter,T.weight=p.weight):(T.barycenter=(T.barycenter*T.weight+p.barycenter*p.weight)/(T.weight+p.weight),T.weight+=p.weight)}},87304:function(mt,C,d){var S=d(38436),O=d(11138);mt.exports=D;function D(_,P){var T=O.partition(_,function(N){return S.has(N,"barycenter")}),p=T.lhs,w=S.sortBy(T.rhs,function(N){return-N.i}),m=[],b=0,y=0,A=0;p.sort(I(!!P)),A=k(m,w,A),S.forEach(p,function(N){A+=N.vs.length,m.push(N.vs),b+=N.barycenter*N.weight,y+=N.weight,A=k(m,w,A)});var B={vs:S.flatten(m,!0)};return y&&(B.barycenter=b/y,B.weight=y),B}function k(_,P,T){for(var p;P.length&&(p=S.last(P)).i<=T;)P.pop(),_.push(p.vs),T++;return T}function I(_){return function(P,T){return P.barycenter<T.barycenter?-1:P.barycenter>T.barycenter?1:_?T.i-P.i:P.i-T.i}}},24219:function(mt,C,d){var S=d(38436);mt.exports=O;function O(I){var _=k(I);S.forEach(I.graph().dummyChains,function(P){for(var T=I.node(P),p=T.edgeObj,w=D(I,_,p.v,p.w),m=w.path,b=w.lca,y=0,A=m[y],B=!0;P!==p.w;){if(T=I.node(P),B){for(;(A=m[y])!==b&&I.node(A).maxRank<T.rank;)y++;A===b&&(B=!1)}if(!B){for(;y<m.length-1&&I.node(A=m[y+1]).minRank<=T.rank;)y++;A=m[y]}I.setParent(P,A),P=I.successors(P)[0]}})}function D(I,_,P,T){var p=[],w=[],m=Math.min(_[P].low,_[T].low),b=Math.max(_[P].lim,_[T].lim),y,A;y=P;do y=I.parent(y),p.push(y);while(y&&(_[y].low>m||b>_[y].lim));for(A=y,y=T;(y=I.parent(y))!==A;)w.push(y);return{path:p.concat(w.reverse()),lca:A}}function k(I){var _={},P=0;function T(p){var w=P;S.forEach(I.children(p),T),_[p]={low:w,lim:P++}}return S.forEach(I.children(),T),_}},3573:function(mt,C,d){"use strict";var S=d(38436),O=d(70574).Graph,D=d(11138);mt.exports={positionX:B,findType1Conflicts:k,findType2Conflicts:I,addConflict:P,hasConflict:T,verticalAlignment:p,horizontalCompaction:w,alignCoordinates:y,findSmallestWidthAlignment:b,balance:A};function k(j,J){var H={};function K(st,nt){var wt=0,gt=0,At=st.length,X=S.last(nt);return S.forEach(nt,function(Z,tt){var Q=_(j,Z),vt=Q?j.node(Q).order:At;(Q||Z===X)&&(S.forEach(nt.slice(gt,tt+1),function(lt){S.forEach(j.predecessors(lt),function(rt){var U=j.node(rt),$=U.order;($<wt||vt<$)&&!(U.dummy&&j.node(lt).dummy)&&P(H,rt,lt)})}),gt=tt+1,wt=vt)}),nt}return S.reduce(J,K),H}function I(j,J){var H={};function K(nt,wt,gt,At,X){var Z;S.forEach(S.range(wt,gt),function(tt){Z=nt[tt],j.node(Z).dummy&&S.forEach(j.predecessors(Z),function(Q){var vt=j.node(Q);vt.dummy&&(vt.order<At||vt.order>X)&&P(H,Q,Z)})})}function st(nt,wt){var gt=-1,At,X=0;return S.forEach(wt,function(Z,tt){if(j.node(Z).dummy==="border"){var Q=j.predecessors(Z);Q.length&&(At=j.node(Q[0]).order,K(wt,X,tt,gt,At),X=tt,gt=At)}K(wt,X,wt.length,At,nt.length)}),wt}return S.reduce(J,st),H}function _(j,J){if(j.node(J).dummy)return S.find(j.predecessors(J),function(H){return j.node(H).dummy})}function P(j,J,H){if(J>H){var K=J;J=H,H=K}var st=j[J];st||(j[J]=st={}),st[H]=!0}function T(j,J,H){if(J>H){var K=J;J=H,H=K}return S.has(j[J],H)}function p(j,J,H,K){var st={},nt={},wt={};return S.forEach(J,function(gt){S.forEach(gt,function(At,X){st[At]=At,nt[At]=At,wt[At]=X})}),S.forEach(J,function(gt){var At=-1;S.forEach(gt,function(X){var Z=K(X);if(Z.length){Z=S.sortBy(Z,function(rt){return wt[rt]});for(var tt=(Z.length-1)/2,Q=Math.floor(tt),vt=Math.ceil(tt);Q<=vt;++Q){var lt=Z[Q];nt[X]===X&&At<wt[lt]&&!T(H,X,lt)&&(nt[lt]=X,nt[X]=st[X]=st[lt],At=wt[lt])}}})}),{root:st,align:nt}}function w(j,J,H,K,st){var nt={},wt=m(j,J,H,st),gt=st?"borderLeft":"borderRight";function At(tt,Q){for(var vt=wt.nodes(),lt=vt.pop(),rt={};lt;)rt[lt]?tt(lt):(rt[lt]=!0,vt.push(lt),vt=vt.concat(Q(lt))),lt=vt.pop()}function X(tt){nt[tt]=wt.inEdges(tt).reduce(function(Q,vt){return Math.max(Q,nt[vt.v]+wt.edge(vt))},0)}function Z(tt){var Q=wt.outEdges(tt).reduce(function(lt,rt){return Math.min(lt,nt[rt.w]-wt.edge(rt))},Number.POSITIVE_INFINITY),vt=j.node(tt);Q!==Number.POSITIVE_INFINITY&&vt.borderType!==gt&&(nt[tt]=Math.max(nt[tt],Q))}return At(X,wt.predecessors.bind(wt)),At(Z,wt.successors.bind(wt)),S.forEach(K,function(tt){nt[tt]=nt[H[tt]]}),nt}function m(j,J,H,K){var st=new O,nt=j.graph(),wt=N(nt.nodesep,nt.edgesep,K);return S.forEach(J,function(gt){var At;S.forEach(gt,function(X){var Z=H[X];if(st.setNode(Z),At){var tt=H[At],Q=st.edge(tt,Z);st.setEdge(tt,Z,Math.max(wt(j,X,At),Q||0))}At=X})}),st}function b(j,J){return S.minBy(S.values(J),function(H){var K=Number.NEGATIVE_INFINITY,st=Number.POSITIVE_INFINITY;return S.forIn(H,function(nt,wt){var gt=G(j,wt)/2;K=Math.max(nt+gt,K),st=Math.min(nt-gt,st)}),K-st})}function y(j,J){var H=S.values(J),K=S.min(H),st=S.max(H);S.forEach(["u","d"],function(nt){S.forEach(["l","r"],function(wt){var gt=nt+wt,At=j[gt],X;if(At!==J){var Z=S.values(At);X=wt==="l"?K-S.min(Z):st-S.max(Z),X&&(j[gt]=S.mapValues(At,function(tt){return tt+X}))}})})}function A(j,J){return S.mapValues(j.ul,function(H,K){if(J)return j[J.toLowerCase()][K];var st=S.sortBy(S.map(j,K));return(st[1]+st[2])/2})}function B(j){var J=D.buildLayerMatrix(j),H=S.merge(k(j,J),I(j,J)),K={},st;S.forEach(["u","d"],function(wt){st=wt==="u"?J:S.values(J).reverse(),S.forEach(["l","r"],function(gt){gt==="r"&&(st=S.map(st,function(tt){return S.values(tt).reverse()}));var At=(wt==="u"?j.predecessors:j.successors).bind(j),X=p(j,st,H,At),Z=w(j,st,X.root,X.align,gt==="r");gt==="r"&&(Z=S.mapValues(Z,function(tt){return-tt})),K[wt+gt]=Z})});var nt=b(j,K);return y(K,nt),A(K,j.graph().align)}function N(j,J,H){return function(K,st,nt){var wt=K.node(st),gt=K.node(nt),At=0,X;if(At+=wt.width/2,S.has(wt,"labelpos"))switch(wt.labelpos.toLowerCase()){case"l":X=-wt.width/2;break;case"r":X=wt.width/2;break}if(X&&(At+=H?X:-X),X=0,At+=(wt.dummy?J:j)/2,At+=(gt.dummy?J:j)/2,At+=gt.width/2,S.has(gt,"labelpos"))switch(gt.labelpos.toLowerCase()){case"l":X=gt.width/2;break;case"r":X=-gt.width/2;break}return X&&(At+=H?X:-X),X=0,At}}function G(j,J){return j.node(J).width}},17873:function(mt,C,d){"use strict";var S=d(38436),O=d(11138),D=d(3573).positionX;mt.exports=k;function k(_){_=O.asNonCompoundGraph(_),I(_),S.forEach(D(_),function(P,T){_.node(T).x=P})}function I(_){var P=O.buildLayerMatrix(_),T=_.graph().ranksep,p=0;S.forEach(P,function(w){var m=S.max(S.map(w,function(b){return _.node(b).height}));S.forEach(w,function(b){_.node(b).y=p+m/2}),p+=m+T})}},20300:function(mt,C,d){"use strict";var S=d(38436),O=d(70574).Graph,D=d(76681).slack;mt.exports=k;function k(T){var p=new O({directed:!1}),w=T.nodes()[0],m=T.nodeCount();p.setNode(w,{});for(var b,y;I(p,T)<m;)b=_(p,T),y=p.hasNode(b.v)?D(T,b):-D(T,b),P(p,T,y);return p}function I(T,p){function w(m){S.forEach(p.nodeEdges(m),function(b){var y=b.v,A=m===y?b.w:y;!T.hasNode(A)&&!D(p,b)&&(T.setNode(A,{}),T.setEdge(m,A,{}),w(A))})}return S.forEach(T.nodes(),w),T.nodeCount()}function _(T,p){return S.minBy(p.edges(),function(w){if(T.hasNode(w.v)!==T.hasNode(w.w))return D(p,w)})}function P(T,p,w){S.forEach(T.nodes(),function(m){p.node(m).rank+=w})}},78093:function(mt,C,d){"use strict";var S=d(76681),O=S.longestPath,D=d(20300),k=d(42472);mt.exports=I;function I(p){switch(p.graph().ranker){case"network-simplex":T(p);break;case"tight-tree":P(p);break;case"longest-path":_(p);break;default:T(p)}}var _=O;function P(p){O(p),D(p)}function T(p){k(p)}},42472:function(mt,C,d){"use strict";var S=d(38436),O=d(20300),D=d(76681).slack,k=d(76681).longestPath,I=d(70574).alg.preorder,_=d(70574).alg.postorder,P=d(11138).simplify;mt.exports=T,T.initLowLimValues=b,T.initCutValues=p,T.calcCutValue=m,T.leaveEdge=A,T.enterEdge=B,T.exchangeEdges=N;function T(H){H=P(H),k(H);var K=O(H);b(K),p(K,H);for(var st,nt;st=A(K);)nt=B(K,H,st),N(K,H,st,nt)}function p(H,K){var st=_(H,H.nodes());st=st.slice(0,st.length-1),S.forEach(st,function(nt){w(H,K,nt)})}function w(H,K,st){var nt=H.node(st),wt=nt.parent;H.edge(st,wt).cutvalue=m(H,K,st)}function m(H,K,st){var nt=H.node(st),wt=nt.parent,gt=!0,At=K.edge(st,wt),X=0;return At||(gt=!1,At=K.edge(wt,st)),X=At.weight,S.forEach(K.nodeEdges(st),function(Z){var tt=Z.v===st,Q=tt?Z.w:Z.v;if(Q!==wt){var vt=tt===gt,lt=K.edge(Z).weight;if(X+=vt?lt:-lt,j(H,st,Q)){var rt=H.edge(st,Q).cutvalue;X+=vt?-rt:rt}}}),X}function b(H,K){arguments.length<2&&(K=H.nodes()[0]),y(H,{},1,K)}function y(H,K,st,nt,wt){var gt=st,At=H.node(nt);return K[nt]=!0,S.forEach(H.neighbors(nt),function(X){S.has(K,X)||(st=y(H,K,st,X,nt))}),At.low=gt,At.lim=st++,wt?At.parent=wt:delete At.parent,st}function A(H){return S.find(H.edges(),function(K){return H.edge(K).cutvalue<0})}function B(H,K,st){var nt=st.v,wt=st.w;K.hasEdge(nt,wt)||(nt=st.w,wt=st.v);var gt=H.node(nt),At=H.node(wt),X=gt,Z=!1;gt.lim>At.lim&&(X=At,Z=!0);var tt=S.filter(K.edges(),function(Q){return Z===J(H,H.node(Q.v),X)&&Z!==J(H,H.node(Q.w),X)});return S.minBy(tt,function(Q){return D(K,Q)})}function N(H,K,st,nt){var wt=st.v,gt=st.w;H.removeEdge(wt,gt),H.setEdge(nt.v,nt.w,{}),b(H),p(H,K),G(H,K)}function G(H,K){var st=S.find(H.nodes(),function(wt){return!K.node(wt).parent}),nt=I(H,st);nt=nt.slice(1),S.forEach(nt,function(wt){var gt=H.node(wt).parent,At=K.edge(wt,gt),X=!1;At||(At=K.edge(gt,wt),X=!0),K.node(wt).rank=K.node(gt).rank+(X?At.minlen:-At.minlen)})}function j(H,K,st){return H.hasEdge(K,st)}function J(H,K,st){return st.low<=K.lim&&K.lim<=st.lim}},76681:function(mt,C,d){"use strict";var S=d(38436);mt.exports={longestPath:O,slack:D};function O(k){var I={};function _(P){var T=k.node(P);if(S.has(I,P))return T.rank;I[P]=!0;var p=S.min(S.map(k.outEdges(P),function(w){return _(w.w)-k.edge(w).minlen}));return(p===Number.POSITIVE_INFINITY||p===void 0||p===null)&&(p=0),T.rank=p}S.forEach(k.sources(),_)}function D(k,I){return k.node(I.w).rank-k.node(I.v).rank-k.edge(I).minlen}},11138:function(mt,C,d){"use strict";var S=d(38436),O=d(70574).Graph;mt.exports={addDummyNode:D,simplify:k,asNonCompoundGraph:I,successorWeights:_,predecessorWeights:P,intersectRect:T,buildLayerMatrix:p,normalizeRanks:w,removeEmptyRanks:m,addBorderNode:b,maxRank:y,partition:A,time:B,notime:N};function D(G,j,J,H){var K;do K=S.uniqueId(H);while(G.hasNode(K));return J.dummy=j,G.setNode(K,J),K}function k(G){var j=new O().setGraph(G.graph());return S.forEach(G.nodes(),function(J){j.setNode(J,G.node(J))}),S.forEach(G.edges(),function(J){var H=j.edge(J.v,J.w)||{weight:0,minlen:1},K=G.edge(J);j.setEdge(J.v,J.w,{weight:H.weight+K.weight,minlen:Math.max(H.minlen,K.minlen)})}),j}function I(G){var j=new O({multigraph:G.isMultigraph()}).setGraph(G.graph());return S.forEach(G.nodes(),function(J){G.children(J).length||j.setNode(J,G.node(J))}),S.forEach(G.edges(),function(J){j.setEdge(J,G.edge(J))}),j}function _(G){var j=S.map(G.nodes(),function(J){var H={};return S.forEach(G.outEdges(J),function(K){H[K.w]=(H[K.w]||0)+G.edge(K).weight}),H});return S.zipObject(G.nodes(),j)}function P(G){var j=S.map(G.nodes(),function(J){var H={};return S.forEach(G.inEdges(J),function(K){H[K.v]=(H[K.v]||0)+G.edge(K).weight}),H});return S.zipObject(G.nodes(),j)}function T(G,j){var J=G.x,H=G.y,K=j.x-J,st=j.y-H,nt=G.width/2,wt=G.height/2;if(!K&&!st)throw new Error("Not possible to find intersection inside of the rectangle");var gt,At;return Math.abs(st)*nt>Math.abs(K)*wt?(st<0&&(wt=-wt),gt=wt*K/st,At=wt):(K<0&&(nt=-nt),gt=nt,At=nt*st/K),{x:J+gt,y:H+At}}function p(G){var j=S.map(S.range(y(G)+1),function(){return[]});return S.forEach(G.nodes(),function(J){var H=G.node(J),K=H.rank;S.isUndefined(K)||(j[K][H.order]=J)}),j}function w(G){var j=S.min(S.map(G.nodes(),function(J){return G.node(J).rank}));S.forEach(G.nodes(),function(J){var H=G.node(J);S.has(H,"rank")&&(H.rank-=j)})}function m(G){var j=S.min(S.map(G.nodes(),function(st){return G.node(st).rank})),J=[];S.forEach(G.nodes(),function(st){var nt=G.node(st).rank-j;J[nt]||(J[nt]=[]),J[nt].push(st)});var H=0,K=G.graph().nodeRankFactor;S.forEach(J,function(st,nt){S.isUndefined(st)&&nt%K!=0?--H:H&&S.forEach(st,function(wt){G.node(wt).rank+=H})})}function b(G,j,J,H){var K={width:0,height:0};return arguments.length>=4&&(K.rank=J,K.order=H),D(G,"border",K,j)}function y(G){return S.max(S.map(G.nodes(),function(j){var J=G.node(j).rank;if(!S.isUndefined(J))return J}))}function A(G,j){var J={lhs:[],rhs:[]};return S.forEach(G,function(H){j(H)?J.lhs.push(H):J.rhs.push(H)}),J}function B(G,j){var J=S.now();try{return j()}finally{console.log(G+" time: "+(S.now()-J)+"ms")}}function N(G,j){return j()}},88177:function(mt){mt.exports="0.8.5"},43631:function(mt,C,d){"use strict";d.r(C),d.d(C,{BrowserInfo:function(){return D},NodeInfo:function(){return k},SearchBotDeviceInfo:function(){return I},BotInfo:function(){return _},ReactNativeInfo:function(){return P},detect:function(){return y},browserName:function(){return B},parseUserAgent:function(){return N},detectOS:function(){return G},getNodeVersion:function(){return j}});var S=d(34155),O=function(H,K,st){if(st||arguments.length===2)for(var nt=0,wt=K.length,gt;nt<wt;nt++)(gt||!(nt in K))&&(gt||(gt=Array.prototype.slice.call(K,0,nt)),gt[nt]=K[nt]);return H.concat(gt||Array.prototype.slice.call(K))},D=function(){function H(K,st,nt){this.name=K,this.version=st,this.os=nt,this.type="browser"}return H}(),k=function(){function H(K){this.version=K,this.type="node",this.name="node",this.os=S.platform}return H}(),I=function(){function H(K,st,nt,wt){this.name=K,this.version=st,this.os=nt,this.bot=wt,this.type="bot-device"}return H}(),_=function(){function H(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return H}(),P=function(){function H(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return H}(),T=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,p=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,w=3,m=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",T]],b=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function y(H){return H?N(H):typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"?new P:typeof navigator!="undefined"?N(navigator.userAgent):j()}function A(H){return H!==""&&m.reduce(function(K,st){var nt=st[0],wt=st[1];if(K)return K;var gt=wt.exec(H);return!!gt&&[nt,gt]},!1)}function B(H){var K=A(H);return K?K[0]:null}function N(H){var K=A(H);if(!K)return null;var st=K[0],nt=K[1];if(st==="searchbot")return new _;var wt=nt[1]&&nt[1].split(".").join("_").split("_").slice(0,3);wt?wt.length<w&&(wt=O(O([],wt,!0),J(w-wt.length),!0)):wt=[];var gt=wt.join("."),At=G(H),X=p.exec(H);return X&&X[1]?new I(st,gt,At,X[1]):new D(st,gt,At)}function G(H){for(var K=0,st=b.length;K<st;K++){var nt=b[K],wt=nt[0],gt=nt[1],At=gt.exec(H);if(At)return wt}return null}function j(){var H=typeof S!="undefined"&&S.version;return H?new k(S.version.slice(1)):null}function J(H){for(var K=[],st=0;st<H;st++)K.push("0");return K}},82097:function(mt,C,d){var S;(function(O){"use strict";var D={},k=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,I=/\d\d?/,_=/\d{3}/,P=/\d{4}/,T=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,p=/\[([^]*?)\]/gm,w=function(){};function m(H,K){for(var st=[],nt=0,wt=H.length;nt<wt;nt++)st.push(H[nt].substr(0,K));return st}function b(H){return function(K,st,nt){var wt=nt[H].indexOf(st.charAt(0).toUpperCase()+st.substr(1).toLowerCase());~wt&&(K.month=wt)}}function y(H,K){for(H=String(H),K=K||2;H.length<K;)H="0"+H;return H}var A=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],B=["January","February","March","April","May","June","July","August","September","October","November","December"],N=m(B,3),G=m(A,3);D.i18n={dayNamesShort:G,dayNames:A,monthNamesShort:N,monthNames:B,amPm:["am","pm"],DoFn:function(K){return K+["th","st","nd","rd"][K%10>3?0:(K-K%10!=10)*K%10]}};var j={D:function(H){return H.getDate()},DD:function(H){return y(H.getDate())},Do:function(H,K){return K.DoFn(H.getDate())},d:function(H){return H.getDay()},dd:function(H){return y(H.getDay())},ddd:function(H,K){return K.dayNamesShort[H.getDay()]},dddd:function(H,K){return K.dayNames[H.getDay()]},M:function(H){return H.getMonth()+1},MM:function(H){return y(H.getMonth()+1)},MMM:function(H,K){return K.monthNamesShort[H.getMonth()]},MMMM:function(H,K){return K.monthNames[H.getMonth()]},YY:function(H){return String(H.getFullYear()).substr(2)},YYYY:function(H){return y(H.getFullYear(),4)},h:function(H){return H.getHours()%12||12},hh:function(H){return y(H.getHours()%12||12)},H:function(H){return H.getHours()},HH:function(H){return y(H.getHours())},m:function(H){return H.getMinutes()},mm:function(H){return y(H.getMinutes())},s:function(H){return H.getSeconds()},ss:function(H){return y(H.getSeconds())},S:function(H){return Math.round(H.getMilliseconds()/100)},SS:function(H){return y(Math.round(H.getMilliseconds()/10),2)},SSS:function(H){return y(H.getMilliseconds(),3)},a:function(H,K){return H.getHours()<12?K.amPm[0]:K.amPm[1]},A:function(H,K){return H.getHours()<12?K.amPm[0].toUpperCase():K.amPm[1].toUpperCase()},ZZ:function(H){var K=H.getTimezoneOffset();return(K>0?"-":"+")+y(Math.floor(Math.abs(K)/60)*100+Math.abs(K)%60,4)}},J={D:[I,function(H,K){H.day=K}],Do:[new RegExp(I.source+T.source),function(H,K){H.day=parseInt(K,10)}],M:[I,function(H,K){H.month=K-1}],YY:[I,function(H,K){var st=new Date,nt=+(""+st.getFullYear()).substr(0,2);H.year=""+(K>68?nt-1:nt)+K}],h:[I,function(H,K){H.hour=K}],m:[I,function(H,K){H.minute=K}],s:[I,function(H,K){H.second=K}],YYYY:[P,function(H,K){H.year=K}],S:[/\d/,function(H,K){H.millisecond=K*100}],SS:[/\d{2}/,function(H,K){H.millisecond=K*10}],SSS:[_,function(H,K){H.millisecond=K}],d:[I,w],ddd:[T,w],MMM:[T,b("monthNamesShort")],MMMM:[T,b("monthNames")],a:[T,function(H,K,st){var nt=K.toLowerCase();nt===st.amPm[0]?H.isPm=!1:nt===st.amPm[1]&&(H.isPm=!0)}],ZZ:[/([\+\-]\d\d:?\d\d|Z)/,function(H,K){K==="Z"&&(K="+00:00");var st=(K+"").match(/([\+\-]|\d\d)/gi),nt;st&&(nt=+(st[1]*60)+parseInt(st[2],10),H.timezoneOffset=st[0]==="+"?nt:-nt)}]};J.dd=J.d,J.dddd=J.ddd,J.DD=J.D,J.mm=J.m,J.hh=J.H=J.HH=J.h,J.MM=J.M,J.ss=J.s,J.A=J.a,D.masks={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},D.format=function(H,K,st){var nt=st||D.i18n;if(typeof H=="number"&&(H=new Date(H)),Object.prototype.toString.call(H)!=="[object Date]"||isNaN(H.getTime()))throw new Error("Invalid Date in fecha.format");K=D.masks[K]||K||D.masks.default;var wt=[];return K=K.replace(p,function(gt,At){return wt.push(At),"??"}),K=K.replace(k,function(gt){return gt in j?j[gt](H,nt):gt.slice(1,gt.length-1)}),K.replace(/\?\?/g,function(){return wt.shift()})},D.parse=function(H,K,st){var nt=st||D.i18n;if(typeof K!="string")throw new Error("Invalid format in fecha.parse");if(K=D.masks[K]||K,H.length>1e3)return!1;var wt=!0,gt={};if(K.replace(k,function(Z){if(J[Z]){var tt=J[Z],Q=H.search(tt[0]);~Q?H.replace(tt[0],function(vt){return tt[1](gt,vt,nt),H=H.substr(Q+vt.length),vt}):wt=!1}return J[Z]?"":Z.slice(1,Z.length-1)}),!wt)return!1;var At=new Date;gt.isPm===!0&&gt.hour!=null&&+gt.hour!=12?gt.hour=+gt.hour+12:gt.isPm===!1&&+gt.hour==12&&(gt.hour=0);var X;return gt.timezoneOffset!=null?(gt.minute=+(gt.minute||0)-+gt.timezoneOffset,X=new Date(Date.UTC(gt.year||At.getFullYear(),gt.month||0,gt.day||1,gt.hour||0,gt.minute||0,gt.second||0,gt.millisecond||0))):X=new Date(gt.year||At.getFullYear(),gt.month||0,gt.day||1,gt.hour||0,gt.minute||0,gt.second||0,gt.millisecond||0),X},mt.exports?mt.exports=D:(S=function(){return D}.call(C,d,C,mt),S!==void 0&&(mt.exports=S))})(this)},49685:function(mt,C,d){"use strict";d.d(C,{Ib:function(){return S},WT:function(){return O},FD:function(){return D}});var S=1e-6,O=typeof Float32Array!="undefined"?Float32Array:Array,D=Math.random;function k(T){O=T}var I=Math.PI/180;function _(T){return T*I}function P(T,p){return Math.abs(T-p)<=S*Math.max(1,Math.abs(T),Math.abs(p))}Math.hypot||(Math.hypot=function(){for(var T=0,p=arguments.length;p--;)T+=arguments[p]*arguments[p];return Math.sqrt(T)})},35600:function(mt,C,d){"use strict";d.r(C),d.d(C,{create:function(){return O},fromMat4:function(){return D},clone:function(){return k},copy:function(){return I},fromValues:function(){return _},set:function(){return P},identity:function(){return T},transpose:function(){return p},invert:function(){return w},adjoint:function(){return m},determinant:function(){return b},multiply:function(){return y},translate:function(){return A},rotate:function(){return B},scale:function(){return N},fromTranslation:function(){return G},fromRotation:function(){return j},fromScaling:function(){return J},fromMat2d:function(){return H},fromQuat:function(){return K},normalFromMat4:function(){return st},projection:function(){return nt},str:function(){return wt},frob:function(){return gt},add:function(){return At},subtract:function(){return X},multiplyScalar:function(){return Z},multiplyScalarAndAdd:function(){return tt},exactEquals:function(){return Q},equals:function(){return vt},mul:function(){return lt},sub:function(){return rt}});var S=d(49685);function O(){var U=new S.WT(9);return S.WT!=Float32Array&&(U[1]=0,U[2]=0,U[3]=0,U[5]=0,U[6]=0,U[7]=0),U[0]=1,U[4]=1,U[8]=1,U}function D(U,$){return U[0]=$[0],U[1]=$[1],U[2]=$[2],U[3]=$[4],U[4]=$[5],U[5]=$[6],U[6]=$[8],U[7]=$[9],U[8]=$[10],U}function k(U){var $=new S.WT(9);return $[0]=U[0],$[1]=U[1],$[2]=U[2],$[3]=U[3],$[4]=U[4],$[5]=U[5],$[6]=U[6],$[7]=U[7],$[8]=U[8],$}function I(U,$){return U[0]=$[0],U[1]=$[1],U[2]=$[2],U[3]=$[3],U[4]=$[4],U[5]=$[5],U[6]=$[6],U[7]=$[7],U[8]=$[8],U}function _(U,$,f,xt,Ct,Bt,qt,Gt,Jt){var ie=new S.WT(9);return ie[0]=U,ie[1]=$,ie[2]=f,ie[3]=xt,ie[4]=Ct,ie[5]=Bt,ie[6]=qt,ie[7]=Gt,ie[8]=Jt,ie}function P(U,$,f,xt,Ct,Bt,qt,Gt,Jt,ie){return U[0]=$,U[1]=f,U[2]=xt,U[3]=Ct,U[4]=Bt,U[5]=qt,U[6]=Gt,U[7]=Jt,U[8]=ie,U}function T(U){return U[0]=1,U[1]=0,U[2]=0,U[3]=0,U[4]=1,U[5]=0,U[6]=0,U[7]=0,U[8]=1,U}function p(U,$){if(U===$){var f=$[1],xt=$[2],Ct=$[5];U[1]=$[3],U[2]=$[6],U[3]=f,U[5]=$[7],U[6]=xt,U[7]=Ct}else U[0]=$[0],U[1]=$[3],U[2]=$[6],U[3]=$[1],U[4]=$[4],U[5]=$[7],U[6]=$[2],U[7]=$[5],U[8]=$[8];return U}function w(U,$){var f=$[0],xt=$[1],Ct=$[2],Bt=$[3],qt=$[4],Gt=$[5],Jt=$[6],ie=$[7],se=$[8],Kt=se*qt-Gt*ie,kt=-se*Bt+Gt*Jt,Mt=ie*Bt-qt*Jt,pt=f*Kt+xt*kt+Ct*Mt;return pt?(pt=1/pt,U[0]=Kt*pt,U[1]=(-se*xt+Ct*ie)*pt,U[2]=(Gt*xt-Ct*qt)*pt,U[3]=kt*pt,U[4]=(se*f-Ct*Jt)*pt,U[5]=(-Gt*f+Ct*Bt)*pt,U[6]=Mt*pt,U[7]=(-ie*f+xt*Jt)*pt,U[8]=(qt*f-xt*Bt)*pt,U):null}function m(U,$){var f=$[0],xt=$[1],Ct=$[2],Bt=$[3],qt=$[4],Gt=$[5],Jt=$[6],ie=$[7],se=$[8];return U[0]=qt*se-Gt*ie,U[1]=Ct*ie-xt*se,U[2]=xt*Gt-Ct*qt,U[3]=Gt*Jt-Bt*se,U[4]=f*se-Ct*Jt,U[5]=Ct*Bt-f*Gt,U[6]=Bt*ie-qt*Jt,U[7]=xt*Jt-f*ie,U[8]=f*qt-xt*Bt,U}function b(U){var $=U[0],f=U[1],xt=U[2],Ct=U[3],Bt=U[4],qt=U[5],Gt=U[6],Jt=U[7],ie=U[8];return $*(ie*Bt-qt*Jt)+f*(-ie*Ct+qt*Gt)+xt*(Jt*Ct-Bt*Gt)}function y(U,$,f){var xt=$[0],Ct=$[1],Bt=$[2],qt=$[3],Gt=$[4],Jt=$[5],ie=$[6],se=$[7],Kt=$[8],kt=f[0],Mt=f[1],pt=f[2],Pt=f[3],ut=f[4],at=f[5],St=f[6],Ot=f[7],Ut=f[8];return U[0]=kt*xt+Mt*qt+pt*ie,U[1]=kt*Ct+Mt*Gt+pt*se,U[2]=kt*Bt+Mt*Jt+pt*Kt,U[3]=Pt*xt+ut*qt+at*ie,U[4]=Pt*Ct+ut*Gt+at*se,U[5]=Pt*Bt+ut*Jt+at*Kt,U[6]=St*xt+Ot*qt+Ut*ie,U[7]=St*Ct+Ot*Gt+Ut*se,U[8]=St*Bt+Ot*Jt+Ut*Kt,U}function A(U,$,f){var xt=$[0],Ct=$[1],Bt=$[2],qt=$[3],Gt=$[4],Jt=$[5],ie=$[6],se=$[7],Kt=$[8],kt=f[0],Mt=f[1];return U[0]=xt,U[1]=Ct,U[2]=Bt,U[3]=qt,U[4]=Gt,U[5]=Jt,U[6]=kt*xt+Mt*qt+ie,U[7]=kt*Ct+Mt*Gt+se,U[8]=kt*Bt+Mt*Jt+Kt,U}function B(U,$,f){var xt=$[0],Ct=$[1],Bt=$[2],qt=$[3],Gt=$[4],Jt=$[5],ie=$[6],se=$[7],Kt=$[8],kt=Math.sin(f),Mt=Math.cos(f);return U[0]=Mt*xt+kt*qt,U[1]=Mt*Ct+kt*Gt,U[2]=Mt*Bt+kt*Jt,U[3]=Mt*qt-kt*xt,U[4]=Mt*Gt-kt*Ct,U[5]=Mt*Jt-kt*Bt,U[6]=ie,U[7]=se,U[8]=Kt,U}function N(U,$,f){var xt=f[0],Ct=f[1];return U[0]=xt*$[0],U[1]=xt*$[1],U[2]=xt*$[2],U[3]=Ct*$[3],U[4]=Ct*$[4],U[5]=Ct*$[5],U[6]=$[6],U[7]=$[7],U[8]=$[8],U}function G(U,$){return U[0]=1,U[1]=0,U[2]=0,U[3]=0,U[4]=1,U[5]=0,U[6]=$[0],U[7]=$[1],U[8]=1,U}function j(U,$){var f=Math.sin($),xt=Math.cos($);return U[0]=xt,U[1]=f,U[2]=0,U[3]=-f,U[4]=xt,U[5]=0,U[6]=0,U[7]=0,U[8]=1,U}function J(U,$){return U[0]=$[0],U[1]=0,U[2]=0,U[3]=0,U[4]=$[1],U[5]=0,U[6]=0,U[7]=0,U[8]=1,U}function H(U,$){return U[0]=$[0],U[1]=$[1],U[2]=0,U[3]=$[2],U[4]=$[3],U[5]=0,U[6]=$[4],U[7]=$[5],U[8]=1,U}function K(U,$){var f=$[0],xt=$[1],Ct=$[2],Bt=$[3],qt=f+f,Gt=xt+xt,Jt=Ct+Ct,ie=f*qt,se=xt*qt,Kt=xt*Gt,kt=Ct*qt,Mt=Ct*Gt,pt=Ct*Jt,Pt=Bt*qt,ut=Bt*Gt,at=Bt*Jt;return U[0]=1-Kt-pt,U[3]=se-at,U[6]=kt+ut,U[1]=se+at,U[4]=1-ie-pt,U[7]=Mt-Pt,U[2]=kt-ut,U[5]=Mt+Pt,U[8]=1-ie-Kt,U}function st(U,$){var f=$[0],xt=$[1],Ct=$[2],Bt=$[3],qt=$[4],Gt=$[5],Jt=$[6],ie=$[7],se=$[8],Kt=$[9],kt=$[10],Mt=$[11],pt=$[12],Pt=$[13],ut=$[14],at=$[15],St=f*Gt-xt*qt,Ot=f*Jt-Ct*qt,Ut=f*ie-Bt*qt,oe=xt*Jt-Ct*Gt,we=xt*ie-Bt*Gt,Ie=Ct*ie-Bt*Jt,Be=se*Pt-Kt*pt,ur=se*ut-kt*pt,vr=se*at-Mt*pt,fr=Kt*ut-kt*Pt,Ar=Kt*at-Mt*Pt,or=kt*at-Mt*ut,Gr=St*or-Ot*Ar+Ut*fr+oe*vr-we*ur+Ie*Be;return Gr?(Gr=1/Gr,U[0]=(Gt*or-Jt*Ar+ie*fr)*Gr,U[1]=(Jt*vr-qt*or-ie*ur)*Gr,U[2]=(qt*Ar-Gt*vr+ie*Be)*Gr,U[3]=(Ct*Ar-xt*or-Bt*fr)*Gr,U[4]=(f*or-Ct*vr+Bt*ur)*Gr,U[5]=(xt*vr-f*Ar-Bt*Be)*Gr,U[6]=(Pt*Ie-ut*we+at*oe)*Gr,U[7]=(ut*Ut-pt*Ie-at*Ot)*Gr,U[8]=(pt*we-Pt*Ut+at*St)*Gr,U):null}function nt(U,$,f){return U[0]=2/$,U[1]=0,U[2]=0,U[3]=0,U[4]=-2/f,U[5]=0,U[6]=-1,U[7]=1,U[8]=1,U}function wt(U){return"mat3("+U[0]+", "+U[1]+", "+U[2]+", "+U[3]+", "+U[4]+", "+U[5]+", "+U[6]+", "+U[7]+", "+U[8]+")"}function gt(U){return Math.hypot(U[0],U[1],U[2],U[3],U[4],U[5],U[6],U[7],U[8])}function At(U,$,f){return U[0]=$[0]+f[0],U[1]=$[1]+f[1],U[2]=$[2]+f[2],U[3]=$[3]+f[3],U[4]=$[4]+f[4],U[5]=$[5]+f[5],U[6]=$[6]+f[6],U[7]=$[7]+f[7],U[8]=$[8]+f[8],U}function X(U,$,f){return U[0]=$[0]-f[0],U[1]=$[1]-f[1],U[2]=$[2]-f[2],U[3]=$[3]-f[3],U[4]=$[4]-f[4],U[5]=$[5]-f[5],U[6]=$[6]-f[6],U[7]=$[7]-f[7],U[8]=$[8]-f[8],U}function Z(U,$,f){return U[0]=$[0]*f,U[1]=$[1]*f,U[2]=$[2]*f,U[3]=$[3]*f,U[4]=$[4]*f,U[5]=$[5]*f,U[6]=$[6]*f,U[7]=$[7]*f,U[8]=$[8]*f,U}function tt(U,$,f,xt){return U[0]=$[0]+f[0]*xt,U[1]=$[1]+f[1]*xt,U[2]=$[2]+f[2]*xt,U[3]=$[3]+f[3]*xt,U[4]=$[4]+f[4]*xt,U[5]=$[5]+f[5]*xt,U[6]=$[6]+f[6]*xt,U[7]=$[7]+f[7]*xt,U[8]=$[8]+f[8]*xt,U}function Q(U,$){return U[0]===$[0]&&U[1]===$[1]&&U[2]===$[2]&&U[3]===$[3]&&U[4]===$[4]&&U[5]===$[5]&&U[6]===$[6]&&U[7]===$[7]&&U[8]===$[8]}function vt(U,$){var f=U[0],xt=U[1],Ct=U[2],Bt=U[3],qt=U[4],Gt=U[5],Jt=U[6],ie=U[7],se=U[8],Kt=$[0],kt=$[1],Mt=$[2],pt=$[3],Pt=$[4],ut=$[5],at=$[6],St=$[7],Ot=$[8];return Math.abs(f-Kt)<=S.Ib*Math.max(1,Math.abs(f),Math.abs(Kt))&&Math.abs(xt-kt)<=S.Ib*Math.max(1,Math.abs(xt),Math.abs(kt))&&Math.abs(Ct-Mt)<=S.Ib*Math.max(1,Math.abs(Ct),Math.abs(Mt))&&Math.abs(Bt-pt)<=S.Ib*Math.max(1,Math.abs(Bt),Math.abs(pt))&&Math.abs(qt-Pt)<=S.Ib*Math.max(1,Math.abs(qt),Math.abs(Pt))&&Math.abs(Gt-ut)<=S.Ib*Math.max(1,Math.abs(Gt),Math.abs(ut))&&Math.abs(Jt-at)<=S.Ib*Math.max(1,Math.abs(Jt),Math.abs(at))&&Math.abs(ie-St)<=S.Ib*Math.max(1,Math.abs(ie),Math.abs(St))&&Math.abs(se-Ot)<=S.Ib*Math.max(1,Math.abs(se),Math.abs(Ot))}var lt=y,rt=X},31437:function(mt,C,d){"use strict";d.r(C),d.d(C,{create:function(){return O},clone:function(){return D},fromValues:function(){return k},copy:function(){return I},set:function(){return _},add:function(){return P},subtract:function(){return T},multiply:function(){return p},divide:function(){return w},ceil:function(){return m},floor:function(){return b},min:function(){return y},max:function(){return A},round:function(){return B},scale:function(){return N},scaleAndAdd:function(){return G},distance:function(){return j},squaredDistance:function(){return J},length:function(){return H},squaredLength:function(){return K},negate:function(){return st},inverse:function(){return nt},normalize:function(){return wt},dot:function(){return gt},cross:function(){return At},lerp:function(){return X},random:function(){return Z},transformMat2:function(){return tt},transformMat2d:function(){return Q},transformMat3:function(){return vt},transformMat4:function(){return lt},rotate:function(){return rt},angle:function(){return U},zero:function(){return $},str:function(){return f},exactEquals:function(){return xt},equals:function(){return Ct},len:function(){return Bt},sub:function(){return qt},mul:function(){return Gt},div:function(){return Jt},dist:function(){return ie},sqrDist:function(){return se},sqrLen:function(){return Kt},forEach:function(){return kt}});var S=d(49685);function O(){var Mt=new S.WT(2);return S.WT!=Float32Array&&(Mt[0]=0,Mt[1]=0),Mt}function D(Mt){var pt=new S.WT(2);return pt[0]=Mt[0],pt[1]=Mt[1],pt}function k(Mt,pt){var Pt=new S.WT(2);return Pt[0]=Mt,Pt[1]=pt,Pt}function I(Mt,pt){return Mt[0]=pt[0],Mt[1]=pt[1],Mt}function _(Mt,pt,Pt){return Mt[0]=pt,Mt[1]=Pt,Mt}function P(Mt,pt,Pt){return Mt[0]=pt[0]+Pt[0],Mt[1]=pt[1]+Pt[1],Mt}function T(Mt,pt,Pt){return Mt[0]=pt[0]-Pt[0],Mt[1]=pt[1]-Pt[1],Mt}function p(Mt,pt,Pt){return Mt[0]=pt[0]*Pt[0],Mt[1]=pt[1]*Pt[1],Mt}function w(Mt,pt,Pt){return Mt[0]=pt[0]/Pt[0],Mt[1]=pt[1]/Pt[1],Mt}function m(Mt,pt){return Mt[0]=Math.ceil(pt[0]),Mt[1]=Math.ceil(pt[1]),Mt}function b(Mt,pt){return Mt[0]=Math.floor(pt[0]),Mt[1]=Math.floor(pt[1]),Mt}function y(Mt,pt,Pt){return Mt[0]=Math.min(pt[0],Pt[0]),Mt[1]=Math.min(pt[1],Pt[1]),Mt}function A(Mt,pt,Pt){return Mt[0]=Math.max(pt[0],Pt[0]),Mt[1]=Math.max(pt[1],Pt[1]),Mt}function B(Mt,pt){return Mt[0]=Math.round(pt[0]),Mt[1]=Math.round(pt[1]),Mt}function N(Mt,pt,Pt){return Mt[0]=pt[0]*Pt,Mt[1]=pt[1]*Pt,Mt}function G(Mt,pt,Pt,ut){return Mt[0]=pt[0]+Pt[0]*ut,Mt[1]=pt[1]+Pt[1]*ut,Mt}function j(Mt,pt){var Pt=pt[0]-Mt[0],ut=pt[1]-Mt[1];return Math.hypot(Pt,ut)}function J(Mt,pt){var Pt=pt[0]-Mt[0],ut=pt[1]-Mt[1];return Pt*Pt+ut*ut}function H(Mt){var pt=Mt[0],Pt=Mt[1];return Math.hypot(pt,Pt)}function K(Mt){var pt=Mt[0],Pt=Mt[1];return pt*pt+Pt*Pt}function st(Mt,pt){return Mt[0]=-pt[0],Mt[1]=-pt[1],Mt}function nt(Mt,pt){return Mt[0]=1/pt[0],Mt[1]=1/pt[1],Mt}function wt(Mt,pt){var Pt=pt[0],ut=pt[1],at=Pt*Pt+ut*ut;return at>0&&(at=1/Math.sqrt(at)),Mt[0]=pt[0]*at,Mt[1]=pt[1]*at,Mt}function gt(Mt,pt){return Mt[0]*pt[0]+Mt[1]*pt[1]}function At(Mt,pt,Pt){var ut=pt[0]*Pt[1]-pt[1]*Pt[0];return Mt[0]=Mt[1]=0,Mt[2]=ut,Mt}function X(Mt,pt,Pt,ut){var at=pt[0],St=pt[1];return Mt[0]=at+ut*(Pt[0]-at),Mt[1]=St+ut*(Pt[1]-St),Mt}function Z(Mt,pt){pt=pt||1;var Pt=S.FD()*2*Math.PI;return Mt[0]=Math.cos(Pt)*pt,Mt[1]=Math.sin(Pt)*pt,Mt}function tt(Mt,pt,Pt){var ut=pt[0],at=pt[1];return Mt[0]=Pt[0]*ut+Pt[2]*at,Mt[1]=Pt[1]*ut+Pt[3]*at,Mt}function Q(Mt,pt,Pt){var ut=pt[0],at=pt[1];return Mt[0]=Pt[0]*ut+Pt[2]*at+Pt[4],Mt[1]=Pt[1]*ut+Pt[3]*at+Pt[5],Mt}function vt(Mt,pt,Pt){var ut=pt[0],at=pt[1];return Mt[0]=Pt[0]*ut+Pt[3]*at+Pt[6],Mt[1]=Pt[1]*ut+Pt[4]*at+Pt[7],Mt}function lt(Mt,pt,Pt){var ut=pt[0],at=pt[1];return Mt[0]=Pt[0]*ut+Pt[4]*at+Pt[12],Mt[1]=Pt[1]*ut+Pt[5]*at+Pt[13],Mt}function rt(Mt,pt,Pt,ut){var at=pt[0]-Pt[0],St=pt[1]-Pt[1],Ot=Math.sin(ut),Ut=Math.cos(ut);return Mt[0]=at*Ut-St*Ot+Pt[0],Mt[1]=at*Ot+St*Ut+Pt[1],Mt}function U(Mt,pt){var Pt=Mt[0],ut=Mt[1],at=pt[0],St=pt[1],Ot=Math.sqrt(Pt*Pt+ut*ut)*Math.sqrt(at*at+St*St),Ut=Ot&&(Pt*at+ut*St)/Ot;return Math.acos(Math.min(Math.max(Ut,-1),1))}function $(Mt){return Mt[0]=0,Mt[1]=0,Mt}function f(Mt){return"vec2("+Mt[0]+", "+Mt[1]+")"}function xt(Mt,pt){return Mt[0]===pt[0]&&Mt[1]===pt[1]}function Ct(Mt,pt){var Pt=Mt[0],ut=Mt[1],at=pt[0],St=pt[1];return Math.abs(Pt-at)<=S.Ib*Math.max(1,Math.abs(Pt),Math.abs(at))&&Math.abs(ut-St)<=S.Ib*Math.max(1,Math.abs(ut),Math.abs(St))}var Bt=H,qt=T,Gt=p,Jt=w,ie=j,se=J,Kt=K,kt=function(){var Mt=O();return function(pt,Pt,ut,at,St,Ot){var Ut,oe;for(Pt||(Pt=2),ut||(ut=0),at?oe=Math.min(at*Pt+ut,pt.length):oe=pt.length,Ut=ut;Ut<oe;Ut+=Pt)Mt[0]=pt[Ut],Mt[1]=pt[Ut+1],St(Mt,Mt,Ot),pt[Ut]=Mt[0],pt[Ut+1]=Mt[1];return pt}}()},77160:function(mt,C,d){"use strict";d.r(C),d.d(C,{create:function(){return O},clone:function(){return D},length:function(){return k},fromValues:function(){return I},copy:function(){return _},set:function(){return P},add:function(){return T},subtract:function(){return p},multiply:function(){return w},divide:function(){return m},ceil:function(){return b},floor:function(){return y},min:function(){return A},max:function(){return B},round:function(){return N},scale:function(){return G},scaleAndAdd:function(){return j},distance:function(){return J},squaredDistance:function(){return H},squaredLength:function(){return K},negate:function(){return st},inverse:function(){return nt},normalize:function(){return wt},dot:function(){return gt},cross:function(){return At},lerp:function(){return X},hermite:function(){return Z},bezier:function(){return tt},random:function(){return Q},transformMat4:function(){return vt},transformMat3:function(){return lt},transformQuat:function(){return rt},rotateX:function(){return U},rotateY:function(){return $},rotateZ:function(){return f},angle:function(){return xt},zero:function(){return Ct},str:function(){return Bt},exactEquals:function(){return qt},equals:function(){return Gt},sub:function(){return Jt},mul:function(){return ie},div:function(){return se},dist:function(){return Kt},sqrDist:function(){return kt},len:function(){return Mt},sqrLen:function(){return pt},forEach:function(){return Pt}});var S=d(49685);function O(){var ut=new S.WT(3);return S.WT!=Float32Array&&(ut[0]=0,ut[1]=0,ut[2]=0),ut}function D(ut){var at=new S.WT(3);return at[0]=ut[0],at[1]=ut[1],at[2]=ut[2],at}function k(ut){var at=ut[0],St=ut[1],Ot=ut[2];return Math.hypot(at,St,Ot)}function I(ut,at,St){var Ot=new S.WT(3);return Ot[0]=ut,Ot[1]=at,Ot[2]=St,Ot}function _(ut,at){return ut[0]=at[0],ut[1]=at[1],ut[2]=at[2],ut}function P(ut,at,St,Ot){return ut[0]=at,ut[1]=St,ut[2]=Ot,ut}function T(ut,at,St){return ut[0]=at[0]+St[0],ut[1]=at[1]+St[1],ut[2]=at[2]+St[2],ut}function p(ut,at,St){return ut[0]=at[0]-St[0],ut[1]=at[1]-St[1],ut[2]=at[2]-St[2],ut}function w(ut,at,St){return ut[0]=at[0]*St[0],ut[1]=at[1]*St[1],ut[2]=at[2]*St[2],ut}function m(ut,at,St){return ut[0]=at[0]/St[0],ut[1]=at[1]/St[1],ut[2]=at[2]/St[2],ut}function b(ut,at){return ut[0]=Math.ceil(at[0]),ut[1]=Math.ceil(at[1]),ut[2]=Math.ceil(at[2]),ut}function y(ut,at){return ut[0]=Math.floor(at[0]),ut[1]=Math.floor(at[1]),ut[2]=Math.floor(at[2]),ut}function A(ut,at,St){return ut[0]=Math.min(at[0],St[0]),ut[1]=Math.min(at[1],St[1]),ut[2]=Math.min(at[2],St[2]),ut}function B(ut,at,St){return ut[0]=Math.max(at[0],St[0]),ut[1]=Math.max(at[1],St[1]),ut[2]=Math.max(at[2],St[2]),ut}function N(ut,at){return ut[0]=Math.round(at[0]),ut[1]=Math.round(at[1]),ut[2]=Math.round(at[2]),ut}function G(ut,at,St){return ut[0]=at[0]*St,ut[1]=at[1]*St,ut[2]=at[2]*St,ut}function j(ut,at,St,Ot){return ut[0]=at[0]+St[0]*Ot,ut[1]=at[1]+St[1]*Ot,ut[2]=at[2]+St[2]*Ot,ut}function J(ut,at){var St=at[0]-ut[0],Ot=at[1]-ut[1],Ut=at[2]-ut[2];return Math.hypot(St,Ot,Ut)}function H(ut,at){var St=at[0]-ut[0],Ot=at[1]-ut[1],Ut=at[2]-ut[2];return St*St+Ot*Ot+Ut*Ut}function K(ut){var at=ut[0],St=ut[1],Ot=ut[2];return at*at+St*St+Ot*Ot}function st(ut,at){return ut[0]=-at[0],ut[1]=-at[1],ut[2]=-at[2],ut}function nt(ut,at){return ut[0]=1/at[0],ut[1]=1/at[1],ut[2]=1/at[2],ut}function wt(ut,at){var St=at[0],Ot=at[1],Ut=at[2],oe=St*St+Ot*Ot+Ut*Ut;return oe>0&&(oe=1/Math.sqrt(oe)),ut[0]=at[0]*oe,ut[1]=at[1]*oe,ut[2]=at[2]*oe,ut}function gt(ut,at){return ut[0]*at[0]+ut[1]*at[1]+ut[2]*at[2]}function At(ut,at,St){var Ot=at[0],Ut=at[1],oe=at[2],we=St[0],Ie=St[1],Be=St[2];return ut[0]=Ut*Be-oe*Ie,ut[1]=oe*we-Ot*Be,ut[2]=Ot*Ie-Ut*we,ut}function X(ut,at,St,Ot){var Ut=at[0],oe=at[1],we=at[2];return ut[0]=Ut+Ot*(St[0]-Ut),ut[1]=oe+Ot*(St[1]-oe),ut[2]=we+Ot*(St[2]-we),ut}function Z(ut,at,St,Ot,Ut,oe){var we=oe*oe,Ie=we*(2*oe-3)+1,Be=we*(oe-2)+oe,ur=we*(oe-1),vr=we*(3-2*oe);return ut[0]=at[0]*Ie+St[0]*Be+Ot[0]*ur+Ut[0]*vr,ut[1]=at[1]*Ie+St[1]*Be+Ot[1]*ur+Ut[1]*vr,ut[2]=at[2]*Ie+St[2]*Be+Ot[2]*ur+Ut[2]*vr,ut}function tt(ut,at,St,Ot,Ut,oe){var we=1-oe,Ie=we*we,Be=oe*oe,ur=Ie*we,vr=3*oe*Ie,fr=3*Be*we,Ar=Be*oe;return ut[0]=at[0]*ur+St[0]*vr+Ot[0]*fr+Ut[0]*Ar,ut[1]=at[1]*ur+St[1]*vr+Ot[1]*fr+Ut[1]*Ar,ut[2]=at[2]*ur+St[2]*vr+Ot[2]*fr+Ut[2]*Ar,ut}function Q(ut,at){at=at||1;var St=S.FD()*2*Math.PI,Ot=S.FD()*2-1,Ut=Math.sqrt(1-Ot*Ot)*at;return ut[0]=Math.cos(St)*Ut,ut[1]=Math.sin(St)*Ut,ut[2]=Ot*at,ut}function vt(ut,at,St){var Ot=at[0],Ut=at[1],oe=at[2],we=St[3]*Ot+St[7]*Ut+St[11]*oe+St[15];return we=we||1,ut[0]=(St[0]*Ot+St[4]*Ut+St[8]*oe+St[12])/we,ut[1]=(St[1]*Ot+St[5]*Ut+St[9]*oe+St[13])/we,ut[2]=(St[2]*Ot+St[6]*Ut+St[10]*oe+St[14])/we,ut}function lt(ut,at,St){var Ot=at[0],Ut=at[1],oe=at[2];return ut[0]=Ot*St[0]+Ut*St[3]+oe*St[6],ut[1]=Ot*St[1]+Ut*St[4]+oe*St[7],ut[2]=Ot*St[2]+Ut*St[5]+oe*St[8],ut}function rt(ut,at,St){var Ot=St[0],Ut=St[1],oe=St[2],we=St[3],Ie=at[0],Be=at[1],ur=at[2],vr=Ut*ur-oe*Be,fr=oe*Ie-Ot*ur,Ar=Ot*Be-Ut*Ie,or=Ut*Ar-oe*fr,Gr=oe*vr-Ot*Ar,ln=Ot*fr-Ut*vr,Nr=we*2;return vr*=Nr,fr*=Nr,Ar*=Nr,or*=2,Gr*=2,ln*=2,ut[0]=Ie+vr+or,ut[1]=Be+fr+Gr,ut[2]=ur+Ar+ln,ut}function U(ut,at,St,Ot){var Ut=[],oe=[];return Ut[0]=at[0]-St[0],Ut[1]=at[1]-St[1],Ut[2]=at[2]-St[2],oe[0]=Ut[0],oe[1]=Ut[1]*Math.cos(Ot)-Ut[2]*Math.sin(Ot),oe[2]=Ut[1]*Math.sin(Ot)+Ut[2]*Math.cos(Ot),ut[0]=oe[0]+St[0],ut[1]=oe[1]+St[1],ut[2]=oe[2]+St[2],ut}function $(ut,at,St,Ot){var Ut=[],oe=[];return Ut[0]=at[0]-St[0],Ut[1]=at[1]-St[1],Ut[2]=at[2]-St[2],oe[0]=Ut[2]*Math.sin(Ot)+Ut[0]*Math.cos(Ot),oe[1]=Ut[1],oe[2]=Ut[2]*Math.cos(Ot)-Ut[0]*Math.sin(Ot),ut[0]=oe[0]+St[0],ut[1]=oe[1]+St[1],ut[2]=oe[2]+St[2],ut}function f(ut,at,St,Ot){var Ut=[],oe=[];return Ut[0]=at[0]-St[0],Ut[1]=at[1]-St[1],Ut[2]=at[2]-St[2],oe[0]=Ut[0]*Math.cos(Ot)-Ut[1]*Math.sin(Ot),oe[1]=Ut[0]*Math.sin(Ot)+Ut[1]*Math.cos(Ot),oe[2]=Ut[2],ut[0]=oe[0]+St[0],ut[1]=oe[1]+St[1],ut[2]=oe[2]+St[2],ut}function xt(ut,at){var St=ut[0],Ot=ut[1],Ut=ut[2],oe=at[0],we=at[1],Ie=at[2],Be=Math.sqrt(St*St+Ot*Ot+Ut*Ut),ur=Math.sqrt(oe*oe+we*we+Ie*Ie),vr=Be*ur,fr=vr&&gt(ut,at)/vr;return Math.acos(Math.min(Math.max(fr,-1),1))}function Ct(ut){return ut[0]=0,ut[1]=0,ut[2]=0,ut}function Bt(ut){return"vec3("+ut[0]+", "+ut[1]+", "+ut[2]+")"}function qt(ut,at){return ut[0]===at[0]&&ut[1]===at[1]&&ut[2]===at[2]}function Gt(ut,at){var St=ut[0],Ot=ut[1],Ut=ut[2],oe=at[0],we=at[1],Ie=at[2];return Math.abs(St-oe)<=S.Ib*Math.max(1,Math.abs(St),Math.abs(oe))&&Math.abs(Ot-we)<=S.Ib*Math.max(1,Math.abs(Ot),Math.abs(we))&&Math.abs(Ut-Ie)<=S.Ib*Math.max(1,Math.abs(Ut),Math.abs(Ie))}var Jt=p,ie=w,se=m,Kt=J,kt=H,Mt=k,pt=K,Pt=function(){var ut=O();return function(at,St,Ot,Ut,oe,we){var Ie,Be;for(St||(St=3),Ot||(Ot=0),Ut?Be=Math.min(Ut*St+Ot,at.length):Be=at.length,Ie=Ot;Ie<Be;Ie+=St)ut[0]=at[Ie],ut[1]=at[Ie+1],ut[2]=at[Ie+2],oe(ut,ut,we),at[Ie]=ut[0],at[Ie+1]=ut[1],at[Ie+2]=ut[2];return at}}()},28282:function(mt,C,d){var S=d(82354);mt.exports={Graph:S.Graph,json:d(28974),alg:d(12440),version:S.version}},2842:function(mt,C,d){var S=d(89126);mt.exports=O;function O(D){var k={},I=[],_;function P(T){S.has(k,T)||(k[T]=!0,_.push(T),S.each(D.successors(T),P),S.each(D.predecessors(T),P))}return S.each(D.nodes(),function(T){_=[],P(T),_.length&&I.push(_)}),I}},53984:function(mt,C,d){var S=d(89126);mt.exports=O;function O(k,I,_){S.isArray(I)||(I=[I]);var P=(k.isDirected()?k.successors:k.neighbors).bind(k),T=[],p={};return S.each(I,function(w){if(!k.hasNode(w))throw new Error("Graph does not have node: "+w);D(k,w,_==="post",p,P,T)}),T}function D(k,I,_,P,T,p){S.has(P,I)||(P[I]=!0,_||p.push(I),S.each(T(I),function(w){D(k,w,_,P,T,p)}),_&&p.push(I))}},84847:function(mt,C,d){var S=d(63763),O=d(89126);mt.exports=D;function D(k,I,_){return O.transform(k.nodes(),function(P,T){P[T]=S(k,T,I,_)},{})}},63763:function(mt,C,d){var S=d(89126),O=d(75639);mt.exports=k;var D=S.constant(1);function k(_,P,T,p){return I(_,String(P),T||D,p||function(w){return _.outEdges(w)})}function I(_,P,T,p){var w={},m=new O,b,y,A=function(B){var N=B.v!==b?B.v:B.w,G=w[N],j=T(B),J=y.distance+j;if(j<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+B+" Weight: "+j);J<G.distance&&(G.distance=J,G.predecessor=b,m.decrease(N,J))};for(_.nodes().forEach(function(B){var N=B===P?0:Number.POSITIVE_INFINITY;w[B]={distance:N},m.add(B,N)});m.size()>0&&(b=m.removeMin(),y=w[b],y.distance!==Number.POSITIVE_INFINITY);)p(b).forEach(A);return w}},9096:function(mt,C,d){var S=d(89126),O=d(5023);mt.exports=D;function D(k){return S.filter(O(k),function(I){return I.length>1||I.length===1&&k.hasEdge(I[0],I[0])})}},38924:function(mt,C,d){var S=d(89126);mt.exports=D;var O=S.constant(1);function D(I,_,P){return k(I,_||O,P||function(T){return I.outEdges(T)})}function k(I,_,P){var T={},p=I.nodes();return p.forEach(function(w){T[w]={},T[w][w]={distance:0},p.forEach(function(m){w!==m&&(T[w][m]={distance:Number.POSITIVE_INFINITY})}),P(w).forEach(function(m){var b=m.v===w?m.w:m.v,y=_(m);T[w][b]={distance:y,predecessor:w}})}),p.forEach(function(w){var m=T[w];p.forEach(function(b){var y=T[b];p.forEach(function(A){var B=y[w],N=m[A],G=y[A],j=B.distance+N.distance;j<G.distance&&(G.distance=j,G.predecessor=N.predecessor)})})}),T}},12440:function(mt,C,d){mt.exports={components:d(2842),dijkstra:d(63763),dijkstraAll:d(84847),findCycles:d(9096),floydWarshall:d(38924),isAcyclic:d(62707),postorder:d(58828),preorder:d(92648),prim:d(80514),tarjan:d(5023),topsort:d(2166)}},62707:function(mt,C,d){var S=d(2166);mt.exports=O;function O(D){try{S(D)}catch(k){if(k instanceof S.CycleException)return!1;throw k}return!0}},58828:function(mt,C,d){var S=d(53984);mt.exports=O;function O(D,k){return S(D,k,"post")}},92648:function(mt,C,d){var S=d(53984);mt.exports=O;function O(D,k){return S(D,k,"pre")}},80514:function(mt,C,d){var S=d(89126),O=d(30771),D=d(75639);mt.exports=k;function k(I,_){var P=new O,T={},p=new D,w;function m(y){var A=y.v===w?y.w:y.v,B=p.priority(A);if(B!==void 0){var N=_(y);N<B&&(T[A]=w,p.decrease(A,N))}}if(I.nodeCount()===0)return P;S.each(I.nodes(),function(y){p.add(y,Number.POSITIVE_INFINITY),P.setNode(y)}),p.decrease(I.nodes()[0],0);for(var b=!1;p.size()>0;){if(w=p.removeMin(),S.has(T,w))P.setEdge(w,T[w]);else{if(b)throw new Error("Input graph is not connected: "+I);b=!0}I.nodeEdges(w).forEach(m)}return P}},5023:function(mt,C,d){var S=d(89126);mt.exports=O;function O(D){var k=0,I=[],_={},P=[];function T(p){var w=_[p]={onStack:!0,lowlink:k,index:k++};if(I.push(p),D.successors(p).forEach(function(y){S.has(_,y)?_[y].onStack&&(w.lowlink=Math.min(w.lowlink,_[y].index)):(T(y),w.lowlink=Math.min(w.lowlink,_[y].lowlink))}),w.lowlink===w.index){var m=[],b;do b=I.pop(),_[b].onStack=!1,m.push(b);while(p!==b);P.push(m)}}return D.nodes().forEach(function(p){S.has(_,p)||T(p)}),P}},2166:function(mt,C,d){var S=d(89126);mt.exports=O,O.CycleException=D;function O(k){var I={},_={},P=[];function T(p){if(S.has(_,p))throw new D;S.has(I,p)||(_[p]=!0,I[p]=!0,S.each(k.predecessors(p),T),delete _[p],P.push(p))}if(S.each(k.sinks(),T),S.size(I)!==k.nodeCount())throw new D;return P}function D(){}D.prototype=new Error},75639:function(mt,C,d){var S=d(89126);mt.exports=O;function O(){this._arr=[],this._keyIndices={}}O.prototype.size=function(){return this._arr.length},O.prototype.keys=function(){return this._arr.map(function(D){return D.key})},O.prototype.has=function(D){return S.has(this._keyIndices,D)},O.prototype.priority=function(D){var k=this._keyIndices[D];if(k!==void 0)return this._arr[k].priority},O.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},O.prototype.add=function(D,k){var I=this._keyIndices;if(D=String(D),!S.has(I,D)){var _=this._arr,P=_.length;return I[D]=P,_.push({key:D,priority:k}),this._decrease(P),!0}return!1},O.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var D=this._arr.pop();return delete this._keyIndices[D.key],this._heapify(0),D.key},O.prototype.decrease=function(D,k){var I=this._keyIndices[D];if(k>this._arr[I].priority)throw new Error("New priority is greater than current priority. Key: "+D+" Old: "+this._arr[I].priority+" New: "+k);this._arr[I].priority=k,this._decrease(I)},O.prototype._heapify=function(D){var k=this._arr,I=2*D,_=I+1,P=D;I<k.length&&(P=k[I].priority<k[P].priority?I:P,_<k.length&&(P=k[_].priority<k[P].priority?_:P),P!==D&&(this._swap(D,P),this._heapify(P)))},O.prototype._decrease=function(D){for(var k=this._arr,I=k[D].priority,_;D!==0&&(_=D>>1,!(k[_].priority<I));)this._swap(D,_),D=_},O.prototype._swap=function(D,k){var I=this._arr,_=this._keyIndices,P=I[D],T=I[k];I[D]=T,I[k]=P,_[T.key]=D,_[P.key]=k}},30771:function(mt,C,d){"use strict";var S=d(89126);mt.exports=I;var O="\0",D="\0",k="";function I(m){this._isDirected=S.has(m,"directed")?m.directed:!0,this._isMultigraph=S.has(m,"multigraph")?m.multigraph:!1,this._isCompound=S.has(m,"compound")?m.compound:!1,this._label=void 0,this._defaultNodeLabelFn=S.constant(void 0),this._defaultEdgeLabelFn=S.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[D]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}I.prototype._nodeCount=0,I.prototype._edgeCount=0,I.prototype.isDirected=function(){return this._isDirected},I.prototype.isMultigraph=function(){return this._isMultigraph},I.prototype.isCompound=function(){return this._isCompound},I.prototype.setGraph=function(m){return this._label=m,this},I.prototype.graph=function(){return this._label},I.prototype.setDefaultNodeLabel=function(m){return S.isFunction(m)||(m=S.constant(m)),this._defaultNodeLabelFn=m,this},I.prototype.nodeCount=function(){return this._nodeCount},I.prototype.nodes=function(){return S.keys(this._nodes)},I.prototype.sources=function(){var m=this;return S.filter(this.nodes(),function(b){return S.isEmpty(m._in[b])})},I.prototype.sinks=function(){var m=this;return S.filter(this.nodes(),function(b){return S.isEmpty(m._out[b])})},I.prototype.setNodes=function(m,b){var y=arguments,A=this;return S.each(m,function(B){y.length>1?A.setNode(B,b):A.setNode(B)}),this},I.prototype.setNode=function(m,b){return S.has(this._nodes,m)?(arguments.length>1&&(this._nodes[m]=b),this):(this._nodes[m]=arguments.length>1?b:this._defaultNodeLabelFn(m),this._isCompound&&(this._parent[m]=D,this._children[m]={},this._children[D][m]=!0),this._in[m]={},this._preds[m]={},this._out[m]={},this._sucs[m]={},++this._nodeCount,this)},I.prototype.node=function(m){return this._nodes[m]},I.prototype.hasNode=function(m){return S.has(this._nodes,m)},I.prototype.removeNode=function(m){var b=this;if(S.has(this._nodes,m)){var y=function(A){b.removeEdge(b._edgeObjs[A])};delete this._nodes[m],this._isCompound&&(this._removeFromParentsChildList(m),delete this._parent[m],S.each(this.children(m),function(A){b.setParent(A)}),delete this._children[m]),S.each(S.keys(this._in[m]),y),delete this._in[m],delete this._preds[m],S.each(S.keys(this._out[m]),y),delete this._out[m],delete this._sucs[m],--this._nodeCount}return this},I.prototype.setParent=function(m,b){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(S.isUndefined(b))b=D;else{b+="";for(var y=b;!S.isUndefined(y);y=this.parent(y))if(y===m)throw new Error("Setting "+b+" as parent of "+m+" would create a cycle");this.setNode(b)}return this.setNode(m),this._removeFromParentsChildList(m),this._parent[m]=b,this._children[b][m]=!0,this},I.prototype._removeFromParentsChildList=function(m){delete this._children[this._parent[m]][m]},I.prototype.parent=function(m){if(this._isCompound){var b=this._parent[m];if(b!==D)return b}},I.prototype.children=function(m){if(S.isUndefined(m)&&(m=D),this._isCompound){var b=this._children[m];if(b)return S.keys(b)}else{if(m===D)return this.nodes();if(this.hasNode(m))return[]}},I.prototype.predecessors=function(m){var b=this._preds[m];if(b)return S.keys(b)},I.prototype.successors=function(m){var b=this._sucs[m];if(b)return S.keys(b)},I.prototype.neighbors=function(m){var b=this.predecessors(m);if(b)return S.union(b,this.successors(m))},I.prototype.isLeaf=function(m){var b;return this.isDirected()?b=this.successors(m):b=this.neighbors(m),b.length===0},I.prototype.filterNodes=function(m){var b=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});b.setGraph(this.graph());var y=this;S.each(this._nodes,function(N,G){m(G)&&b.setNode(G,N)}),S.each(this._edgeObjs,function(N){b.hasNode(N.v)&&b.hasNode(N.w)&&b.setEdge(N,y.edge(N))});var A={};function B(N){var G=y.parent(N);return G===void 0||b.hasNode(G)?(A[N]=G,G):G in A?A[G]:B(G)}return this._isCompound&&S.each(b.nodes(),function(N){b.setParent(N,B(N))}),b},I.prototype.setDefaultEdgeLabel=function(m){return S.isFunction(m)||(m=S.constant(m)),this._defaultEdgeLabelFn=m,this},I.prototype.edgeCount=function(){return this._edgeCount},I.prototype.edges=function(){return S.values(this._edgeObjs)},I.prototype.setPath=function(m,b){var y=this,A=arguments;return S.reduce(m,function(B,N){return A.length>1?y.setEdge(B,N,b):y.setEdge(B,N),N}),this},I.prototype.setEdge=function(){var m,b,y,A,B=!1,N=arguments[0];typeof N=="object"&&N!==null&&"v"in N?(m=N.v,b=N.w,y=N.name,arguments.length===2&&(A=arguments[1],B=!0)):(m=N,b=arguments[1],y=arguments[3],arguments.length>2&&(A=arguments[2],B=!0)),m=""+m,b=""+b,S.isUndefined(y)||(y=""+y);var G=T(this._isDirected,m,b,y);if(S.has(this._edgeLabels,G))return B&&(this._edgeLabels[G]=A),this;if(!S.isUndefined(y)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(m),this.setNode(b),this._edgeLabels[G]=B?A:this._defaultEdgeLabelFn(m,b,y);var j=p(this._isDirected,m,b,y);return m=j.v,b=j.w,Object.freeze(j),this._edgeObjs[G]=j,_(this._preds[b],m),_(this._sucs[m],b),this._in[b][G]=j,this._out[m][G]=j,this._edgeCount++,this},I.prototype.edge=function(m,b,y){var A=arguments.length===1?w(this._isDirected,arguments[0]):T(this._isDirected,m,b,y);return this._edgeLabels[A]},I.prototype.hasEdge=function(m,b,y){var A=arguments.length===1?w(this._isDirected,arguments[0]):T(this._isDirected,m,b,y);return S.has(this._edgeLabels,A)},I.prototype.removeEdge=function(m,b,y){var A=arguments.length===1?w(this._isDirected,arguments[0]):T(this._isDirected,m,b,y),B=this._edgeObjs[A];return B&&(m=B.v,b=B.w,delete this._edgeLabels[A],delete this._edgeObjs[A],P(this._preds[b],m),P(this._sucs[m],b),delete this._in[b][A],delete this._out[m][A],this._edgeCount--),this},I.prototype.inEdges=function(m,b){var y=this._in[m];if(y){var A=S.values(y);return b?S.filter(A,function(B){return B.v===b}):A}},I.prototype.outEdges=function(m,b){var y=this._out[m];if(y){var A=S.values(y);return b?S.filter(A,function(B){return B.w===b}):A}},I.prototype.nodeEdges=function(m,b){var y=this.inEdges(m,b);if(y)return y.concat(this.outEdges(m,b))};function _(m,b){m[b]?m[b]++:m[b]=1}function P(m,b){--m[b]||delete m[b]}function T(m,b,y,A){var B=""+b,N=""+y;if(!m&&B>N){var G=B;B=N,N=G}return B+k+N+k+(S.isUndefined(A)?O:A)}function p(m,b,y,A){var B=""+b,N=""+y;if(!m&&B>N){var G=B;B=N,N=G}var j={v:B,w:N};return A&&(j.name=A),j}function w(m,b){return T(m,b.v,b.w,b.name)}},82354:function(mt,C,d){mt.exports={Graph:d(30771),version:d(49631)}},28974:function(mt,C,d){var S=d(89126),O=d(30771);mt.exports={write:D,read:_};function D(P){var T={options:{directed:P.isDirected(),multigraph:P.isMultigraph(),compound:P.isCompound()},nodes:k(P),edges:I(P)};return S.isUndefined(P.graph())||(T.value=S.clone(P.graph())),T}function k(P){return S.map(P.nodes(),function(T){var p=P.node(T),w=P.parent(T),m={v:T};return S.isUndefined(p)||(m.value=p),S.isUndefined(w)||(m.parent=w),m})}function I(P){return S.map(P.edges(),function(T){var p=P.edge(T),w={v:T.v,w:T.w};return S.isUndefined(T.name)||(w.name=T.name),S.isUndefined(p)||(w.value=p),w})}function _(P){var T=new O(P.options).setGraph(P.value);return S.each(P.nodes,function(p){T.setNode(p.v,p.value),p.parent&&T.setParent(p.v,p.parent)}),S.each(P.edges,function(p){T.setEdge({v:p.v,w:p.w,name:p.name},p.value)}),T}},89126:function(mt,C,d){var S;try{S={clone:d(66678),constant:d(75703),each:d(66073),filter:d(63105),has:d(18721),isArray:d(1469),isEmpty:d(41609),isFunction:d(23560),isUndefined:d(52353),keys:d(3674),map:d(35161),reduce:d(54061),size:d(84238),transform:d(68718),union:d(93386),values:d(52628)}}catch(O){}S||(S=window._),mt.exports=S},49631:function(mt){mt.exports="2.1.8"},38186:function(mt){var C=[],d=[],S="insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).";function O(k,I){if(I=I||{},k===void 0)throw new Error(S);var _=I.prepend===!0?"prepend":"append",P=I.container!==void 0?I.container:document.querySelector("head"),T=C.indexOf(P);T===-1&&(T=C.push(P)-1,d[T]={});var p;return d[T]!==void 0&&d[T][_]!==void 0?p=d[T][_]:(p=d[T][_]=D(),_==="prepend"?P.insertBefore(p,P.childNodes[0]):P.appendChild(p)),k.charCodeAt(0)===65279&&(k=k.substr(1,k.length)),p.styleSheet?p.styleSheet.cssText+=k:p.textContent+=k,p}function D(){var k=document.createElement("style");return k.setAttribute("type","text/css"),k}mt.exports=O,mt.exports.insertCss=O},47443:function(mt,C,d){var S=d(42118);function O(D,k){var I=D==null?0:D.length;return!!I&&S(D,k,0)>-1}mt.exports=O},1196:function(mt){function C(d,S,O){for(var D=-1,k=d==null?0:d.length;++D<k;)if(O(S,d[D]))return!0;return!1}mt.exports=C},62663:function(mt){function C(d,S,O,D){var k=-1,I=d==null?0:d.length;for(D&&I&&(O=d[++k]);++k<I;)O=S(O,d[k],k,d);return O}mt.exports=C},56029:function(mt,C,d){var S=d(33448);function O(D,k,I){for(var _=-1,P=D.length;++_<P;){var T=D[_],p=k(T);if(p!=null&&(w===void 0?p===p&&!S(p):I(p,w)))var w=p,m=T}return m}mt.exports=O},80760:function(mt,C,d){var S=d(89881);function O(D,k){var I=[];return S(D,function(_,P,T){k(_,P,T)&&I.push(_)}),I}mt.exports=O},41848:function(mt){function C(d,S,O,D){for(var k=d.length,I=O+(D?1:-1);D?I--:++I<k;)if(S(d[I],I,d))return I;return-1}mt.exports=C},53325:function(mt){function C(d,S){return d>S}mt.exports=C},78565:function(mt){var C=Object.prototype,d=C.hasOwnProperty;function S(O,D){return O!=null&&d.call(O,D)}mt.exports=S},42118:function(mt,C,d){var S=d(41848),O=d(62722),D=d(42351);function k(I,_,P){return _===_?D(I,_,P):S(I,O,P)}mt.exports=k},62722:function(mt){function C(d){return d!==d}mt.exports=C},70433:function(mt){function C(d,S){return d<S}mt.exports=C},82689:function(mt,C,d){var S=d(29932),O=d(97786),D=d(67206),k=d(69199),I=d(71131),_=d(7518),P=d(85022),T=d(6557),p=d(1469);function w(m,b,y){b.length?b=S(b,function(N){return p(N)?function(G){return O(G,N.length===1?N[0]:N)}:N}):b=[T];var A=-1;b=S(b,_(D));var B=k(m,function(N,G,j){var J=S(b,function(H){return H(N)});return{criteria:J,index:++A,value:N}});return I(B,function(N,G){return P(N,G,y)})}mt.exports=w},40098:function(mt){var C=Math.ceil,d=Math.max;function S(O,D,k,I){for(var _=-1,P=d(C((D-O)/(k||1)),0),T=Array(P);P--;)T[I?P:++_]=O,O+=k;return T}mt.exports=S},10107:function(mt){function C(d,S,O,D,k){return k(d,function(I,_,P){O=D?(D=!1,I):S(O,I,_,P)}),O}mt.exports=C},71131:function(mt){function C(d,S){var O=d.length;for(d.sort(S);O--;)d[O]=d[O].value;return d}mt.exports=C},45652:function(mt,C,d){var S=d(88668),O=d(47443),D=d(1196),k=d(74757),I=d(23593),_=d(21814),P=200;function T(p,w,m){var b=-1,y=O,A=p.length,B=!0,N=[],G=N;if(m)B=!1,y=D;else if(A>=P){var j=w?null:I(p);if(j)return _(j);B=!1,y=k,G=new S}else G=w?[]:N;t:for(;++b<A;){var J=p[b],H=w?w(J):J;if(J=m||J!==0?J:0,B&&H===H){for(var K=G.length;K--;)if(G[K]===H)continue t;w&&G.push(H),N.push(J)}else y(G,H,m)||(G!==N&&G.push(H),N.push(J))}return N}mt.exports=T},47415:function(mt,C,d){var S=d(29932);function O(D,k){return S(k,function(I){return D[I]})}mt.exports=O},1757:function(mt){function C(d,S,O){for(var D=-1,k=d.length,I=S.length,_={};++D<k;){var P=D<I?S[D]:void 0;O(_,d[D],P)}return _}mt.exports=C},26393:function(mt,C,d){var S=d(33448);function O(D,k){if(D!==k){var I=D!==void 0,_=D===null,P=D===D,T=S(D),p=k!==void 0,w=k===null,m=k===k,b=S(k);if(!w&&!b&&!T&&D>k||T&&p&&m&&!w&&!b||_&&p&&m||!I&&m||!P)return 1;if(!_&&!T&&!b&&D<k||b&&I&&P&&!_&&!T||w&&I&&P||!p&&P||!m)return-1}return 0}mt.exports=O},85022:function(mt,C,d){var S=d(26393);function O(D,k,I){for(var _=-1,P=D.criteria,T=k.criteria,p=P.length,w=I.length;++_<p;){var m=S(P[_],T[_]);if(m){if(_>=w)return m;var b=I[_];return m*(b=="desc"?-1:1)}}return D.index-k.index}mt.exports=O},67740:function(mt,C,d){var S=d(67206),O=d(98612),D=d(3674);function k(I){return function(_,P,T){var p=Object(_);if(!O(_)){var w=S(P,3);_=D(_),P=function(b){return w(p[b],b,p)}}var m=I(_,P,T);return m>-1?p[w?_[m]:m]:void 0}}mt.exports=k},47445:function(mt,C,d){var S=d(40098),O=d(16612),D=d(18601);function k(I){return function(_,P,T){return T&&typeof T!="number"&&O(_,P,T)&&(P=T=void 0),_=D(_),P===void 0?(P=_,_=0):P=D(P),T=T===void 0?_<P?1:-1:D(T),S(_,P,T,I)}}mt.exports=k},23593:function(mt,C,d){var S=d(58525),O=d(50308),D=d(21814),k=1/0,I=S&&1/D(new S([,-0]))[1]==k?function(_){return new S(_)}:O;mt.exports=I},42351:function(mt){function C(d,S,O){for(var D=O-1,k=d.length;++D<k;)if(d[D]===S)return D;return-1}mt.exports=C},66678:function(mt,C,d){var S=d(85990),O=4;function D(k){return S(k,O)}mt.exports=D},91747:function(mt,C,d){var S=d(5976),O=d(77813),D=d(16612),k=d(81704),I=Object.prototype,_=I.hasOwnProperty,P=S(function(T,p){T=Object(T);var w=-1,m=p.length,b=m>2?p[2]:void 0;for(b&&D(p[0],p[1],b)&&(m=1);++w<m;)for(var y=p[w],A=k(y),B=-1,N=A.length;++B<N;){var G=A[B],j=T[G];(j===void 0||O(j,I[G])&&!_.call(T,G))&&(T[G]=y[G])}return T});mt.exports=P},63105:function(mt,C,d){var S=d(34963),O=d(80760),D=d(67206),k=d(1469);function I(_,P){var T=k(_)?S:O;return T(_,D(P,3))}mt.exports=I},13311:function(mt,C,d){var S=d(67740),O=d(30998),D=S(O);mt.exports=D},30998:function(mt,C,d){var S=d(41848),O=d(67206),D=d(40554),k=Math.max;function I(_,P,T){var p=_==null?0:_.length;if(!p)return-1;var w=T==null?0:D(T);return w<0&&(w=k(p+w,0)),S(_,O(P,3),w)}mt.exports=I},62620:function(mt,C,d){var S=d(28483),O=d(54290),D=d(81704);function k(I,_){return I==null?I:S(I,O(_),D)}mt.exports=k},18721:function(mt,C,d){var S=d(78565),O=d(222);function D(k,I){return k!=null&&O(k,I,S)}mt.exports=D},41609:function(mt,C,d){var S=d(280),O=d(64160),D=d(35694),k=d(1469),I=d(98612),_=d(44144),P=d(25726),T=d(36719),p="[object Map]",w="[object Set]",m=Object.prototype,b=m.hasOwnProperty;function y(A){if(A==null)return!0;if(I(A)&&(k(A)||typeof A=="string"||typeof A.splice=="function"||_(A)||T(A)||D(A)))return!A.length;var B=O(A);if(B==p||B==w)return!A.size;if(P(A))return!S(A).length;for(var N in A)if(b.call(A,N))return!1;return!0}mt.exports=y},52353:function(mt){function C(d){return d===void 0}mt.exports=C},10928:function(mt){function C(d){var S=d==null?0:d.length;return S?d[S-1]:void 0}mt.exports=C},66604:function(mt,C,d){var S=d(89465),O=d(47816),D=d(67206);function k(I,_){var P={};return _=D(_,3),O(I,function(T,p,w){S(P,p,_(T,p,w))}),P}mt.exports=k},6162:function(mt,C,d){var S=d(56029),O=d(53325),D=d(6557);function k(I){return I&&I.length?S(I,D,O):void 0}mt.exports=k},53632:function(mt,C,d){var S=d(56029),O=d(70433),D=d(6557);function k(I){return I&&I.length?S(I,D,O):void 0}mt.exports=k},22762:function(mt,C,d){var S=d(56029),O=d(67206),D=d(70433);function k(I,_){return I&&I.length?S(I,O(_,2),D):void 0}mt.exports=k},50308:function(mt){function C(){}mt.exports=C},96026:function(mt,C,d){var S=d(47445),O=S();mt.exports=O},54061:function(mt,C,d){var S=d(62663),O=d(89881),D=d(67206),k=d(10107),I=d(1469);function _(P,T,p){var w=I(P)?S:k,m=arguments.length<3;return w(P,D(T,4),p,m,O)}mt.exports=_},84238:function(mt,C,d){var S=d(280),O=d(64160),D=d(98612),k=d(47037),I=d(88016),_="[object Map]",P="[object Set]";function T(p){if(p==null)return 0;if(D(p))return k(p)?I(p):p.length;var w=O(p);return w==_||w==P?p.size:S(p).length}mt.exports=T},89734:function(mt,C,d){var S=d(21078),O=d(82689),D=d(5976),k=d(16612),I=D(function(_,P){if(_==null)return[];var T=P.length;return T>1&&k(_,P[0],P[1])?P=[]:T>2&&k(P[0],P[1],P[2])&&(P=[P[0]]),O(_,S(P,1),[])});mt.exports=I},68718:function(mt,C,d){var S=d(77412),O=d(3118),D=d(47816),k=d(67206),I=d(85924),_=d(1469),P=d(44144),T=d(23560),p=d(13218),w=d(36719);function m(b,y,A){var B=_(b),N=B||P(b)||w(b);if(y=k(y,4),A==null){var G=b&&b.constructor;N?A=B?new G:[]:p(b)?A=T(G)?O(I(b)):{}:A={}}return(N?S:D)(b,function(j,J,H){return y(A,j,J,H)}),A}mt.exports=m},93386:function(mt,C,d){var S=d(21078),O=d(5976),D=d(45652),k=d(29246),I=O(function(_){return D(S(_,1,k,!0))});mt.exports=I},52628:function(mt,C,d){var S=d(47415),O=d(3674);function D(k){return k==null?[]:S(k,O(k))}mt.exports=D},7287:function(mt,C,d){var S=d(34865),O=d(1757);function D(k,I){return O(k||[],I||[],S)}mt.exports=D},86851:function(mt,C,d){"use strict";var S=d(89594),O=Array.prototype.concat,D=Array.prototype.slice,k=mt.exports=function(_){for(var P=[],T=0,p=_.length;T<p;T++){var w=_[T];S(w)?P=O.call(P,D.call(w)):P.push(w)}return P};k.wrap=function(I){return function(){return I(k(arguments))}}},89594:function(mt){mt.exports=function(d){return!d||typeof d=="string"?!1:d instanceof Array||Array.isArray(d)||d.length>=0&&(d.splice instanceof Function||Object.getOwnPropertyDescriptor(d,d.length-1)&&d.constructor.name!=="String")}},70655:function(mt,C,d){"use strict";d.r(C),d.d(C,{__extends:function(){return O},__assign:function(){return D},__rest:function(){return k},__decorate:function(){return I},__param:function(){return _},__metadata:function(){return P},__awaiter:function(){return T},__generator:function(){return p},__createBinding:function(){return w},__exportStar:function(){return m},__values:function(){return b},__read:function(){return y},__spread:function(){return A},__spreadArrays:function(){return B},__spreadArray:function(){return N},__await:function(){return G},__asyncGenerator:function(){return j},__asyncDelegator:function(){return J},__asyncValues:function(){return H},__makeTemplateObject:function(){return K},__importStar:function(){return nt},__importDefault:function(){return wt},__classPrivateFieldGet:function(){return gt},__classPrivateFieldSet:function(){return At}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var S=function(X,Z){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(tt,Q){tt.__proto__=Q}||function(tt,Q){for(var vt in Q)Object.prototype.hasOwnProperty.call(Q,vt)&&(tt[vt]=Q[vt])},S(X,Z)};function O(X,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Class extends value "+String(Z)+" is not a constructor or null");S(X,Z);function tt(){this.constructor=X}X.prototype=Z===null?Object.create(Z):(tt.prototype=Z.prototype,new tt)}var D=function(){return D=Object.assign||function(Z){for(var tt,Q=1,vt=arguments.length;Q<vt;Q++){tt=arguments[Q];for(var lt in tt)Object.prototype.hasOwnProperty.call(tt,lt)&&(Z[lt]=tt[lt])}return Z},D.apply(this,arguments)};function k(X,Z){var tt={};for(var Q in X)Object.prototype.hasOwnProperty.call(X,Q)&&Z.indexOf(Q)<0&&(tt[Q]=X[Q]);if(X!=null&&typeof Object.getOwnPropertySymbols=="function")for(var vt=0,Q=Object.getOwnPropertySymbols(X);vt<Q.length;vt++)Z.indexOf(Q[vt])<0&&Object.prototype.propertyIsEnumerable.call(X,Q[vt])&&(tt[Q[vt]]=X[Q[vt]]);return tt}function I(X,Z,tt,Q){var vt=arguments.length,lt=vt<3?Z:Q===null?Q=Object.getOwnPropertyDescriptor(Z,tt):Q,rt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")lt=Reflect.decorate(X,Z,tt,Q);else for(var U=X.length-1;U>=0;U--)(rt=X[U])&&(lt=(vt<3?rt(lt):vt>3?rt(Z,tt,lt):rt(Z,tt))||lt);return vt>3&&lt&&Object.defineProperty(Z,tt,lt),lt}function _(X,Z){return function(tt,Q){Z(tt,Q,X)}}function P(X,Z){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(X,Z)}function T(X,Z,tt,Q){function vt(lt){return lt instanceof tt?lt:new tt(function(rt){rt(lt)})}return new(tt||(tt=Promise))(function(lt,rt){function U(xt){try{f(Q.next(xt))}catch(Ct){rt(Ct)}}function $(xt){try{f(Q.throw(xt))}catch(Ct){rt(Ct)}}function f(xt){xt.done?lt(xt.value):vt(xt.value).then(U,$)}f((Q=Q.apply(X,Z||[])).next())})}function p(X,Z){var tt={label:0,sent:function(){if(lt[0]&1)throw lt[1];return lt[1]},trys:[],ops:[]},Q,vt,lt,rt;return rt={next:U(0),throw:U(1),return:U(2)},typeof Symbol=="function"&&(rt[Symbol.iterator]=function(){return this}),rt;function U(f){return function(xt){return $([f,xt])}}function $(f){if(Q)throw new TypeError("Generator is already executing.");for(;tt;)try{if(Q=1,vt&&(lt=f[0]&2?vt.return:f[0]?vt.throw||((lt=vt.return)&&lt.call(vt),0):vt.next)&&!(lt=lt.call(vt,f[1])).done)return lt;switch(vt=0,lt&&(f=[f[0]&2,lt.value]),f[0]){case 0:case 1:lt=f;break;case 4:return tt.label++,{value:f[1],done:!1};case 5:tt.label++,vt=f[1],f=[0];continue;case 7:f=tt.ops.pop(),tt.trys.pop();continue;default:if(lt=tt.trys,!(lt=lt.length>0&&lt[lt.length-1])&&(f[0]===6||f[0]===2)){tt=0;continue}if(f[0]===3&&(!lt||f[1]>lt[0]&&f[1]<lt[3])){tt.label=f[1];break}if(f[0]===6&&tt.label<lt[1]){tt.label=lt[1],lt=f;break}if(lt&&tt.label<lt[2]){tt.label=lt[2],tt.ops.push(f);break}lt[2]&&tt.ops.pop(),tt.trys.pop();continue}f=Z.call(X,tt)}catch(xt){f=[6,xt],vt=0}finally{Q=lt=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var w=Object.create?function(X,Z,tt,Q){Q===void 0&&(Q=tt),Object.defineProperty(X,Q,{enumerable:!0,get:function(){return Z[tt]}})}:function(X,Z,tt,Q){Q===void 0&&(Q=tt),X[Q]=Z[tt]};function m(X,Z){for(var tt in X)tt!=="default"&&!Object.prototype.hasOwnProperty.call(Z,tt)&&w(Z,X,tt)}function b(X){var Z=typeof Symbol=="function"&&Symbol.iterator,tt=Z&&X[Z],Q=0;if(tt)return tt.call(X);if(X&&typeof X.length=="number")return{next:function(){return X&&Q>=X.length&&(X=void 0),{value:X&&X[Q++],done:!X}}};throw new TypeError(Z?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(X,Z){var tt=typeof Symbol=="function"&&X[Symbol.iterator];if(!tt)return X;var Q=tt.call(X),vt,lt=[],rt;try{for(;(Z===void 0||Z-- >0)&&!(vt=Q.next()).done;)lt.push(vt.value)}catch(U){rt={error:U}}finally{try{vt&&!vt.done&&(tt=Q.return)&&tt.call(Q)}finally{if(rt)throw rt.error}}return lt}function A(){for(var X=[],Z=0;Z<arguments.length;Z++)X=X.concat(y(arguments[Z]));return X}function B(){for(var X=0,Z=0,tt=arguments.length;Z<tt;Z++)X+=arguments[Z].length;for(var Q=Array(X),vt=0,Z=0;Z<tt;Z++)for(var lt=arguments[Z],rt=0,U=lt.length;rt<U;rt++,vt++)Q[vt]=lt[rt];return Q}function N(X,Z,tt){if(tt||arguments.length===2)for(var Q=0,vt=Z.length,lt;Q<vt;Q++)(lt||!(Q in Z))&&(lt||(lt=Array.prototype.slice.call(Z,0,Q)),lt[Q]=Z[Q]);return X.concat(lt||Array.prototype.slice.call(Z))}function G(X){return this instanceof G?(this.v=X,this):new G(X)}function j(X,Z,tt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Q=tt.apply(X,Z||[]),vt,lt=[];return vt={},rt("next"),rt("throw"),rt("return"),vt[Symbol.asyncIterator]=function(){return this},vt;function rt(Bt){Q[Bt]&&(vt[Bt]=function(qt){return new Promise(function(Gt,Jt){lt.push([Bt,qt,Gt,Jt])>1||U(Bt,qt)})})}function U(Bt,qt){try{$(Q[Bt](qt))}catch(Gt){Ct(lt[0][3],Gt)}}function $(Bt){Bt.value instanceof G?Promise.resolve(Bt.value.v).then(f,xt):Ct(lt[0][2],Bt)}function f(Bt){U("next",Bt)}function xt(Bt){U("throw",Bt)}function Ct(Bt,qt){Bt(qt),lt.shift(),lt.length&&U(lt[0][0],lt[0][1])}}function J(X){var Z,tt;return Z={},Q("next"),Q("throw",function(vt){throw vt}),Q("return"),Z[Symbol.iterator]=function(){return this},Z;function Q(vt,lt){Z[vt]=X[vt]?function(rt){return(tt=!tt)?{value:G(X[vt](rt)),done:vt==="return"}:lt?lt(rt):rt}:lt}}function H(X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Z=X[Symbol.asyncIterator],tt;return Z?Z.call(X):(X=typeof b=="function"?b(X):X[Symbol.iterator](),tt={},Q("next"),Q("throw"),Q("return"),tt[Symbol.asyncIterator]=function(){return this},tt);function Q(lt){tt[lt]=X[lt]&&function(rt){return new Promise(function(U,$){rt=X[lt](rt),vt(U,$,rt.done,rt.value)})}}function vt(lt,rt,U,$){Promise.resolve($).then(function(f){lt({value:f,done:U})},rt)}}function K(X,Z){return Object.defineProperty?Object.defineProperty(X,"raw",{value:Z}):X.raw=Z,X}var st=Object.create?function(X,Z){Object.defineProperty(X,"default",{enumerable:!0,value:Z})}:function(X,Z){X.default=Z};function nt(X){if(X&&X.__esModule)return X;var Z={};if(X!=null)for(var tt in X)tt!=="default"&&Object.prototype.hasOwnProperty.call(X,tt)&&w(Z,X,tt);return st(Z,X),Z}function wt(X){return X&&X.__esModule?X:{default:X}}function gt(X,Z,tt,Q){if(tt==="a"&&!Q)throw new TypeError("Private accessor was defined without a getter");if(typeof Z=="function"?X!==Z||!Q:!Z.has(X))throw new TypeError("Cannot read private member from an object whose class did not declare it");return tt==="m"?Q:tt==="a"?Q.call(X):Q?Q.value:Z.get(X)}function At(X,Z,tt,Q,vt){if(Q==="m")throw new TypeError("Private method is not writable");if(Q==="a"&&!vt)throw new TypeError("Private accessor was defined without a setter");if(typeof Z=="function"?X!==Z||!vt:!Z.has(X))throw new TypeError("Cannot write private member to an object whose class did not declare it");return Q==="a"?vt.call(X,tt):vt?vt.value=tt:Z.set(X,tt),tt}},91496:function(mt){typeof Object.create=="function"?mt.exports=function(d,S){d.super_=S,d.prototype=Object.create(S.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}})}:mt.exports=function(d,S){d.super_=S;var O=function(){};O.prototype=S.prototype,d.prototype=new O,d.prototype.constructor=d}},20384:function(mt){mt.exports=function(d){return d&&typeof d=="object"&&typeof d.copy=="function"&&typeof d.fill=="function"&&typeof d.readUInt8=="function"}},89539:function(mt,C,d){var S=d(34155),O=Object.getOwnPropertyDescriptors||function(Bt){for(var qt=Object.keys(Bt),Gt={},Jt=0;Jt<qt.length;Jt++)Gt[qt[Jt]]=Object.getOwnPropertyDescriptor(Bt,qt[Jt]);return Gt},D=/%[sdj%]/g;C.format=function(Ct){if(!K(Ct)){for(var Bt=[],qt=0;qt<arguments.length;qt++)Bt.push(_(arguments[qt]));return Bt.join(" ")}for(var qt=1,Gt=arguments,Jt=Gt.length,ie=String(Ct).replace(D,function(Kt){if(Kt==="%%")return"%";if(qt>=Jt)return Kt;switch(Kt){case"%s":return String(Gt[qt++]);case"%d":return Number(Gt[qt++]);case"%j":try{return JSON.stringify(Gt[qt++])}catch(kt){return"[Circular]"}default:return Kt}}),se=Gt[qt];qt<Jt;se=Gt[++qt])j(se)||!gt(se)?ie+=" "+se:ie+=" "+_(se);return ie},C.deprecate=function(Ct,Bt){if(typeof S!="undefined"&&S.noDeprecation===!0)return Ct;if(typeof S=="undefined")return function(){return C.deprecate(Ct,Bt).apply(this,arguments)};var qt=!1;function Gt(){if(!qt){if(S.throwDeprecation)throw new Error(Bt);S.traceDeprecation?console.trace(Bt):console.error(Bt),qt=!0}return Ct.apply(this,arguments)}return Gt};var k={},I;C.debuglog=function(Ct){if(nt(I)&&(I={NODE_ENV:"production"}.NODE_DEBUG||""),Ct=Ct.toUpperCase(),!k[Ct])if(new RegExp("\\b"+Ct+"\\b","i").test(I)){var Bt=S.pid;k[Ct]=function(){var qt=C.format.apply(C,arguments);console.error("%s %d: %s",Ct,Bt,qt)}}else k[Ct]=function(){};return k[Ct]};function _(Ct,Bt){var qt={seen:[],stylize:T};return arguments.length>=3&&(qt.depth=arguments[2]),arguments.length>=4&&(qt.colors=arguments[3]),G(Bt)?qt.showHidden=Bt:Bt&&C._extend(qt,Bt),nt(qt.showHidden)&&(qt.showHidden=!1),nt(qt.depth)&&(qt.depth=2),nt(qt.colors)&&(qt.colors=!1),nt(qt.customInspect)&&(qt.customInspect=!0),qt.colors&&(qt.stylize=P),w(qt,Ct,qt.depth)}C.inspect=_,_.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},_.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function P(Ct,Bt){var qt=_.styles[Bt];return qt?"["+_.colors[qt][0]+"m"+Ct+"["+_.colors[qt][1]+"m":Ct}function T(Ct,Bt){return Ct}function p(Ct){var Bt={};return Ct.forEach(function(qt,Gt){Bt[qt]=!0}),Bt}function w(Ct,Bt,qt){if(Ct.customInspect&&Bt&&Z(Bt.inspect)&&Bt.inspect!==C.inspect&&!(Bt.constructor&&Bt.constructor.prototype===Bt)){var Gt=Bt.inspect(qt,Ct);return K(Gt)||(Gt=w(Ct,Gt,qt)),Gt}var Jt=m(Ct,Bt);if(Jt)return Jt;var ie=Object.keys(Bt),se=p(ie);if(Ct.showHidden&&(ie=Object.getOwnPropertyNames(Bt)),X(Bt)&&(ie.indexOf("message")>=0||ie.indexOf("description")>=0))return b(Bt);if(ie.length===0){if(Z(Bt)){var Kt=Bt.name?": "+Bt.name:"";return Ct.stylize("[Function"+Kt+"]","special")}if(wt(Bt))return Ct.stylize(RegExp.prototype.toString.call(Bt),"regexp");if(At(Bt))return Ct.stylize(Date.prototype.toString.call(Bt),"date");if(X(Bt))return b(Bt)}var kt="",Mt=!1,pt=["{","}"];if(N(Bt)&&(Mt=!0,pt=["[","]"]),Z(Bt)){var Pt=Bt.name?": "+Bt.name:"";kt=" [Function"+Pt+"]"}if(wt(Bt)&&(kt=" "+RegExp.prototype.toString.call(Bt)),At(Bt)&&(kt=" "+Date.prototype.toUTCString.call(Bt)),X(Bt)&&(kt=" "+b(Bt)),ie.length===0&&(!Mt||Bt.length==0))return pt[0]+kt+pt[1];if(qt<0)return wt(Bt)?Ct.stylize(RegExp.prototype.toString.call(Bt),"regexp"):Ct.stylize("[Object]","special");Ct.seen.push(Bt);var ut;return Mt?ut=y(Ct,Bt,qt,se,ie):ut=ie.map(function(at){return A(Ct,Bt,qt,se,at,Mt)}),Ct.seen.pop(),B(ut,kt,pt)}function m(Ct,Bt){if(nt(Bt))return Ct.stylize("undefined","undefined");if(K(Bt)){var qt="'"+JSON.stringify(Bt).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Ct.stylize(qt,"string")}if(H(Bt))return Ct.stylize(""+Bt,"number");if(G(Bt))return Ct.stylize(""+Bt,"boolean");if(j(Bt))return Ct.stylize("null","null")}function b(Ct){return"["+Error.prototype.toString.call(Ct)+"]"}function y(Ct,Bt,qt,Gt,Jt){for(var ie=[],se=0,Kt=Bt.length;se<Kt;++se)U(Bt,String(se))?ie.push(A(Ct,Bt,qt,Gt,String(se),!0)):ie.push("");return Jt.forEach(function(kt){kt.match(/^\d+$/)||ie.push(A(Ct,Bt,qt,Gt,kt,!0))}),ie}function A(Ct,Bt,qt,Gt,Jt,ie){var se,Kt,kt;if(kt=Object.getOwnPropertyDescriptor(Bt,Jt)||{value:Bt[Jt]},kt.get?kt.set?Kt=Ct.stylize("[Getter/Setter]","special"):Kt=Ct.stylize("[Getter]","special"):kt.set&&(Kt=Ct.stylize("[Setter]","special")),U(Gt,Jt)||(se="["+Jt+"]"),Kt||(Ct.seen.indexOf(kt.value)<0?(j(qt)?Kt=w(Ct,kt.value,null):Kt=w(Ct,kt.value,qt-1),Kt.indexOf(`
`)>-1&&(ie?Kt=Kt.split(`
`).map(function(Mt){return"  "+Mt}).join(`
`).substr(2):Kt=`
`+Kt.split(`
`).map(function(Mt){return"   "+Mt}).join(`
`))):Kt=Ct.stylize("[Circular]","special")),nt(se)){if(ie&&Jt.match(/^\d+$/))return Kt;se=JSON.stringify(""+Jt),se.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(se=se.substr(1,se.length-2),se=Ct.stylize(se,"name")):(se=se.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),se=Ct.stylize(se,"string"))}return se+": "+Kt}function B(Ct,Bt,qt){var Gt=0,Jt=Ct.reduce(function(ie,se){return Gt++,se.indexOf(`
`)>=0&&Gt++,ie+se.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Jt>60?qt[0]+(Bt===""?"":Bt+`
 `)+" "+Ct.join(`,
  `)+" "+qt[1]:qt[0]+Bt+" "+Ct.join(", ")+" "+qt[1]}function N(Ct){return Array.isArray(Ct)}C.isArray=N;function G(Ct){return typeof Ct=="boolean"}C.isBoolean=G;function j(Ct){return Ct===null}C.isNull=j;function J(Ct){return Ct==null}C.isNullOrUndefined=J;function H(Ct){return typeof Ct=="number"}C.isNumber=H;function K(Ct){return typeof Ct=="string"}C.isString=K;function st(Ct){return typeof Ct=="symbol"}C.isSymbol=st;function nt(Ct){return Ct===void 0}C.isUndefined=nt;function wt(Ct){return gt(Ct)&&Q(Ct)==="[object RegExp]"}C.isRegExp=wt;function gt(Ct){return typeof Ct=="object"&&Ct!==null}C.isObject=gt;function At(Ct){return gt(Ct)&&Q(Ct)==="[object Date]"}C.isDate=At;function X(Ct){return gt(Ct)&&(Q(Ct)==="[object Error]"||Ct instanceof Error)}C.isError=X;function Z(Ct){return typeof Ct=="function"}C.isFunction=Z;function tt(Ct){return Ct===null||typeof Ct=="boolean"||typeof Ct=="number"||typeof Ct=="string"||typeof Ct=="symbol"||typeof Ct=="undefined"}C.isPrimitive=tt,C.isBuffer=d(20384);function Q(Ct){return Object.prototype.toString.call(Ct)}function vt(Ct){return Ct<10?"0"+Ct.toString(10):Ct.toString(10)}var lt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function rt(){var Ct=new Date,Bt=[vt(Ct.getHours()),vt(Ct.getMinutes()),vt(Ct.getSeconds())].join(":");return[Ct.getDate(),lt[Ct.getMonth()],Bt].join(" ")}C.log=function(){console.log("%s - %s",rt(),C.format.apply(C,arguments))},C.inherits=d(91496),C._extend=function(Ct,Bt){if(!Bt||!gt(Bt))return Ct;for(var qt=Object.keys(Bt),Gt=qt.length;Gt--;)Ct[qt[Gt]]=Bt[qt[Gt]];return Ct};function U(Ct,Bt){return Object.prototype.hasOwnProperty.call(Ct,Bt)}var $=typeof Symbol!="undefined"?Symbol("util.promisify.custom"):void 0;C.promisify=function(Bt){if(typeof Bt!="function")throw new TypeError('The "original" argument must be of type Function');if($&&Bt[$]){var qt=Bt[$];if(typeof qt!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(qt,$,{value:qt,enumerable:!1,writable:!1,configurable:!0}),qt}function qt(){for(var Gt,Jt,ie=new Promise(function(kt,Mt){Gt=kt,Jt=Mt}),se=[],Kt=0;Kt<arguments.length;Kt++)se.push(arguments[Kt]);se.push(function(kt,Mt){kt?Jt(kt):Gt(Mt)});try{Bt.apply(this,se)}catch(kt){Jt(kt)}return ie}return Object.setPrototypeOf(qt,Object.getPrototypeOf(Bt)),$&&Object.defineProperty(qt,$,{value:qt,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(qt,O(Bt))},C.promisify.custom=$;function f(Ct,Bt){if(!Ct){var qt=new Error("Promise was rejected with a falsy value");qt.reason=Ct,Ct=qt}return Bt(Ct)}function xt(Ct){if(typeof Ct!="function")throw new TypeError('The "original" argument must be of type Function');function Bt(){for(var qt=[],Gt=0;Gt<arguments.length;Gt++)qt.push(arguments[Gt]);var Jt=qt.pop();if(typeof Jt!="function")throw new TypeError("The last argument must be of type Function");var ie=this,se=function(){return Jt.apply(ie,arguments)};Ct.apply(this,qt).then(function(Kt){S.nextTick(se,null,Kt)},function(Kt){S.nextTick(f,Kt,se)})}return Object.setPrototypeOf(Bt,Object.getPrototypeOf(Ct)),Object.defineProperties(Bt,O(Ct)),Bt}C.callbackify=xt}}]);
