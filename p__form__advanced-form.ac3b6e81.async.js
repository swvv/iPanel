(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[8529],{34540:function(re,W,e){"use strict";var N=e(22122),b=e(28991),$=e(81253),g=e(67294),G=e(62404),p=e(86190),L=e(66758),J=["fieldProps","proFieldProps"],V="dateRange",U=g.forwardRef(function(K,y){var j=K.fieldProps,C=K.proFieldProps,l=(0,$.Z)(K,J),n=(0,g.useContext)(L.Z);return g.createElement(G.Z,(0,N.Z)({ref:y,mode:"edit",fieldProps:(0,b.Z)({getPopupContainer:n.getPopupContainer},j),valueType:V,proFieldProps:C,filedConfig:{valueType:V,lightFilterLabelFormatter:function(m){return(0,p.Z)(m,(j==null?void 0:j.format)||"YYYY-MM-DD")}}},l))});W.Z=U},64317:function(re,W,e){"use strict";var N=e(22122),b=e(28991),$=e(81253),g=e(67294),G=e(62404),p=e(22270),L=e(66758),J=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],V=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],U=g.forwardRef(function(l,n){var B=l.fieldProps,m=l.children,w=l.params,k=l.proFieldProps,te=l.mode,q=l.valueEnum,ne=l.request,ae=l.showSearch,_=l.options,le=(0,$.Z)(l,J),oe=(0,g.useContext)(L.Z);return g.createElement(G.Z,(0,N.Z)({mode:"edit",valueEnum:(0,p.h)(q),request:ne,params:w,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,b.Z)({options:_,mode:te,showSearch:ae,getPopupContainer:oe.getPopupContainer},B),ref:n,proFieldProps:k},le),m)}),K=g.forwardRef(function(l,n){var B=l.fieldProps,m=l.children,w=l.params,k=l.proFieldProps,te=l.mode,q=l.valueEnum,ne=l.request,ae=l.options,_=(0,$.Z)(l,V),le=(0,b.Z)({options:ae,mode:te||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},B),oe=(0,g.useContext)(L.Z);return g.createElement(G.Z,(0,N.Z)({mode:"edit",valueEnum:(0,p.h)(q),request:ne,params:w,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,b.Z)({getPopupContainer:oe.getPopupContainer},le),ref:n,proFieldProps:k},_),m)}),y=U,j=K,C=y;C.SearchSelect=j,C.displayName="ProFormComponent",W.Z=C},5966:function(re,W,e){"use strict";var N=e(22122),b=e(81253),$=e(67294),g=e(62404),G=["fieldProps","proFieldProps"],p=["fieldProps","proFieldProps"],L="text",J=function(y){var j=y.fieldProps,C=y.proFieldProps,l=(0,b.Z)(y,G);return $.createElement(g.Z,(0,N.Z)({mode:"edit",valueType:L,fieldProps:j,filedConfig:{valueType:L},proFieldProps:C},l))},V=function(y){var j=y.fieldProps,C=y.proFieldProps,l=(0,b.Z)(y,p);return $.createElement(g.Z,(0,N.Z)({mode:"edit",valueType:"password",fieldProps:j,proFieldProps:C,filedConfig:{valueType:L}},l))},U=J;U.Password=V,U.displayName="ProFormComponent",W.Z=U},5393:function(re){re.exports={card:"card___1dsH6",errorIcon:"errorIcon___3jptF",anticon:"anticon___A0Hdx",errorPopover:"errorPopover___FGjVx",errorListItem:"errorListItem___1rmVg",errorField:"errorField___2Y7eW",editable:"editable___WRDur"}},79969:function(re,W,e){"use strict";e.r(W),e.d(W,{default:function(){return er}});var N=e(58024),b=e(39144),$=e(13062),g=e(71230),G=e(89032),p=e(15746),L=e(34792),J=e(48086),V=e(3182),U=e(20136),K=e(55241),y=e(2824),j=e(94043),C=e.n(j),l=e(73218),n=e(67294),B=e(22122),m=e(28991),w=e(81253),k=e(62404),te=e(86190),q=e(66758),ne=["fieldProps","proFieldProps"],ae=["fieldProps","proFieldProps"],_="time",le=n.forwardRef(function(r,v){var x=r.fieldProps,E=r.proFieldProps,M=(0,w.Z)(r,ne),H=(0,n.useContext)(q.Z);return n.createElement(k.Z,(0,B.Z)({ref:v,mode:"edit",fieldProps:(0,m.Z)({getPopupContainer:H.getPopupContainer},x),valueType:"timeRange",proFieldProps:E,filedConfig:{valueType:"timeRange",lightFilterLabelFormatter:function(I){return(0,te.Z)(I,"HH:mm:SS")}}},M))}),oe=function(v){var x=v.fieldProps,E=v.proFieldProps,M=(0,w.Z)(v,ae),H=(0,n.useContext)(q.Z);return n.createElement(k.Z,(0,B.Z)({mode:"edit",fieldProps:(0,m.Z)({getPopupContainer:H.getPopupContainer},x),valueType:_,proFieldProps:E,filedConfig:{customLightMode:!0,valueType:_}},M))},fe=oe;fe.RangePicker=le;var Te=fe,pe=e(952),ue=e(5966),ee=e(64317),De=e(34540),cr=e(9715),be=e(22712),fr=e(57663),je=e(71577),Me=e(96156),Be=e(28481),Ie=e(87757),he=e.n(Ie),Ae=e(92137),Oe=e(21770),Se=e(49101),Le=e(26369),Pe=e(22270),Ve=e(48171),Ke=e(60249),We=e(7217),Ne=e(47888),$e=e(97462),Ue=e(88306),we=e(8880),Ye=["onTableChange","maxLength","formItemProps","recordCreatorProps","rowKey","controlled","defaultValue","onChange","editableFormRef"],He=["record","position","creatorButtonText","newRecordType","parentKey","style"],ge=n.createContext(void 0);function Ee(r){var v=r.children,x=r.record,E=r.position,M=r.newRecordType,H=r.parentKey,O=(0,n.useContext)(ge);return n.cloneElement(v,(0,m.Z)((0,m.Z)({},v.props),{},{onClick:function(){var I=(0,Ae.Z)(he().mark(function A(T){var Z,S,d,F;return he().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,(Z=(S=v.props).onClick)===null||Z===void 0?void 0:Z.call(S,T);case 2:if(F=D.sent,F!==!1){D.next=5;break}return D.abrupt("return");case 5:O==null||(d=O.current)===null||d===void 0||d.addEditRecord(x,{position:E,newRecordType:M,parentKey:H});case 6:case"end":return D.stop()}},A)}));function de(A){return I.apply(this,arguments)}return de}()}))}function Fe(r){var v,x,E=r.onTableChange,M=r.maxLength,H=r.formItemProps,O=r.recordCreatorProps,I=r.rowKey,de=r.controlled,A=r.defaultValue,T=r.onChange,Z=r.editableFormRef,S=(0,w.Z)(r,Ye),d=(0,Le.Z)(r.value),F=(0,n.useRef)(),c=(0,n.useRef)();(0,n.useImperativeHandle)(S.actionRef,function(){return F.current});var D=(0,Oe.Z)(function(){return r.value||A||[]},{value:r.value,onChange:r.onChange}),Ce=(0,Be.Z)(D,2),s=Ce[0],rr=Ce[1],z=n.useMemo(function(){return typeof I=="function"?I:function(f,a){return f[I]||a}},[I]),xe=function(a){if(typeof a=="number"&&!r.name){if(a>=s.length)return a;var i=s==null?void 0:s.at(a);return z==null?void 0:z(i,a)}if((typeof a=="string"||a>=s.length)&&r.name){var o=s.findIndex(function(u,h){var P;return(z==null||(P=z(u,h))===null||P===void 0?void 0:P.toString())===(a==null?void 0:a.toString())});return o}return a};(0,n.useImperativeHandle)(Z,function(){var f=function(o){var u,h;if(o==null)throw new Error("rowIndex is required");var P=xe(o),X=[r.name,(u=P==null?void 0:P.toString())!==null&&u!==void 0?u:""].flat(1).filter(Boolean);return(h=c.current)===null||h===void 0?void 0:h.getFieldValue(X)},a=function(){var o,u=[r.name].flat(1).filter(Boolean);if(Array.isArray(u)&&u.length===0){var h,P=(h=c.current)===null||h===void 0?void 0:h.getFieldsValue();return Array.isArray(P)?P:Object.keys(P).map(function(X){return P[X]})}return(o=c.current)===null||o===void 0?void 0:o.getFieldValue(u)};return(0,m.Z)((0,m.Z)({},c.current),{},{getRowData:f,getRowsData:a,setRowData:function(o,u){var h,P,X,me;if(o==null)throw new Error("rowIndex is required");var ce=xe(o),sr=[r.name,(h=ce==null?void 0:ce.toString())!==null&&h!==void 0?h:""].flat(1).filter(Boolean),vr=((P=c.current)===null||P===void 0||(X=P.getFieldsValue)===null||X===void 0?void 0:X.call(P))||{},mr=(0,we.Z)(vr,sr,(0,m.Z)((0,m.Z)({},f(o)),u||{}));return(me=c.current)===null||me===void 0?void 0:me.setFieldsValue(mr)}})}),(0,n.useEffect)(function(){!r.controlled||s.forEach(function(f,a){var i;(i=c.current)===null||i===void 0||i.setFieldsValue((0,Me.Z)({},z(f,a),f))},{})},[s,r.controlled]),(0,n.useEffect)(function(){if(r.name){var f;c.current=(f=r.editable)===null||f===void 0?void 0:f.form}},[(v=r.editable)===null||v===void 0?void 0:v.form,r.name]);var Q=O||{},tr=Q.record,ye=Q.position,nr=Q.creatorButtonText,ar=Q.newRecordType,lr=Q.parentKey,or=Q.style,ir=(0,w.Z)(Q,He),Re=ye==="top",ie=(0,n.useMemo)(function(){return M&&M<=(s==null?void 0:s.length)?!1:O!==!1&&n.createElement(Ee,{record:(0,Pe.h)(tr,s==null?void 0:s.length,s)||{},position:ye,parentKey:(0,Pe.h)(lr,s==null?void 0:s.length,s),newRecordType:ar},n.createElement(je.Z,(0,B.Z)({type:"dashed",style:(0,m.Z)({display:"block",margin:"10px 0",width:"100%"},or),icon:n.createElement(Se.Z,null)},ir),nr||"\u6DFB\u52A0\u4E00\u884C\u6570\u636E"))},[O,M,s==null?void 0:s.length]),ur=(0,n.useMemo)(function(){return ie?Re?{components:{header:{wrapper:function(a){var i,o=a.className,u=a.children;return n.createElement("thead",{className:o},u,n.createElement("tr",{style:{position:"relative"}},n.createElement("td",{colSpan:0,style:{visibility:"hidden"}},ie),n.createElement("td",{style:{position:"absolute",left:0,width:"100%"},colSpan:(i=S.columns)===null||i===void 0?void 0:i.length},ie)))}}}}:{tableViewRender:function(a,i){var o,u;return n.createElement(n.Fragment,null,(o=(u=r.tableViewRender)===null||u===void 0?void 0:u.call(r,a,i))!==null&&o!==void 0?o:i,ie)}}:{}},[Re,ie]),ve=(0,m.Z)({},r.editable),dr=(0,Ve.J)(function(f,a){var i,o,u;if((i=r.editable)===null||i===void 0||(o=i.onValuesChange)===null||o===void 0||o.call(i,f,a),(u=r.onValuesChange)===null||u===void 0||u.call(r,a,f),r.controlled){var h;r==null||(h=r.onChange)===null||h===void 0||h.call(r,a)}});return((r==null?void 0:r.onValuesChange)||((x=r.editable)===null||x===void 0?void 0:x.onValuesChange)||r.controlled&&(r==null?void 0:r.onChange))&&(ve.onValuesChange=dr),n.createElement(n.Fragment,null,n.createElement(ge.Provider,{value:F},n.createElement(Ne.Z,(0,B.Z)({search:!1,options:!1,pagination:!1,rowKey:I,revalidateOnFocus:!1},S,ur,{tableLayout:"fixed",actionRef:F,onChange:E,editable:(0,m.Z)((0,m.Z)({},ve),{},{formProps:(0,m.Z)({formRef:c},ve.formProps)}),dataSource:s,onDataSourceChange:function(a){rr(a)}}))),r.name?n.createElement($e.Z,{name:[r.name]},function(f){var a,i,o=(0,Ue.Z)(f,[r.name].flat(1)),u=o==null?void 0:o.find(function(h,P){return!(0,Ke.Z)(h,d==null?void 0:d[P])});return u&&(r==null||(a=r.editable)===null||a===void 0||(i=a.onValuesChange)===null||i===void 0||i.call(a,u,o)),null}):null)}function Ze(r){return r.name?n.createElement(be.Z.Item,(0,B.Z)({style:{maxWidth:"100%"}},r==null?void 0:r.formItemProps,{name:r.name}),n.createElement(We.gN,{shouldUpdate:!0,name:r.name,isList:!0},function(v,x,E){return v.value===void 0||!Array.isArray(v.value)?null:n.createElement(Fe,(0,B.Z)({},r,{editable:(0,m.Z)((0,m.Z)({},r.editable),{},{form:E}),value:v.value,onChange:v.onChange}))})):n.createElement(Fe,r)}Ze.RecordCreator=Ee;var Ge=Ze,Je=e(85224),ze=e(75362),Qe=e(64805);function Xe(r){return se.apply(this,arguments)}function se(){return se=(0,V.Z)(C().mark(function r(v){return C().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.abrupt("return",(0,Qe.WY)("/api/advancedForm",{method:"POST",data:v}));case 1:case"end":return E.stop()}},r)})),se.apply(this,arguments)}var ke=e(5393),Y=e.n(ke),t=e(85893),R={name:"\u4ED3\u5E93\u540D",url:"\u4ED3\u5E93\u57DF\u540D",owner:"\u4ED3\u5E93\u7BA1\u7406\u5458",approver:"\u5BA1\u6279\u4EBA",dateRange:"\u751F\u6548\u65E5\u671F",type:"\u4ED3\u5E93\u7C7B\u578B",name2:"\u4EFB\u52A1\u540D",url2:"\u4EFB\u52A1\u63CF\u8FF0",owner2:"\u6267\u884C\u4EBA",approver2:"\u8D23\u4EFB\u4EBA",dateRange2:"\u751F\u6548\u65E5\u671F",type2:"\u4EFB\u52A1\u7C7B\u578B"},qe=[{key:"1",workId:"00001",name:"John Brown",department:"New York No. 1 Lake Park"},{key:"2",workId:"00002",name:"Jim Green",department:"London No. 1 Lake Park"},{key:"3",workId:"00003",name:"Joe Black",department:"Sidney No. 1 Lake Park"}],_e=function(){var v=(0,n.useState)([]),x=(0,y.Z)(v,2),E=x[0],M=x[1],H=function(T){var Z=T.filter(function(F){return F.errors.length>0}).length;if(!T||Z===0)return null;var S=function(c){var D=document.querySelector('label[for="'.concat(c,'"]'));D&&D.scrollIntoView(!0)},d=T.map(function(F){if(!F||F.errors.length===0)return null;var c=F.name[0];return(0,t.jsxs)("li",{className:Y().errorListItem,onClick:function(){return S(c)},children:[(0,t.jsx)(l.Z,{className:Y().errorIcon}),(0,t.jsx)("div",{className:Y().errorMessage,children:F.errors[0]}),(0,t.jsx)("div",{className:Y().errorField,children:R[c]})]},c)});return(0,t.jsxs)("span",{className:Y().errorIcon,children:[(0,t.jsx)(K.Z,{title:"\u8868\u5355\u6821\u9A8C\u4FE1\u606F",content:d,overlayClassName:Y().errorPopover,trigger:"click",getPopupContainer:function(c){return c&&c.parentNode?c.parentNode:c},children:(0,t.jsx)(l.Z,{})}),Z]})},O=function(){var A=(0,V.Z)(C().mark(function T(Z){return C().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return M([]),d.prev=1,d.next=4,Xe(Z);case 4:J.default.success("\u63D0\u4EA4\u6210\u529F"),d.next=9;break;case 7:d.prev=7,d.t0=d.catch(1);case 9:case"end":return d.stop()}},T,null,[[1,7]])}));return function(Z){return A.apply(this,arguments)}}(),I=function(T){M(T.errorFields)},de=[{title:"\u6210\u5458\u59D3\u540D",dataIndex:"name",key:"name",width:"20%"},{title:"\u5DE5\u53F7",dataIndex:"workId",key:"workId",width:"20%"},{title:"\u6240\u5C5E\u90E8\u95E8",dataIndex:"department",key:"department",width:"40%"},{title:"\u64CD\u4F5C",key:"action",valueType:"option",render:function(T,Z,S,d){return[(0,t.jsx)("a",{onClick:function(){d==null||d.startEditable(Z.key)},children:"\u7F16\u8F91"},"eidit")]}}];return(0,t.jsx)(pe.ZP,{layout:"vertical",hideRequiredMark:!0,submitter:{render:function(T,Z){return(0,t.jsxs)(Je.Z,{children:[H(E),Z]})}},initialValues:{members:qe},onFinish:O,onFinishFailed:I,children:(0,t.jsxs)(ze.ZP,{content:"\u9AD8\u7EA7\u8868\u5355\u5E38\u89C1\u4E8E\u4E00\u6B21\u6027\u8F93\u5165\u548C\u63D0\u4EA4\u5927\u6279\u91CF\u6570\u636E\u7684\u573A\u666F\u3002",children:[(0,t.jsxs)(b.Z,{title:"\u4ED3\u5E93\u7BA1\u7406",className:Y().card,bordered:!1,children:[(0,t.jsxs)(g.Z,{gutter:16,children:[(0,t.jsx)(p.Z,{lg:6,md:12,sm:24,children:(0,t.jsx)(ue.Z,{label:R.name,name:"name",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u4ED3\u5E93\u540D\u79F0"}],placeholder:"\u8BF7\u8F93\u5165\u4ED3\u5E93\u540D\u79F0"})}),(0,t.jsx)(p.Z,{xl:{span:6,offset:2},lg:{span:8},md:{span:12},sm:24,children:(0,t.jsx)(ue.Z,{label:R.url,name:"url",rules:[{required:!0,message:"\u8BF7\u9009\u62E9"}],fieldProps:{style:{width:"100%"},addonBefore:"http://",addonAfter:".com"},placeholder:"\u8BF7\u8F93\u5165"})}),(0,t.jsx)(p.Z,{xl:{span:8,offset:2},lg:{span:10},md:{span:24},sm:24,children:(0,t.jsx)(ee.Z,{label:R.owner,name:"owner",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u7BA1\u7406\u5458"}],options:[{label:"\u4ED8\u6653\u6653",value:"xiao"},{label:"\u5468\u6BDB\u6BDB",value:"mao"}],placeholder:"\u8BF7\u9009\u62E9\u7BA1\u7406\u5458"})})]}),(0,t.jsxs)(g.Z,{gutter:16,children:[(0,t.jsx)(p.Z,{lg:6,md:12,sm:24,children:(0,t.jsx)(ee.Z,{label:R.approver,name:"approver",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u5BA1\u6279\u5458"}],options:[{label:"\u4ED8\u6653\u6653",value:"xiao"},{label:"\u5468\u6BDB\u6BDB",value:"mao"}],placeholder:"\u8BF7\u9009\u62E9\u5BA1\u6279\u5458"})}),(0,t.jsx)(p.Z,{xl:{span:6,offset:2},lg:{span:8},md:{span:12},sm:24,children:(0,t.jsx)(De.Z,{label:R.dateRange,name:"dateRange",fieldProps:{style:{width:"100%"}},rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u751F\u6548\u65E5\u671F"}]})}),(0,t.jsx)(p.Z,{xl:{span:8,offset:2},lg:{span:10},md:{span:24},sm:24,children:(0,t.jsx)(ee.Z,{label:R.type,name:"type",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u4ED3\u5E93\u7C7B\u578B"}],options:[{label:"\u79C1\u5BC6",value:"private"},{label:"\u516C\u5F00",value:"public"}],placeholder:"\u8BF7\u9009\u62E9\u4ED3\u5E93\u7C7B\u578B"})})]})]}),(0,t.jsxs)(b.Z,{title:"\u4EFB\u52A1\u7BA1\u7406",className:Y().card,bordered:!1,children:[(0,t.jsxs)(g.Z,{gutter:16,children:[(0,t.jsx)(p.Z,{lg:6,md:12,sm:24,children:(0,t.jsx)(ue.Z,{label:R.name2,name:"name2",rules:[{required:!0,message:"\u8BF7\u8F93\u5165"}]})}),(0,t.jsx)(p.Z,{xl:{span:6,offset:2},lg:{span:8},md:{span:12},sm:24,children:(0,t.jsx)(ue.Z,{label:R.url2,name:"url2",rules:[{required:!0,message:"\u8BF7\u9009\u62E9"}]})}),(0,t.jsx)(p.Z,{xl:{span:8,offset:2},lg:{span:10},md:{span:24},sm:24,children:(0,t.jsx)(ee.Z,{label:R.owner2,name:"owner2",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u7BA1\u7406\u5458"}],options:[{label:"\u4ED8\u6653\u6653",value:"xiao"},{label:"\u5468\u6BDB\u6BDB",value:"mao"}]})})]}),(0,t.jsxs)(g.Z,{gutter:16,children:[(0,t.jsx)(p.Z,{lg:6,md:12,sm:24,children:(0,t.jsx)(ee.Z,{label:R.approver2,name:"approver2",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u5BA1\u6279\u5458"}],options:[{label:"\u4ED8\u6653\u6653",value:"xiao"},{label:"\u5468\u6BDB\u6BDB",value:"mao"}],placeholder:"\u8BF7\u9009\u62E9\u5BA1\u6279\u5458"})}),(0,t.jsx)(p.Z,{xl:{span:6,offset:2},lg:{span:8},md:{span:12},sm:24,children:(0,t.jsx)(Te,{label:R.dateRange2,name:"dateRange2",rules:[{required:!0,message:"\u8BF7\u8F93\u5165"}],placeholder:"\u63D0\u9192\u65F6\u95F4",fieldProps:{style:{width:"100%"}}})}),(0,t.jsx)(p.Z,{xl:{span:8,offset:2},lg:{span:10},md:{span:24},sm:24,children:(0,t.jsx)(ee.Z,{label:R.type2,name:"type2",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u4ED3\u5E93\u7C7B\u578B"}],options:[{label:"\u79C1\u5BC6",value:"private"},{label:"\u516C\u5F00",value:"public"}],placeholder:"\u8BF7\u9009\u62E9\u4ED3\u5E93\u7C7B\u578B"})})]})]}),(0,t.jsx)(b.Z,{title:"\u6210\u5458\u7BA1\u7406",bordered:!1,children:(0,t.jsx)(pe.ZP.Item,{name:"members",children:(0,t.jsx)(Ge,{recordCreatorProps:{record:function(){return{key:"0".concat(Date.now())}}},columns:de,rowKey:"key"})})})]})})},er=_e}}]);
